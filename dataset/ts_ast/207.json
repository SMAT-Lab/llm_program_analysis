{
  "type": "SourceFile",
  "label": "import { goto } from '$app/navigation';\nimport FormatBoldMessage from '$lib/components/i18n/format-bold-message.svelte';\nimport { NotificationType, notificationController } from '$lib/components/shared-components/notification/notification';\nimport { AppRoute } from '$lib/constants';\nimport type { AssetInteractionStore } from '$lib/stores/asset-interaction.store';\nimport { assetViewingStore } from '$lib/stores/asset-viewing.store';\nimport { isSelectingAllAssets, type AssetStore } from '$lib/stores/assets.store';\nimport { downloadManager } from '$lib/stores/download';\nimport { preferences } from '$lib/stores/user.store';\nimport { downloadRequest, getKey, withError } from '$lib/utils';\nimport { createAlbum } from '$lib/utils/album-utils';\nimport { getByteUnitString } from '$lib/utils/byte-units';\nimport { getFormatter } from '$lib/utils/i18n';\nimport {\n  addAssetsToAlbum as addAssets,\n  createStack,\n  deleteAssets,\n  deleteStacks,\n  getAssetInfo,\n  getBaseUrl,\n  getDownloadInfo,\n  getStack,\n  tagAssets as tagAllAssets,\n  untagAssets,\n  updateAsset,\n  updateAssets,\n  type AlbumResponseDto,\n  type AssetResponseDto,\n  type AssetTypeEnum,\n  type DownloadInfoDto,\n  type StackResponseDto,\n  type UserPreferencesResponseDto,\n  type UserResponseDto,\n} from '@immich/sdk';\nimport { DateTime } from 'luxon';\nimport { t } from 'svelte-i18n';\nimport { get } from 'svelte/store';\nimport { handleError } from './handle-error';\nexport const addAssetsToAlbum = async (albumId: string, assetIds: string[], showNotification = true) => {\n  const result = await addAssets({\n    id: albumId,\n    bulkIdsDto: {\n      ids: assetIds,\n    },\n    key: getKey(),\n  });\n  const count = result.filter(({ success }) => success).length;\n  const $t = get(t);\n  if (showNotification) {\n    notificationController.show({\n      type: NotificationType.Info,\n      timeout: 5000,\n      message:\n        count > 0\n          ? $t('assets_added_to_album_count', { values: { count } })\n          : $t('assets_were_part_of_album_count', { values: { count: assetIds.length } }),\n      button: {\n        text: $t('view_album'),\n        onClick() {\n          return goto(`${AppRoute.ALBUMS}/${albumId}`);\n        },\n      },\n    });\n  }\n};\nexport const tagAssets = async ({\n  assetIds,\n  tagIds,\n  showNotification = true,\n}: {\n  assetIds: string[];\n  tagIds: string[];\n  showNotification?: boolean;\n}) => {\n  for (const tagId of tagIds) {\n    await tagAllAssets({ id: tagId, bulkIdsDto: { ids: assetIds } });\n  }\n  if (showNotification) {\n    const $t = await getFormatter();\n    notificationController.show({\n      message: $t('tagged_assets', { values: { count: assetIds.length } }),\n      type: NotificationType.Info,\n    });\n  }\n  return assetIds;\n};\nexport const removeTag = async ({\n  assetIds,\n  tagIds,\n  showNotification = true,\n}: {\n  assetIds: string[];\n  tagIds: string[];\n  showNotification?: boolean;\n}) => {\n  for (const tagId of tagIds) {\n    await untagAssets({ id: tagId, bulkIdsDto: { ids: assetIds } });\n  }\n  if (showNotification) {\n    const $t = await getFormatter();\n    notificationController.show({\n      message: $t('removed_tagged_assets', { values: { count: assetIds.length } }),\n      type: NotificationType.Info,\n    });\n  }\n  return assetIds;\n};\nexport const addAssetsToNewAlbum = async (albumName: string, assetIds: string[]) => {\n  const album = await createAlbum(albumName, assetIds);\n  if (!album) {\n    return;\n  }\n  const $t = get(t);\n  notificationController.show({\n    type: NotificationType.Info,\n    timeout: 5000,\n    component: {\n      type: FormatBoldMessage,\n      props: {\n        key: 'assets_added_to_name_count',\n        values: { count: assetIds.length, name: albumName, hasName: !!albumName },\n      },\n    },\n    button: {\n      text: $t('view_album'),\n      onClick() {\n        return goto(`${AppRoute.ALBUMS}/${album.id}`);\n      },\n    },\n  });\n  return album;\n};\nexport const downloadAlbum = async (album: AlbumResponseDto) => {\n  await downloadArchive(`${album.albumName}.zip`, {\n    albumId: album.id,\n  });\n};\nexport const downloadBlob = (data: Blob, filename: string) => {\n  const url = URL.createObjectURL(data);\n  const anchor = document.createElement('a');\n  anchor.href = url;\n  anchor.download = filename;\n  document.body.append(anchor);\n  anchor.click();\n  anchor.remove();\n  URL.revokeObjectURL(url);\n};\nexport const downloadArchive = async (fileName: string, options: Omit<DownloadInfoDto, 'archiveSize'>) => {\n  const $preferences = get<UserPreferencesResponseDto | undefined>(preferences);\n  const dto = { ...options, archiveSize: $preferences?.download.archiveSize };\n  const [error, downloadInfo] = await withError(() => getDownloadInfo({ downloadInfoDto: dto, key: getKey() }));\n  if (error) {\n    const $t = get(t);\n    handleError(error, $t('errors.unable_to_download_files'));\n    return;\n  }\n  if (!downloadInfo) {\n    return;\n  }\n  for (let index = 0; index < downloadInfo.archives.length; index++) {\n    const archive = downloadInfo.archives[index];\n    const suffix = downloadInfo.archives.length > 1 ? `+${index + 1}` : '';\n    const archiveName = fileName.replace('.zip', `${suffix}-${DateTime.now().toFormat('yyyyLLdd_HHmmss')}.zip`);\n    const key = getKey();\n    let downloadKey = `${archiveName} `;\n    if (downloadInfo.archives.length > 1) {\n      downloadKey = `${archiveName} (${index + 1}/${downloadInfo.archives.length})`;\n    }\n    const abort = new AbortController();\n    downloadManager.add(downloadKey, archive.size, abort);\n    try {\n      // TODO use sdk once it supports progress events\n      const { data } = await downloadRequest({\n        method: 'POST',\n        url: getBaseUrl() + '/download/archive' + (key ? `?key=${key}` : ''),\n        data: { assetIds: archive.assetIds },\n        signal: abort.signal,\n        onDownloadProgress: (event) => downloadManager.update(downloadKey, event.loaded),\n      });\n      downloadBlob(data, archiveName);\n    } catch (error) {\n      const $t = get(t);\n      handleError(error, $t('errors.unable_to_download_files'));\n      downloadManager.clear(downloadKey);\n      return;\n    } finally {\n      setTimeout(() => downloadManager.clear(downloadKey), 5000);\n    }\n  }\n};\nexport const downloadFile = async (asset: AssetResponseDto) => {\n  const $t = get(t);\n  const assets = [\n    {\n      filename: asset.originalFileName,\n      id: asset.id,\n      size: asset.exifInfo?.fileSizeInByte || 0,\n    },\n  ];\n  const isAndroidMotionVideo = (asset: AssetResponseDto) => {\n    return asset.originalPath.includes('encoded-video');\n  };\n  if (asset.livePhotoVideoId) {\n    const motionAsset = await getAssetInfo({ id: asset.livePhotoVideoId, key: getKey() });\n    if (!isAndroidMotionVideo(motionAsset) || get(preferences).download.includeEmbeddedVideos) {\n      assets.push({\n        filename: motionAsset.originalFileName,\n        id: asset.livePhotoVideoId,\n        size: motionAsset.exifInfo?.fileSizeInByte || 0,\n      });\n    }\n  }\n  for (const { filename, id, size } of assets) {\n    const downloadKey = filename;\n    try {\n      const abort = new AbortController();\n      downloadManager.add(downloadKey, size, abort);\n      const key = getKey();\n      notificationController.show({\n        type: NotificationType.Info,\n        message: $t('downloading_asset_filename', { values: { filename: asset.originalFileName } }),\n      });\n      // TODO use sdk once it supports progress events\n      const { data } = await downloadRequest({\n        method: 'GET',\n        url: getBaseUrl() + `/assets/${id}/original` + (key ? `?key=${key}` : ''),\n        signal: abort.signal,\n        onDownloadProgress: (event) => downloadManager.update(downloadKey, event.loaded, event.total),\n      });\n      downloadBlob(data, filename);\n    } catch (error) {\n      handleError(error, $t('errors.error_downloading', { values: { filename } }));\n      downloadManager.clear(downloadKey);\n    } finally {\n      setTimeout(() => downloadManager.clear(downloadKey), 5000);\n    }\n  }\n};\nexport function getFilenameExtension(filename: string): string {\n  const lastIndex = Math.max(0, filename.lastIndexOf('.'));\n  const startIndex = (lastIndex || Number.POSITIVE_INFINITY) + 1;\n  return filename.slice(startIndex).toLowerCase();\n}\nexport function getAssetFilename(asset: AssetResponseDto): string {\n  const fileExtension = getFilenameExtension(asset.originalPath);\n  return `${asset.originalFileName}.${fileExtension}`;\n}\nfunction isRotated90CW(orientation: number) {\n  return orientation === 5 || orientation === 6 || orientation === 90;\n}\nfunction isRotated270CW(orientation: number) {\n  return orientation === 7 || orientation === 8 || orientation === -90;\n}\nexport function isFlipped(orientation?: string | null) {\n  const value = Number(orientation);\n  return value && (isRotated270CW(value) || isRotated90CW(value));\n}\nexport function getFileSize(asset: AssetResponseDto): string {\n  const size = asset.exifInfo?.fileSizeInByte || 0;\n  return size > 0 ? getByteUnitString(size, undefined, 4) : 'Invalid Data';\n}\nexport function getAssetResolution(asset: AssetResponseDto): string {\n  const { width, height } = getAssetRatio(asset);\n  if (width === 235 && height === 235) {\n    return 'Invalid Data';\n  }\n  return `${width} x ${height}`;\n}\nexport function getAssetRatio(asset: AssetResponseDto) {\n  let height = asset.exifInfo?.exifImageHeight || 235;\n  let width = asset.exifInfo?.exifImageWidth || 235;\n  if (isFlipped(asset.exifInfo?.orientation)) {\n    [width, height] = [height, width];\n  }\n  return { width, height };\n}\n// list of supported image extensions from https://developer.mozilla.org/en-US/docs/Web/Media/Formats/Image_types excluding svg\nconst supportedImageMimeTypes = new Set([\n  'image/apng',\n  'image/avif',\n  'image/gif',\n  'image/jpeg',\n  'image/png',\n  'image/webp',\n]);\nconst isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent); // https://stackoverflow.com/a/23522755\nif (isSafari) {\n  supportedImageMimeTypes.add('image/heic').add('image/heif');\n}\nexport function isWebCompatibleImage(asset: AssetResponseDto): boolean {\n  if (!asset.originalMimeType) {\n    return false;\n  }\n  return supportedImageMimeTypes.has(asset.originalMimeType);\n}\nexport const getAssetType = (type: AssetTypeEnum) => {\n  switch (type) {\n    case 'IMAGE': {\n      return 'Photo';\n    }\n    case 'VIDEO': {\n      return 'Video';\n    }\n    default: {\n      return 'Asset';\n    }\n  }\n};\nexport const getSelectedAssets = (assets: Set<AssetResponseDto>, user: UserResponseDto | null): string[] => {\n  const ids = [...assets].filter((a) => user && a.ownerId === user.id).map((a) => a.id);\n  const numberOfIssues = [...assets].filter((a) => user && a.ownerId !== user.id).length;\n  if (numberOfIssues > 0) {\n    const $t = get(t);\n    notificationController.show({\n      message: $t('errors.cant_change_metadata_assets_count', { values: { count: numberOfIssues } }),\n      type: NotificationType.Warning,\n    });\n  }\n  return ids;\n};\nexport const stackAssets = async (assets: AssetResponseDto[], showNotification = true) => {\n  if (assets.length < 2) {\n    return false;\n  }\n  const $t = get(t);\n  try {\n    const stack = await createStack({ stackCreateDto: { assetIds: assets.map(({ id }) => id) } });\n    if (showNotification) {\n      notificationController.show({\n        message: $t('stacked_assets_count', { values: { count: stack.assets.length } }),\n        type: NotificationType.Info,\n        button: {\n          text: $t('view_stack'),\n          onClick: () => assetViewingStore.setAssetId(stack.primaryAssetId),\n        },\n      });\n    }\n    for (const [index, asset] of assets.entries()) {\n      asset.stack = index === 0 ? { id: stack.id, assetCount: stack.assets.length, primaryAssetId: asset.id } : null;\n    }\n    return assets.slice(1).map((asset) => asset.id);\n  } catch (error) {\n    handleError(error, $t('errors.failed_to_stack_assets'));\n    return false;\n  }\n};\nexport const deleteStack = async (stackIds: string[]) => {\n  const ids = [...new Set(stackIds)];\n  if (ids.length === 0) {\n    return;\n  }\n  const $t = get(t);\n  try {\n    const stacks = await Promise.all(ids.map((id) => getStack({ id })));\n    const count = stacks.reduce((sum, stack) => sum + stack.assets.length, 0);\n    await deleteStacks({ bulkIdsDto: { ids: [...ids] } });\n    notificationController.show({\n      type: NotificationType.Info,\n      message: $t('unstacked_assets_count', { values: { count } }),\n    });\n    const assets = stacks.flatMap((stack) => stack.assets);\n    for (const asset of assets) {\n      asset.stack = null;\n    }\n    return assets;\n  } catch (error) {\n    handleError(error, $t('errors.failed_to_unstack_assets'));\n  }\n};\nexport const keepThisDeleteOthers = async (keepAsset: AssetResponseDto, stack: StackResponseDto) => {\n  const $t = get(t);\n  try {\n    const assetsToDeleteIds = stack.assets.filter((asset) => asset.id !== keepAsset.id).map((asset) => asset.id);\n    await deleteAssets({ assetBulkDeleteDto: { ids: assetsToDeleteIds } });\n    await deleteStacks({ bulkIdsDto: { ids: [stack.id] } });\n    notificationController.show({\n      type: NotificationType.Info,\n      message: $t('kept_this_deleted_others', { values: { count: assetsToDeleteIds.length } }),\n    });\n    keepAsset.stack = null;\n    return keepAsset;\n  } catch (error) {\n    handleError(error, $t('errors.failed_to_keep_this_delete_others'));\n  }\n};\nexport const selectAllAssets = async (assetStore: AssetStore, assetInteractionStore: AssetInteractionStore) => {\n  if (get(isSelectingAllAssets)) {\n    // Selection is already ongoing\n    return;\n  }\n  isSelectingAllAssets.set(true);\n  try {\n    for (const bucket of assetStore.buckets) {\n      await assetStore.loadBucket(bucket.bucketDate);\n      if (!get(isSelectingAllAssets)) {\n        break; // Cancelled\n      }\n      assetInteractionStore.selectAssets(bucket.assets);\n      // We use setTimeout to allow the UI to update. Otherwise, this may\n      // cause a long delay between the start of 'select all' and the\n      // effective update of the UI, depending on the number of assets\n      // to select\n      await delay(0);\n    }\n  } catch (error) {\n    const $t = get(t);\n    handleError(error, $t('errors.error_selecting_all_assets'));\n    isSelectingAllAssets.set(false);\n  }\n};\nexport const cancelMultiselect = (assetInteractionStore: AssetInteractionStore) => {\n  isSelectingAllAssets.set(false);\n  assetInteractionStore.clearMultiselect();\n};\nexport const toggleArchive = async (asset: AssetResponseDto) => {\n  const $t = get(t);\n  try {\n    const data = await updateAsset({\n      id: asset.id,\n      updateAssetDto: {\n        isArchived: !asset.isArchived,\n      },\n    });\n    asset.isArchived = data.isArchived;\n    notificationController.show({\n      type: NotificationType.Info,\n      message: asset.isArchived ? $t(`added_to_archive`) : $t(`removed_from_archive`),\n    });\n  } catch (error) {\n    handleError(error, $t('errors.unable_to_add_remove_archive', { values: { archived: asset.isArchived } }));\n  }\n  return asset;\n};\nexport const archiveAssets = async (assets: AssetResponseDto[], archive: boolean) => {\n  const isArchived = archive;\n  const ids = assets.map(({ id }) => id);\n  const $t = get(t);\n  try {\n    if (ids.length > 0) {\n      await updateAssets({ assetBulkUpdateDto: { ids, isArchived } });\n    }\n    for (const asset of assets) {\n      asset.isArchived = isArchived;\n    }\n    notificationController.show({\n      message: isArchived\n        ? $t('archived_count', { values: { count: ids.length } })\n        : $t('unarchived_count', { values: { count: ids.length } }),\n      type: NotificationType.Info,\n    });\n  } catch (error) {\n    handleError(error, $t('errors.unable_to_archive_unarchive', { values: { archived: isArchived } }));\n  }\n  return ids;\n};\nexport const delay = async (ms: number) => {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n};\nexport const canCopyImageToClipboard = (): boolean => {\n  return !!(navigator.clipboard && window.ClipboardItem);\n};\nconst imgToBlob = async (imageElement: HTMLImageElement) => {\n  const canvas = document.createElement('canvas');\n  const context = canvas.getContext('2d');\n  canvas.width = imageElement.naturalWidth;\n  canvas.height = imageElement.naturalHeight;\n  if (context) {\n    context.drawImage(imageElement, 0, 0);\n    return await new Promise<Blob>((resolve) => {\n      canvas.toBlob((blob) => {\n        if (blob) {\n          resolve(blob);\n        } else {\n          throw new Error('Canvas conversion to Blob failed');\n        }\n      });\n    });\n  }\n  throw new Error('Canvas context is null');\n};\nconst urlToBlob = async (imageSource: string) => {\n  const response = await fetch(imageSource);\n  return await response.blob();\n};\nexport const copyImageToClipboard = async (source: HTMLImageElement | string) => {\n  const blob = source instanceof HTMLImageElement ? await imgToBlob(source) : await urlToBlob(source);\n  await navigator.clipboard.write([new ClipboardItem({ [blob.type]: blob })]);\n};",
  "start_token": 0,
  "end_token": 3408,
  "children": [
    {
      "type": "ImportDeclaration",
      "label": "import { goto } from '$app/navigation';",
      "start_token": 0,
      "end_token": 6,
      "children": [
        {
          "type": "ImportClause",
          "label": "{ goto }",
          "start_token": 1,
          "end_token": 3,
          "children": [
            {
              "type": "NamedImports",
              "label": "{ goto }",
              "start_token": 1,
              "end_token": 3,
              "children": [
                {
                  "type": "ImportSpecifier",
                  "label": "goto",
                  "start_token": 2,
                  "end_token": 2,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "goto",
                      "start_token": 2,
                      "end_token": 2,
                      "children": []
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "StringLiteral",
          "label": "'$app/navigation'",
          "start_token": 5,
          "end_token": 5,
          "children": []
        }
      ]
    },
    {
      "type": "ImportDeclaration",
      "label": "import FormatBoldMessage from '$lib/components/i18n/format-bold-message.svelte';",
      "start_token": 7,
      "end_token": 11,
      "children": [
        {
          "type": "ImportClause",
          "label": "FormatBoldMessage",
          "start_token": 8,
          "end_token": 8,
          "children": [
            {
              "type": "Identifier",
              "label": "FormatBoldMessage",
              "start_token": 8,
              "end_token": 8,
              "children": []
            }
          ]
        },
        {
          "type": "StringLiteral",
          "label": "'$lib/components/i18n/format-bold-message.svelte'",
          "start_token": 10,
          "end_token": 10,
          "children": []
        }
      ]
    },
    {
      "type": "ImportDeclaration",
      "label": "import { NotificationType, notificationController } from '$lib/components/shared-components/notification/notification';",
      "start_token": 12,
      "end_token": 20,
      "children": [
        {
          "type": "ImportClause",
          "label": "{ NotificationType, notificationController }",
          "start_token": 13,
          "end_token": 17,
          "children": [
            {
              "type": "NamedImports",
              "label": "{ NotificationType, notificationController }",
              "start_token": 13,
              "end_token": 17,
              "children": [
                {
                  "type": "ImportSpecifier",
                  "label": "NotificationType",
                  "start_token": 14,
                  "end_token": 14,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "NotificationType",
                      "start_token": 14,
                      "end_token": 14,
                      "children": []
                    }
                  ]
                },
                {
                  "type": "ImportSpecifier",
                  "label": "notificationController",
                  "start_token": 16,
                  "end_token": 16,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "notificationController",
                      "start_token": 16,
                      "end_token": 16,
                      "children": []
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "StringLiteral",
          "label": "'$lib/components/shared-components/notification/notification'",
          "start_token": 19,
          "end_token": 19,
          "children": []
        }
      ]
    },
    {
      "type": "ImportDeclaration",
      "label": "import { AppRoute } from '$lib/constants';",
      "start_token": 21,
      "end_token": 27,
      "children": [
        {
          "type": "ImportClause",
          "label": "{ AppRoute }",
          "start_token": 22,
          "end_token": 24,
          "children": [
            {
              "type": "NamedImports",
              "label": "{ AppRoute }",
              "start_token": 22,
              "end_token": 24,
              "children": [
                {
                  "type": "ImportSpecifier",
                  "label": "AppRoute",
                  "start_token": 23,
                  "end_token": 23,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "AppRoute",
                      "start_token": 23,
                      "end_token": 23,
                      "children": []
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "StringLiteral",
          "label": "'$lib/constants'",
          "start_token": 26,
          "end_token": 26,
          "children": []
        }
      ]
    },
    {
      "type": "ImportDeclaration",
      "label": "import type { AssetInteractionStore } from '$lib/stores/asset-interaction.store';",
      "start_token": 28,
      "end_token": 35,
      "children": [
        {
          "type": "ImportClause",
          "label": "type { AssetInteractionStore }",
          "start_token": 29,
          "end_token": 32,
          "children": [
            {
              "type": "NamedImports",
              "label": "{ AssetInteractionStore }",
              "start_token": 30,
              "end_token": 32,
              "children": [
                {
                  "type": "ImportSpecifier",
                  "label": "AssetInteractionStore",
                  "start_token": 31,
                  "end_token": 31,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "AssetInteractionStore",
                      "start_token": 31,
                      "end_token": 31,
                      "children": []
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "StringLiteral",
          "label": "'$lib/stores/asset-interaction.store'",
          "start_token": 34,
          "end_token": 34,
          "children": []
        }
      ]
    },
    {
      "type": "ImportDeclaration",
      "label": "import { assetViewingStore } from '$lib/stores/asset-viewing.store';",
      "start_token": 36,
      "end_token": 42,
      "children": [
        {
          "type": "ImportClause",
          "label": "{ assetViewingStore }",
          "start_token": 37,
          "end_token": 39,
          "children": [
            {
              "type": "NamedImports",
              "label": "{ assetViewingStore }",
              "start_token": 37,
              "end_token": 39,
              "children": [
                {
                  "type": "ImportSpecifier",
                  "label": "assetViewingStore",
                  "start_token": 38,
                  "end_token": 38,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "assetViewingStore",
                      "start_token": 38,
                      "end_token": 38,
                      "children": []
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "StringLiteral",
          "label": "'$lib/stores/asset-viewing.store'",
          "start_token": 41,
          "end_token": 41,
          "children": []
        }
      ]
    },
    {
      "type": "ImportDeclaration",
      "label": "import { isSelectingAllAssets, type AssetStore } from '$lib/stores/assets.store';",
      "start_token": 43,
      "end_token": 52,
      "children": [
        {
          "type": "ImportClause",
          "label": "{ isSelectingAllAssets, type AssetStore }",
          "start_token": 44,
          "end_token": 49,
          "children": [
            {
              "type": "NamedImports",
              "label": "{ isSelectingAllAssets, type AssetStore }",
              "start_token": 44,
              "end_token": 49,
              "children": [
                {
                  "type": "ImportSpecifier",
                  "label": "isSelectingAllAssets",
                  "start_token": 45,
                  "end_token": 45,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "isSelectingAllAssets",
                      "start_token": 45,
                      "end_token": 45,
                      "children": []
                    }
                  ]
                },
                {
                  "type": "ImportSpecifier",
                  "label": "type AssetStore",
                  "start_token": 47,
                  "end_token": 48,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "AssetStore",
                      "start_token": 48,
                      "end_token": 48,
                      "children": []
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "StringLiteral",
          "label": "'$lib/stores/assets.store'",
          "start_token": 51,
          "end_token": 51,
          "children": []
        }
      ]
    },
    {
      "type": "ImportDeclaration",
      "label": "import { downloadManager } from '$lib/stores/download';",
      "start_token": 53,
      "end_token": 59,
      "children": [
        {
          "type": "ImportClause",
          "label": "{ downloadManager }",
          "start_token": 54,
          "end_token": 56,
          "children": [
            {
              "type": "NamedImports",
              "label": "{ downloadManager }",
              "start_token": 54,
              "end_token": 56,
              "children": [
                {
                  "type": "ImportSpecifier",
                  "label": "downloadManager",
                  "start_token": 55,
                  "end_token": 55,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "downloadManager",
                      "start_token": 55,
                      "end_token": 55,
                      "children": []
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "StringLiteral",
          "label": "'$lib/stores/download'",
          "start_token": 58,
          "end_token": 58,
          "children": []
        }
      ]
    },
    {
      "type": "ImportDeclaration",
      "label": "import { preferences } from '$lib/stores/user.store';",
      "start_token": 60,
      "end_token": 66,
      "children": [
        {
          "type": "ImportClause",
          "label": "{ preferences }",
          "start_token": 61,
          "end_token": 63,
          "children": [
            {
              "type": "NamedImports",
              "label": "{ preferences }",
              "start_token": 61,
              "end_token": 63,
              "children": [
                {
                  "type": "ImportSpecifier",
                  "label": "preferences",
                  "start_token": 62,
                  "end_token": 62,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "preferences",
                      "start_token": 62,
                      "end_token": 62,
                      "children": []
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "StringLiteral",
          "label": "'$lib/stores/user.store'",
          "start_token": 65,
          "end_token": 65,
          "children": []
        }
      ]
    },
    {
      "type": "ImportDeclaration",
      "label": "import { downloadRequest, getKey, withError } from '$lib/utils';",
      "start_token": 67,
      "end_token": 77,
      "children": [
        {
          "type": "ImportClause",
          "label": "{ downloadRequest, getKey, withError }",
          "start_token": 68,
          "end_token": 74,
          "children": [
            {
              "type": "NamedImports",
              "label": "{ downloadRequest, getKey, withError }",
              "start_token": 68,
              "end_token": 74,
              "children": [
                {
                  "type": "ImportSpecifier",
                  "label": "downloadRequest",
                  "start_token": 69,
                  "end_token": 69,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "downloadRequest",
                      "start_token": 69,
                      "end_token": 69,
                      "children": []
                    }
                  ]
                },
                {
                  "type": "ImportSpecifier",
                  "label": "getKey",
                  "start_token": 71,
                  "end_token": 71,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "getKey",
                      "start_token": 71,
                      "end_token": 71,
                      "children": []
                    }
                  ]
                },
                {
                  "type": "ImportSpecifier",
                  "label": "withError",
                  "start_token": 73,
                  "end_token": 73,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "withError",
                      "start_token": 73,
                      "end_token": 73,
                      "children": []
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "StringLiteral",
          "label": "'$lib/utils'",
          "start_token": 76,
          "end_token": 76,
          "children": []
        }
      ]
    },
    {
      "type": "ImportDeclaration",
      "label": "import { createAlbum } from '$lib/utils/album-utils';",
      "start_token": 78,
      "end_token": 84,
      "children": [
        {
          "type": "ImportClause",
          "label": "{ createAlbum }",
          "start_token": 79,
          "end_token": 81,
          "children": [
            {
              "type": "NamedImports",
              "label": "{ createAlbum }",
              "start_token": 79,
              "end_token": 81,
              "children": [
                {
                  "type": "ImportSpecifier",
                  "label": "createAlbum",
                  "start_token": 80,
                  "end_token": 80,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "createAlbum",
                      "start_token": 80,
                      "end_token": 80,
                      "children": []
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "StringLiteral",
          "label": "'$lib/utils/album-utils'",
          "start_token": 83,
          "end_token": 83,
          "children": []
        }
      ]
    },
    {
      "type": "ImportDeclaration",
      "label": "import { getByteUnitString } from '$lib/utils/byte-units';",
      "start_token": 85,
      "end_token": 91,
      "children": [
        {
          "type": "ImportClause",
          "label": "{ getByteUnitString }",
          "start_token": 86,
          "end_token": 88,
          "children": [
            {
              "type": "NamedImports",
              "label": "{ getByteUnitString }",
              "start_token": 86,
              "end_token": 88,
              "children": [
                {
                  "type": "ImportSpecifier",
                  "label": "getByteUnitString",
                  "start_token": 87,
                  "end_token": 87,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "getByteUnitString",
                      "start_token": 87,
                      "end_token": 87,
                      "children": []
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "StringLiteral",
          "label": "'$lib/utils/byte-units'",
          "start_token": 90,
          "end_token": 90,
          "children": []
        }
      ]
    },
    {
      "type": "ImportDeclaration",
      "label": "import { getFormatter } from '$lib/utils/i18n';",
      "start_token": 92,
      "end_token": 98,
      "children": [
        {
          "type": "ImportClause",
          "label": "{ getFormatter }",
          "start_token": 93,
          "end_token": 95,
          "children": [
            {
              "type": "NamedImports",
              "label": "{ getFormatter }",
              "start_token": 93,
              "end_token": 95,
              "children": [
                {
                  "type": "ImportSpecifier",
                  "label": "getFormatter",
                  "start_token": 94,
                  "end_token": 94,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "getFormatter",
                      "start_token": 94,
                      "end_token": 94,
                      "children": []
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "StringLiteral",
          "label": "'$lib/utils/i18n'",
          "start_token": 97,
          "end_token": 97,
          "children": []
        }
      ]
    },
    {
      "type": "ImportDeclaration",
      "label": "import {\n  addAssetsToAlbum as addAssets,\n  createStack,\n  deleteAssets,\n  deleteStacks,\n  getAssetInfo,\n  getBaseUrl,\n  getDownloadInfo,\n  getStack,\n  tagAssets as tagAllAssets,\n  untagAssets,\n  updateAsset,\n  updateAssets,\n  type AlbumResponseDto,\n  type AssetResponseDto,\n  type AssetTypeEnum,\n  type DownloadInfoDto,\n  type StackResponseDto,\n  type UserPreferencesResponseDto,\n  type UserResponseDto,\n} from '@immich/sdk';",
      "start_token": 99,
      "end_token": 153,
      "children": [
        {
          "type": "ImportClause",
          "label": "{\n  addAssetsToAlbum as addAssets,\n  createStack,\n  deleteAssets,\n  deleteStacks,\n  getAssetInfo,\n  getBaseUrl,\n  getDownloadInfo,\n  getStack,\n  tagAssets as tagAllAssets,\n  untagAssets,\n  updateAsset,\n  updateAssets,\n  type AlbumResponseDto,\n  type AssetResponseDto,\n  type AssetTypeEnum,\n  type DownloadInfoDto,\n  type StackResponseDto,\n  type UserPreferencesResponseDto,\n  type UserResponseDto,\n}",
          "start_token": 100,
          "end_token": 150,
          "children": [
            {
              "type": "NamedImports",
              "label": "{\n  addAssetsToAlbum as addAssets,\n  createStack,\n  deleteAssets,\n  deleteStacks,\n  getAssetInfo,\n  getBaseUrl,\n  getDownloadInfo,\n  getStack,\n  tagAssets as tagAllAssets,\n  untagAssets,\n  updateAsset,\n  updateAssets,\n  type AlbumResponseDto,\n  type AssetResponseDto,\n  type AssetTypeEnum,\n  type DownloadInfoDto,\n  type StackResponseDto,\n  type UserPreferencesResponseDto,\n  type UserResponseDto,\n}",
              "start_token": 100,
              "end_token": 150,
              "children": [
                {
                  "type": "ImportSpecifier",
                  "label": "addAssetsToAlbum as addAssets",
                  "start_token": 101,
                  "end_token": 103,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "addAssetsToAlbum",
                      "start_token": 101,
                      "end_token": 101,
                      "children": []
                    },
                    {
                      "type": "Identifier",
                      "label": "addAssets",
                      "start_token": 103,
                      "end_token": 103,
                      "children": []
                    }
                  ]
                },
                {
                  "type": "ImportSpecifier",
                  "label": "createStack",
                  "start_token": 105,
                  "end_token": 105,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "createStack",
                      "start_token": 105,
                      "end_token": 105,
                      "children": []
                    }
                  ]
                },
                {
                  "type": "ImportSpecifier",
                  "label": "deleteAssets",
                  "start_token": 107,
                  "end_token": 107,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "deleteAssets",
                      "start_token": 107,
                      "end_token": 107,
                      "children": []
                    }
                  ]
                },
                {
                  "type": "ImportSpecifier",
                  "label": "deleteStacks",
                  "start_token": 109,
                  "end_token": 109,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "deleteStacks",
                      "start_token": 109,
                      "end_token": 109,
                      "children": []
                    }
                  ]
                },
                {
                  "type": "ImportSpecifier",
                  "label": "getAssetInfo",
                  "start_token": 111,
                  "end_token": 111,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "getAssetInfo",
                      "start_token": 111,
                      "end_token": 111,
                      "children": []
                    }
                  ]
                },
                {
                  "type": "ImportSpecifier",
                  "label": "getBaseUrl",
                  "start_token": 113,
                  "end_token": 113,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "getBaseUrl",
                      "start_token": 113,
                      "end_token": 113,
                      "children": []
                    }
                  ]
                },
                {
                  "type": "ImportSpecifier",
                  "label": "getDownloadInfo",
                  "start_token": 115,
                  "end_token": 115,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "getDownloadInfo",
                      "start_token": 115,
                      "end_token": 115,
                      "children": []
                    }
                  ]
                },
                {
                  "type": "ImportSpecifier",
                  "label": "getStack",
                  "start_token": 117,
                  "end_token": 117,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "getStack",
                      "start_token": 117,
                      "end_token": 117,
                      "children": []
                    }
                  ]
                },
                {
                  "type": "ImportSpecifier",
                  "label": "tagAssets as tagAllAssets",
                  "start_token": 119,
                  "end_token": 121,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "tagAssets",
                      "start_token": 119,
                      "end_token": 119,
                      "children": []
                    },
                    {
                      "type": "Identifier",
                      "label": "tagAllAssets",
                      "start_token": 121,
                      "end_token": 121,
                      "children": []
                    }
                  ]
                },
                {
                  "type": "ImportSpecifier",
                  "label": "untagAssets",
                  "start_token": 123,
                  "end_token": 123,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "untagAssets",
                      "start_token": 123,
                      "end_token": 123,
                      "children": []
                    }
                  ]
                },
                {
                  "type": "ImportSpecifier",
                  "label": "updateAsset",
                  "start_token": 125,
                  "end_token": 125,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "updateAsset",
                      "start_token": 125,
                      "end_token": 125,
                      "children": []
                    }
                  ]
                },
                {
                  "type": "ImportSpecifier",
                  "label": "updateAssets",
                  "start_token": 127,
                  "end_token": 127,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "updateAssets",
                      "start_token": 127,
                      "end_token": 127,
                      "children": []
                    }
                  ]
                },
                {
                  "type": "ImportSpecifier",
                  "label": "type AlbumResponseDto",
                  "start_token": 129,
                  "end_token": 130,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "AlbumResponseDto",
                      "start_token": 130,
                      "end_token": 130,
                      "children": []
                    }
                  ]
                },
                {
                  "type": "ImportSpecifier",
                  "label": "type AssetResponseDto",
                  "start_token": 132,
                  "end_token": 133,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "AssetResponseDto",
                      "start_token": 133,
                      "end_token": 133,
                      "children": []
                    }
                  ]
                },
                {
                  "type": "ImportSpecifier",
                  "label": "type AssetTypeEnum",
                  "start_token": 135,
                  "end_token": 136,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "AssetTypeEnum",
                      "start_token": 136,
                      "end_token": 136,
                      "children": []
                    }
                  ]
                },
                {
                  "type": "ImportSpecifier",
                  "label": "type DownloadInfoDto",
                  "start_token": 138,
                  "end_token": 139,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "DownloadInfoDto",
                      "start_token": 139,
                      "end_token": 139,
                      "children": []
                    }
                  ]
                },
                {
                  "type": "ImportSpecifier",
                  "label": "type StackResponseDto",
                  "start_token": 141,
                  "end_token": 142,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "StackResponseDto",
                      "start_token": 142,
                      "end_token": 142,
                      "children": []
                    }
                  ]
                },
                {
                  "type": "ImportSpecifier",
                  "label": "type UserPreferencesResponseDto",
                  "start_token": 144,
                  "end_token": 145,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "UserPreferencesResponseDto",
                      "start_token": 145,
                      "end_token": 145,
                      "children": []
                    }
                  ]
                },
                {
                  "type": "ImportSpecifier",
                  "label": "type UserResponseDto",
                  "start_token": 147,
                  "end_token": 148,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "UserResponseDto",
                      "start_token": 148,
                      "end_token": 148,
                      "children": []
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "StringLiteral",
          "label": "'@immich/sdk'",
          "start_token": 152,
          "end_token": 152,
          "children": []
        }
      ]
    },
    {
      "type": "ImportDeclaration",
      "label": "import { DateTime } from 'luxon';",
      "start_token": 154,
      "end_token": 160,
      "children": [
        {
          "type": "ImportClause",
          "label": "{ DateTime }",
          "start_token": 155,
          "end_token": 157,
          "children": [
            {
              "type": "NamedImports",
              "label": "{ DateTime }",
              "start_token": 155,
              "end_token": 157,
              "children": [
                {
                  "type": "ImportSpecifier",
                  "label": "DateTime",
                  "start_token": 156,
                  "end_token": 156,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "DateTime",
                      "start_token": 156,
                      "end_token": 156,
                      "children": []
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "StringLiteral",
          "label": "'luxon'",
          "start_token": 159,
          "end_token": 159,
          "children": []
        }
      ]
    },
    {
      "type": "ImportDeclaration",
      "label": "import { t } from 'svelte-i18n';",
      "start_token": 161,
      "end_token": 167,
      "children": [
        {
          "type": "ImportClause",
          "label": "{ t }",
          "start_token": 162,
          "end_token": 164,
          "children": [
            {
              "type": "NamedImports",
              "label": "{ t }",
              "start_token": 162,
              "end_token": 164,
              "children": [
                {
                  "type": "ImportSpecifier",
                  "label": "t",
                  "start_token": 163,
                  "end_token": 163,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "t",
                      "start_token": 163,
                      "end_token": 163,
                      "children": []
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "StringLiteral",
          "label": "'svelte-i18n'",
          "start_token": 166,
          "end_token": 166,
          "children": []
        }
      ]
    },
    {
      "type": "ImportDeclaration",
      "label": "import { get } from 'svelte/store';",
      "start_token": 168,
      "end_token": 174,
      "children": [
        {
          "type": "ImportClause",
          "label": "{ get }",
          "start_token": 169,
          "end_token": 171,
          "children": [
            {
              "type": "NamedImports",
              "label": "{ get }",
              "start_token": 169,
              "end_token": 171,
              "children": [
                {
                  "type": "ImportSpecifier",
                  "label": "get",
                  "start_token": 170,
                  "end_token": 170,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "get",
                      "start_token": 170,
                      "end_token": 170,
                      "children": []
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "StringLiteral",
          "label": "'svelte/store'",
          "start_token": 173,
          "end_token": 173,
          "children": []
        }
      ]
    },
    {
      "type": "ImportDeclaration",
      "label": "import { handleError } from './handle-error';",
      "start_token": 175,
      "end_token": 181,
      "children": [
        {
          "type": "ImportClause",
          "label": "{ handleError }",
          "start_token": 176,
          "end_token": 178,
          "children": [
            {
              "type": "NamedImports",
              "label": "{ handleError }",
              "start_token": 176,
              "end_token": 178,
              "children": [
                {
                  "type": "ImportSpecifier",
                  "label": "handleError",
                  "start_token": 177,
                  "end_token": 177,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "handleError",
                      "start_token": 177,
                      "end_token": 177,
                      "children": []
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "StringLiteral",
          "label": "'./handle-error'",
          "start_token": 180,
          "end_token": 180,
          "children": []
        }
      ]
    },
    {
      "type": "FirstStatement",
      "label": "export const addAssetsToAlbum = async (albumId: string, assetIds: string[], showNotification = true) => {\n  const result = await addAssets({\n    id: albumId,\n    bulkIdsDto: {\n      ids: assetIds,\n    },\n    key: getKey(),\n  });\n  const count = result.filter(({ success }) => success).length;\n  const $t = get(t);\n  if (showNotification) {\n    notificationController.show({\n      type: NotificationType.Info,\n      timeout: 5000,\n      message:\n        count > 0\n          ? $t('assets_added_to_album_count', { values: { count } })\n          : $t('assets_were_part_of_album_count', { values: { count: assetIds.length } }),\n      button: {\n        text: $t('view_album'),\n        onClick() {\n          return goto(`${AppRoute.ALBUMS}/${albumId}`);\n        },\n      },\n    });\n  }\n};",
      "start_token": 182,
      "end_token": 344,
      "children": [
        {
          "type": "ExportKeyword",
          "label": "export",
          "start_token": 182,
          "end_token": 182,
          "children": []
        },
        {
          "type": "VariableDeclarationList",
          "label": "const addAssetsToAlbum = async (albumId: string, assetIds: string[], showNotification = true) => {\n  const result = await addAssets({\n    id: albumId,\n    bulkIdsDto: {\n      ids: assetIds,\n    },\n    key: getKey(),\n  });\n  const count = result.filter(({ success }) => success).length;\n  const $t = get(t);\n  if (showNotification) {\n    notificationController.show({\n      type: NotificationType.Info,\n      timeout: 5000,\n      message:\n        count > 0\n          ? $t('assets_added_to_album_count', { values: { count } })\n          : $t('assets_were_part_of_album_count', { values: { count: assetIds.length } }),\n      button: {\n        text: $t('view_album'),\n        onClick() {\n          return goto(`${AppRoute.ALBUMS}/${albumId}`);\n        },\n      },\n    });\n  }\n}",
          "start_token": 183,
          "end_token": 343,
          "children": [
            {
              "type": "VariableDeclaration",
              "label": "addAssetsToAlbum = async (albumId: string, assetIds: string[], showNotification = true) => {\n  const result = await addAssets({\n    id: albumId,\n    bulkIdsDto: {\n      ids: assetIds,\n    },\n    key: getKey(),\n  });\n  const count = result.filter(({ success }) => success).length;\n  const $t = get(t);\n  if (showNotification) {\n    notificationController.show({\n      type: NotificationType.Info,\n      timeout: 5000,\n      message:\n        count > 0\n          ? $t('assets_added_to_album_count', { values: { count } })\n          : $t('assets_were_part_of_album_count', { values: { count: assetIds.length } }),\n      button: {\n        text: $t('view_album'),\n        onClick() {\n          return goto(`${AppRoute.ALBUMS}/${albumId}`);\n        },\n      },\n    });\n  }\n}",
              "start_token": 184,
              "end_token": 343,
              "children": [
                {
                  "type": "Identifier",
                  "label": "addAssetsToAlbum",
                  "start_token": 184,
                  "end_token": 184,
                  "children": []
                },
                {
                  "type": "ArrowFunction",
                  "label": "async (albumId: string, assetIds: string[], showNotification = true) => {\n  const result = await addAssets({\n    id: albumId,\n    bulkIdsDto: {\n      ids: assetIds,\n    },\n    key: getKey(),\n  });\n  const count = result.filter(({ success }) => success).length;\n  const $t = get(t);\n  if (showNotification) {\n    notificationController.show({\n      type: NotificationType.Info,\n      timeout: 5000,\n      message:\n        count > 0\n          ? $t('assets_added_to_album_count', { values: { count } })\n          : $t('assets_were_part_of_album_count', { values: { count: assetIds.length } }),\n      button: {\n        text: $t('view_album'),\n        onClick() {\n          return goto(`${AppRoute.ALBUMS}/${albumId}`);\n        },\n      },\n    });\n  }\n}",
                  "start_token": 186,
                  "end_token": 343,
                  "children": [
                    {
                      "type": "AsyncKeyword",
                      "label": "async",
                      "start_token": 186,
                      "end_token": 186,
                      "children": []
                    },
                    {
                      "type": "Parameter",
                      "label": "albumId: string",
                      "start_token": 188,
                      "end_token": 190,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "albumId",
                          "start_token": 188,
                          "end_token": 188,
                          "children": []
                        },
                        {
                          "type": "StringKeyword",
                          "label": "string",
                          "start_token": 190,
                          "end_token": 190,
                          "children": []
                        }
                      ]
                    },
                    {
                      "type": "Parameter",
                      "label": "assetIds: string[]",
                      "start_token": 192,
                      "end_token": 196,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "assetIds",
                          "start_token": 192,
                          "end_token": 192,
                          "children": []
                        },
                        {
                          "type": "ArrayType",
                          "label": "string[]",
                          "start_token": 194,
                          "end_token": 196,
                          "children": [
                            {
                              "type": "StringKeyword",
                              "label": "string",
                              "start_token": 194,
                              "end_token": 194,
                              "children": []
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "Parameter",
                      "label": "showNotification = true",
                      "start_token": 198,
                      "end_token": 200,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "showNotification",
                          "start_token": 198,
                          "end_token": 198,
                          "children": []
                        },
                        {
                          "type": "TrueKeyword",
                          "label": "true",
                          "start_token": 200,
                          "end_token": 200,
                          "children": []
                        }
                      ]
                    },
                    {
                      "type": "EqualsGreaterThanToken",
                      "label": "=>",
                      "start_token": 202,
                      "end_token": 202,
                      "children": []
                    },
                    {
                      "type": "Block",
                      "label": "{\n  const result = await addAssets({\n    id: albumId,\n    bulkIdsDto: {\n      ids: assetIds,\n    },\n    key: getKey(),\n  });\n  const count = result.filter(({ success }) => success).length;\n  const $t = get(t);\n  if (showNotification) {\n    notificationController.show({\n      type: NotificationType.Info,\n      timeout: 5000,\n      message:\n        count > 0\n          ? $t('assets_added_to_album_count', { values: { count } })\n          : $t('assets_were_part_of_album_count', { values: { count: assetIds.length } }),\n      button: {\n        text: $t('view_album'),\n        onClick() {\n          return goto(`${AppRoute.ALBUMS}/${albumId}`);\n        },\n      },\n    });\n  }\n}",
                      "start_token": 203,
                      "end_token": 343,
                      "children": [
                        {
                          "type": "FirstStatement",
                          "label": "const result = await addAssets({\n    id: albumId,\n    bulkIdsDto: {\n      ids: assetIds,\n    },\n    key: getKey(),\n  });",
                          "start_token": 204,
                          "end_token": 232,
                          "children": [
                            {
                              "type": "VariableDeclarationList",
                              "label": "const result = await addAssets({\n    id: albumId,\n    bulkIdsDto: {\n      ids: assetIds,\n    },\n    key: getKey(),\n  })",
                              "start_token": 204,
                              "end_token": 231,
                              "children": [
                                {
                                  "type": "VariableDeclaration",
                                  "label": "result = await addAssets({\n    id: albumId,\n    bulkIdsDto: {\n      ids: assetIds,\n    },\n    key: getKey(),\n  })",
                                  "start_token": 205,
                                  "end_token": 231,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "result",
                                      "start_token": 205,
                                      "end_token": 205,
                                      "children": []
                                    },
                                    {
                                      "type": "AwaitExpression",
                                      "label": "await addAssets({\n    id: albumId,\n    bulkIdsDto: {\n      ids: assetIds,\n    },\n    key: getKey(),\n  })",
                                      "start_token": 207,
                                      "end_token": 231,
                                      "children": [
                                        {
                                          "type": "CallExpression",
                                          "label": "addAssets({\n    id: albumId,\n    bulkIdsDto: {\n      ids: assetIds,\n    },\n    key: getKey(),\n  })",
                                          "start_token": 208,
                                          "end_token": 231,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "addAssets",
                                              "start_token": 208,
                                              "end_token": 208,
                                              "children": []
                                            },
                                            {
                                              "type": "ObjectLiteralExpression",
                                              "label": "{\n    id: albumId,\n    bulkIdsDto: {\n      ids: assetIds,\n    },\n    key: getKey(),\n  }",
                                              "start_token": 210,
                                              "end_token": 230,
                                              "children": [
                                                {
                                                  "type": "PropertyAssignment",
                                                  "label": "id: albumId",
                                                  "start_token": 211,
                                                  "end_token": 213,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "id",
                                                      "start_token": 211,
                                                      "end_token": 211,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "albumId",
                                                      "start_token": 213,
                                                      "end_token": 213,
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "PropertyAssignment",
                                                  "label": "bulkIdsDto: {\n      ids: assetIds,\n    }",
                                                  "start_token": 215,
                                                  "end_token": 222,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "bulkIdsDto",
                                                      "start_token": 215,
                                                      "end_token": 215,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "ObjectLiteralExpression",
                                                      "label": "{\n      ids: assetIds,\n    }",
                                                      "start_token": 217,
                                                      "end_token": 222,
                                                      "children": [
                                                        {
                                                          "type": "PropertyAssignment",
                                                          "label": "ids: assetIds",
                                                          "start_token": 218,
                                                          "end_token": 220,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "ids",
                                                              "start_token": 218,
                                                              "end_token": 218,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "Identifier",
                                                              "label": "assetIds",
                                                              "start_token": 220,
                                                              "end_token": 220,
                                                              "children": []
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "PropertyAssignment",
                                                  "label": "key: getKey()",
                                                  "start_token": 224,
                                                  "end_token": 228,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "key",
                                                      "start_token": 224,
                                                      "end_token": 224,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "CallExpression",
                                                      "label": "getKey()",
                                                      "start_token": 226,
                                                      "end_token": 228,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "getKey",
                                                          "start_token": 226,
                                                          "end_token": 226,
                                                          "children": []
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "FirstStatement",
                          "label": "const count = result.filter(({ success }) => success).length;",
                          "start_token": 233,
                          "end_token": 250,
                          "children": [
                            {
                              "type": "VariableDeclarationList",
                              "label": "const count = result.filter(({ success }) => success).length",
                              "start_token": 233,
                              "end_token": 249,
                              "children": [
                                {
                                  "type": "VariableDeclaration",
                                  "label": "count = result.filter(({ success }) => success).length",
                                  "start_token": 234,
                                  "end_token": 249,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "count",
                                      "start_token": 234,
                                      "end_token": 234,
                                      "children": []
                                    },
                                    {
                                      "type": "PropertyAccessExpression",
                                      "label": "result.filter(({ success }) => success).length",
                                      "start_token": 236,
                                      "end_token": 249,
                                      "children": [
                                        {
                                          "type": "CallExpression",
                                          "label": "result.filter(({ success }) => success)",
                                          "start_token": 236,
                                          "end_token": 247,
                                          "children": [
                                            {
                                              "type": "PropertyAccessExpression",
                                              "label": "result.filter",
                                              "start_token": 236,
                                              "end_token": 238,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "result",
                                                  "start_token": 236,
                                                  "end_token": 236,
                                                  "children": []
                                                },
                                                {
                                                  "type": "Identifier",
                                                  "label": "filter",
                                                  "start_token": 238,
                                                  "end_token": 238,
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "type": "ArrowFunction",
                                              "label": "({ success }) => success",
                                              "start_token": 240,
                                              "end_token": 246,
                                              "children": [
                                                {
                                                  "type": "Parameter",
                                                  "label": "{ success }",
                                                  "start_token": 241,
                                                  "end_token": 243,
                                                  "children": [
                                                    {
                                                      "type": "ObjectBindingPattern",
                                                      "label": "{ success }",
                                                      "start_token": 241,
                                                      "end_token": 243,
                                                      "children": [
                                                        {
                                                          "type": "BindingElement",
                                                          "label": "success",
                                                          "start_token": 242,
                                                          "end_token": 242,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "success",
                                                              "start_token": 242,
                                                              "end_token": 242,
                                                              "children": []
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "EqualsGreaterThanToken",
                                                  "label": "=>",
                                                  "start_token": 245,
                                                  "end_token": 245,
                                                  "children": []
                                                },
                                                {
                                                  "type": "Identifier",
                                                  "label": "success",
                                                  "start_token": 246,
                                                  "end_token": 246,
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "type": "Identifier",
                                          "label": "length",
                                          "start_token": 249,
                                          "end_token": 249,
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "FirstStatement",
                          "label": "const $t = get(t);",
                          "start_token": 251,
                          "end_token": 258,
                          "children": [
                            {
                              "type": "VariableDeclarationList",
                              "label": "const $t = get(t)",
                              "start_token": 251,
                              "end_token": 257,
                              "children": [
                                {
                                  "type": "VariableDeclaration",
                                  "label": "$t = get(t)",
                                  "start_token": 252,
                                  "end_token": 257,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "$t",
                                      "start_token": 252,
                                      "end_token": 252,
                                      "children": []
                                    },
                                    {
                                      "type": "CallExpression",
                                      "label": "get(t)",
                                      "start_token": 254,
                                      "end_token": 257,
                                      "children": [
                                        {
                                          "type": "Identifier",
                                          "label": "get",
                                          "start_token": 254,
                                          "end_token": 254,
                                          "children": []
                                        },
                                        {
                                          "type": "Identifier",
                                          "label": "t",
                                          "start_token": 256,
                                          "end_token": 256,
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "IfStatement",
                          "label": "if (showNotification) {\n    notificationController.show({\n      type: NotificationType.Info,\n      timeout: 5000,\n      message:\n        count > 0\n          ? $t('assets_added_to_album_count', { values: { count } })\n          : $t('assets_were_part_of_album_count', { values: { count: assetIds.length } }),\n      button: {\n        text: $t('view_album'),\n        onClick() {\n          return goto(`${AppRoute.ALBUMS}/${albumId}`);\n        },\n      },\n    });\n  }",
                          "start_token": 259,
                          "end_token": 342,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "showNotification",
                              "start_token": 261,
                              "end_token": 261,
                              "children": []
                            },
                            {
                              "type": "Block",
                              "label": "{\n    notificationController.show({\n      type: NotificationType.Info,\n      timeout: 5000,\n      message:\n        count > 0\n          ? $t('assets_added_to_album_count', { values: { count } })\n          : $t('assets_were_part_of_album_count', { values: { count: assetIds.length } }),\n      button: {\n        text: $t('view_album'),\n        onClick() {\n          return goto(`${AppRoute.ALBUMS}/${albumId}`);\n        },\n      },\n    });\n  }",
                              "start_token": 263,
                              "end_token": 342,
                              "children": [
                                {
                                  "type": "ExpressionStatement",
                                  "label": "notificationController.show({\n      type: NotificationType.Info,\n      timeout: 5000,\n      message:\n        count > 0\n          ? $t('assets_added_to_album_count', { values: { count } })\n          : $t('assets_were_part_of_album_count', { values: { count: assetIds.length } }),\n      button: {\n        text: $t('view_album'),\n        onClick() {\n          return goto(`${AppRoute.ALBUMS}/${albumId}`);\n        },\n      },\n    });",
                                  "start_token": 264,
                                  "end_token": 341,
                                  "children": [
                                    {
                                      "type": "CallExpression",
                                      "label": "notificationController.show({\n      type: NotificationType.Info,\n      timeout: 5000,\n      message:\n        count > 0\n          ? $t('assets_added_to_album_count', { values: { count } })\n          : $t('assets_were_part_of_album_count', { values: { count: assetIds.length } }),\n      button: {\n        text: $t('view_album'),\n        onClick() {\n          return goto(`${AppRoute.ALBUMS}/${albumId}`);\n        },\n      },\n    })",
                                      "start_token": 264,
                                      "end_token": 340,
                                      "children": [
                                        {
                                          "type": "PropertyAccessExpression",
                                          "label": "notificationController.show",
                                          "start_token": 264,
                                          "end_token": 266,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "notificationController",
                                              "start_token": 264,
                                              "end_token": 264,
                                              "children": []
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "show",
                                              "start_token": 266,
                                              "end_token": 266,
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "type": "ObjectLiteralExpression",
                                          "label": "{\n      type: NotificationType.Info,\n      timeout: 5000,\n      message:\n        count > 0\n          ? $t('assets_added_to_album_count', { values: { count } })\n          : $t('assets_were_part_of_album_count', { values: { count: assetIds.length } }),\n      button: {\n        text: $t('view_album'),\n        onClick() {\n          return goto(`${AppRoute.ALBUMS}/${albumId}`);\n        },\n      },\n    }",
                                          "start_token": 268,
                                          "end_token": 339,
                                          "children": [
                                            {
                                              "type": "PropertyAssignment",
                                              "label": "type: NotificationType.Info",
                                              "start_token": 269,
                                              "end_token": 273,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "type",
                                                  "start_token": 269,
                                                  "end_token": 269,
                                                  "children": []
                                                },
                                                {
                                                  "type": "PropertyAccessExpression",
                                                  "label": "NotificationType.Info",
                                                  "start_token": 271,
                                                  "end_token": 273,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "NotificationType",
                                                      "start_token": 271,
                                                      "end_token": 271,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "Info",
                                                      "start_token": 273,
                                                      "end_token": 273,
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "type": "PropertyAssignment",
                                              "label": "timeout: 5000",
                                              "start_token": 275,
                                              "end_token": 277,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "timeout",
                                                  "start_token": 275,
                                                  "end_token": 275,
                                                  "children": []
                                                },
                                                {
                                                  "type": "FirstLiteralToken",
                                                  "label": "5000",
                                                  "start_token": 277,
                                                  "end_token": 277,
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "type": "PropertyAssignment",
                                              "label": "message:\n        count > 0\n          ? $t('assets_added_to_album_count', { values: { count } })\n          : $t('assets_were_part_of_album_count', { values: { count: assetIds.length } })",
                                              "start_token": 279,
                                              "end_token": 313,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "message",
                                                  "start_token": 279,
                                                  "end_token": 279,
                                                  "children": []
                                                },
                                                {
                                                  "type": "ConditionalExpression",
                                                  "label": "count > 0\n          ? $t('assets_added_to_album_count', { values: { count } })\n          : $t('assets_were_part_of_album_count', { values: { count: assetIds.length } })",
                                                  "start_token": 281,
                                                  "end_token": 313,
                                                  "children": [
                                                    {
                                                      "type": "BinaryExpression",
                                                      "label": "count > 0",
                                                      "start_token": 281,
                                                      "end_token": 283,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "count",
                                                          "start_token": 281,
                                                          "end_token": 281,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "GreaterThanToken",
                                                          "label": ">",
                                                          "start_token": 282,
                                                          "end_token": 282,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "FirstLiteralToken",
                                                          "label": "0",
                                                          "start_token": 283,
                                                          "end_token": 283,
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "QuestionToken",
                                                      "label": "?",
                                                      "start_token": 284,
                                                      "end_token": 284,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "CallExpression",
                                                      "label": "$t('assets_added_to_album_count', { values: { count } })",
                                                      "start_token": 285,
                                                      "end_token": 296,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "$t",
                                                          "start_token": 285,
                                                          "end_token": 285,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "StringLiteral",
                                                          "label": "'assets_added_to_album_count'",
                                                          "start_token": 287,
                                                          "end_token": 287,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "ObjectLiteralExpression",
                                                          "label": "{ values: { count } }",
                                                          "start_token": 289,
                                                          "end_token": 295,
                                                          "children": [
                                                            {
                                                              "type": "PropertyAssignment",
                                                              "label": "values: { count }",
                                                              "start_token": 290,
                                                              "end_token": 294,
                                                              "children": [
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "values",
                                                                  "start_token": 290,
                                                                  "end_token": 290,
                                                                  "children": []
                                                                },
                                                                {
                                                                  "type": "ObjectLiteralExpression",
                                                                  "label": "{ count }",
                                                                  "start_token": 292,
                                                                  "end_token": 294,
                                                                  "children": [
                                                                    {
                                                                      "type": "ShorthandPropertyAssignment",
                                                                      "label": "count",
                                                                      "start_token": 293,
                                                                      "end_token": 293,
                                                                      "children": [
                                                                        {
                                                                          "type": "Identifier",
                                                                          "label": "count",
                                                                          "start_token": 293,
                                                                          "end_token": 293,
                                                                          "children": []
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "ColonToken",
                                                      "label": ":",
                                                      "start_token": 297,
                                                      "end_token": 297,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "CallExpression",
                                                      "label": "$t('assets_were_part_of_album_count', { values: { count: assetIds.length } })",
                                                      "start_token": 298,
                                                      "end_token": 313,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "$t",
                                                          "start_token": 298,
                                                          "end_token": 298,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "StringLiteral",
                                                          "label": "'assets_were_part_of_album_count'",
                                                          "start_token": 300,
                                                          "end_token": 300,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "ObjectLiteralExpression",
                                                          "label": "{ values: { count: assetIds.length } }",
                                                          "start_token": 302,
                                                          "end_token": 312,
                                                          "children": [
                                                            {
                                                              "type": "PropertyAssignment",
                                                              "label": "values: { count: assetIds.length }",
                                                              "start_token": 303,
                                                              "end_token": 311,
                                                              "children": [
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "values",
                                                                  "start_token": 303,
                                                                  "end_token": 303,
                                                                  "children": []
                                                                },
                                                                {
                                                                  "type": "ObjectLiteralExpression",
                                                                  "label": "{ count: assetIds.length }",
                                                                  "start_token": 305,
                                                                  "end_token": 311,
                                                                  "children": [
                                                                    {
                                                                      "type": "PropertyAssignment",
                                                                      "label": "count: assetIds.length",
                                                                      "start_token": 306,
                                                                      "end_token": 310,
                                                                      "children": [
                                                                        {
                                                                          "type": "Identifier",
                                                                          "label": "count",
                                                                          "start_token": 306,
                                                                          "end_token": 306,
                                                                          "children": []
                                                                        },
                                                                        {
                                                                          "type": "PropertyAccessExpression",
                                                                          "label": "assetIds.length",
                                                                          "start_token": 308,
                                                                          "end_token": 310,
                                                                          "children": [
                                                                            {
                                                                              "type": "Identifier",
                                                                              "label": "assetIds",
                                                                              "start_token": 308,
                                                                              "end_token": 308,
                                                                              "children": []
                                                                            },
                                                                            {
                                                                              "type": "Identifier",
                                                                              "label": "length",
                                                                              "start_token": 310,
                                                                              "end_token": 310,
                                                                              "children": []
                                                                            }
                                                                          ]
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "type": "PropertyAssignment",
                                              "label": "button: {\n        text: $t('view_album'),\n        onClick() {\n          return goto(`${AppRoute.ALBUMS}/${albumId}`);\n        },\n      }",
                                              "start_token": 315,
                                              "end_token": 337,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "button",
                                                  "start_token": 315,
                                                  "end_token": 315,
                                                  "children": []
                                                },
                                                {
                                                  "type": "ObjectLiteralExpression",
                                                  "label": "{\n        text: $t('view_album'),\n        onClick() {\n          return goto(`${AppRoute.ALBUMS}/${albumId}`);\n        },\n      }",
                                                  "start_token": 317,
                                                  "end_token": 337,
                                                  "children": [
                                                    {
                                                      "type": "PropertyAssignment",
                                                      "label": "text: $t('view_album')",
                                                      "start_token": 318,
                                                      "end_token": 323,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "text",
                                                          "start_token": 318,
                                                          "end_token": 318,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "CallExpression",
                                                          "label": "$t('view_album')",
                                                          "start_token": 320,
                                                          "end_token": 323,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "$t",
                                                              "start_token": 320,
                                                              "end_token": 320,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "StringLiteral",
                                                              "label": "'view_album'",
                                                              "start_token": 322,
                                                              "end_token": 322,
                                                              "children": []
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "MethodDeclaration",
                                                      "label": "onClick() {\n          return goto(`${AppRoute.ALBUMS}/${albumId}`);\n        }",
                                                      "start_token": 325,
                                                      "end_token": 335,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "onClick",
                                                          "start_token": 325,
                                                          "end_token": 325,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "Block",
                                                          "label": "{\n          return goto(`${AppRoute.ALBUMS}/${albumId}`);\n        }",
                                                          "start_token": 328,
                                                          "end_token": 335,
                                                          "children": [
                                                            {
                                                              "type": "ReturnStatement",
                                                              "label": "return goto(`${AppRoute.ALBUMS}/${albumId}`);",
                                                              "start_token": 329,
                                                              "end_token": 334,
                                                              "children": [
                                                                {
                                                                  "type": "CallExpression",
                                                                  "label": "goto(`${AppRoute.ALBUMS}/${albumId}`)",
                                                                  "start_token": 330,
                                                                  "end_token": 333,
                                                                  "children": [
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "goto",
                                                                      "start_token": 330,
                                                                      "end_token": 330,
                                                                      "children": []
                                                                    },
                                                                    {
                                                                      "type": "TemplateExpression",
                                                                      "label": "`${AppRoute.ALBUMS}/${albumId}`",
                                                                      "start_token": 332,
                                                                      "end_token": 332,
                                                                      "children": [
                                                                        {
                                                                          "type": "TemplateHead",
                                                                          "label": "`${",
                                                                          "start_token": 332,
                                                                          "end_token": 332,
                                                                          "children": []
                                                                        },
                                                                        {
                                                                          "type": "TemplateSpan",
                                                                          "label": "AppRoute.ALBUMS}/${",
                                                                          "start_token": 332,
                                                                          "end_token": 332,
                                                                          "children": [
                                                                            {
                                                                              "type": "PropertyAccessExpression",
                                                                              "label": "AppRoute.ALBUMS",
                                                                              "start_token": 332,
                                                                              "end_token": 332,
                                                                              "children": [
                                                                                {
                                                                                  "type": "Identifier",
                                                                                  "label": "AppRoute",
                                                                                  "start_token": 332,
                                                                                  "end_token": 332,
                                                                                  "children": []
                                                                                },
                                                                                {
                                                                                  "type": "Identifier",
                                                                                  "label": "ALBUMS",
                                                                                  "start_token": 332,
                                                                                  "end_token": 332,
                                                                                  "children": []
                                                                                }
                                                                              ]
                                                                            },
                                                                            {
                                                                              "type": "TemplateMiddle",
                                                                              "label": "}/${",
                                                                              "start_token": 332,
                                                                              "end_token": 332,
                                                                              "children": []
                                                                            }
                                                                          ]
                                                                        },
                                                                        {
                                                                          "type": "TemplateSpan",
                                                                          "label": "albumId}`",
                                                                          "start_token": 332,
                                                                          "end_token": 332,
                                                                          "children": [
                                                                            {
                                                                              "type": "Identifier",
                                                                              "label": "albumId",
                                                                              "start_token": 332,
                                                                              "end_token": 332,
                                                                              "children": []
                                                                            },
                                                                            {
                                                                              "type": "LastTemplateToken",
                                                                              "label": "}`",
                                                                              "start_token": 332,
                                                                              "end_token": 332,
                                                                              "children": []
                                                                            }
                                                                          ]
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FirstStatement",
      "label": "export const tagAssets = async ({\n  assetIds,\n  tagIds,\n  showNotification = true,\n}: {\n  assetIds: string[];\n  tagIds: string[];\n  showNotification?: boolean;\n}) => {\n  for (const tagId of tagIds) {\n    await tagAllAssets({ id: tagId, bulkIdsDto: { ids: assetIds } });\n  }\n  if (showNotification) {\n    const $t = await getFormatter();\n    notificationController.show({\n      message: $t('tagged_assets', { values: { count: assetIds.length } }),\n      type: NotificationType.Info,\n    });\n  }\n  return assetIds;\n};",
      "start_token": 345,
      "end_token": 462,
      "children": [
        {
          "type": "ExportKeyword",
          "label": "export",
          "start_token": 345,
          "end_token": 345,
          "children": []
        },
        {
          "type": "VariableDeclarationList",
          "label": "const tagAssets = async ({\n  assetIds,\n  tagIds,\n  showNotification = true,\n}: {\n  assetIds: string[];\n  tagIds: string[];\n  showNotification?: boolean;\n}) => {\n  for (const tagId of tagIds) {\n    await tagAllAssets({ id: tagId, bulkIdsDto: { ids: assetIds } });\n  }\n  if (showNotification) {\n    const $t = await getFormatter();\n    notificationController.show({\n      message: $t('tagged_assets', { values: { count: assetIds.length } }),\n      type: NotificationType.Info,\n    });\n  }\n  return assetIds;\n}",
          "start_token": 346,
          "end_token": 461,
          "children": [
            {
              "type": "VariableDeclaration",
              "label": "tagAssets = async ({\n  assetIds,\n  tagIds,\n  showNotification = true,\n}: {\n  assetIds: string[];\n  tagIds: string[];\n  showNotification?: boolean;\n}) => {\n  for (const tagId of tagIds) {\n    await tagAllAssets({ id: tagId, bulkIdsDto: { ids: assetIds } });\n  }\n  if (showNotification) {\n    const $t = await getFormatter();\n    notificationController.show({\n      message: $t('tagged_assets', { values: { count: assetIds.length } }),\n      type: NotificationType.Info,\n    });\n  }\n  return assetIds;\n}",
              "start_token": 347,
              "end_token": 461,
              "children": [
                {
                  "type": "Identifier",
                  "label": "tagAssets",
                  "start_token": 347,
                  "end_token": 347,
                  "children": []
                },
                {
                  "type": "ArrowFunction",
                  "label": "async ({\n  assetIds,\n  tagIds,\n  showNotification = true,\n}: {\n  assetIds: string[];\n  tagIds: string[];\n  showNotification?: boolean;\n}) => {\n  for (const tagId of tagIds) {\n    await tagAllAssets({ id: tagId, bulkIdsDto: { ids: assetIds } });\n  }\n  if (showNotification) {\n    const $t = await getFormatter();\n    notificationController.show({\n      message: $t('tagged_assets', { values: { count: assetIds.length } }),\n      type: NotificationType.Info,\n    });\n  }\n  return assetIds;\n}",
                  "start_token": 349,
                  "end_token": 461,
                  "children": [
                    {
                      "type": "AsyncKeyword",
                      "label": "async",
                      "start_token": 349,
                      "end_token": 349,
                      "children": []
                    },
                    {
                      "type": "Parameter",
                      "label": "{\n  assetIds,\n  tagIds,\n  showNotification = true,\n}: {\n  assetIds: string[];\n  tagIds: string[];\n  showNotification?: boolean;\n}",
                      "start_token": 351,
                      "end_token": 380,
                      "children": [
                        {
                          "type": "ObjectBindingPattern",
                          "label": "{\n  assetIds,\n  tagIds,\n  showNotification = true,\n}",
                          "start_token": 351,
                          "end_token": 360,
                          "children": [
                            {
                              "type": "BindingElement",
                              "label": "assetIds",
                              "start_token": 352,
                              "end_token": 352,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "assetIds",
                                  "start_token": 352,
                                  "end_token": 352,
                                  "children": []
                                }
                              ]
                            },
                            {
                              "type": "BindingElement",
                              "label": "tagIds",
                              "start_token": 354,
                              "end_token": 354,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "tagIds",
                                  "start_token": 354,
                                  "end_token": 354,
                                  "children": []
                                }
                              ]
                            },
                            {
                              "type": "BindingElement",
                              "label": "showNotification = true",
                              "start_token": 356,
                              "end_token": 358,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "showNotification",
                                  "start_token": 356,
                                  "end_token": 356,
                                  "children": []
                                },
                                {
                                  "type": "TrueKeyword",
                                  "label": "true",
                                  "start_token": 358,
                                  "end_token": 358,
                                  "children": []
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "TypeLiteral",
                          "label": "{\n  assetIds: string[];\n  tagIds: string[];\n  showNotification?: boolean;\n}",
                          "start_token": 362,
                          "end_token": 380,
                          "children": [
                            {
                              "type": "PropertySignature",
                              "label": "assetIds: string[];",
                              "start_token": 363,
                              "end_token": 368,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "assetIds",
                                  "start_token": 363,
                                  "end_token": 363,
                                  "children": []
                                },
                                {
                                  "type": "ArrayType",
                                  "label": "string[]",
                                  "start_token": 365,
                                  "end_token": 367,
                                  "children": [
                                    {
                                      "type": "StringKeyword",
                                      "label": "string",
                                      "start_token": 365,
                                      "end_token": 365,
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "type": "PropertySignature",
                              "label": "tagIds: string[];",
                              "start_token": 369,
                              "end_token": 374,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "tagIds",
                                  "start_token": 369,
                                  "end_token": 369,
                                  "children": []
                                },
                                {
                                  "type": "ArrayType",
                                  "label": "string[]",
                                  "start_token": 371,
                                  "end_token": 373,
                                  "children": [
                                    {
                                      "type": "StringKeyword",
                                      "label": "string",
                                      "start_token": 371,
                                      "end_token": 371,
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "type": "PropertySignature",
                              "label": "showNotification?: boolean;",
                              "start_token": 375,
                              "end_token": 379,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "showNotification",
                                  "start_token": 375,
                                  "end_token": 375,
                                  "children": []
                                },
                                {
                                  "type": "QuestionToken",
                                  "label": "?",
                                  "start_token": 376,
                                  "end_token": 376,
                                  "children": []
                                },
                                {
                                  "type": "BooleanKeyword",
                                  "label": "boolean",
                                  "start_token": 378,
                                  "end_token": 378,
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "EqualsGreaterThanToken",
                      "label": "=>",
                      "start_token": 382,
                      "end_token": 382,
                      "children": []
                    },
                    {
                      "type": "Block",
                      "label": "{\n  for (const tagId of tagIds) {\n    await tagAllAssets({ id: tagId, bulkIdsDto: { ids: assetIds } });\n  }\n  if (showNotification) {\n    const $t = await getFormatter();\n    notificationController.show({\n      message: $t('tagged_assets', { values: { count: assetIds.length } }),\n      type: NotificationType.Info,\n    });\n  }\n  return assetIds;\n}",
                      "start_token": 383,
                      "end_token": 461,
                      "children": [
                        {
                          "type": "ForOfStatement",
                          "label": "for (const tagId of tagIds) {\n    await tagAllAssets({ id: tagId, bulkIdsDto: { ids: assetIds } });\n  }",
                          "start_token": 384,
                          "end_token": 410,
                          "children": [
                            {
                              "type": "VariableDeclarationList",
                              "label": "const tagId",
                              "start_token": 386,
                              "end_token": 387,
                              "children": [
                                {
                                  "type": "VariableDeclaration",
                                  "label": "tagId",
                                  "start_token": 387,
                                  "end_token": 387,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "tagId",
                                      "start_token": 387,
                                      "end_token": 387,
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "type": "Identifier",
                              "label": "tagIds",
                              "start_token": 389,
                              "end_token": 389,
                              "children": []
                            },
                            {
                              "type": "Block",
                              "label": "{\n    await tagAllAssets({ id: tagId, bulkIdsDto: { ids: assetIds } });\n  }",
                              "start_token": 391,
                              "end_token": 410,
                              "children": [
                                {
                                  "type": "ExpressionStatement",
                                  "label": "await tagAllAssets({ id: tagId, bulkIdsDto: { ids: assetIds } });",
                                  "start_token": 392,
                                  "end_token": 409,
                                  "children": [
                                    {
                                      "type": "AwaitExpression",
                                      "label": "await tagAllAssets({ id: tagId, bulkIdsDto: { ids: assetIds } })",
                                      "start_token": 392,
                                      "end_token": 408,
                                      "children": [
                                        {
                                          "type": "CallExpression",
                                          "label": "tagAllAssets({ id: tagId, bulkIdsDto: { ids: assetIds } })",
                                          "start_token": 393,
                                          "end_token": 408,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "tagAllAssets",
                                              "start_token": 393,
                                              "end_token": 393,
                                              "children": []
                                            },
                                            {
                                              "type": "ObjectLiteralExpression",
                                              "label": "{ id: tagId, bulkIdsDto: { ids: assetIds } }",
                                              "start_token": 395,
                                              "end_token": 407,
                                              "children": [
                                                {
                                                  "type": "PropertyAssignment",
                                                  "label": "id: tagId",
                                                  "start_token": 396,
                                                  "end_token": 398,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "id",
                                                      "start_token": 396,
                                                      "end_token": 396,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "tagId",
                                                      "start_token": 398,
                                                      "end_token": 398,
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "PropertyAssignment",
                                                  "label": "bulkIdsDto: { ids: assetIds }",
                                                  "start_token": 400,
                                                  "end_token": 406,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "bulkIdsDto",
                                                      "start_token": 400,
                                                      "end_token": 400,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "ObjectLiteralExpression",
                                                      "label": "{ ids: assetIds }",
                                                      "start_token": 402,
                                                      "end_token": 406,
                                                      "children": [
                                                        {
                                                          "type": "PropertyAssignment",
                                                          "label": "ids: assetIds",
                                                          "start_token": 403,
                                                          "end_token": 405,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "ids",
                                                              "start_token": 403,
                                                              "end_token": 403,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "Identifier",
                                                              "label": "assetIds",
                                                              "start_token": 405,
                                                              "end_token": 405,
                                                              "children": []
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "IfStatement",
                          "label": "if (showNotification) {\n    const $t = await getFormatter();\n    notificationController.show({\n      message: $t('tagged_assets', { values: { count: assetIds.length } }),\n      type: NotificationType.Info,\n    });\n  }",
                          "start_token": 411,
                          "end_token": 457,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "showNotification",
                              "start_token": 413,
                              "end_token": 413,
                              "children": []
                            },
                            {
                              "type": "Block",
                              "label": "{\n    const $t = await getFormatter();\n    notificationController.show({\n      message: $t('tagged_assets', { values: { count: assetIds.length } }),\n      type: NotificationType.Info,\n    });\n  }",
                              "start_token": 415,
                              "end_token": 457,
                              "children": [
                                {
                                  "type": "FirstStatement",
                                  "label": "const $t = await getFormatter();",
                                  "start_token": 416,
                                  "end_token": 423,
                                  "children": [
                                    {
                                      "type": "VariableDeclarationList",
                                      "label": "const $t = await getFormatter()",
                                      "start_token": 416,
                                      "end_token": 422,
                                      "children": [
                                        {
                                          "type": "VariableDeclaration",
                                          "label": "$t = await getFormatter()",
                                          "start_token": 417,
                                          "end_token": 422,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "$t",
                                              "start_token": 417,
                                              "end_token": 417,
                                              "children": []
                                            },
                                            {
                                              "type": "AwaitExpression",
                                              "label": "await getFormatter()",
                                              "start_token": 419,
                                              "end_token": 422,
                                              "children": [
                                                {
                                                  "type": "CallExpression",
                                                  "label": "getFormatter()",
                                                  "start_token": 420,
                                                  "end_token": 422,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "getFormatter",
                                                      "start_token": 420,
                                                      "end_token": 420,
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "ExpressionStatement",
                                  "label": "notificationController.show({\n      message: $t('tagged_assets', { values: { count: assetIds.length } }),\n      type: NotificationType.Info,\n    });",
                                  "start_token": 424,
                                  "end_token": 456,
                                  "children": [
                                    {
                                      "type": "CallExpression",
                                      "label": "notificationController.show({\n      message: $t('tagged_assets', { values: { count: assetIds.length } }),\n      type: NotificationType.Info,\n    })",
                                      "start_token": 424,
                                      "end_token": 455,
                                      "children": [
                                        {
                                          "type": "PropertyAccessExpression",
                                          "label": "notificationController.show",
                                          "start_token": 424,
                                          "end_token": 426,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "notificationController",
                                              "start_token": 424,
                                              "end_token": 424,
                                              "children": []
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "show",
                                              "start_token": 426,
                                              "end_token": 426,
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "type": "ObjectLiteralExpression",
                                          "label": "{\n      message: $t('tagged_assets', { values: { count: assetIds.length } }),\n      type: NotificationType.Info,\n    }",
                                          "start_token": 428,
                                          "end_token": 454,
                                          "children": [
                                            {
                                              "type": "PropertyAssignment",
                                              "label": "message: $t('tagged_assets', { values: { count: assetIds.length } })",
                                              "start_token": 429,
                                              "end_token": 446,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "message",
                                                  "start_token": 429,
                                                  "end_token": 429,
                                                  "children": []
                                                },
                                                {
                                                  "type": "CallExpression",
                                                  "label": "$t('tagged_assets', { values: { count: assetIds.length } })",
                                                  "start_token": 431,
                                                  "end_token": 446,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "$t",
                                                      "start_token": 431,
                                                      "end_token": 431,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "StringLiteral",
                                                      "label": "'tagged_assets'",
                                                      "start_token": 433,
                                                      "end_token": 433,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "ObjectLiteralExpression",
                                                      "label": "{ values: { count: assetIds.length } }",
                                                      "start_token": 435,
                                                      "end_token": 445,
                                                      "children": [
                                                        {
                                                          "type": "PropertyAssignment",
                                                          "label": "values: { count: assetIds.length }",
                                                          "start_token": 436,
                                                          "end_token": 444,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "values",
                                                              "start_token": 436,
                                                              "end_token": 436,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "ObjectLiteralExpression",
                                                              "label": "{ count: assetIds.length }",
                                                              "start_token": 438,
                                                              "end_token": 444,
                                                              "children": [
                                                                {
                                                                  "type": "PropertyAssignment",
                                                                  "label": "count: assetIds.length",
                                                                  "start_token": 439,
                                                                  "end_token": 443,
                                                                  "children": [
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "count",
                                                                      "start_token": 439,
                                                                      "end_token": 439,
                                                                      "children": []
                                                                    },
                                                                    {
                                                                      "type": "PropertyAccessExpression",
                                                                      "label": "assetIds.length",
                                                                      "start_token": 441,
                                                                      "end_token": 443,
                                                                      "children": [
                                                                        {
                                                                          "type": "Identifier",
                                                                          "label": "assetIds",
                                                                          "start_token": 441,
                                                                          "end_token": 441,
                                                                          "children": []
                                                                        },
                                                                        {
                                                                          "type": "Identifier",
                                                                          "label": "length",
                                                                          "start_token": 443,
                                                                          "end_token": 443,
                                                                          "children": []
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "type": "PropertyAssignment",
                                              "label": "type: NotificationType.Info",
                                              "start_token": 448,
                                              "end_token": 452,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "type",
                                                  "start_token": 448,
                                                  "end_token": 448,
                                                  "children": []
                                                },
                                                {
                                                  "type": "PropertyAccessExpression",
                                                  "label": "NotificationType.Info",
                                                  "start_token": 450,
                                                  "end_token": 452,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "NotificationType",
                                                      "start_token": 450,
                                                      "end_token": 450,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "Info",
                                                      "start_token": 452,
                                                      "end_token": 452,
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "ReturnStatement",
                          "label": "return assetIds;",
                          "start_token": 458,
                          "end_token": 460,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "assetIds",
                              "start_token": 459,
                              "end_token": 459,
                              "children": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FirstStatement",
      "label": "export const removeTag = async ({\n  assetIds,\n  tagIds,\n  showNotification = true,\n}: {\n  assetIds: string[];\n  tagIds: string[];\n  showNotification?: boolean;\n}) => {\n  for (const tagId of tagIds) {\n    await untagAssets({ id: tagId, bulkIdsDto: { ids: assetIds } });\n  }\n  if (showNotification) {\n    const $t = await getFormatter();\n    notificationController.show({\n      message: $t('removed_tagged_assets', { values: { count: assetIds.length } }),\n      type: NotificationType.Info,\n    });\n  }\n  return assetIds;\n};",
      "start_token": 463,
      "end_token": 580,
      "children": [
        {
          "type": "ExportKeyword",
          "label": "export",
          "start_token": 463,
          "end_token": 463,
          "children": []
        },
        {
          "type": "VariableDeclarationList",
          "label": "const removeTag = async ({\n  assetIds,\n  tagIds,\n  showNotification = true,\n}: {\n  assetIds: string[];\n  tagIds: string[];\n  showNotification?: boolean;\n}) => {\n  for (const tagId of tagIds) {\n    await untagAssets({ id: tagId, bulkIdsDto: { ids: assetIds } });\n  }\n  if (showNotification) {\n    const $t = await getFormatter();\n    notificationController.show({\n      message: $t('removed_tagged_assets', { values: { count: assetIds.length } }),\n      type: NotificationType.Info,\n    });\n  }\n  return assetIds;\n}",
          "start_token": 464,
          "end_token": 579,
          "children": [
            {
              "type": "VariableDeclaration",
              "label": "removeTag = async ({\n  assetIds,\n  tagIds,\n  showNotification = true,\n}: {\n  assetIds: string[];\n  tagIds: string[];\n  showNotification?: boolean;\n}) => {\n  for (const tagId of tagIds) {\n    await untagAssets({ id: tagId, bulkIdsDto: { ids: assetIds } });\n  }\n  if (showNotification) {\n    const $t = await getFormatter();\n    notificationController.show({\n      message: $t('removed_tagged_assets', { values: { count: assetIds.length } }),\n      type: NotificationType.Info,\n    });\n  }\n  return assetIds;\n}",
              "start_token": 465,
              "end_token": 579,
              "children": [
                {
                  "type": "Identifier",
                  "label": "removeTag",
                  "start_token": 465,
                  "end_token": 465,
                  "children": []
                },
                {
                  "type": "ArrowFunction",
                  "label": "async ({\n  assetIds,\n  tagIds,\n  showNotification = true,\n}: {\n  assetIds: string[];\n  tagIds: string[];\n  showNotification?: boolean;\n}) => {\n  for (const tagId of tagIds) {\n    await untagAssets({ id: tagId, bulkIdsDto: { ids: assetIds } });\n  }\n  if (showNotification) {\n    const $t = await getFormatter();\n    notificationController.show({\n      message: $t('removed_tagged_assets', { values: { count: assetIds.length } }),\n      type: NotificationType.Info,\n    });\n  }\n  return assetIds;\n}",
                  "start_token": 467,
                  "end_token": 579,
                  "children": [
                    {
                      "type": "AsyncKeyword",
                      "label": "async",
                      "start_token": 467,
                      "end_token": 467,
                      "children": []
                    },
                    {
                      "type": "Parameter",
                      "label": "{\n  assetIds,\n  tagIds,\n  showNotification = true,\n}: {\n  assetIds: string[];\n  tagIds: string[];\n  showNotification?: boolean;\n}",
                      "start_token": 469,
                      "end_token": 498,
                      "children": [
                        {
                          "type": "ObjectBindingPattern",
                          "label": "{\n  assetIds,\n  tagIds,\n  showNotification = true,\n}",
                          "start_token": 469,
                          "end_token": 478,
                          "children": [
                            {
                              "type": "BindingElement",
                              "label": "assetIds",
                              "start_token": 470,
                              "end_token": 470,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "assetIds",
                                  "start_token": 470,
                                  "end_token": 470,
                                  "children": []
                                }
                              ]
                            },
                            {
                              "type": "BindingElement",
                              "label": "tagIds",
                              "start_token": 472,
                              "end_token": 472,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "tagIds",
                                  "start_token": 472,
                                  "end_token": 472,
                                  "children": []
                                }
                              ]
                            },
                            {
                              "type": "BindingElement",
                              "label": "showNotification = true",
                              "start_token": 474,
                              "end_token": 476,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "showNotification",
                                  "start_token": 474,
                                  "end_token": 474,
                                  "children": []
                                },
                                {
                                  "type": "TrueKeyword",
                                  "label": "true",
                                  "start_token": 476,
                                  "end_token": 476,
                                  "children": []
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "TypeLiteral",
                          "label": "{\n  assetIds: string[];\n  tagIds: string[];\n  showNotification?: boolean;\n}",
                          "start_token": 480,
                          "end_token": 498,
                          "children": [
                            {
                              "type": "PropertySignature",
                              "label": "assetIds: string[];",
                              "start_token": 481,
                              "end_token": 486,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "assetIds",
                                  "start_token": 481,
                                  "end_token": 481,
                                  "children": []
                                },
                                {
                                  "type": "ArrayType",
                                  "label": "string[]",
                                  "start_token": 483,
                                  "end_token": 485,
                                  "children": [
                                    {
                                      "type": "StringKeyword",
                                      "label": "string",
                                      "start_token": 483,
                                      "end_token": 483,
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "type": "PropertySignature",
                              "label": "tagIds: string[];",
                              "start_token": 487,
                              "end_token": 492,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "tagIds",
                                  "start_token": 487,
                                  "end_token": 487,
                                  "children": []
                                },
                                {
                                  "type": "ArrayType",
                                  "label": "string[]",
                                  "start_token": 489,
                                  "end_token": 491,
                                  "children": [
                                    {
                                      "type": "StringKeyword",
                                      "label": "string",
                                      "start_token": 489,
                                      "end_token": 489,
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "type": "PropertySignature",
                              "label": "showNotification?: boolean;",
                              "start_token": 493,
                              "end_token": 497,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "showNotification",
                                  "start_token": 493,
                                  "end_token": 493,
                                  "children": []
                                },
                                {
                                  "type": "QuestionToken",
                                  "label": "?",
                                  "start_token": 494,
                                  "end_token": 494,
                                  "children": []
                                },
                                {
                                  "type": "BooleanKeyword",
                                  "label": "boolean",
                                  "start_token": 496,
                                  "end_token": 496,
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "EqualsGreaterThanToken",
                      "label": "=>",
                      "start_token": 500,
                      "end_token": 500,
                      "children": []
                    },
                    {
                      "type": "Block",
                      "label": "{\n  for (const tagId of tagIds) {\n    await untagAssets({ id: tagId, bulkIdsDto: { ids: assetIds } });\n  }\n  if (showNotification) {\n    const $t = await getFormatter();\n    notificationController.show({\n      message: $t('removed_tagged_assets', { values: { count: assetIds.length } }),\n      type: NotificationType.Info,\n    });\n  }\n  return assetIds;\n}",
                      "start_token": 501,
                      "end_token": 579,
                      "children": [
                        {
                          "type": "ForOfStatement",
                          "label": "for (const tagId of tagIds) {\n    await untagAssets({ id: tagId, bulkIdsDto: { ids: assetIds } });\n  }",
                          "start_token": 502,
                          "end_token": 528,
                          "children": [
                            {
                              "type": "VariableDeclarationList",
                              "label": "const tagId",
                              "start_token": 504,
                              "end_token": 505,
                              "children": [
                                {
                                  "type": "VariableDeclaration",
                                  "label": "tagId",
                                  "start_token": 505,
                                  "end_token": 505,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "tagId",
                                      "start_token": 505,
                                      "end_token": 505,
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "type": "Identifier",
                              "label": "tagIds",
                              "start_token": 507,
                              "end_token": 507,
                              "children": []
                            },
                            {
                              "type": "Block",
                              "label": "{\n    await untagAssets({ id: tagId, bulkIdsDto: { ids: assetIds } });\n  }",
                              "start_token": 509,
                              "end_token": 528,
                              "children": [
                                {
                                  "type": "ExpressionStatement",
                                  "label": "await untagAssets({ id: tagId, bulkIdsDto: { ids: assetIds } });",
                                  "start_token": 510,
                                  "end_token": 527,
                                  "children": [
                                    {
                                      "type": "AwaitExpression",
                                      "label": "await untagAssets({ id: tagId, bulkIdsDto: { ids: assetIds } })",
                                      "start_token": 510,
                                      "end_token": 526,
                                      "children": [
                                        {
                                          "type": "CallExpression",
                                          "label": "untagAssets({ id: tagId, bulkIdsDto: { ids: assetIds } })",
                                          "start_token": 511,
                                          "end_token": 526,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "untagAssets",
                                              "start_token": 511,
                                              "end_token": 511,
                                              "children": []
                                            },
                                            {
                                              "type": "ObjectLiteralExpression",
                                              "label": "{ id: tagId, bulkIdsDto: { ids: assetIds } }",
                                              "start_token": 513,
                                              "end_token": 525,
                                              "children": [
                                                {
                                                  "type": "PropertyAssignment",
                                                  "label": "id: tagId",
                                                  "start_token": 514,
                                                  "end_token": 516,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "id",
                                                      "start_token": 514,
                                                      "end_token": 514,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "tagId",
                                                      "start_token": 516,
                                                      "end_token": 516,
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "PropertyAssignment",
                                                  "label": "bulkIdsDto: { ids: assetIds }",
                                                  "start_token": 518,
                                                  "end_token": 524,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "bulkIdsDto",
                                                      "start_token": 518,
                                                      "end_token": 518,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "ObjectLiteralExpression",
                                                      "label": "{ ids: assetIds }",
                                                      "start_token": 520,
                                                      "end_token": 524,
                                                      "children": [
                                                        {
                                                          "type": "PropertyAssignment",
                                                          "label": "ids: assetIds",
                                                          "start_token": 521,
                                                          "end_token": 523,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "ids",
                                                              "start_token": 521,
                                                              "end_token": 521,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "Identifier",
                                                              "label": "assetIds",
                                                              "start_token": 523,
                                                              "end_token": 523,
                                                              "children": []
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "IfStatement",
                          "label": "if (showNotification) {\n    const $t = await getFormatter();\n    notificationController.show({\n      message: $t('removed_tagged_assets', { values: { count: assetIds.length } }),\n      type: NotificationType.Info,\n    });\n  }",
                          "start_token": 529,
                          "end_token": 575,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "showNotification",
                              "start_token": 531,
                              "end_token": 531,
                              "children": []
                            },
                            {
                              "type": "Block",
                              "label": "{\n    const $t = await getFormatter();\n    notificationController.show({\n      message: $t('removed_tagged_assets', { values: { count: assetIds.length } }),\n      type: NotificationType.Info,\n    });\n  }",
                              "start_token": 533,
                              "end_token": 575,
                              "children": [
                                {
                                  "type": "FirstStatement",
                                  "label": "const $t = await getFormatter();",
                                  "start_token": 534,
                                  "end_token": 541,
                                  "children": [
                                    {
                                      "type": "VariableDeclarationList",
                                      "label": "const $t = await getFormatter()",
                                      "start_token": 534,
                                      "end_token": 540,
                                      "children": [
                                        {
                                          "type": "VariableDeclaration",
                                          "label": "$t = await getFormatter()",
                                          "start_token": 535,
                                          "end_token": 540,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "$t",
                                              "start_token": 535,
                                              "end_token": 535,
                                              "children": []
                                            },
                                            {
                                              "type": "AwaitExpression",
                                              "label": "await getFormatter()",
                                              "start_token": 537,
                                              "end_token": 540,
                                              "children": [
                                                {
                                                  "type": "CallExpression",
                                                  "label": "getFormatter()",
                                                  "start_token": 538,
                                                  "end_token": 540,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "getFormatter",
                                                      "start_token": 538,
                                                      "end_token": 538,
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "ExpressionStatement",
                                  "label": "notificationController.show({\n      message: $t('removed_tagged_assets', { values: { count: assetIds.length } }),\n      type: NotificationType.Info,\n    });",
                                  "start_token": 542,
                                  "end_token": 574,
                                  "children": [
                                    {
                                      "type": "CallExpression",
                                      "label": "notificationController.show({\n      message: $t('removed_tagged_assets', { values: { count: assetIds.length } }),\n      type: NotificationType.Info,\n    })",
                                      "start_token": 542,
                                      "end_token": 573,
                                      "children": [
                                        {
                                          "type": "PropertyAccessExpression",
                                          "label": "notificationController.show",
                                          "start_token": 542,
                                          "end_token": 544,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "notificationController",
                                              "start_token": 542,
                                              "end_token": 542,
                                              "children": []
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "show",
                                              "start_token": 544,
                                              "end_token": 544,
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "type": "ObjectLiteralExpression",
                                          "label": "{\n      message: $t('removed_tagged_assets', { values: { count: assetIds.length } }),\n      type: NotificationType.Info,\n    }",
                                          "start_token": 546,
                                          "end_token": 572,
                                          "children": [
                                            {
                                              "type": "PropertyAssignment",
                                              "label": "message: $t('removed_tagged_assets', { values: { count: assetIds.length } })",
                                              "start_token": 547,
                                              "end_token": 564,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "message",
                                                  "start_token": 547,
                                                  "end_token": 547,
                                                  "children": []
                                                },
                                                {
                                                  "type": "CallExpression",
                                                  "label": "$t('removed_tagged_assets', { values: { count: assetIds.length } })",
                                                  "start_token": 549,
                                                  "end_token": 564,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "$t",
                                                      "start_token": 549,
                                                      "end_token": 549,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "StringLiteral",
                                                      "label": "'removed_tagged_assets'",
                                                      "start_token": 551,
                                                      "end_token": 551,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "ObjectLiteralExpression",
                                                      "label": "{ values: { count: assetIds.length } }",
                                                      "start_token": 553,
                                                      "end_token": 563,
                                                      "children": [
                                                        {
                                                          "type": "PropertyAssignment",
                                                          "label": "values: { count: assetIds.length }",
                                                          "start_token": 554,
                                                          "end_token": 562,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "values",
                                                              "start_token": 554,
                                                              "end_token": 554,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "ObjectLiteralExpression",
                                                              "label": "{ count: assetIds.length }",
                                                              "start_token": 556,
                                                              "end_token": 562,
                                                              "children": [
                                                                {
                                                                  "type": "PropertyAssignment",
                                                                  "label": "count: assetIds.length",
                                                                  "start_token": 557,
                                                                  "end_token": 561,
                                                                  "children": [
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "count",
                                                                      "start_token": 557,
                                                                      "end_token": 557,
                                                                      "children": []
                                                                    },
                                                                    {
                                                                      "type": "PropertyAccessExpression",
                                                                      "label": "assetIds.length",
                                                                      "start_token": 559,
                                                                      "end_token": 561,
                                                                      "children": [
                                                                        {
                                                                          "type": "Identifier",
                                                                          "label": "assetIds",
                                                                          "start_token": 559,
                                                                          "end_token": 559,
                                                                          "children": []
                                                                        },
                                                                        {
                                                                          "type": "Identifier",
                                                                          "label": "length",
                                                                          "start_token": 561,
                                                                          "end_token": 561,
                                                                          "children": []
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "type": "PropertyAssignment",
                                              "label": "type: NotificationType.Info",
                                              "start_token": 566,
                                              "end_token": 570,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "type",
                                                  "start_token": 566,
                                                  "end_token": 566,
                                                  "children": []
                                                },
                                                {
                                                  "type": "PropertyAccessExpression",
                                                  "label": "NotificationType.Info",
                                                  "start_token": 568,
                                                  "end_token": 570,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "NotificationType",
                                                      "start_token": 568,
                                                      "end_token": 568,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "Info",
                                                      "start_token": 570,
                                                      "end_token": 570,
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "ReturnStatement",
                          "label": "return assetIds;",
                          "start_token": 576,
                          "end_token": 578,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "assetIds",
                              "start_token": 577,
                              "end_token": 577,
                              "children": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FirstStatement",
      "label": "export const addAssetsToNewAlbum = async (albumName: string, assetIds: string[]) => {\n  const album = await createAlbum(albumName, assetIds);\n  if (!album) {\n    return;\n  }\n  const $t = get(t);\n  notificationController.show({\n    type: NotificationType.Info,\n    timeout: 5000,\n    component: {\n      type: FormatBoldMessage,\n      props: {\n        key: 'assets_added_to_name_count',\n        values: { count: assetIds.length, name: albumName, hasName: !!albumName },\n      },\n    },\n    button: {\n      text: $t('view_album'),\n      onClick() {\n        return goto(`${AppRoute.ALBUMS}/${album.id}`);\n      },\n    },\n  });\n  return album;\n};",
      "start_token": 581,
      "end_token": 711,
      "children": [
        {
          "type": "ExportKeyword",
          "label": "export",
          "start_token": 581,
          "end_token": 581,
          "children": []
        },
        {
          "type": "VariableDeclarationList",
          "label": "const addAssetsToNewAlbum = async (albumName: string, assetIds: string[]) => {\n  const album = await createAlbum(albumName, assetIds);\n  if (!album) {\n    return;\n  }\n  const $t = get(t);\n  notificationController.show({\n    type: NotificationType.Info,\n    timeout: 5000,\n    component: {\n      type: FormatBoldMessage,\n      props: {\n        key: 'assets_added_to_name_count',\n        values: { count: assetIds.length, name: albumName, hasName: !!albumName },\n      },\n    },\n    button: {\n      text: $t('view_album'),\n      onClick() {\n        return goto(`${AppRoute.ALBUMS}/${album.id}`);\n      },\n    },\n  });\n  return album;\n}",
          "start_token": 582,
          "end_token": 710,
          "children": [
            {
              "type": "VariableDeclaration",
              "label": "addAssetsToNewAlbum = async (albumName: string, assetIds: string[]) => {\n  const album = await createAlbum(albumName, assetIds);\n  if (!album) {\n    return;\n  }\n  const $t = get(t);\n  notificationController.show({\n    type: NotificationType.Info,\n    timeout: 5000,\n    component: {\n      type: FormatBoldMessage,\n      props: {\n        key: 'assets_added_to_name_count',\n        values: { count: assetIds.length, name: albumName, hasName: !!albumName },\n      },\n    },\n    button: {\n      text: $t('view_album'),\n      onClick() {\n        return goto(`${AppRoute.ALBUMS}/${album.id}`);\n      },\n    },\n  });\n  return album;\n}",
              "start_token": 583,
              "end_token": 710,
              "children": [
                {
                  "type": "Identifier",
                  "label": "addAssetsToNewAlbum",
                  "start_token": 583,
                  "end_token": 583,
                  "children": []
                },
                {
                  "type": "ArrowFunction",
                  "label": "async (albumName: string, assetIds: string[]) => {\n  const album = await createAlbum(albumName, assetIds);\n  if (!album) {\n    return;\n  }\n  const $t = get(t);\n  notificationController.show({\n    type: NotificationType.Info,\n    timeout: 5000,\n    component: {\n      type: FormatBoldMessage,\n      props: {\n        key: 'assets_added_to_name_count',\n        values: { count: assetIds.length, name: albumName, hasName: !!albumName },\n      },\n    },\n    button: {\n      text: $t('view_album'),\n      onClick() {\n        return goto(`${AppRoute.ALBUMS}/${album.id}`);\n      },\n    },\n  });\n  return album;\n}",
                  "start_token": 585,
                  "end_token": 710,
                  "children": [
                    {
                      "type": "AsyncKeyword",
                      "label": "async",
                      "start_token": 585,
                      "end_token": 585,
                      "children": []
                    },
                    {
                      "type": "Parameter",
                      "label": "albumName: string",
                      "start_token": 587,
                      "end_token": 589,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "albumName",
                          "start_token": 587,
                          "end_token": 587,
                          "children": []
                        },
                        {
                          "type": "StringKeyword",
                          "label": "string",
                          "start_token": 589,
                          "end_token": 589,
                          "children": []
                        }
                      ]
                    },
                    {
                      "type": "Parameter",
                      "label": "assetIds: string[]",
                      "start_token": 591,
                      "end_token": 595,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "assetIds",
                          "start_token": 591,
                          "end_token": 591,
                          "children": []
                        },
                        {
                          "type": "ArrayType",
                          "label": "string[]",
                          "start_token": 593,
                          "end_token": 595,
                          "children": [
                            {
                              "type": "StringKeyword",
                              "label": "string",
                              "start_token": 593,
                              "end_token": 593,
                              "children": []
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "EqualsGreaterThanToken",
                      "label": "=>",
                      "start_token": 597,
                      "end_token": 597,
                      "children": []
                    },
                    {
                      "type": "Block",
                      "label": "{\n  const album = await createAlbum(albumName, assetIds);\n  if (!album) {\n    return;\n  }\n  const $t = get(t);\n  notificationController.show({\n    type: NotificationType.Info,\n    timeout: 5000,\n    component: {\n      type: FormatBoldMessage,\n      props: {\n        key: 'assets_added_to_name_count',\n        values: { count: assetIds.length, name: albumName, hasName: !!albumName },\n      },\n    },\n    button: {\n      text: $t('view_album'),\n      onClick() {\n        return goto(`${AppRoute.ALBUMS}/${album.id}`);\n      },\n    },\n  });\n  return album;\n}",
                      "start_token": 598,
                      "end_token": 710,
                      "children": [
                        {
                          "type": "FirstStatement",
                          "label": "const album = await createAlbum(albumName, assetIds);",
                          "start_token": 599,
                          "end_token": 609,
                          "children": [
                            {
                              "type": "VariableDeclarationList",
                              "label": "const album = await createAlbum(albumName, assetIds)",
                              "start_token": 599,
                              "end_token": 608,
                              "children": [
                                {
                                  "type": "VariableDeclaration",
                                  "label": "album = await createAlbum(albumName, assetIds)",
                                  "start_token": 600,
                                  "end_token": 608,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "album",
                                      "start_token": 600,
                                      "end_token": 600,
                                      "children": []
                                    },
                                    {
                                      "type": "AwaitExpression",
                                      "label": "await createAlbum(albumName, assetIds)",
                                      "start_token": 602,
                                      "end_token": 608,
                                      "children": [
                                        {
                                          "type": "CallExpression",
                                          "label": "createAlbum(albumName, assetIds)",
                                          "start_token": 603,
                                          "end_token": 608,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "createAlbum",
                                              "start_token": 603,
                                              "end_token": 603,
                                              "children": []
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "albumName",
                                              "start_token": 605,
                                              "end_token": 605,
                                              "children": []
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "assetIds",
                                              "start_token": 607,
                                              "end_token": 607,
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "IfStatement",
                          "label": "if (!album) {\n    return;\n  }",
                          "start_token": 610,
                          "end_token": 618,
                          "children": [
                            {
                              "type": "PrefixUnaryExpression",
                              "label": "!album",
                              "start_token": 612,
                              "end_token": 613,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "album",
                                  "start_token": 613,
                                  "end_token": 613,
                                  "children": []
                                }
                              ]
                            },
                            {
                              "type": "Block",
                              "label": "{\n    return;\n  }",
                              "start_token": 615,
                              "end_token": 618,
                              "children": [
                                {
                                  "type": "ReturnStatement",
                                  "label": "return;",
                                  "start_token": 616,
                                  "end_token": 617,
                                  "children": []
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "FirstStatement",
                          "label": "const $t = get(t);",
                          "start_token": 619,
                          "end_token": 626,
                          "children": [
                            {
                              "type": "VariableDeclarationList",
                              "label": "const $t = get(t)",
                              "start_token": 619,
                              "end_token": 625,
                              "children": [
                                {
                                  "type": "VariableDeclaration",
                                  "label": "$t = get(t)",
                                  "start_token": 620,
                                  "end_token": 625,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "$t",
                                      "start_token": 620,
                                      "end_token": 620,
                                      "children": []
                                    },
                                    {
                                      "type": "CallExpression",
                                      "label": "get(t)",
                                      "start_token": 622,
                                      "end_token": 625,
                                      "children": [
                                        {
                                          "type": "Identifier",
                                          "label": "get",
                                          "start_token": 622,
                                          "end_token": 622,
                                          "children": []
                                        },
                                        {
                                          "type": "Identifier",
                                          "label": "t",
                                          "start_token": 624,
                                          "end_token": 624,
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "ExpressionStatement",
                          "label": "notificationController.show({\n    type: NotificationType.Info,\n    timeout: 5000,\n    component: {\n      type: FormatBoldMessage,\n      props: {\n        key: 'assets_added_to_name_count',\n        values: { count: assetIds.length, name: albumName, hasName: !!albumName },\n      },\n    },\n    button: {\n      text: $t('view_album'),\n      onClick() {\n        return goto(`${AppRoute.ALBUMS}/${album.id}`);\n      },\n    },\n  });",
                          "start_token": 627,
                          "end_token": 706,
                          "children": [
                            {
                              "type": "CallExpression",
                              "label": "notificationController.show({\n    type: NotificationType.Info,\n    timeout: 5000,\n    component: {\n      type: FormatBoldMessage,\n      props: {\n        key: 'assets_added_to_name_count',\n        values: { count: assetIds.length, name: albumName, hasName: !!albumName },\n      },\n    },\n    button: {\n      text: $t('view_album'),\n      onClick() {\n        return goto(`${AppRoute.ALBUMS}/${album.id}`);\n      },\n    },\n  })",
                              "start_token": 627,
                              "end_token": 705,
                              "children": [
                                {
                                  "type": "PropertyAccessExpression",
                                  "label": "notificationController.show",
                                  "start_token": 627,
                                  "end_token": 629,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "notificationController",
                                      "start_token": 627,
                                      "end_token": 627,
                                      "children": []
                                    },
                                    {
                                      "type": "Identifier",
                                      "label": "show",
                                      "start_token": 629,
                                      "end_token": 629,
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "type": "ObjectLiteralExpression",
                                  "label": "{\n    type: NotificationType.Info,\n    timeout: 5000,\n    component: {\n      type: FormatBoldMessage,\n      props: {\n        key: 'assets_added_to_name_count',\n        values: { count: assetIds.length, name: albumName, hasName: !!albumName },\n      },\n    },\n    button: {\n      text: $t('view_album'),\n      onClick() {\n        return goto(`${AppRoute.ALBUMS}/${album.id}`);\n      },\n    },\n  }",
                                  "start_token": 631,
                                  "end_token": 704,
                                  "children": [
                                    {
                                      "type": "PropertyAssignment",
                                      "label": "type: NotificationType.Info",
                                      "start_token": 632,
                                      "end_token": 636,
                                      "children": [
                                        {
                                          "type": "Identifier",
                                          "label": "type",
                                          "start_token": 632,
                                          "end_token": 632,
                                          "children": []
                                        },
                                        {
                                          "type": "PropertyAccessExpression",
                                          "label": "NotificationType.Info",
                                          "start_token": 634,
                                          "end_token": 636,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "NotificationType",
                                              "start_token": 634,
                                              "end_token": 634,
                                              "children": []
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "Info",
                                              "start_token": 636,
                                              "end_token": 636,
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "type": "PropertyAssignment",
                                      "label": "timeout: 5000",
                                      "start_token": 638,
                                      "end_token": 640,
                                      "children": [
                                        {
                                          "type": "Identifier",
                                          "label": "timeout",
                                          "start_token": 638,
                                          "end_token": 638,
                                          "children": []
                                        },
                                        {
                                          "type": "FirstLiteralToken",
                                          "label": "5000",
                                          "start_token": 640,
                                          "end_token": 640,
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "type": "PropertyAssignment",
                                      "label": "component: {\n      type: FormatBoldMessage,\n      props: {\n        key: 'assets_added_to_name_count',\n        values: { count: assetIds.length, name: albumName, hasName: !!albumName },\n      },\n    }",
                                      "start_token": 642,
                                      "end_token": 678,
                                      "children": [
                                        {
                                          "type": "Identifier",
                                          "label": "component",
                                          "start_token": 642,
                                          "end_token": 642,
                                          "children": []
                                        },
                                        {
                                          "type": "ObjectLiteralExpression",
                                          "label": "{\n      type: FormatBoldMessage,\n      props: {\n        key: 'assets_added_to_name_count',\n        values: { count: assetIds.length, name: albumName, hasName: !!albumName },\n      },\n    }",
                                          "start_token": 644,
                                          "end_token": 678,
                                          "children": [
                                            {
                                              "type": "PropertyAssignment",
                                              "label": "type: FormatBoldMessage",
                                              "start_token": 645,
                                              "end_token": 647,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "type",
                                                  "start_token": 645,
                                                  "end_token": 645,
                                                  "children": []
                                                },
                                                {
                                                  "type": "Identifier",
                                                  "label": "FormatBoldMessage",
                                                  "start_token": 647,
                                                  "end_token": 647,
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "type": "PropertyAssignment",
                                              "label": "props: {\n        key: 'assets_added_to_name_count',\n        values: { count: assetIds.length, name: albumName, hasName: !!albumName },\n      }",
                                              "start_token": 649,
                                              "end_token": 676,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "props",
                                                  "start_token": 649,
                                                  "end_token": 649,
                                                  "children": []
                                                },
                                                {
                                                  "type": "ObjectLiteralExpression",
                                                  "label": "{\n        key: 'assets_added_to_name_count',\n        values: { count: assetIds.length, name: albumName, hasName: !!albumName },\n      }",
                                                  "start_token": 651,
                                                  "end_token": 676,
                                                  "children": [
                                                    {
                                                      "type": "PropertyAssignment",
                                                      "label": "key: 'assets_added_to_name_count'",
                                                      "start_token": 652,
                                                      "end_token": 654,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "key",
                                                          "start_token": 652,
                                                          "end_token": 652,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "StringLiteral",
                                                          "label": "'assets_added_to_name_count'",
                                                          "start_token": 654,
                                                          "end_token": 654,
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "PropertyAssignment",
                                                      "label": "values: { count: assetIds.length, name: albumName, hasName: !!albumName }",
                                                      "start_token": 656,
                                                      "end_token": 674,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "values",
                                                          "start_token": 656,
                                                          "end_token": 656,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "ObjectLiteralExpression",
                                                          "label": "{ count: assetIds.length, name: albumName, hasName: !!albumName }",
                                                          "start_token": 658,
                                                          "end_token": 674,
                                                          "children": [
                                                            {
                                                              "type": "PropertyAssignment",
                                                              "label": "count: assetIds.length",
                                                              "start_token": 659,
                                                              "end_token": 663,
                                                              "children": [
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "count",
                                                                  "start_token": 659,
                                                                  "end_token": 659,
                                                                  "children": []
                                                                },
                                                                {
                                                                  "type": "PropertyAccessExpression",
                                                                  "label": "assetIds.length",
                                                                  "start_token": 661,
                                                                  "end_token": 663,
                                                                  "children": [
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "assetIds",
                                                                      "start_token": 661,
                                                                      "end_token": 661,
                                                                      "children": []
                                                                    },
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "length",
                                                                      "start_token": 663,
                                                                      "end_token": 663,
                                                                      "children": []
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "type": "PropertyAssignment",
                                                              "label": "name: albumName",
                                                              "start_token": 665,
                                                              "end_token": 667,
                                                              "children": [
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "name",
                                                                  "start_token": 665,
                                                                  "end_token": 665,
                                                                  "children": []
                                                                },
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "albumName",
                                                                  "start_token": 667,
                                                                  "end_token": 667,
                                                                  "children": []
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "type": "PropertyAssignment",
                                                              "label": "hasName: !!albumName",
                                                              "start_token": 669,
                                                              "end_token": 673,
                                                              "children": [
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "hasName",
                                                                  "start_token": 669,
                                                                  "end_token": 669,
                                                                  "children": []
                                                                },
                                                                {
                                                                  "type": "PrefixUnaryExpression",
                                                                  "label": "!!albumName",
                                                                  "start_token": 671,
                                                                  "end_token": 673,
                                                                  "children": [
                                                                    {
                                                                      "type": "PrefixUnaryExpression",
                                                                      "label": "!albumName",
                                                                      "start_token": 672,
                                                                      "end_token": 673,
                                                                      "children": [
                                                                        {
                                                                          "type": "Identifier",
                                                                          "label": "albumName",
                                                                          "start_token": 673,
                                                                          "end_token": 673,
                                                                          "children": []
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "type": "PropertyAssignment",
                                      "label": "button: {\n      text: $t('view_album'),\n      onClick() {\n        return goto(`${AppRoute.ALBUMS}/${album.id}`);\n      },\n    }",
                                      "start_token": 680,
                                      "end_token": 702,
                                      "children": [
                                        {
                                          "type": "Identifier",
                                          "label": "button",
                                          "start_token": 680,
                                          "end_token": 680,
                                          "children": []
                                        },
                                        {
                                          "type": "ObjectLiteralExpression",
                                          "label": "{\n      text: $t('view_album'),\n      onClick() {\n        return goto(`${AppRoute.ALBUMS}/${album.id}`);\n      },\n    }",
                                          "start_token": 682,
                                          "end_token": 702,
                                          "children": [
                                            {
                                              "type": "PropertyAssignment",
                                              "label": "text: $t('view_album')",
                                              "start_token": 683,
                                              "end_token": 688,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "text",
                                                  "start_token": 683,
                                                  "end_token": 683,
                                                  "children": []
                                                },
                                                {
                                                  "type": "CallExpression",
                                                  "label": "$t('view_album')",
                                                  "start_token": 685,
                                                  "end_token": 688,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "$t",
                                                      "start_token": 685,
                                                      "end_token": 685,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "StringLiteral",
                                                      "label": "'view_album'",
                                                      "start_token": 687,
                                                      "end_token": 687,
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "type": "MethodDeclaration",
                                              "label": "onClick() {\n        return goto(`${AppRoute.ALBUMS}/${album.id}`);\n      }",
                                              "start_token": 690,
                                              "end_token": 700,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "onClick",
                                                  "start_token": 690,
                                                  "end_token": 690,
                                                  "children": []
                                                },
                                                {
                                                  "type": "Block",
                                                  "label": "{\n        return goto(`${AppRoute.ALBUMS}/${album.id}`);\n      }",
                                                  "start_token": 693,
                                                  "end_token": 700,
                                                  "children": [
                                                    {
                                                      "type": "ReturnStatement",
                                                      "label": "return goto(`${AppRoute.ALBUMS}/${album.id}`);",
                                                      "start_token": 694,
                                                      "end_token": 699,
                                                      "children": [
                                                        {
                                                          "type": "CallExpression",
                                                          "label": "goto(`${AppRoute.ALBUMS}/${album.id}`)",
                                                          "start_token": 695,
                                                          "end_token": 698,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "goto",
                                                              "start_token": 695,
                                                              "end_token": 695,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "TemplateExpression",
                                                              "label": "`${AppRoute.ALBUMS}/${album.id}`",
                                                              "start_token": 697,
                                                              "end_token": 697,
                                                              "children": [
                                                                {
                                                                  "type": "TemplateHead",
                                                                  "label": "`${",
                                                                  "start_token": 697,
                                                                  "end_token": 697,
                                                                  "children": []
                                                                },
                                                                {
                                                                  "type": "TemplateSpan",
                                                                  "label": "AppRoute.ALBUMS}/${",
                                                                  "start_token": 697,
                                                                  "end_token": 697,
                                                                  "children": [
                                                                    {
                                                                      "type": "PropertyAccessExpression",
                                                                      "label": "AppRoute.ALBUMS",
                                                                      "start_token": 697,
                                                                      "end_token": 697,
                                                                      "children": [
                                                                        {
                                                                          "type": "Identifier",
                                                                          "label": "AppRoute",
                                                                          "start_token": 697,
                                                                          "end_token": 697,
                                                                          "children": []
                                                                        },
                                                                        {
                                                                          "type": "Identifier",
                                                                          "label": "ALBUMS",
                                                                          "start_token": 697,
                                                                          "end_token": 697,
                                                                          "children": []
                                                                        }
                                                                      ]
                                                                    },
                                                                    {
                                                                      "type": "TemplateMiddle",
                                                                      "label": "}/${",
                                                                      "start_token": 697,
                                                                      "end_token": 697,
                                                                      "children": []
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "type": "TemplateSpan",
                                                                  "label": "album.id}`",
                                                                  "start_token": 697,
                                                                  "end_token": 697,
                                                                  "children": [
                                                                    {
                                                                      "type": "PropertyAccessExpression",
                                                                      "label": "album.id",
                                                                      "start_token": 697,
                                                                      "end_token": 697,
                                                                      "children": [
                                                                        {
                                                                          "type": "Identifier",
                                                                          "label": "album",
                                                                          "start_token": 697,
                                                                          "end_token": 697,
                                                                          "children": []
                                                                        },
                                                                        {
                                                                          "type": "Identifier",
                                                                          "label": "id",
                                                                          "start_token": 697,
                                                                          "end_token": 697,
                                                                          "children": []
                                                                        }
                                                                      ]
                                                                    },
                                                                    {
                                                                      "type": "LastTemplateToken",
                                                                      "label": "}`",
                                                                      "start_token": 697,
                                                                      "end_token": 697,
                                                                      "children": []
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "ReturnStatement",
                          "label": "return album;",
                          "start_token": 707,
                          "end_token": 709,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "album",
                              "start_token": 708,
                              "end_token": 708,
                              "children": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FirstStatement",
      "label": "export const downloadAlbum = async (album: AlbumResponseDto) => {\n  await downloadArchive(`${album.albumName}.zip`, {\n    albumId: album.id,\n  });\n};",
      "start_token": 712,
      "end_token": 740,
      "children": [
        {
          "type": "ExportKeyword",
          "label": "export",
          "start_token": 712,
          "end_token": 712,
          "children": []
        },
        {
          "type": "VariableDeclarationList",
          "label": "const downloadAlbum = async (album: AlbumResponseDto) => {\n  await downloadArchive(`${album.albumName}.zip`, {\n    albumId: album.id,\n  });\n}",
          "start_token": 713,
          "end_token": 739,
          "children": [
            {
              "type": "VariableDeclaration",
              "label": "downloadAlbum = async (album: AlbumResponseDto) => {\n  await downloadArchive(`${album.albumName}.zip`, {\n    albumId: album.id,\n  });\n}",
              "start_token": 714,
              "end_token": 739,
              "children": [
                {
                  "type": "Identifier",
                  "label": "downloadAlbum",
                  "start_token": 714,
                  "end_token": 714,
                  "children": []
                },
                {
                  "type": "ArrowFunction",
                  "label": "async (album: AlbumResponseDto) => {\n  await downloadArchive(`${album.albumName}.zip`, {\n    albumId: album.id,\n  });\n}",
                  "start_token": 716,
                  "end_token": 739,
                  "children": [
                    {
                      "type": "AsyncKeyword",
                      "label": "async",
                      "start_token": 716,
                      "end_token": 716,
                      "children": []
                    },
                    {
                      "type": "Parameter",
                      "label": "album: AlbumResponseDto",
                      "start_token": 718,
                      "end_token": 720,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "album",
                          "start_token": 718,
                          "end_token": 718,
                          "children": []
                        },
                        {
                          "type": "TypeReference",
                          "label": "AlbumResponseDto",
                          "start_token": 720,
                          "end_token": 720,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "AlbumResponseDto",
                              "start_token": 720,
                              "end_token": 720,
                              "children": []
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "EqualsGreaterThanToken",
                      "label": "=>",
                      "start_token": 722,
                      "end_token": 722,
                      "children": []
                    },
                    {
                      "type": "Block",
                      "label": "{\n  await downloadArchive(`${album.albumName}.zip`, {\n    albumId: album.id,\n  });\n}",
                      "start_token": 723,
                      "end_token": 739,
                      "children": [
                        {
                          "type": "ExpressionStatement",
                          "label": "await downloadArchive(`${album.albumName}.zip`, {\n    albumId: album.id,\n  });",
                          "start_token": 724,
                          "end_token": 738,
                          "children": [
                            {
                              "type": "AwaitExpression",
                              "label": "await downloadArchive(`${album.albumName}.zip`, {\n    albumId: album.id,\n  })",
                              "start_token": 724,
                              "end_token": 737,
                              "children": [
                                {
                                  "type": "CallExpression",
                                  "label": "downloadArchive(`${album.albumName}.zip`, {\n    albumId: album.id,\n  })",
                                  "start_token": 725,
                                  "end_token": 737,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "downloadArchive",
                                      "start_token": 725,
                                      "end_token": 725,
                                      "children": []
                                    },
                                    {
                                      "type": "TemplateExpression",
                                      "label": "`${album.albumName}.zip`",
                                      "start_token": 727,
                                      "end_token": 727,
                                      "children": [
                                        {
                                          "type": "TemplateHead",
                                          "label": "`${",
                                          "start_token": 727,
                                          "end_token": 727,
                                          "children": []
                                        },
                                        {
                                          "type": "TemplateSpan",
                                          "label": "album.albumName}.zip`",
                                          "start_token": 727,
                                          "end_token": 727,
                                          "children": [
                                            {
                                              "type": "PropertyAccessExpression",
                                              "label": "album.albumName",
                                              "start_token": 727,
                                              "end_token": 727,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "album",
                                                  "start_token": 727,
                                                  "end_token": 727,
                                                  "children": []
                                                },
                                                {
                                                  "type": "Identifier",
                                                  "label": "albumName",
                                                  "start_token": 727,
                                                  "end_token": 727,
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "type": "LastTemplateToken",
                                              "label": "}.zip`",
                                              "start_token": 727,
                                              "end_token": 727,
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "type": "ObjectLiteralExpression",
                                      "label": "{\n    albumId: album.id,\n  }",
                                      "start_token": 729,
                                      "end_token": 736,
                                      "children": [
                                        {
                                          "type": "PropertyAssignment",
                                          "label": "albumId: album.id",
                                          "start_token": 730,
                                          "end_token": 734,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "albumId",
                                              "start_token": 730,
                                              "end_token": 730,
                                              "children": []
                                            },
                                            {
                                              "type": "PropertyAccessExpression",
                                              "label": "album.id",
                                              "start_token": 732,
                                              "end_token": 734,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "album",
                                                  "start_token": 732,
                                                  "end_token": 732,
                                                  "children": []
                                                },
                                                {
                                                  "type": "Identifier",
                                                  "label": "id",
                                                  "start_token": 734,
                                                  "end_token": 734,
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FirstStatement",
      "label": "export const downloadBlob = (data: Blob, filename: string) => {\n  const url = URL.createObjectURL(data);\n  const anchor = document.createElement('a');\n  anchor.href = url;\n  anchor.download = filename;\n  document.body.append(anchor);\n  anchor.click();\n  anchor.remove();\n  URL.revokeObjectURL(url);\n};",
      "start_token": 741,
      "end_token": 817,
      "children": [
        {
          "type": "ExportKeyword",
          "label": "export",
          "start_token": 741,
          "end_token": 741,
          "children": []
        },
        {
          "type": "VariableDeclarationList",
          "label": "const downloadBlob = (data: Blob, filename: string) => {\n  const url = URL.createObjectURL(data);\n  const anchor = document.createElement('a');\n  anchor.href = url;\n  anchor.download = filename;\n  document.body.append(anchor);\n  anchor.click();\n  anchor.remove();\n  URL.revokeObjectURL(url);\n}",
          "start_token": 742,
          "end_token": 816,
          "children": [
            {
              "type": "VariableDeclaration",
              "label": "downloadBlob = (data: Blob, filename: string) => {\n  const url = URL.createObjectURL(data);\n  const anchor = document.createElement('a');\n  anchor.href = url;\n  anchor.download = filename;\n  document.body.append(anchor);\n  anchor.click();\n  anchor.remove();\n  URL.revokeObjectURL(url);\n}",
              "start_token": 743,
              "end_token": 816,
              "children": [
                {
                  "type": "Identifier",
                  "label": "downloadBlob",
                  "start_token": 743,
                  "end_token": 743,
                  "children": []
                },
                {
                  "type": "ArrowFunction",
                  "label": "(data: Blob, filename: string) => {\n  const url = URL.createObjectURL(data);\n  const anchor = document.createElement('a');\n  anchor.href = url;\n  anchor.download = filename;\n  document.body.append(anchor);\n  anchor.click();\n  anchor.remove();\n  URL.revokeObjectURL(url);\n}",
                  "start_token": 745,
                  "end_token": 816,
                  "children": [
                    {
                      "type": "Parameter",
                      "label": "data: Blob",
                      "start_token": 746,
                      "end_token": 748,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "data",
                          "start_token": 746,
                          "end_token": 746,
                          "children": []
                        },
                        {
                          "type": "TypeReference",
                          "label": "Blob",
                          "start_token": 748,
                          "end_token": 748,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "Blob",
                              "start_token": 748,
                              "end_token": 748,
                              "children": []
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "Parameter",
                      "label": "filename: string",
                      "start_token": 750,
                      "end_token": 752,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "filename",
                          "start_token": 750,
                          "end_token": 750,
                          "children": []
                        },
                        {
                          "type": "StringKeyword",
                          "label": "string",
                          "start_token": 752,
                          "end_token": 752,
                          "children": []
                        }
                      ]
                    },
                    {
                      "type": "EqualsGreaterThanToken",
                      "label": "=>",
                      "start_token": 754,
                      "end_token": 754,
                      "children": []
                    },
                    {
                      "type": "Block",
                      "label": "{\n  const url = URL.createObjectURL(data);\n  const anchor = document.createElement('a');\n  anchor.href = url;\n  anchor.download = filename;\n  document.body.append(anchor);\n  anchor.click();\n  anchor.remove();\n  URL.revokeObjectURL(url);\n}",
                      "start_token": 755,
                      "end_token": 816,
                      "children": [
                        {
                          "type": "FirstStatement",
                          "label": "const url = URL.createObjectURL(data);",
                          "start_token": 756,
                          "end_token": 765,
                          "children": [
                            {
                              "type": "VariableDeclarationList",
                              "label": "const url = URL.createObjectURL(data)",
                              "start_token": 756,
                              "end_token": 764,
                              "children": [
                                {
                                  "type": "VariableDeclaration",
                                  "label": "url = URL.createObjectURL(data)",
                                  "start_token": 757,
                                  "end_token": 764,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "url",
                                      "start_token": 757,
                                      "end_token": 757,
                                      "children": []
                                    },
                                    {
                                      "type": "CallExpression",
                                      "label": "URL.createObjectURL(data)",
                                      "start_token": 759,
                                      "end_token": 764,
                                      "children": [
                                        {
                                          "type": "PropertyAccessExpression",
                                          "label": "URL.createObjectURL",
                                          "start_token": 759,
                                          "end_token": 761,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "URL",
                                              "start_token": 759,
                                              "end_token": 759,
                                              "children": []
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "createObjectURL",
                                              "start_token": 761,
                                              "end_token": 761,
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "type": "Identifier",
                                          "label": "data",
                                          "start_token": 763,
                                          "end_token": 763,
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "FirstStatement",
                          "label": "const anchor = document.createElement('a');",
                          "start_token": 766,
                          "end_token": 775,
                          "children": [
                            {
                              "type": "VariableDeclarationList",
                              "label": "const anchor = document.createElement('a')",
                              "start_token": 766,
                              "end_token": 774,
                              "children": [
                                {
                                  "type": "VariableDeclaration",
                                  "label": "anchor = document.createElement('a')",
                                  "start_token": 767,
                                  "end_token": 774,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "anchor",
                                      "start_token": 767,
                                      "end_token": 767,
                                      "children": []
                                    },
                                    {
                                      "type": "CallExpression",
                                      "label": "document.createElement('a')",
                                      "start_token": 769,
                                      "end_token": 774,
                                      "children": [
                                        {
                                          "type": "PropertyAccessExpression",
                                          "label": "document.createElement",
                                          "start_token": 769,
                                          "end_token": 771,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "document",
                                              "start_token": 769,
                                              "end_token": 769,
                                              "children": []
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "createElement",
                                              "start_token": 771,
                                              "end_token": 771,
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "type": "StringLiteral",
                                          "label": "'a'",
                                          "start_token": 773,
                                          "end_token": 773,
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "ExpressionStatement",
                          "label": "anchor.href = url;",
                          "start_token": 776,
                          "end_token": 781,
                          "children": [
                            {
                              "type": "BinaryExpression",
                              "label": "anchor.href = url",
                              "start_token": 776,
                              "end_token": 780,
                              "children": [
                                {
                                  "type": "PropertyAccessExpression",
                                  "label": "anchor.href",
                                  "start_token": 776,
                                  "end_token": 778,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "anchor",
                                      "start_token": 776,
                                      "end_token": 776,
                                      "children": []
                                    },
                                    {
                                      "type": "Identifier",
                                      "label": "href",
                                      "start_token": 778,
                                      "end_token": 778,
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "type": "FirstAssignment",
                                  "label": "=",
                                  "start_token": 779,
                                  "end_token": 779,
                                  "children": []
                                },
                                {
                                  "type": "Identifier",
                                  "label": "url",
                                  "start_token": 780,
                                  "end_token": 780,
                                  "children": []
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "ExpressionStatement",
                          "label": "anchor.download = filename;",
                          "start_token": 782,
                          "end_token": 787,
                          "children": [
                            {
                              "type": "BinaryExpression",
                              "label": "anchor.download = filename",
                              "start_token": 782,
                              "end_token": 786,
                              "children": [
                                {
                                  "type": "PropertyAccessExpression",
                                  "label": "anchor.download",
                                  "start_token": 782,
                                  "end_token": 784,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "anchor",
                                      "start_token": 782,
                                      "end_token": 782,
                                      "children": []
                                    },
                                    {
                                      "type": "Identifier",
                                      "label": "download",
                                      "start_token": 784,
                                      "end_token": 784,
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "type": "FirstAssignment",
                                  "label": "=",
                                  "start_token": 785,
                                  "end_token": 785,
                                  "children": []
                                },
                                {
                                  "type": "Identifier",
                                  "label": "filename",
                                  "start_token": 786,
                                  "end_token": 786,
                                  "children": []
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "ExpressionStatement",
                          "label": "document.body.append(anchor);",
                          "start_token": 788,
                          "end_token": 796,
                          "children": [
                            {
                              "type": "CallExpression",
                              "label": "document.body.append(anchor)",
                              "start_token": 788,
                              "end_token": 795,
                              "children": [
                                {
                                  "type": "PropertyAccessExpression",
                                  "label": "document.body.append",
                                  "start_token": 788,
                                  "end_token": 792,
                                  "children": [
                                    {
                                      "type": "PropertyAccessExpression",
                                      "label": "document.body",
                                      "start_token": 788,
                                      "end_token": 790,
                                      "children": [
                                        {
                                          "type": "Identifier",
                                          "label": "document",
                                          "start_token": 788,
                                          "end_token": 788,
                                          "children": []
                                        },
                                        {
                                          "type": "Identifier",
                                          "label": "body",
                                          "start_token": 790,
                                          "end_token": 790,
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "type": "Identifier",
                                      "label": "append",
                                      "start_token": 792,
                                      "end_token": 792,
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "type": "Identifier",
                                  "label": "anchor",
                                  "start_token": 794,
                                  "end_token": 794,
                                  "children": []
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "ExpressionStatement",
                          "label": "anchor.click();",
                          "start_token": 797,
                          "end_token": 802,
                          "children": [
                            {
                              "type": "CallExpression",
                              "label": "anchor.click()",
                              "start_token": 797,
                              "end_token": 801,
                              "children": [
                                {
                                  "type": "PropertyAccessExpression",
                                  "label": "anchor.click",
                                  "start_token": 797,
                                  "end_token": 799,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "anchor",
                                      "start_token": 797,
                                      "end_token": 797,
                                      "children": []
                                    },
                                    {
                                      "type": "Identifier",
                                      "label": "click",
                                      "start_token": 799,
                                      "end_token": 799,
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "ExpressionStatement",
                          "label": "anchor.remove();",
                          "start_token": 803,
                          "end_token": 808,
                          "children": [
                            {
                              "type": "CallExpression",
                              "label": "anchor.remove()",
                              "start_token": 803,
                              "end_token": 807,
                              "children": [
                                {
                                  "type": "PropertyAccessExpression",
                                  "label": "anchor.remove",
                                  "start_token": 803,
                                  "end_token": 805,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "anchor",
                                      "start_token": 803,
                                      "end_token": 803,
                                      "children": []
                                    },
                                    {
                                      "type": "Identifier",
                                      "label": "remove",
                                      "start_token": 805,
                                      "end_token": 805,
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "ExpressionStatement",
                          "label": "URL.revokeObjectURL(url);",
                          "start_token": 809,
                          "end_token": 815,
                          "children": [
                            {
                              "type": "CallExpression",
                              "label": "URL.revokeObjectURL(url)",
                              "start_token": 809,
                              "end_token": 814,
                              "children": [
                                {
                                  "type": "PropertyAccessExpression",
                                  "label": "URL.revokeObjectURL",
                                  "start_token": 809,
                                  "end_token": 811,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "URL",
                                      "start_token": 809,
                                      "end_token": 809,
                                      "children": []
                                    },
                                    {
                                      "type": "Identifier",
                                      "label": "revokeObjectURL",
                                      "start_token": 811,
                                      "end_token": 811,
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "type": "Identifier",
                                  "label": "url",
                                  "start_token": 813,
                                  "end_token": 813,
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FirstStatement",
      "label": "export const downloadArchive = async (fileName: string, options: Omit<DownloadInfoDto, 'archiveSize'>) => {\n  const $preferences = get<UserPreferencesResponseDto | undefined>(preferences);\n  const dto = { ...options, archiveSize: $preferences?.download.archiveSize };\n  const [error, downloadInfo] = await withError(() => getDownloadInfo({ downloadInfoDto: dto, key: getKey() }));\n  if (error) {\n    const $t = get(t);\n    handleError(error, $t('errors.unable_to_download_files'));\n    return;\n  }\n  if (!downloadInfo) {\n    return;\n  }\n  for (let index = 0; index < downloadInfo.archives.length; index++) {\n    const archive = downloadInfo.archives[index];\n    const suffix = downloadInfo.archives.length > 1 ? `+${index + 1}` : '';\n    const archiveName = fileName.replace('.zip', `${suffix}-${DateTime.now().toFormat('yyyyLLdd_HHmmss')}.zip`);\n    const key = getKey();\n    let downloadKey = `${archiveName} `;\n    if (downloadInfo.archives.length > 1) {\n      downloadKey = `${archiveName} (${index + 1}/${downloadInfo.archives.length})`;\n    }\n    const abort = new AbortController();\n    downloadManager.add(downloadKey, archive.size, abort);\n    try {\n      // TODO use sdk once it supports progress events\n      const { data } = await downloadRequest({\n        method: 'POST',\n        url: getBaseUrl() + '/download/archive' + (key ? `?key=${key}` : ''),\n        data: { assetIds: archive.assetIds },\n        signal: abort.signal,\n        onDownloadProgress: (event) => downloadManager.update(downloadKey, event.loaded),\n      });\n      downloadBlob(data, archiveName);\n    } catch (error) {\n      const $t = get(t);\n      handleError(error, $t('errors.unable_to_download_files'));\n      downloadManager.clear(downloadKey);\n      return;\n    } finally {\n      setTimeout(() => downloadManager.clear(downloadKey), 5000);\n    }\n  }\n};",
      "start_token": 818,
      "end_token": 1170,
      "children": [
        {
          "type": "ExportKeyword",
          "label": "export",
          "start_token": 818,
          "end_token": 818,
          "children": []
        },
        {
          "type": "VariableDeclarationList",
          "label": "const downloadArchive = async (fileName: string, options: Omit<DownloadInfoDto, 'archiveSize'>) => {\n  const $preferences = get<UserPreferencesResponseDto | undefined>(preferences);\n  const dto = { ...options, archiveSize: $preferences?.download.archiveSize };\n  const [error, downloadInfo] = await withError(() => getDownloadInfo({ downloadInfoDto: dto, key: getKey() }));\n  if (error) {\n    const $t = get(t);\n    handleError(error, $t('errors.unable_to_download_files'));\n    return;\n  }\n  if (!downloadInfo) {\n    return;\n  }\n  for (let index = 0; index < downloadInfo.archives.length; index++) {\n    const archive = downloadInfo.archives[index];\n    const suffix = downloadInfo.archives.length > 1 ? `+${index + 1}` : '';\n    const archiveName = fileName.replace('.zip', `${suffix}-${DateTime.now().toFormat('yyyyLLdd_HHmmss')}.zip`);\n    const key = getKey();\n    let downloadKey = `${archiveName} `;\n    if (downloadInfo.archives.length > 1) {\n      downloadKey = `${archiveName} (${index + 1}/${downloadInfo.archives.length})`;\n    }\n    const abort = new AbortController();\n    downloadManager.add(downloadKey, archive.size, abort);\n    try {\n      // TODO use sdk once it supports progress events\n      const { data } = await downloadRequest({\n        method: 'POST',\n        url: getBaseUrl() + '/download/archive' + (key ? `?key=${key}` : ''),\n        data: { assetIds: archive.assetIds },\n        signal: abort.signal,\n        onDownloadProgress: (event) => downloadManager.update(downloadKey, event.loaded),\n      });\n      downloadBlob(data, archiveName);\n    } catch (error) {\n      const $t = get(t);\n      handleError(error, $t('errors.unable_to_download_files'));\n      downloadManager.clear(downloadKey);\n      return;\n    } finally {\n      setTimeout(() => downloadManager.clear(downloadKey), 5000);\n    }\n  }\n}",
          "start_token": 819,
          "end_token": 1169,
          "children": [
            {
              "type": "VariableDeclaration",
              "label": "downloadArchive = async (fileName: string, options: Omit<DownloadInfoDto, 'archiveSize'>) => {\n  const $preferences = get<UserPreferencesResponseDto | undefined>(preferences);\n  const dto = { ...options, archiveSize: $preferences?.download.archiveSize };\n  const [error, downloadInfo] = await withError(() => getDownloadInfo({ downloadInfoDto: dto, key: getKey() }));\n  if (error) {\n    const $t = get(t);\n    handleError(error, $t('errors.unable_to_download_files'));\n    return;\n  }\n  if (!downloadInfo) {\n    return;\n  }\n  for (let index = 0; index < downloadInfo.archives.length; index++) {\n    const archive = downloadInfo.archives[index];\n    const suffix = downloadInfo.archives.length > 1 ? `+${index + 1}` : '';\n    const archiveName = fileName.replace('.zip', `${suffix}-${DateTime.now().toFormat('yyyyLLdd_HHmmss')}.zip`);\n    const key = getKey();\n    let downloadKey = `${archiveName} `;\n    if (downloadInfo.archives.length > 1) {\n      downloadKey = `${archiveName} (${index + 1}/${downloadInfo.archives.length})`;\n    }\n    const abort = new AbortController();\n    downloadManager.add(downloadKey, archive.size, abort);\n    try {\n      // TODO use sdk once it supports progress events\n      const { data } = await downloadRequest({\n        method: 'POST',\n        url: getBaseUrl() + '/download/archive' + (key ? `?key=${key}` : ''),\n        data: { assetIds: archive.assetIds },\n        signal: abort.signal,\n        onDownloadProgress: (event) => downloadManager.update(downloadKey, event.loaded),\n      });\n      downloadBlob(data, archiveName);\n    } catch (error) {\n      const $t = get(t);\n      handleError(error, $t('errors.unable_to_download_files'));\n      downloadManager.clear(downloadKey);\n      return;\n    } finally {\n      setTimeout(() => downloadManager.clear(downloadKey), 5000);\n    }\n  }\n}",
              "start_token": 820,
              "end_token": 1169,
              "children": [
                {
                  "type": "Identifier",
                  "label": "downloadArchive",
                  "start_token": 820,
                  "end_token": 820,
                  "children": []
                },
                {
                  "type": "ArrowFunction",
                  "label": "async (fileName: string, options: Omit<DownloadInfoDto, 'archiveSize'>) => {\n  const $preferences = get<UserPreferencesResponseDto | undefined>(preferences);\n  const dto = { ...options, archiveSize: $preferences?.download.archiveSize };\n  const [error, downloadInfo] = await withError(() => getDownloadInfo({ downloadInfoDto: dto, key: getKey() }));\n  if (error) {\n    const $t = get(t);\n    handleError(error, $t('errors.unable_to_download_files'));\n    return;\n  }\n  if (!downloadInfo) {\n    return;\n  }\n  for (let index = 0; index < downloadInfo.archives.length; index++) {\n    const archive = downloadInfo.archives[index];\n    const suffix = downloadInfo.archives.length > 1 ? `+${index + 1}` : '';\n    const archiveName = fileName.replace('.zip', `${suffix}-${DateTime.now().toFormat('yyyyLLdd_HHmmss')}.zip`);\n    const key = getKey();\n    let downloadKey = `${archiveName} `;\n    if (downloadInfo.archives.length > 1) {\n      downloadKey = `${archiveName} (${index + 1}/${downloadInfo.archives.length})`;\n    }\n    const abort = new AbortController();\n    downloadManager.add(downloadKey, archive.size, abort);\n    try {\n      // TODO use sdk once it supports progress events\n      const { data } = await downloadRequest({\n        method: 'POST',\n        url: getBaseUrl() + '/download/archive' + (key ? `?key=${key}` : ''),\n        data: { assetIds: archive.assetIds },\n        signal: abort.signal,\n        onDownloadProgress: (event) => downloadManager.update(downloadKey, event.loaded),\n      });\n      downloadBlob(data, archiveName);\n    } catch (error) {\n      const $t = get(t);\n      handleError(error, $t('errors.unable_to_download_files'));\n      downloadManager.clear(downloadKey);\n      return;\n    } finally {\n      setTimeout(() => downloadManager.clear(downloadKey), 5000);\n    }\n  }\n}",
                  "start_token": 822,
                  "end_token": 1169,
                  "children": [
                    {
                      "type": "AsyncKeyword",
                      "label": "async",
                      "start_token": 822,
                      "end_token": 822,
                      "children": []
                    },
                    {
                      "type": "Parameter",
                      "label": "fileName: string",
                      "start_token": 824,
                      "end_token": 826,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "fileName",
                          "start_token": 824,
                          "end_token": 824,
                          "children": []
                        },
                        {
                          "type": "StringKeyword",
                          "label": "string",
                          "start_token": 826,
                          "end_token": 826,
                          "children": []
                        }
                      ]
                    },
                    {
                      "type": "Parameter",
                      "label": "options: Omit<DownloadInfoDto, 'archiveSize'>",
                      "start_token": 828,
                      "end_token": 835,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "options",
                          "start_token": 828,
                          "end_token": 828,
                          "children": []
                        },
                        {
                          "type": "TypeReference",
                          "label": "Omit<DownloadInfoDto, 'archiveSize'>",
                          "start_token": 830,
                          "end_token": 835,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "Omit",
                              "start_token": 830,
                              "end_token": 830,
                              "children": []
                            },
                            {
                              "type": "TypeReference",
                              "label": "DownloadInfoDto",
                              "start_token": 832,
                              "end_token": 832,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "DownloadInfoDto",
                                  "start_token": 832,
                                  "end_token": 832,
                                  "children": []
                                }
                              ]
                            },
                            {
                              "type": "LiteralType",
                              "label": "'archiveSize'",
                              "start_token": 834,
                              "end_token": 834,
                              "children": [
                                {
                                  "type": "StringLiteral",
                                  "label": "'archiveSize'",
                                  "start_token": 834,
                                  "end_token": 834,
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "EqualsGreaterThanToken",
                      "label": "=>",
                      "start_token": 837,
                      "end_token": 837,
                      "children": []
                    },
                    {
                      "type": "Block",
                      "label": "{\n  const $preferences = get<UserPreferencesResponseDto | undefined>(preferences);\n  const dto = { ...options, archiveSize: $preferences?.download.archiveSize };\n  const [error, downloadInfo] = await withError(() => getDownloadInfo({ downloadInfoDto: dto, key: getKey() }));\n  if (error) {\n    const $t = get(t);\n    handleError(error, $t('errors.unable_to_download_files'));\n    return;\n  }\n  if (!downloadInfo) {\n    return;\n  }\n  for (let index = 0; index < downloadInfo.archives.length; index++) {\n    const archive = downloadInfo.archives[index];\n    const suffix = downloadInfo.archives.length > 1 ? `+${index + 1}` : '';\n    const archiveName = fileName.replace('.zip', `${suffix}-${DateTime.now().toFormat('yyyyLLdd_HHmmss')}.zip`);\n    const key = getKey();\n    let downloadKey = `${archiveName} `;\n    if (downloadInfo.archives.length > 1) {\n      downloadKey = `${archiveName} (${index + 1}/${downloadInfo.archives.length})`;\n    }\n    const abort = new AbortController();\n    downloadManager.add(downloadKey, archive.size, abort);\n    try {\n      // TODO use sdk once it supports progress events\n      const { data } = await downloadRequest({\n        method: 'POST',\n        url: getBaseUrl() + '/download/archive' + (key ? `?key=${key}` : ''),\n        data: { assetIds: archive.assetIds },\n        signal: abort.signal,\n        onDownloadProgress: (event) => downloadManager.update(downloadKey, event.loaded),\n      });\n      downloadBlob(data, archiveName);\n    } catch (error) {\n      const $t = get(t);\n      handleError(error, $t('errors.unable_to_download_files'));\n      downloadManager.clear(downloadKey);\n      return;\n    } finally {\n      setTimeout(() => downloadManager.clear(downloadKey), 5000);\n    }\n  }\n}",
                      "start_token": 838,
                      "end_token": 1169,
                      "children": [
                        {
                          "type": "FirstStatement",
                          "label": "const $preferences = get<UserPreferencesResponseDto | undefined>(preferences);",
                          "start_token": 839,
                          "end_token": 851,
                          "children": [
                            {
                              "type": "VariableDeclarationList",
                              "label": "const $preferences = get<UserPreferencesResponseDto | undefined>(preferences)",
                              "start_token": 839,
                              "end_token": 850,
                              "children": [
                                {
                                  "type": "VariableDeclaration",
                                  "label": "$preferences = get<UserPreferencesResponseDto | undefined>(preferences)",
                                  "start_token": 840,
                                  "end_token": 850,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "$preferences",
                                      "start_token": 840,
                                      "end_token": 840,
                                      "children": []
                                    },
                                    {
                                      "type": "CallExpression",
                                      "label": "get<UserPreferencesResponseDto | undefined>(preferences)",
                                      "start_token": 842,
                                      "end_token": 850,
                                      "children": [
                                        {
                                          "type": "Identifier",
                                          "label": "get",
                                          "start_token": 842,
                                          "end_token": 842,
                                          "children": []
                                        },
                                        {
                                          "type": "UnionType",
                                          "label": "UserPreferencesResponseDto | undefined",
                                          "start_token": 844,
                                          "end_token": 846,
                                          "children": [
                                            {
                                              "type": "TypeReference",
                                              "label": "UserPreferencesResponseDto",
                                              "start_token": 844,
                                              "end_token": 844,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "UserPreferencesResponseDto",
                                                  "start_token": 844,
                                                  "end_token": 844,
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "type": "UndefinedKeyword",
                                              "label": "undefined",
                                              "start_token": 846,
                                              "end_token": 846,
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "type": "Identifier",
                                          "label": "preferences",
                                          "start_token": 849,
                                          "end_token": 849,
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "FirstStatement",
                          "label": "const dto = { ...options, archiveSize: $preferences?.download.archiveSize };",
                          "start_token": 852,
                          "end_token": 870,
                          "children": [
                            {
                              "type": "VariableDeclarationList",
                              "label": "const dto = { ...options, archiveSize: $preferences?.download.archiveSize }",
                              "start_token": 852,
                              "end_token": 869,
                              "children": [
                                {
                                  "type": "VariableDeclaration",
                                  "label": "dto = { ...options, archiveSize: $preferences?.download.archiveSize }",
                                  "start_token": 853,
                                  "end_token": 869,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "dto",
                                      "start_token": 853,
                                      "end_token": 853,
                                      "children": []
                                    },
                                    {
                                      "type": "ObjectLiteralExpression",
                                      "label": "{ ...options, archiveSize: $preferences?.download.archiveSize }",
                                      "start_token": 855,
                                      "end_token": 869,
                                      "children": [
                                        {
                                          "type": "SpreadAssignment",
                                          "label": "...options",
                                          "start_token": 856,
                                          "end_token": 859,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "options",
                                              "start_token": 859,
                                              "end_token": 859,
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "type": "PropertyAssignment",
                                          "label": "archiveSize: $preferences?.download.archiveSize",
                                          "start_token": 861,
                                          "end_token": 868,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "archiveSize",
                                              "start_token": 861,
                                              "end_token": 861,
                                              "children": []
                                            },
                                            {
                                              "type": "PropertyAccessExpression",
                                              "label": "$preferences?.download.archiveSize",
                                              "start_token": 863,
                                              "end_token": 868,
                                              "children": [
                                                {
                                                  "type": "PropertyAccessExpression",
                                                  "label": "$preferences?.download",
                                                  "start_token": 863,
                                                  "end_token": 866,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "$preferences",
                                                      "start_token": 863,
                                                      "end_token": 863,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "QuestionDotToken",
                                                      "label": "?.",
                                                      "start_token": 864,
                                                      "end_token": 865,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "download",
                                                      "start_token": 866,
                                                      "end_token": 866,
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "Identifier",
                                                  "label": "archiveSize",
                                                  "start_token": 868,
                                                  "end_token": 868,
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "FirstStatement",
                          "label": "const [error, downloadInfo] = await withError(() => getDownloadInfo({ downloadInfoDto: dto, key: getKey() }));",
                          "start_token": 871,
                          "end_token": 899,
                          "children": [
                            {
                              "type": "VariableDeclarationList",
                              "label": "const [error, downloadInfo] = await withError(() => getDownloadInfo({ downloadInfoDto: dto, key: getKey() }))",
                              "start_token": 871,
                              "end_token": 898,
                              "children": [
                                {
                                  "type": "VariableDeclaration",
                                  "label": "[error, downloadInfo] = await withError(() => getDownloadInfo({ downloadInfoDto: dto, key: getKey() }))",
                                  "start_token": 872,
                                  "end_token": 898,
                                  "children": [
                                    {
                                      "type": "ArrayBindingPattern",
                                      "label": "[error, downloadInfo]",
                                      "start_token": 872,
                                      "end_token": 876,
                                      "children": [
                                        {
                                          "type": "BindingElement",
                                          "label": "error",
                                          "start_token": 873,
                                          "end_token": 873,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "error",
                                              "start_token": 873,
                                              "end_token": 873,
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "type": "BindingElement",
                                          "label": "downloadInfo",
                                          "start_token": 875,
                                          "end_token": 875,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "downloadInfo",
                                              "start_token": 875,
                                              "end_token": 875,
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "type": "AwaitExpression",
                                      "label": "await withError(() => getDownloadInfo({ downloadInfoDto: dto, key: getKey() }))",
                                      "start_token": 878,
                                      "end_token": 898,
                                      "children": [
                                        {
                                          "type": "CallExpression",
                                          "label": "withError(() => getDownloadInfo({ downloadInfoDto: dto, key: getKey() }))",
                                          "start_token": 879,
                                          "end_token": 898,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "withError",
                                              "start_token": 879,
                                              "end_token": 879,
                                              "children": []
                                            },
                                            {
                                              "type": "ArrowFunction",
                                              "label": "() => getDownloadInfo({ downloadInfoDto: dto, key: getKey() })",
                                              "start_token": 881,
                                              "end_token": 897,
                                              "children": [
                                                {
                                                  "type": "EqualsGreaterThanToken",
                                                  "label": "=>",
                                                  "start_token": 883,
                                                  "end_token": 883,
                                                  "children": []
                                                },
                                                {
                                                  "type": "CallExpression",
                                                  "label": "getDownloadInfo({ downloadInfoDto: dto, key: getKey() })",
                                                  "start_token": 884,
                                                  "end_token": 897,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "getDownloadInfo",
                                                      "start_token": 884,
                                                      "end_token": 884,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "ObjectLiteralExpression",
                                                      "label": "{ downloadInfoDto: dto, key: getKey() }",
                                                      "start_token": 886,
                                                      "end_token": 896,
                                                      "children": [
                                                        {
                                                          "type": "PropertyAssignment",
                                                          "label": "downloadInfoDto: dto",
                                                          "start_token": 887,
                                                          "end_token": 889,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "downloadInfoDto",
                                                              "start_token": 887,
                                                              "end_token": 887,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "Identifier",
                                                              "label": "dto",
                                                              "start_token": 889,
                                                              "end_token": 889,
                                                              "children": []
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "type": "PropertyAssignment",
                                                          "label": "key: getKey()",
                                                          "start_token": 891,
                                                          "end_token": 895,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "key",
                                                              "start_token": 891,
                                                              "end_token": 891,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "CallExpression",
                                                              "label": "getKey()",
                                                              "start_token": 893,
                                                              "end_token": 895,
                                                              "children": [
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "getKey",
                                                                  "start_token": 893,
                                                                  "end_token": 893,
                                                                  "children": []
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "IfStatement",
                          "label": "if (error) {\n    const $t = get(t);\n    handleError(error, $t('errors.unable_to_download_files'));\n    return;\n  }",
                          "start_token": 900,
                          "end_token": 925,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "error",
                              "start_token": 902,
                              "end_token": 902,
                              "children": []
                            },
                            {
                              "type": "Block",
                              "label": "{\n    const $t = get(t);\n    handleError(error, $t('errors.unable_to_download_files'));\n    return;\n  }",
                              "start_token": 904,
                              "end_token": 925,
                              "children": [
                                {
                                  "type": "FirstStatement",
                                  "label": "const $t = get(t);",
                                  "start_token": 905,
                                  "end_token": 912,
                                  "children": [
                                    {
                                      "type": "VariableDeclarationList",
                                      "label": "const $t = get(t)",
                                      "start_token": 905,
                                      "end_token": 911,
                                      "children": [
                                        {
                                          "type": "VariableDeclaration",
                                          "label": "$t = get(t)",
                                          "start_token": 906,
                                          "end_token": 911,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "$t",
                                              "start_token": 906,
                                              "end_token": 906,
                                              "children": []
                                            },
                                            {
                                              "type": "CallExpression",
                                              "label": "get(t)",
                                              "start_token": 908,
                                              "end_token": 911,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "get",
                                                  "start_token": 908,
                                                  "end_token": 908,
                                                  "children": []
                                                },
                                                {
                                                  "type": "Identifier",
                                                  "label": "t",
                                                  "start_token": 910,
                                                  "end_token": 910,
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "ExpressionStatement",
                                  "label": "handleError(error, $t('errors.unable_to_download_files'));",
                                  "start_token": 913,
                                  "end_token": 922,
                                  "children": [
                                    {
                                      "type": "CallExpression",
                                      "label": "handleError(error, $t('errors.unable_to_download_files'))",
                                      "start_token": 913,
                                      "end_token": 921,
                                      "children": [
                                        {
                                          "type": "Identifier",
                                          "label": "handleError",
                                          "start_token": 913,
                                          "end_token": 913,
                                          "children": []
                                        },
                                        {
                                          "type": "Identifier",
                                          "label": "error",
                                          "start_token": 915,
                                          "end_token": 915,
                                          "children": []
                                        },
                                        {
                                          "type": "CallExpression",
                                          "label": "$t('errors.unable_to_download_files')",
                                          "start_token": 917,
                                          "end_token": 920,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "$t",
                                              "start_token": 917,
                                              "end_token": 917,
                                              "children": []
                                            },
                                            {
                                              "type": "StringLiteral",
                                              "label": "'errors.unable_to_download_files'",
                                              "start_token": 919,
                                              "end_token": 919,
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "ReturnStatement",
                                  "label": "return;",
                                  "start_token": 923,
                                  "end_token": 924,
                                  "children": []
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "IfStatement",
                          "label": "if (!downloadInfo) {\n    return;\n  }",
                          "start_token": 926,
                          "end_token": 934,
                          "children": [
                            {
                              "type": "PrefixUnaryExpression",
                              "label": "!downloadInfo",
                              "start_token": 928,
                              "end_token": 929,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "downloadInfo",
                                  "start_token": 929,
                                  "end_token": 929,
                                  "children": []
                                }
                              ]
                            },
                            {
                              "type": "Block",
                              "label": "{\n    return;\n  }",
                              "start_token": 931,
                              "end_token": 934,
                              "children": [
                                {
                                  "type": "ReturnStatement",
                                  "label": "return;",
                                  "start_token": 932,
                                  "end_token": 933,
                                  "children": []
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "ForStatement",
                          "label": "for (let index = 0; index < downloadInfo.archives.length; index++) {\n    const archive = downloadInfo.archives[index];\n    const suffix = downloadInfo.archives.length > 1 ? `+${index + 1}` : '';\n    const archiveName = fileName.replace('.zip', `${suffix}-${DateTime.now().toFormat('yyyyLLdd_HHmmss')}.zip`);\n    const key = getKey();\n    let downloadKey = `${archiveName} `;\n    if (downloadInfo.archives.length > 1) {\n      downloadKey = `${archiveName} (${index + 1}/${downloadInfo.archives.length})`;\n    }\n    const abort = new AbortController();\n    downloadManager.add(downloadKey, archive.size, abort);\n    try {\n      // TODO use sdk once it supports progress events\n      const { data } = await downloadRequest({\n        method: 'POST',\n        url: getBaseUrl() + '/download/archive' + (key ? `?key=${key}` : ''),\n        data: { assetIds: archive.assetIds },\n        signal: abort.signal,\n        onDownloadProgress: (event) => downloadManager.update(downloadKey, event.loaded),\n      });\n      downloadBlob(data, archiveName);\n    } catch (error) {\n      const $t = get(t);\n      handleError(error, $t('errors.unable_to_download_files'));\n      downloadManager.clear(downloadKey);\n      return;\n    } finally {\n      setTimeout(() => downloadManager.clear(downloadKey), 5000);\n    }\n  }",
                          "start_token": 935,
                          "end_token": 1168,
                          "children": [
                            {
                              "type": "VariableDeclarationList",
                              "label": "let index = 0",
                              "start_token": 937,
                              "end_token": 940,
                              "children": [
                                {
                                  "type": "VariableDeclaration",
                                  "label": "index = 0",
                                  "start_token": 938,
                                  "end_token": 940,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "index",
                                      "start_token": 938,
                                      "end_token": 938,
                                      "children": []
                                    },
                                    {
                                      "type": "FirstLiteralToken",
                                      "label": "0",
                                      "start_token": 940,
                                      "end_token": 940,
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "type": "BinaryExpression",
                              "label": "index < downloadInfo.archives.length",
                              "start_token": 942,
                              "end_token": 948,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "index",
                                  "start_token": 942,
                                  "end_token": 942,
                                  "children": []
                                },
                                {
                                  "type": "FirstBinaryOperator",
                                  "label": "<",
                                  "start_token": 943,
                                  "end_token": 943,
                                  "children": []
                                },
                                {
                                  "type": "PropertyAccessExpression",
                                  "label": "downloadInfo.archives.length",
                                  "start_token": 944,
                                  "end_token": 948,
                                  "children": [
                                    {
                                      "type": "PropertyAccessExpression",
                                      "label": "downloadInfo.archives",
                                      "start_token": 944,
                                      "end_token": 946,
                                      "children": [
                                        {
                                          "type": "Identifier",
                                          "label": "downloadInfo",
                                          "start_token": 944,
                                          "end_token": 944,
                                          "children": []
                                        },
                                        {
                                          "type": "Identifier",
                                          "label": "archives",
                                          "start_token": 946,
                                          "end_token": 946,
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "type": "Identifier",
                                      "label": "length",
                                      "start_token": 948,
                                      "end_token": 948,
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "type": "PostfixUnaryExpression",
                              "label": "index++",
                              "start_token": 950,
                              "end_token": 952,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "index",
                                  "start_token": 950,
                                  "end_token": 950,
                                  "children": []
                                }
                              ]
                            },
                            {
                              "type": "Block",
                              "label": "{\n    const archive = downloadInfo.archives[index];\n    const suffix = downloadInfo.archives.length > 1 ? `+${index + 1}` : '';\n    const archiveName = fileName.replace('.zip', `${suffix}-${DateTime.now().toFormat('yyyyLLdd_HHmmss')}.zip`);\n    const key = getKey();\n    let downloadKey = `${archiveName} `;\n    if (downloadInfo.archives.length > 1) {\n      downloadKey = `${archiveName} (${index + 1}/${downloadInfo.archives.length})`;\n    }\n    const abort = new AbortController();\n    downloadManager.add(downloadKey, archive.size, abort);\n    try {\n      // TODO use sdk once it supports progress events\n      const { data } = await downloadRequest({\n        method: 'POST',\n        url: getBaseUrl() + '/download/archive' + (key ? `?key=${key}` : ''),\n        data: { assetIds: archive.assetIds },\n        signal: abort.signal,\n        onDownloadProgress: (event) => downloadManager.update(downloadKey, event.loaded),\n      });\n      downloadBlob(data, archiveName);\n    } catch (error) {\n      const $t = get(t);\n      handleError(error, $t('errors.unable_to_download_files'));\n      downloadManager.clear(downloadKey);\n      return;\n    } finally {\n      setTimeout(() => downloadManager.clear(downloadKey), 5000);\n    }\n  }",
                              "start_token": 954,
                              "end_token": 1168,
                              "children": [
                                {
                                  "type": "FirstStatement",
                                  "label": "const archive = downloadInfo.archives[index];",
                                  "start_token": 955,
                                  "end_token": 964,
                                  "children": [
                                    {
                                      "type": "VariableDeclarationList",
                                      "label": "const archive = downloadInfo.archives[index]",
                                      "start_token": 955,
                                      "end_token": 963,
                                      "children": [
                                        {
                                          "type": "VariableDeclaration",
                                          "label": "archive = downloadInfo.archives[index]",
                                          "start_token": 956,
                                          "end_token": 963,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "archive",
                                              "start_token": 956,
                                              "end_token": 956,
                                              "children": []
                                            },
                                            {
                                              "type": "ElementAccessExpression",
                                              "label": "downloadInfo.archives[index]",
                                              "start_token": 958,
                                              "end_token": 963,
                                              "children": [
                                                {
                                                  "type": "PropertyAccessExpression",
                                                  "label": "downloadInfo.archives",
                                                  "start_token": 958,
                                                  "end_token": 960,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "downloadInfo",
                                                      "start_token": 958,
                                                      "end_token": 958,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "archives",
                                                      "start_token": 960,
                                                      "end_token": 960,
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "Identifier",
                                                  "label": "index",
                                                  "start_token": 962,
                                                  "end_token": 962,
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "FirstStatement",
                                  "label": "const suffix = downloadInfo.archives.length > 1 ? `+${index + 1}` : '';",
                                  "start_token": 965,
                                  "end_token": 979,
                                  "children": [
                                    {
                                      "type": "VariableDeclarationList",
                                      "label": "const suffix = downloadInfo.archives.length > 1 ? `+${index + 1}` : ''",
                                      "start_token": 965,
                                      "end_token": 978,
                                      "children": [
                                        {
                                          "type": "VariableDeclaration",
                                          "label": "suffix = downloadInfo.archives.length > 1 ? `+${index + 1}` : ''",
                                          "start_token": 966,
                                          "end_token": 978,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "suffix",
                                              "start_token": 966,
                                              "end_token": 966,
                                              "children": []
                                            },
                                            {
                                              "type": "ConditionalExpression",
                                              "label": "downloadInfo.archives.length > 1 ? `+${index + 1}` : ''",
                                              "start_token": 968,
                                              "end_token": 978,
                                              "children": [
                                                {
                                                  "type": "BinaryExpression",
                                                  "label": "downloadInfo.archives.length > 1",
                                                  "start_token": 968,
                                                  "end_token": 974,
                                                  "children": [
                                                    {
                                                      "type": "PropertyAccessExpression",
                                                      "label": "downloadInfo.archives.length",
                                                      "start_token": 968,
                                                      "end_token": 972,
                                                      "children": [
                                                        {
                                                          "type": "PropertyAccessExpression",
                                                          "label": "downloadInfo.archives",
                                                          "start_token": 968,
                                                          "end_token": 970,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "downloadInfo",
                                                              "start_token": 968,
                                                              "end_token": 968,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "Identifier",
                                                              "label": "archives",
                                                              "start_token": 970,
                                                              "end_token": 970,
                                                              "children": []
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "type": "Identifier",
                                                          "label": "length",
                                                          "start_token": 972,
                                                          "end_token": 972,
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "GreaterThanToken",
                                                      "label": ">",
                                                      "start_token": 973,
                                                      "end_token": 973,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "FirstLiteralToken",
                                                      "label": "1",
                                                      "start_token": 974,
                                                      "end_token": 974,
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "QuestionToken",
                                                  "label": "?",
                                                  "start_token": 975,
                                                  "end_token": 975,
                                                  "children": []
                                                },
                                                {
                                                  "type": "TemplateExpression",
                                                  "label": "`+${index + 1}`",
                                                  "start_token": 976,
                                                  "end_token": 976,
                                                  "children": [
                                                    {
                                                      "type": "TemplateHead",
                                                      "label": "`+${",
                                                      "start_token": 976,
                                                      "end_token": 976,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "TemplateSpan",
                                                      "label": "index + 1}`",
                                                      "start_token": 976,
                                                      "end_token": 976,
                                                      "children": [
                                                        {
                                                          "type": "BinaryExpression",
                                                          "label": "index + 1",
                                                          "start_token": 976,
                                                          "end_token": 976,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "index",
                                                              "start_token": 976,
                                                              "end_token": 976,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "PlusToken",
                                                              "label": "+",
                                                              "start_token": 976,
                                                              "end_token": 976,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "FirstLiteralToken",
                                                              "label": "1",
                                                              "start_token": 976,
                                                              "end_token": 976,
                                                              "children": []
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "type": "LastTemplateToken",
                                                          "label": "}`",
                                                          "start_token": 976,
                                                          "end_token": 976,
                                                          "children": []
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "ColonToken",
                                                  "label": ":",
                                                  "start_token": 977,
                                                  "end_token": 977,
                                                  "children": []
                                                },
                                                {
                                                  "type": "StringLiteral",
                                                  "label": "''",
                                                  "start_token": 978,
                                                  "end_token": 978,
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "FirstStatement",
                                  "label": "const archiveName = fileName.replace('.zip', `${suffix}-${DateTime.now().toFormat('yyyyLLdd_HHmmss')}.zip`);",
                                  "start_token": 980,
                                  "end_token": 991,
                                  "children": [
                                    {
                                      "type": "VariableDeclarationList",
                                      "label": "const archiveName = fileName.replace('.zip', `${suffix}-${DateTime.now().toFormat('yyyyLLdd_HHmmss')}.zip`)",
                                      "start_token": 980,
                                      "end_token": 990,
                                      "children": [
                                        {
                                          "type": "VariableDeclaration",
                                          "label": "archiveName = fileName.replace('.zip', `${suffix}-${DateTime.now().toFormat('yyyyLLdd_HHmmss')}.zip`)",
                                          "start_token": 981,
                                          "end_token": 990,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "archiveName",
                                              "start_token": 981,
                                              "end_token": 981,
                                              "children": []
                                            },
                                            {
                                              "type": "CallExpression",
                                              "label": "fileName.replace('.zip', `${suffix}-${DateTime.now().toFormat('yyyyLLdd_HHmmss')}.zip`)",
                                              "start_token": 983,
                                              "end_token": 990,
                                              "children": [
                                                {
                                                  "type": "PropertyAccessExpression",
                                                  "label": "fileName.replace",
                                                  "start_token": 983,
                                                  "end_token": 985,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "fileName",
                                                      "start_token": 983,
                                                      "end_token": 983,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "replace",
                                                      "start_token": 985,
                                                      "end_token": 985,
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "StringLiteral",
                                                  "label": "'.zip'",
                                                  "start_token": 987,
                                                  "end_token": 987,
                                                  "children": []
                                                },
                                                {
                                                  "type": "TemplateExpression",
                                                  "label": "`${suffix}-${DateTime.now().toFormat('yyyyLLdd_HHmmss')}.zip`",
                                                  "start_token": 989,
                                                  "end_token": 989,
                                                  "children": [
                                                    {
                                                      "type": "TemplateHead",
                                                      "label": "`${",
                                                      "start_token": 989,
                                                      "end_token": 989,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "TemplateSpan",
                                                      "label": "suffix}-${",
                                                      "start_token": 989,
                                                      "end_token": 989,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "suffix",
                                                          "start_token": 989,
                                                          "end_token": 989,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "TemplateMiddle",
                                                          "label": "}-${",
                                                          "start_token": 989,
                                                          "end_token": 989,
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "TemplateSpan",
                                                      "label": "DateTime.now().toFormat('yyyyLLdd_HHmmss')}.zip`",
                                                      "start_token": 989,
                                                      "end_token": 989,
                                                      "children": [
                                                        {
                                                          "type": "CallExpression",
                                                          "label": "DateTime.now().toFormat('yyyyLLdd_HHmmss')",
                                                          "start_token": 989,
                                                          "end_token": 989,
                                                          "children": [
                                                            {
                                                              "type": "PropertyAccessExpression",
                                                              "label": "DateTime.now().toFormat",
                                                              "start_token": 989,
                                                              "end_token": 989,
                                                              "children": [
                                                                {
                                                                  "type": "CallExpression",
                                                                  "label": "DateTime.now()",
                                                                  "start_token": 989,
                                                                  "end_token": 989,
                                                                  "children": [
                                                                    {
                                                                      "type": "PropertyAccessExpression",
                                                                      "label": "DateTime.now",
                                                                      "start_token": 989,
                                                                      "end_token": 989,
                                                                      "children": [
                                                                        {
                                                                          "type": "Identifier",
                                                                          "label": "DateTime",
                                                                          "start_token": 989,
                                                                          "end_token": 989,
                                                                          "children": []
                                                                        },
                                                                        {
                                                                          "type": "Identifier",
                                                                          "label": "now",
                                                                          "start_token": 989,
                                                                          "end_token": 989,
                                                                          "children": []
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "toFormat",
                                                                  "start_token": 989,
                                                                  "end_token": 989,
                                                                  "children": []
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "type": "StringLiteral",
                                                              "label": "'yyyyLLdd_HHmmss'",
                                                              "start_token": 989,
                                                              "end_token": 989,
                                                              "children": []
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "type": "LastTemplateToken",
                                                          "label": "}.zip`",
                                                          "start_token": 989,
                                                          "end_token": 989,
                                                          "children": []
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "FirstStatement",
                                  "label": "const key = getKey();",
                                  "start_token": 992,
                                  "end_token": 998,
                                  "children": [
                                    {
                                      "type": "VariableDeclarationList",
                                      "label": "const key = getKey()",
                                      "start_token": 992,
                                      "end_token": 997,
                                      "children": [
                                        {
                                          "type": "VariableDeclaration",
                                          "label": "key = getKey()",
                                          "start_token": 993,
                                          "end_token": 997,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "key",
                                              "start_token": 993,
                                              "end_token": 993,
                                              "children": []
                                            },
                                            {
                                              "type": "CallExpression",
                                              "label": "getKey()",
                                              "start_token": 995,
                                              "end_token": 997,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "getKey",
                                                  "start_token": 995,
                                                  "end_token": 995,
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "FirstStatement",
                                  "label": "let downloadKey = `${archiveName} `;",
                                  "start_token": 999,
                                  "end_token": 1003,
                                  "children": [
                                    {
                                      "type": "VariableDeclarationList",
                                      "label": "let downloadKey = `${archiveName} `",
                                      "start_token": 999,
                                      "end_token": 1002,
                                      "children": [
                                        {
                                          "type": "VariableDeclaration",
                                          "label": "downloadKey = `${archiveName} `",
                                          "start_token": 1000,
                                          "end_token": 1002,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "downloadKey",
                                              "start_token": 1000,
                                              "end_token": 1000,
                                              "children": []
                                            },
                                            {
                                              "type": "TemplateExpression",
                                              "label": "`${archiveName} `",
                                              "start_token": 1002,
                                              "end_token": 1002,
                                              "children": [
                                                {
                                                  "type": "TemplateHead",
                                                  "label": "`${",
                                                  "start_token": 1002,
                                                  "end_token": 1002,
                                                  "children": []
                                                },
                                                {
                                                  "type": "TemplateSpan",
                                                  "label": "archiveName} `",
                                                  "start_token": 1002,
                                                  "end_token": 1002,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "archiveName",
                                                      "start_token": 1002,
                                                      "end_token": 1002,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "LastTemplateToken",
                                                      "label": "} `",
                                                      "start_token": 1002,
                                                      "end_token": 1002,
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "IfStatement",
                                  "label": "if (downloadInfo.archives.length > 1) {\n      downloadKey = `${archiveName} (${index + 1}/${downloadInfo.archives.length})`;\n    }",
                                  "start_token": 1004,
                                  "end_token": 1019,
                                  "children": [
                                    {
                                      "type": "BinaryExpression",
                                      "label": "downloadInfo.archives.length > 1",
                                      "start_token": 1006,
                                      "end_token": 1012,
                                      "children": [
                                        {
                                          "type": "PropertyAccessExpression",
                                          "label": "downloadInfo.archives.length",
                                          "start_token": 1006,
                                          "end_token": 1010,
                                          "children": [
                                            {
                                              "type": "PropertyAccessExpression",
                                              "label": "downloadInfo.archives",
                                              "start_token": 1006,
                                              "end_token": 1008,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "downloadInfo",
                                                  "start_token": 1006,
                                                  "end_token": 1006,
                                                  "children": []
                                                },
                                                {
                                                  "type": "Identifier",
                                                  "label": "archives",
                                                  "start_token": 1008,
                                                  "end_token": 1008,
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "length",
                                              "start_token": 1010,
                                              "end_token": 1010,
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "type": "GreaterThanToken",
                                          "label": ">",
                                          "start_token": 1011,
                                          "end_token": 1011,
                                          "children": []
                                        },
                                        {
                                          "type": "FirstLiteralToken",
                                          "label": "1",
                                          "start_token": 1012,
                                          "end_token": 1012,
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "type": "Block",
                                      "label": "{\n      downloadKey = `${archiveName} (${index + 1}/${downloadInfo.archives.length})`;\n    }",
                                      "start_token": 1014,
                                      "end_token": 1019,
                                      "children": [
                                        {
                                          "type": "ExpressionStatement",
                                          "label": "downloadKey = `${archiveName} (${index + 1}/${downloadInfo.archives.length})`;",
                                          "start_token": 1015,
                                          "end_token": 1018,
                                          "children": [
                                            {
                                              "type": "BinaryExpression",
                                              "label": "downloadKey = `${archiveName} (${index + 1}/${downloadInfo.archives.length})`",
                                              "start_token": 1015,
                                              "end_token": 1017,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "downloadKey",
                                                  "start_token": 1015,
                                                  "end_token": 1015,
                                                  "children": []
                                                },
                                                {
                                                  "type": "FirstAssignment",
                                                  "label": "=",
                                                  "start_token": 1016,
                                                  "end_token": 1016,
                                                  "children": []
                                                },
                                                {
                                                  "type": "TemplateExpression",
                                                  "label": "`${archiveName} (${index + 1}/${downloadInfo.archives.length})`",
                                                  "start_token": 1017,
                                                  "end_token": 1017,
                                                  "children": [
                                                    {
                                                      "type": "TemplateHead",
                                                      "label": "`${",
                                                      "start_token": 1017,
                                                      "end_token": 1017,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "TemplateSpan",
                                                      "label": "archiveName} (${",
                                                      "start_token": 1017,
                                                      "end_token": 1017,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "archiveName",
                                                          "start_token": 1017,
                                                          "end_token": 1017,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "TemplateMiddle",
                                                          "label": "} (${",
                                                          "start_token": 1017,
                                                          "end_token": 1017,
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "TemplateSpan",
                                                      "label": "index + 1}/${",
                                                      "start_token": 1017,
                                                      "end_token": 1017,
                                                      "children": [
                                                        {
                                                          "type": "BinaryExpression",
                                                          "label": "index + 1",
                                                          "start_token": 1017,
                                                          "end_token": 1017,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "index",
                                                              "start_token": 1017,
                                                              "end_token": 1017,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "PlusToken",
                                                              "label": "+",
                                                              "start_token": 1017,
                                                              "end_token": 1017,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "FirstLiteralToken",
                                                              "label": "1",
                                                              "start_token": 1017,
                                                              "end_token": 1017,
                                                              "children": []
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "type": "TemplateMiddle",
                                                          "label": "}/${",
                                                          "start_token": 1017,
                                                          "end_token": 1017,
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "TemplateSpan",
                                                      "label": "downloadInfo.archives.length})`",
                                                      "start_token": 1017,
                                                      "end_token": 1017,
                                                      "children": [
                                                        {
                                                          "type": "PropertyAccessExpression",
                                                          "label": "downloadInfo.archives.length",
                                                          "start_token": 1017,
                                                          "end_token": 1017,
                                                          "children": [
                                                            {
                                                              "type": "PropertyAccessExpression",
                                                              "label": "downloadInfo.archives",
                                                              "start_token": 1017,
                                                              "end_token": 1017,
                                                              "children": [
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "downloadInfo",
                                                                  "start_token": 1017,
                                                                  "end_token": 1017,
                                                                  "children": []
                                                                },
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "archives",
                                                                  "start_token": 1017,
                                                                  "end_token": 1017,
                                                                  "children": []
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "type": "Identifier",
                                                              "label": "length",
                                                              "start_token": 1017,
                                                              "end_token": 1017,
                                                              "children": []
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "type": "LastTemplateToken",
                                                          "label": "})`",
                                                          "start_token": 1017,
                                                          "end_token": 1017,
                                                          "children": []
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "FirstStatement",
                                  "label": "const abort = new AbortController();",
                                  "start_token": 1020,
                                  "end_token": 1027,
                                  "children": [
                                    {
                                      "type": "VariableDeclarationList",
                                      "label": "const abort = new AbortController()",
                                      "start_token": 1020,
                                      "end_token": 1026,
                                      "children": [
                                        {
                                          "type": "VariableDeclaration",
                                          "label": "abort = new AbortController()",
                                          "start_token": 1021,
                                          "end_token": 1026,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "abort",
                                              "start_token": 1021,
                                              "end_token": 1021,
                                              "children": []
                                            },
                                            {
                                              "type": "NewExpression",
                                              "label": "new AbortController()",
                                              "start_token": 1023,
                                              "end_token": 1026,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "AbortController",
                                                  "start_token": 1024,
                                                  "end_token": 1024,
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "ExpressionStatement",
                                  "label": "downloadManager.add(downloadKey, archive.size, abort);",
                                  "start_token": 1028,
                                  "end_token": 1040,
                                  "children": [
                                    {
                                      "type": "CallExpression",
                                      "label": "downloadManager.add(downloadKey, archive.size, abort)",
                                      "start_token": 1028,
                                      "end_token": 1039,
                                      "children": [
                                        {
                                          "type": "PropertyAccessExpression",
                                          "label": "downloadManager.add",
                                          "start_token": 1028,
                                          "end_token": 1030,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "downloadManager",
                                              "start_token": 1028,
                                              "end_token": 1028,
                                              "children": []
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "add",
                                              "start_token": 1030,
                                              "end_token": 1030,
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "type": "Identifier",
                                          "label": "downloadKey",
                                          "start_token": 1032,
                                          "end_token": 1032,
                                          "children": []
                                        },
                                        {
                                          "type": "PropertyAccessExpression",
                                          "label": "archive.size",
                                          "start_token": 1034,
                                          "end_token": 1036,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "archive",
                                              "start_token": 1034,
                                              "end_token": 1034,
                                              "children": []
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "size",
                                              "start_token": 1036,
                                              "end_token": 1036,
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "type": "Identifier",
                                          "label": "abort",
                                          "start_token": 1038,
                                          "end_token": 1038,
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "TryStatement",
                                  "label": "try {\n      // TODO use sdk once it supports progress events\n      const { data } = await downloadRequest({\n        method: 'POST',\n        url: getBaseUrl() + '/download/archive' + (key ? `?key=${key}` : ''),\n        data: { assetIds: archive.assetIds },\n        signal: abort.signal,\n        onDownloadProgress: (event) => downloadManager.update(downloadKey, event.loaded),\n      });\n      downloadBlob(data, archiveName);\n    } catch (error) {\n      const $t = get(t);\n      handleError(error, $t('errors.unable_to_download_files'));\n      downloadManager.clear(downloadKey);\n      return;\n    } finally {\n      setTimeout(() => downloadManager.clear(downloadKey), 5000);\n    }",
                                  "start_token": 1041,
                                  "end_token": 1167,
                                  "children": [
                                    {
                                      "type": "Block",
                                      "label": "{\n      // TODO use sdk once it supports progress events\n      const { data } = await downloadRequest({\n        method: 'POST',\n        url: getBaseUrl() + '/download/archive' + (key ? `?key=${key}` : ''),\n        data: { assetIds: archive.assetIds },\n        signal: abort.signal,\n        onDownloadProgress: (event) => downloadManager.update(downloadKey, event.loaded),\n      });\n      downloadBlob(data, archiveName);\n    }",
                                      "start_token": 1042,
                                      "end_token": 1116,
                                      "children": [
                                        {
                                          "type": "FirstStatement",
                                          "label": "const { data } = await downloadRequest({\n        method: 'POST',\n        url: getBaseUrl() + '/download/archive' + (key ? `?key=${key}` : ''),\n        data: { assetIds: archive.assetIds },\n        signal: abort.signal,\n        onDownloadProgress: (event) => downloadManager.update(downloadKey, event.loaded),\n      });",
                                          "start_token": 1044,
                                          "end_token": 1108,
                                          "children": [
                                            {
                                              "type": "VariableDeclarationList",
                                              "label": "const { data } = await downloadRequest({\n        method: 'POST',\n        url: getBaseUrl() + '/download/archive' + (key ? `?key=${key}` : ''),\n        data: { assetIds: archive.assetIds },\n        signal: abort.signal,\n        onDownloadProgress: (event) => downloadManager.update(downloadKey, event.loaded),\n      })",
                                              "start_token": 1044,
                                              "end_token": 1107,
                                              "children": [
                                                {
                                                  "type": "VariableDeclaration",
                                                  "label": "{ data } = await downloadRequest({\n        method: 'POST',\n        url: getBaseUrl() + '/download/archive' + (key ? `?key=${key}` : ''),\n        data: { assetIds: archive.assetIds },\n        signal: abort.signal,\n        onDownloadProgress: (event) => downloadManager.update(downloadKey, event.loaded),\n      })",
                                                  "start_token": 1045,
                                                  "end_token": 1107,
                                                  "children": [
                                                    {
                                                      "type": "ObjectBindingPattern",
                                                      "label": "{ data }",
                                                      "start_token": 1045,
                                                      "end_token": 1047,
                                                      "children": [
                                                        {
                                                          "type": "BindingElement",
                                                          "label": "data",
                                                          "start_token": 1046,
                                                          "end_token": 1046,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "data",
                                                              "start_token": 1046,
                                                              "end_token": 1046,
                                                              "children": []
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "AwaitExpression",
                                                      "label": "await downloadRequest({\n        method: 'POST',\n        url: getBaseUrl() + '/download/archive' + (key ? `?key=${key}` : ''),\n        data: { assetIds: archive.assetIds },\n        signal: abort.signal,\n        onDownloadProgress: (event) => downloadManager.update(downloadKey, event.loaded),\n      })",
                                                      "start_token": 1049,
                                                      "end_token": 1107,
                                                      "children": [
                                                        {
                                                          "type": "CallExpression",
                                                          "label": "downloadRequest({\n        method: 'POST',\n        url: getBaseUrl() + '/download/archive' + (key ? `?key=${key}` : ''),\n        data: { assetIds: archive.assetIds },\n        signal: abort.signal,\n        onDownloadProgress: (event) => downloadManager.update(downloadKey, event.loaded),\n      })",
                                                          "start_token": 1050,
                                                          "end_token": 1107,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "downloadRequest",
                                                              "start_token": 1050,
                                                              "end_token": 1050,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "ObjectLiteralExpression",
                                                              "label": "{\n        method: 'POST',\n        url: getBaseUrl() + '/download/archive' + (key ? `?key=${key}` : ''),\n        data: { assetIds: archive.assetIds },\n        signal: abort.signal,\n        onDownloadProgress: (event) => downloadManager.update(downloadKey, event.loaded),\n      }",
                                                              "start_token": 1052,
                                                              "end_token": 1106,
                                                              "children": [
                                                                {
                                                                  "type": "PropertyAssignment",
                                                                  "label": "method: 'POST'",
                                                                  "start_token": 1053,
                                                                  "end_token": 1055,
                                                                  "children": [
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "method",
                                                                      "start_token": 1053,
                                                                      "end_token": 1053,
                                                                      "children": []
                                                                    },
                                                                    {
                                                                      "type": "StringLiteral",
                                                                      "label": "'POST'",
                                                                      "start_token": 1055,
                                                                      "end_token": 1055,
                                                                      "children": []
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "type": "PropertyAssignment",
                                                                  "label": "url: getBaseUrl() + '/download/archive' + (key ? `?key=${key}` : '')",
                                                                  "start_token": 1057,
                                                                  "end_token": 1071,
                                                                  "children": [
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "url",
                                                                      "start_token": 1057,
                                                                      "end_token": 1057,
                                                                      "children": []
                                                                    },
                                                                    {
                                                                      "type": "BinaryExpression",
                                                                      "label": "getBaseUrl() + '/download/archive' + (key ? `?key=${key}` : '')",
                                                                      "start_token": 1059,
                                                                      "end_token": 1071,
                                                                      "children": [
                                                                        {
                                                                          "type": "BinaryExpression",
                                                                          "label": "getBaseUrl() + '/download/archive'",
                                                                          "start_token": 1059,
                                                                          "end_token": 1063,
                                                                          "children": [
                                                                            {
                                                                              "type": "CallExpression",
                                                                              "label": "getBaseUrl()",
                                                                              "start_token": 1059,
                                                                              "end_token": 1061,
                                                                              "children": [
                                                                                {
                                                                                  "type": "Identifier",
                                                                                  "label": "getBaseUrl",
                                                                                  "start_token": 1059,
                                                                                  "end_token": 1059,
                                                                                  "children": []
                                                                                }
                                                                              ]
                                                                            },
                                                                            {
                                                                              "type": "PlusToken",
                                                                              "label": "+",
                                                                              "start_token": 1062,
                                                                              "end_token": 1062,
                                                                              "children": []
                                                                            },
                                                                            {
                                                                              "type": "StringLiteral",
                                                                              "label": "'/download/archive'",
                                                                              "start_token": 1063,
                                                                              "end_token": 1063,
                                                                              "children": []
                                                                            }
                                                                          ]
                                                                        },
                                                                        {
                                                                          "type": "PlusToken",
                                                                          "label": "+",
                                                                          "start_token": 1064,
                                                                          "end_token": 1064,
                                                                          "children": []
                                                                        },
                                                                        {
                                                                          "type": "ParenthesizedExpression",
                                                                          "label": "(key ? `?key=${key}` : '')",
                                                                          "start_token": 1065,
                                                                          "end_token": 1071,
                                                                          "children": [
                                                                            {
                                                                              "type": "ConditionalExpression",
                                                                              "label": "key ? `?key=${key}` : ''",
                                                                              "start_token": 1066,
                                                                              "end_token": 1070,
                                                                              "children": [
                                                                                {
                                                                                  "type": "Identifier",
                                                                                  "label": "key",
                                                                                  "start_token": 1066,
                                                                                  "end_token": 1066,
                                                                                  "children": []
                                                                                },
                                                                                {
                                                                                  "type": "QuestionToken",
                                                                                  "label": "?",
                                                                                  "start_token": 1067,
                                                                                  "end_token": 1067,
                                                                                  "children": []
                                                                                },
                                                                                {
                                                                                  "type": "TemplateExpression",
                                                                                  "label": "`?key=${key}`",
                                                                                  "start_token": 1068,
                                                                                  "end_token": 1068,
                                                                                  "children": [
                                                                                    {
                                                                                      "type": "TemplateHead",
                                                                                      "label": "`?key=${",
                                                                                      "start_token": 1068,
                                                                                      "end_token": 1068,
                                                                                      "children": []
                                                                                    },
                                                                                    {
                                                                                      "type": "TemplateSpan",
                                                                                      "label": "key}`",
                                                                                      "start_token": 1068,
                                                                                      "end_token": 1068,
                                                                                      "children": [
                                                                                        {
                                                                                          "type": "Identifier",
                                                                                          "label": "key",
                                                                                          "start_token": 1068,
                                                                                          "end_token": 1068,
                                                                                          "children": []
                                                                                        },
                                                                                        {
                                                                                          "type": "LastTemplateToken",
                                                                                          "label": "}`",
                                                                                          "start_token": 1068,
                                                                                          "end_token": 1068,
                                                                                          "children": []
                                                                                        }
                                                                                      ]
                                                                                    }
                                                                                  ]
                                                                                },
                                                                                {
                                                                                  "type": "ColonToken",
                                                                                  "label": ":",
                                                                                  "start_token": 1069,
                                                                                  "end_token": 1069,
                                                                                  "children": []
                                                                                },
                                                                                {
                                                                                  "type": "StringLiteral",
                                                                                  "label": "''",
                                                                                  "start_token": 1070,
                                                                                  "end_token": 1070,
                                                                                  "children": []
                                                                                }
                                                                              ]
                                                                            }
                                                                          ]
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "type": "PropertyAssignment",
                                                                  "label": "data: { assetIds: archive.assetIds }",
                                                                  "start_token": 1073,
                                                                  "end_token": 1081,
                                                                  "children": [
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "data",
                                                                      "start_token": 1073,
                                                                      "end_token": 1073,
                                                                      "children": []
                                                                    },
                                                                    {
                                                                      "type": "ObjectLiteralExpression",
                                                                      "label": "{ assetIds: archive.assetIds }",
                                                                      "start_token": 1075,
                                                                      "end_token": 1081,
                                                                      "children": [
                                                                        {
                                                                          "type": "PropertyAssignment",
                                                                          "label": "assetIds: archive.assetIds",
                                                                          "start_token": 1076,
                                                                          "end_token": 1080,
                                                                          "children": [
                                                                            {
                                                                              "type": "Identifier",
                                                                              "label": "assetIds",
                                                                              "start_token": 1076,
                                                                              "end_token": 1076,
                                                                              "children": []
                                                                            },
                                                                            {
                                                                              "type": "PropertyAccessExpression",
                                                                              "label": "archive.assetIds",
                                                                              "start_token": 1078,
                                                                              "end_token": 1080,
                                                                              "children": [
                                                                                {
                                                                                  "type": "Identifier",
                                                                                  "label": "archive",
                                                                                  "start_token": 1078,
                                                                                  "end_token": 1078,
                                                                                  "children": []
                                                                                },
                                                                                {
                                                                                  "type": "Identifier",
                                                                                  "label": "assetIds",
                                                                                  "start_token": 1080,
                                                                                  "end_token": 1080,
                                                                                  "children": []
                                                                                }
                                                                              ]
                                                                            }
                                                                          ]
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "type": "PropertyAssignment",
                                                                  "label": "signal: abort.signal",
                                                                  "start_token": 1083,
                                                                  "end_token": 1087,
                                                                  "children": [
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "signal",
                                                                      "start_token": 1083,
                                                                      "end_token": 1083,
                                                                      "children": []
                                                                    },
                                                                    {
                                                                      "type": "PropertyAccessExpression",
                                                                      "label": "abort.signal",
                                                                      "start_token": 1085,
                                                                      "end_token": 1087,
                                                                      "children": [
                                                                        {
                                                                          "type": "Identifier",
                                                                          "label": "abort",
                                                                          "start_token": 1085,
                                                                          "end_token": 1085,
                                                                          "children": []
                                                                        },
                                                                        {
                                                                          "type": "Identifier",
                                                                          "label": "signal",
                                                                          "start_token": 1087,
                                                                          "end_token": 1087,
                                                                          "children": []
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "type": "PropertyAssignment",
                                                                  "label": "onDownloadProgress: (event) => downloadManager.update(downloadKey, event.loaded)",
                                                                  "start_token": 1089,
                                                                  "end_token": 1104,
                                                                  "children": [
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "onDownloadProgress",
                                                                      "start_token": 1089,
                                                                      "end_token": 1089,
                                                                      "children": []
                                                                    },
                                                                    {
                                                                      "type": "ArrowFunction",
                                                                      "label": "(event) => downloadManager.update(downloadKey, event.loaded)",
                                                                      "start_token": 1091,
                                                                      "end_token": 1104,
                                                                      "children": [
                                                                        {
                                                                          "type": "Parameter",
                                                                          "label": "event",
                                                                          "start_token": 1092,
                                                                          "end_token": 1092,
                                                                          "children": [
                                                                            {
                                                                              "type": "Identifier",
                                                                              "label": "event",
                                                                              "start_token": 1092,
                                                                              "end_token": 1092,
                                                                              "children": []
                                                                            }
                                                                          ]
                                                                        },
                                                                        {
                                                                          "type": "EqualsGreaterThanToken",
                                                                          "label": "=>",
                                                                          "start_token": 1094,
                                                                          "end_token": 1094,
                                                                          "children": []
                                                                        },
                                                                        {
                                                                          "type": "CallExpression",
                                                                          "label": "downloadManager.update(downloadKey, event.loaded)",
                                                                          "start_token": 1095,
                                                                          "end_token": 1104,
                                                                          "children": [
                                                                            {
                                                                              "type": "PropertyAccessExpression",
                                                                              "label": "downloadManager.update",
                                                                              "start_token": 1095,
                                                                              "end_token": 1097,
                                                                              "children": [
                                                                                {
                                                                                  "type": "Identifier",
                                                                                  "label": "downloadManager",
                                                                                  "start_token": 1095,
                                                                                  "end_token": 1095,
                                                                                  "children": []
                                                                                },
                                                                                {
                                                                                  "type": "Identifier",
                                                                                  "label": "update",
                                                                                  "start_token": 1097,
                                                                                  "end_token": 1097,
                                                                                  "children": []
                                                                                }
                                                                              ]
                                                                            },
                                                                            {
                                                                              "type": "Identifier",
                                                                              "label": "downloadKey",
                                                                              "start_token": 1099,
                                                                              "end_token": 1099,
                                                                              "children": []
                                                                            },
                                                                            {
                                                                              "type": "PropertyAccessExpression",
                                                                              "label": "event.loaded",
                                                                              "start_token": 1101,
                                                                              "end_token": 1103,
                                                                              "children": [
                                                                                {
                                                                                  "type": "Identifier",
                                                                                  "label": "event",
                                                                                  "start_token": 1101,
                                                                                  "end_token": 1101,
                                                                                  "children": []
                                                                                },
                                                                                {
                                                                                  "type": "Identifier",
                                                                                  "label": "loaded",
                                                                                  "start_token": 1103,
                                                                                  "end_token": 1103,
                                                                                  "children": []
                                                                                }
                                                                              ]
                                                                            }
                                                                          ]
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "type": "ExpressionStatement",
                                          "label": "downloadBlob(data, archiveName);",
                                          "start_token": 1109,
                                          "end_token": 1115,
                                          "children": [
                                            {
                                              "type": "CallExpression",
                                              "label": "downloadBlob(data, archiveName)",
                                              "start_token": 1109,
                                              "end_token": 1114,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "downloadBlob",
                                                  "start_token": 1109,
                                                  "end_token": 1109,
                                                  "children": []
                                                },
                                                {
                                                  "type": "Identifier",
                                                  "label": "data",
                                                  "start_token": 1111,
                                                  "end_token": 1111,
                                                  "children": []
                                                },
                                                {
                                                  "type": "Identifier",
                                                  "label": "archiveName",
                                                  "start_token": 1113,
                                                  "end_token": 1113,
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "type": "CatchClause",
                                      "label": "catch (error) {\n      const $t = get(t);\n      handleError(error, $t('errors.unable_to_download_files'));\n      downloadManager.clear(downloadKey);\n      return;\n    }",
                                      "start_token": 1117,
                                      "end_token": 1149,
                                      "children": [
                                        {
                                          "type": "VariableDeclaration",
                                          "label": "error",
                                          "start_token": 1119,
                                          "end_token": 1119,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "error",
                                              "start_token": 1119,
                                              "end_token": 1119,
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "type": "Block",
                                          "label": "{\n      const $t = get(t);\n      handleError(error, $t('errors.unable_to_download_files'));\n      downloadManager.clear(downloadKey);\n      return;\n    }",
                                          "start_token": 1121,
                                          "end_token": 1149,
                                          "children": [
                                            {
                                              "type": "FirstStatement",
                                              "label": "const $t = get(t);",
                                              "start_token": 1122,
                                              "end_token": 1129,
                                              "children": [
                                                {
                                                  "type": "VariableDeclarationList",
                                                  "label": "const $t = get(t)",
                                                  "start_token": 1122,
                                                  "end_token": 1128,
                                                  "children": [
                                                    {
                                                      "type": "VariableDeclaration",
                                                      "label": "$t = get(t)",
                                                      "start_token": 1123,
                                                      "end_token": 1128,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "$t",
                                                          "start_token": 1123,
                                                          "end_token": 1123,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "CallExpression",
                                                          "label": "get(t)",
                                                          "start_token": 1125,
                                                          "end_token": 1128,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "get",
                                                              "start_token": 1125,
                                                              "end_token": 1125,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "Identifier",
                                                              "label": "t",
                                                              "start_token": 1127,
                                                              "end_token": 1127,
                                                              "children": []
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "type": "ExpressionStatement",
                                              "label": "handleError(error, $t('errors.unable_to_download_files'));",
                                              "start_token": 1130,
                                              "end_token": 1139,
                                              "children": [
                                                {
                                                  "type": "CallExpression",
                                                  "label": "handleError(error, $t('errors.unable_to_download_files'))",
                                                  "start_token": 1130,
                                                  "end_token": 1138,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "handleError",
                                                      "start_token": 1130,
                                                      "end_token": 1130,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "error",
                                                      "start_token": 1132,
                                                      "end_token": 1132,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "CallExpression",
                                                      "label": "$t('errors.unable_to_download_files')",
                                                      "start_token": 1134,
                                                      "end_token": 1137,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "$t",
                                                          "start_token": 1134,
                                                          "end_token": 1134,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "StringLiteral",
                                                          "label": "'errors.unable_to_download_files'",
                                                          "start_token": 1136,
                                                          "end_token": 1136,
                                                          "children": []
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "type": "ExpressionStatement",
                                              "label": "downloadManager.clear(downloadKey);",
                                              "start_token": 1140,
                                              "end_token": 1146,
                                              "children": [
                                                {
                                                  "type": "CallExpression",
                                                  "label": "downloadManager.clear(downloadKey)",
                                                  "start_token": 1140,
                                                  "end_token": 1145,
                                                  "children": [
                                                    {
                                                      "type": "PropertyAccessExpression",
                                                      "label": "downloadManager.clear",
                                                      "start_token": 1140,
                                                      "end_token": 1142,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "downloadManager",
                                                          "start_token": 1140,
                                                          "end_token": 1140,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "Identifier",
                                                          "label": "clear",
                                                          "start_token": 1142,
                                                          "end_token": 1142,
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "downloadKey",
                                                      "start_token": 1144,
                                                      "end_token": 1144,
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "type": "ReturnStatement",
                                              "label": "return;",
                                              "start_token": 1147,
                                              "end_token": 1148,
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "type": "Block",
                                      "label": "{\n      setTimeout(() => downloadManager.clear(downloadKey), 5000);\n    }",
                                      "start_token": 1151,
                                      "end_token": 1167,
                                      "children": [
                                        {
                                          "type": "ExpressionStatement",
                                          "label": "setTimeout(() => downloadManager.clear(downloadKey), 5000);",
                                          "start_token": 1152,
                                          "end_token": 1166,
                                          "children": [
                                            {
                                              "type": "CallExpression",
                                              "label": "setTimeout(() => downloadManager.clear(downloadKey), 5000)",
                                              "start_token": 1152,
                                              "end_token": 1165,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "setTimeout",
                                                  "start_token": 1152,
                                                  "end_token": 1152,
                                                  "children": []
                                                },
                                                {
                                                  "type": "ArrowFunction",
                                                  "label": "() => downloadManager.clear(downloadKey)",
                                                  "start_token": 1154,
                                                  "end_token": 1162,
                                                  "children": [
                                                    {
                                                      "type": "EqualsGreaterThanToken",
                                                      "label": "=>",
                                                      "start_token": 1156,
                                                      "end_token": 1156,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "CallExpression",
                                                      "label": "downloadManager.clear(downloadKey)",
                                                      "start_token": 1157,
                                                      "end_token": 1162,
                                                      "children": [
                                                        {
                                                          "type": "PropertyAccessExpression",
                                                          "label": "downloadManager.clear",
                                                          "start_token": 1157,
                                                          "end_token": 1159,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "downloadManager",
                                                              "start_token": 1157,
                                                              "end_token": 1157,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "Identifier",
                                                              "label": "clear",
                                                              "start_token": 1159,
                                                              "end_token": 1159,
                                                              "children": []
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "type": "Identifier",
                                                          "label": "downloadKey",
                                                          "start_token": 1161,
                                                          "end_token": 1161,
                                                          "children": []
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "FirstLiteralToken",
                                                  "label": "5000",
                                                  "start_token": 1164,
                                                  "end_token": 1164,
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FirstStatement",
      "label": "export const downloadFile = async (asset: AssetResponseDto) => {\n  const $t = get(t);\n  const assets = [\n    {\n      filename: asset.originalFileName,\n      id: asset.id,\n      size: asset.exifInfo?.fileSizeInByte || 0,\n    },\n  ];\n  const isAndroidMotionVideo = (asset: AssetResponseDto) => {\n    return asset.originalPath.includes('encoded-video');\n  };\n  if (asset.livePhotoVideoId) {\n    const motionAsset = await getAssetInfo({ id: asset.livePhotoVideoId, key: getKey() });\n    if (!isAndroidMotionVideo(motionAsset) || get(preferences).download.includeEmbeddedVideos) {\n      assets.push({\n        filename: motionAsset.originalFileName,\n        id: asset.livePhotoVideoId,\n        size: motionAsset.exifInfo?.fileSizeInByte || 0,\n      });\n    }\n  }\n  for (const { filename, id, size } of assets) {\n    const downloadKey = filename;\n    try {\n      const abort = new AbortController();\n      downloadManager.add(downloadKey, size, abort);\n      const key = getKey();\n      notificationController.show({\n        type: NotificationType.Info,\n        message: $t('downloading_asset_filename', { values: { filename: asset.originalFileName } }),\n      });\n      // TODO use sdk once it supports progress events\n      const { data } = await downloadRequest({\n        method: 'GET',\n        url: getBaseUrl() + `/assets/${id}/original` + (key ? `?key=${key}` : ''),\n        signal: abort.signal,\n        onDownloadProgress: (event) => downloadManager.update(downloadKey, event.loaded, event.total),\n      });\n      downloadBlob(data, filename);\n    } catch (error) {\n      handleError(error, $t('errors.error_downloading', { values: { filename } }));\n      downloadManager.clear(downloadKey);\n    } finally {\n      setTimeout(() => downloadManager.clear(downloadKey), 5000);\n    }\n  }\n};",
      "start_token": 1171,
      "end_token": 1523,
      "children": [
        {
          "type": "ExportKeyword",
          "label": "export",
          "start_token": 1171,
          "end_token": 1171,
          "children": []
        },
        {
          "type": "VariableDeclarationList",
          "label": "const downloadFile = async (asset: AssetResponseDto) => {\n  const $t = get(t);\n  const assets = [\n    {\n      filename: asset.originalFileName,\n      id: asset.id,\n      size: asset.exifInfo?.fileSizeInByte || 0,\n    },\n  ];\n  const isAndroidMotionVideo = (asset: AssetResponseDto) => {\n    return asset.originalPath.includes('encoded-video');\n  };\n  if (asset.livePhotoVideoId) {\n    const motionAsset = await getAssetInfo({ id: asset.livePhotoVideoId, key: getKey() });\n    if (!isAndroidMotionVideo(motionAsset) || get(preferences).download.includeEmbeddedVideos) {\n      assets.push({\n        filename: motionAsset.originalFileName,\n        id: asset.livePhotoVideoId,\n        size: motionAsset.exifInfo?.fileSizeInByte || 0,\n      });\n    }\n  }\n  for (const { filename, id, size } of assets) {\n    const downloadKey = filename;\n    try {\n      const abort = new AbortController();\n      downloadManager.add(downloadKey, size, abort);\n      const key = getKey();\n      notificationController.show({\n        type: NotificationType.Info,\n        message: $t('downloading_asset_filename', { values: { filename: asset.originalFileName } }),\n      });\n      // TODO use sdk once it supports progress events\n      const { data } = await downloadRequest({\n        method: 'GET',\n        url: getBaseUrl() + `/assets/${id}/original` + (key ? `?key=${key}` : ''),\n        signal: abort.signal,\n        onDownloadProgress: (event) => downloadManager.update(downloadKey, event.loaded, event.total),\n      });\n      downloadBlob(data, filename);\n    } catch (error) {\n      handleError(error, $t('errors.error_downloading', { values: { filename } }));\n      downloadManager.clear(downloadKey);\n    } finally {\n      setTimeout(() => downloadManager.clear(downloadKey), 5000);\n    }\n  }\n}",
          "start_token": 1172,
          "end_token": 1522,
          "children": [
            {
              "type": "VariableDeclaration",
              "label": "downloadFile = async (asset: AssetResponseDto) => {\n  const $t = get(t);\n  const assets = [\n    {\n      filename: asset.originalFileName,\n      id: asset.id,\n      size: asset.exifInfo?.fileSizeInByte || 0,\n    },\n  ];\n  const isAndroidMotionVideo = (asset: AssetResponseDto) => {\n    return asset.originalPath.includes('encoded-video');\n  };\n  if (asset.livePhotoVideoId) {\n    const motionAsset = await getAssetInfo({ id: asset.livePhotoVideoId, key: getKey() });\n    if (!isAndroidMotionVideo(motionAsset) || get(preferences).download.includeEmbeddedVideos) {\n      assets.push({\n        filename: motionAsset.originalFileName,\n        id: asset.livePhotoVideoId,\n        size: motionAsset.exifInfo?.fileSizeInByte || 0,\n      });\n    }\n  }\n  for (const { filename, id, size } of assets) {\n    const downloadKey = filename;\n    try {\n      const abort = new AbortController();\n      downloadManager.add(downloadKey, size, abort);\n      const key = getKey();\n      notificationController.show({\n        type: NotificationType.Info,\n        message: $t('downloading_asset_filename', { values: { filename: asset.originalFileName } }),\n      });\n      // TODO use sdk once it supports progress events\n      const { data } = await downloadRequest({\n        method: 'GET',\n        url: getBaseUrl() + `/assets/${id}/original` + (key ? `?key=${key}` : ''),\n        signal: abort.signal,\n        onDownloadProgress: (event) => downloadManager.update(downloadKey, event.loaded, event.total),\n      });\n      downloadBlob(data, filename);\n    } catch (error) {\n      handleError(error, $t('errors.error_downloading', { values: { filename } }));\n      downloadManager.clear(downloadKey);\n    } finally {\n      setTimeout(() => downloadManager.clear(downloadKey), 5000);\n    }\n  }\n}",
              "start_token": 1173,
              "end_token": 1522,
              "children": [
                {
                  "type": "Identifier",
                  "label": "downloadFile",
                  "start_token": 1173,
                  "end_token": 1173,
                  "children": []
                },
                {
                  "type": "ArrowFunction",
                  "label": "async (asset: AssetResponseDto) => {\n  const $t = get(t);\n  const assets = [\n    {\n      filename: asset.originalFileName,\n      id: asset.id,\n      size: asset.exifInfo?.fileSizeInByte || 0,\n    },\n  ];\n  const isAndroidMotionVideo = (asset: AssetResponseDto) => {\n    return asset.originalPath.includes('encoded-video');\n  };\n  if (asset.livePhotoVideoId) {\n    const motionAsset = await getAssetInfo({ id: asset.livePhotoVideoId, key: getKey() });\n    if (!isAndroidMotionVideo(motionAsset) || get(preferences).download.includeEmbeddedVideos) {\n      assets.push({\n        filename: motionAsset.originalFileName,\n        id: asset.livePhotoVideoId,\n        size: motionAsset.exifInfo?.fileSizeInByte || 0,\n      });\n    }\n  }\n  for (const { filename, id, size } of assets) {\n    const downloadKey = filename;\n    try {\n      const abort = new AbortController();\n      downloadManager.add(downloadKey, size, abort);\n      const key = getKey();\n      notificationController.show({\n        type: NotificationType.Info,\n        message: $t('downloading_asset_filename', { values: { filename: asset.originalFileName } }),\n      });\n      // TODO use sdk once it supports progress events\n      const { data } = await downloadRequest({\n        method: 'GET',\n        url: getBaseUrl() + `/assets/${id}/original` + (key ? `?key=${key}` : ''),\n        signal: abort.signal,\n        onDownloadProgress: (event) => downloadManager.update(downloadKey, event.loaded, event.total),\n      });\n      downloadBlob(data, filename);\n    } catch (error) {\n      handleError(error, $t('errors.error_downloading', { values: { filename } }));\n      downloadManager.clear(downloadKey);\n    } finally {\n      setTimeout(() => downloadManager.clear(downloadKey), 5000);\n    }\n  }\n}",
                  "start_token": 1175,
                  "end_token": 1522,
                  "children": [
                    {
                      "type": "AsyncKeyword",
                      "label": "async",
                      "start_token": 1175,
                      "end_token": 1175,
                      "children": []
                    },
                    {
                      "type": "Parameter",
                      "label": "asset: AssetResponseDto",
                      "start_token": 1177,
                      "end_token": 1179,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "asset",
                          "start_token": 1177,
                          "end_token": 1177,
                          "children": []
                        },
                        {
                          "type": "TypeReference",
                          "label": "AssetResponseDto",
                          "start_token": 1179,
                          "end_token": 1179,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "AssetResponseDto",
                              "start_token": 1179,
                              "end_token": 1179,
                              "children": []
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "EqualsGreaterThanToken",
                      "label": "=>",
                      "start_token": 1181,
                      "end_token": 1181,
                      "children": []
                    },
                    {
                      "type": "Block",
                      "label": "{\n  const $t = get(t);\n  const assets = [\n    {\n      filename: asset.originalFileName,\n      id: asset.id,\n      size: asset.exifInfo?.fileSizeInByte || 0,\n    },\n  ];\n  const isAndroidMotionVideo = (asset: AssetResponseDto) => {\n    return asset.originalPath.includes('encoded-video');\n  };\n  if (asset.livePhotoVideoId) {\n    const motionAsset = await getAssetInfo({ id: asset.livePhotoVideoId, key: getKey() });\n    if (!isAndroidMotionVideo(motionAsset) || get(preferences).download.includeEmbeddedVideos) {\n      assets.push({\n        filename: motionAsset.originalFileName,\n        id: asset.livePhotoVideoId,\n        size: motionAsset.exifInfo?.fileSizeInByte || 0,\n      });\n    }\n  }\n  for (const { filename, id, size } of assets) {\n    const downloadKey = filename;\n    try {\n      const abort = new AbortController();\n      downloadManager.add(downloadKey, size, abort);\n      const key = getKey();\n      notificationController.show({\n        type: NotificationType.Info,\n        message: $t('downloading_asset_filename', { values: { filename: asset.originalFileName } }),\n      });\n      // TODO use sdk once it supports progress events\n      const { data } = await downloadRequest({\n        method: 'GET',\n        url: getBaseUrl() + `/assets/${id}/original` + (key ? `?key=${key}` : ''),\n        signal: abort.signal,\n        onDownloadProgress: (event) => downloadManager.update(downloadKey, event.loaded, event.total),\n      });\n      downloadBlob(data, filename);\n    } catch (error) {\n      handleError(error, $t('errors.error_downloading', { values: { filename } }));\n      downloadManager.clear(downloadKey);\n    } finally {\n      setTimeout(() => downloadManager.clear(downloadKey), 5000);\n    }\n  }\n}",
                      "start_token": 1182,
                      "end_token": 1522,
                      "children": [
                        {
                          "type": "FirstStatement",
                          "label": "const $t = get(t);",
                          "start_token": 1183,
                          "end_token": 1190,
                          "children": [
                            {
                              "type": "VariableDeclarationList",
                              "label": "const $t = get(t)",
                              "start_token": 1183,
                              "end_token": 1189,
                              "children": [
                                {
                                  "type": "VariableDeclaration",
                                  "label": "$t = get(t)",
                                  "start_token": 1184,
                                  "end_token": 1189,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "$t",
                                      "start_token": 1184,
                                      "end_token": 1184,
                                      "children": []
                                    },
                                    {
                                      "type": "CallExpression",
                                      "label": "get(t)",
                                      "start_token": 1186,
                                      "end_token": 1189,
                                      "children": [
                                        {
                                          "type": "Identifier",
                                          "label": "get",
                                          "start_token": 1186,
                                          "end_token": 1186,
                                          "children": []
                                        },
                                        {
                                          "type": "Identifier",
                                          "label": "t",
                                          "start_token": 1188,
                                          "end_token": 1188,
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "FirstStatement",
                          "label": "const assets = [\n    {\n      filename: asset.originalFileName,\n      id: asset.id,\n      size: asset.exifInfo?.fileSizeInByte || 0,\n    },\n  ];",
                          "start_token": 1191,
                          "end_token": 1222,
                          "children": [
                            {
                              "type": "VariableDeclarationList",
                              "label": "const assets = [\n    {\n      filename: asset.originalFileName,\n      id: asset.id,\n      size: asset.exifInfo?.fileSizeInByte || 0,\n    },\n  ]",
                              "start_token": 1191,
                              "end_token": 1221,
                              "children": [
                                {
                                  "type": "VariableDeclaration",
                                  "label": "assets = [\n    {\n      filename: asset.originalFileName,\n      id: asset.id,\n      size: asset.exifInfo?.fileSizeInByte || 0,\n    },\n  ]",
                                  "start_token": 1192,
                                  "end_token": 1221,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "assets",
                                      "start_token": 1192,
                                      "end_token": 1192,
                                      "children": []
                                    },
                                    {
                                      "type": "ArrayLiteralExpression",
                                      "label": "[\n    {\n      filename: asset.originalFileName,\n      id: asset.id,\n      size: asset.exifInfo?.fileSizeInByte || 0,\n    },\n  ]",
                                      "start_token": 1194,
                                      "end_token": 1221,
                                      "children": [
                                        {
                                          "type": "ObjectLiteralExpression",
                                          "label": "{\n      filename: asset.originalFileName,\n      id: asset.id,\n      size: asset.exifInfo?.fileSizeInByte || 0,\n    }",
                                          "start_token": 1195,
                                          "end_token": 1219,
                                          "children": [
                                            {
                                              "type": "PropertyAssignment",
                                              "label": "filename: asset.originalFileName",
                                              "start_token": 1196,
                                              "end_token": 1200,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "filename",
                                                  "start_token": 1196,
                                                  "end_token": 1196,
                                                  "children": []
                                                },
                                                {
                                                  "type": "PropertyAccessExpression",
                                                  "label": "asset.originalFileName",
                                                  "start_token": 1198,
                                                  "end_token": 1200,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "asset",
                                                      "start_token": 1198,
                                                      "end_token": 1198,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "originalFileName",
                                                      "start_token": 1200,
                                                      "end_token": 1200,
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "type": "PropertyAssignment",
                                              "label": "id: asset.id",
                                              "start_token": 1202,
                                              "end_token": 1206,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "id",
                                                  "start_token": 1202,
                                                  "end_token": 1202,
                                                  "children": []
                                                },
                                                {
                                                  "type": "PropertyAccessExpression",
                                                  "label": "asset.id",
                                                  "start_token": 1204,
                                                  "end_token": 1206,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "asset",
                                                      "start_token": 1204,
                                                      "end_token": 1204,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "id",
                                                      "start_token": 1206,
                                                      "end_token": 1206,
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "type": "PropertyAssignment",
                                              "label": "size: asset.exifInfo?.fileSizeInByte || 0",
                                              "start_token": 1208,
                                              "end_token": 1217,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "size",
                                                  "start_token": 1208,
                                                  "end_token": 1208,
                                                  "children": []
                                                },
                                                {
                                                  "type": "BinaryExpression",
                                                  "label": "asset.exifInfo?.fileSizeInByte || 0",
                                                  "start_token": 1210,
                                                  "end_token": 1217,
                                                  "children": [
                                                    {
                                                      "type": "PropertyAccessExpression",
                                                      "label": "asset.exifInfo?.fileSizeInByte",
                                                      "start_token": 1210,
                                                      "end_token": 1215,
                                                      "children": [
                                                        {
                                                          "type": "PropertyAccessExpression",
                                                          "label": "asset.exifInfo",
                                                          "start_token": 1210,
                                                          "end_token": 1212,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "asset",
                                                              "start_token": 1210,
                                                              "end_token": 1210,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "Identifier",
                                                              "label": "exifInfo",
                                                              "start_token": 1212,
                                                              "end_token": 1212,
                                                              "children": []
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "type": "QuestionDotToken",
                                                          "label": "?.",
                                                          "start_token": 1213,
                                                          "end_token": 1214,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "Identifier",
                                                          "label": "fileSizeInByte",
                                                          "start_token": 1215,
                                                          "end_token": 1215,
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "BarBarToken",
                                                      "label": "||",
                                                      "start_token": 1216,
                                                      "end_token": 1216,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "FirstLiteralToken",
                                                      "label": "0",
                                                      "start_token": 1217,
                                                      "end_token": 1217,
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "FirstStatement",
                          "label": "const isAndroidMotionVideo = (asset: AssetResponseDto) => {\n    return asset.originalPath.includes('encoded-video');\n  };",
                          "start_token": 1223,
                          "end_token": 1244,
                          "children": [
                            {
                              "type": "VariableDeclarationList",
                              "label": "const isAndroidMotionVideo = (asset: AssetResponseDto) => {\n    return asset.originalPath.includes('encoded-video');\n  }",
                              "start_token": 1223,
                              "end_token": 1243,
                              "children": [
                                {
                                  "type": "VariableDeclaration",
                                  "label": "isAndroidMotionVideo = (asset: AssetResponseDto) => {\n    return asset.originalPath.includes('encoded-video');\n  }",
                                  "start_token": 1224,
                                  "end_token": 1243,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "isAndroidMotionVideo",
                                      "start_token": 1224,
                                      "end_token": 1224,
                                      "children": []
                                    },
                                    {
                                      "type": "ArrowFunction",
                                      "label": "(asset: AssetResponseDto) => {\n    return asset.originalPath.includes('encoded-video');\n  }",
                                      "start_token": 1226,
                                      "end_token": 1243,
                                      "children": [
                                        {
                                          "type": "Parameter",
                                          "label": "asset: AssetResponseDto",
                                          "start_token": 1227,
                                          "end_token": 1229,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "asset",
                                              "start_token": 1227,
                                              "end_token": 1227,
                                              "children": []
                                            },
                                            {
                                              "type": "TypeReference",
                                              "label": "AssetResponseDto",
                                              "start_token": 1229,
                                              "end_token": 1229,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "AssetResponseDto",
                                                  "start_token": 1229,
                                                  "end_token": 1229,
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "type": "EqualsGreaterThanToken",
                                          "label": "=>",
                                          "start_token": 1231,
                                          "end_token": 1231,
                                          "children": []
                                        },
                                        {
                                          "type": "Block",
                                          "label": "{\n    return asset.originalPath.includes('encoded-video');\n  }",
                                          "start_token": 1232,
                                          "end_token": 1243,
                                          "children": [
                                            {
                                              "type": "ReturnStatement",
                                              "label": "return asset.originalPath.includes('encoded-video');",
                                              "start_token": 1233,
                                              "end_token": 1242,
                                              "children": [
                                                {
                                                  "type": "CallExpression",
                                                  "label": "asset.originalPath.includes('encoded-video')",
                                                  "start_token": 1234,
                                                  "end_token": 1241,
                                                  "children": [
                                                    {
                                                      "type": "PropertyAccessExpression",
                                                      "label": "asset.originalPath.includes",
                                                      "start_token": 1234,
                                                      "end_token": 1238,
                                                      "children": [
                                                        {
                                                          "type": "PropertyAccessExpression",
                                                          "label": "asset.originalPath",
                                                          "start_token": 1234,
                                                          "end_token": 1236,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "asset",
                                                              "start_token": 1234,
                                                              "end_token": 1234,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "Identifier",
                                                              "label": "originalPath",
                                                              "start_token": 1236,
                                                              "end_token": 1236,
                                                              "children": []
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "type": "Identifier",
                                                          "label": "includes",
                                                          "start_token": 1238,
                                                          "end_token": 1238,
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "StringLiteral",
                                                      "label": "'encoded-video'",
                                                      "start_token": 1240,
                                                      "end_token": 1240,
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "IfStatement",
                          "label": "if (asset.livePhotoVideoId) {\n    const motionAsset = await getAssetInfo({ id: asset.livePhotoVideoId, key: getKey() });\n    if (!isAndroidMotionVideo(motionAsset) || get(preferences).download.includeEmbeddedVideos) {\n      assets.push({\n        filename: motionAsset.originalFileName,\n        id: asset.livePhotoVideoId,\n        size: motionAsset.exifInfo?.fileSizeInByte || 0,\n      });\n    }\n  }",
                          "start_token": 1245,
                          "end_token": 1323,
                          "children": [
                            {
                              "type": "PropertyAccessExpression",
                              "label": "asset.livePhotoVideoId",
                              "start_token": 1247,
                              "end_token": 1249,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "asset",
                                  "start_token": 1247,
                                  "end_token": 1247,
                                  "children": []
                                },
                                {
                                  "type": "Identifier",
                                  "label": "livePhotoVideoId",
                                  "start_token": 1249,
                                  "end_token": 1249,
                                  "children": []
                                }
                              ]
                            },
                            {
                              "type": "Block",
                              "label": "{\n    const motionAsset = await getAssetInfo({ id: asset.livePhotoVideoId, key: getKey() });\n    if (!isAndroidMotionVideo(motionAsset) || get(preferences).download.includeEmbeddedVideos) {\n      assets.push({\n        filename: motionAsset.originalFileName,\n        id: asset.livePhotoVideoId,\n        size: motionAsset.exifInfo?.fileSizeInByte || 0,\n      });\n    }\n  }",
                              "start_token": 1251,
                              "end_token": 1323,
                              "children": [
                                {
                                  "type": "FirstStatement",
                                  "label": "const motionAsset = await getAssetInfo({ id: asset.livePhotoVideoId, key: getKey() });",
                                  "start_token": 1252,
                                  "end_token": 1272,
                                  "children": [
                                    {
                                      "type": "VariableDeclarationList",
                                      "label": "const motionAsset = await getAssetInfo({ id: asset.livePhotoVideoId, key: getKey() })",
                                      "start_token": 1252,
                                      "end_token": 1271,
                                      "children": [
                                        {
                                          "type": "VariableDeclaration",
                                          "label": "motionAsset = await getAssetInfo({ id: asset.livePhotoVideoId, key: getKey() })",
                                          "start_token": 1253,
                                          "end_token": 1271,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "motionAsset",
                                              "start_token": 1253,
                                              "end_token": 1253,
                                              "children": []
                                            },
                                            {
                                              "type": "AwaitExpression",
                                              "label": "await getAssetInfo({ id: asset.livePhotoVideoId, key: getKey() })",
                                              "start_token": 1255,
                                              "end_token": 1271,
                                              "children": [
                                                {
                                                  "type": "CallExpression",
                                                  "label": "getAssetInfo({ id: asset.livePhotoVideoId, key: getKey() })",
                                                  "start_token": 1256,
                                                  "end_token": 1271,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "getAssetInfo",
                                                      "start_token": 1256,
                                                      "end_token": 1256,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "ObjectLiteralExpression",
                                                      "label": "{ id: asset.livePhotoVideoId, key: getKey() }",
                                                      "start_token": 1258,
                                                      "end_token": 1270,
                                                      "children": [
                                                        {
                                                          "type": "PropertyAssignment",
                                                          "label": "id: asset.livePhotoVideoId",
                                                          "start_token": 1259,
                                                          "end_token": 1263,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "id",
                                                              "start_token": 1259,
                                                              "end_token": 1259,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "PropertyAccessExpression",
                                                              "label": "asset.livePhotoVideoId",
                                                              "start_token": 1261,
                                                              "end_token": 1263,
                                                              "children": [
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "asset",
                                                                  "start_token": 1261,
                                                                  "end_token": 1261,
                                                                  "children": []
                                                                },
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "livePhotoVideoId",
                                                                  "start_token": 1263,
                                                                  "end_token": 1263,
                                                                  "children": []
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "type": "PropertyAssignment",
                                                          "label": "key: getKey()",
                                                          "start_token": 1265,
                                                          "end_token": 1269,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "key",
                                                              "start_token": 1265,
                                                              "end_token": 1265,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "CallExpression",
                                                              "label": "getKey()",
                                                              "start_token": 1267,
                                                              "end_token": 1269,
                                                              "children": [
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "getKey",
                                                                  "start_token": 1267,
                                                                  "end_token": 1267,
                                                                  "children": []
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "IfStatement",
                                  "label": "if (!isAndroidMotionVideo(motionAsset) || get(preferences).download.includeEmbeddedVideos) {\n      assets.push({\n        filename: motionAsset.originalFileName,\n        id: asset.livePhotoVideoId,\n        size: motionAsset.exifInfo?.fileSizeInByte || 0,\n      });\n    }",
                                  "start_token": 1273,
                                  "end_token": 1322,
                                  "children": [
                                    {
                                      "type": "BinaryExpression",
                                      "label": "!isAndroidMotionVideo(motionAsset) || get(preferences).download.includeEmbeddedVideos",
                                      "start_token": 1275,
                                      "end_token": 1288,
                                      "children": [
                                        {
                                          "type": "PrefixUnaryExpression",
                                          "label": "!isAndroidMotionVideo(motionAsset)",
                                          "start_token": 1275,
                                          "end_token": 1279,
                                          "children": [
                                            {
                                              "type": "CallExpression",
                                              "label": "isAndroidMotionVideo(motionAsset)",
                                              "start_token": 1276,
                                              "end_token": 1279,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "isAndroidMotionVideo",
                                                  "start_token": 1276,
                                                  "end_token": 1276,
                                                  "children": []
                                                },
                                                {
                                                  "type": "Identifier",
                                                  "label": "motionAsset",
                                                  "start_token": 1278,
                                                  "end_token": 1278,
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "type": "BarBarToken",
                                          "label": "||",
                                          "start_token": 1280,
                                          "end_token": 1280,
                                          "children": []
                                        },
                                        {
                                          "type": "PropertyAccessExpression",
                                          "label": "get(preferences).download.includeEmbeddedVideos",
                                          "start_token": 1281,
                                          "end_token": 1288,
                                          "children": [
                                            {
                                              "type": "PropertyAccessExpression",
                                              "label": "get(preferences).download",
                                              "start_token": 1281,
                                              "end_token": 1286,
                                              "children": [
                                                {
                                                  "type": "CallExpression",
                                                  "label": "get(preferences)",
                                                  "start_token": 1281,
                                                  "end_token": 1284,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "get",
                                                      "start_token": 1281,
                                                      "end_token": 1281,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "preferences",
                                                      "start_token": 1283,
                                                      "end_token": 1283,
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "Identifier",
                                                  "label": "download",
                                                  "start_token": 1286,
                                                  "end_token": 1286,
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "includeEmbeddedVideos",
                                              "start_token": 1288,
                                              "end_token": 1288,
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "type": "Block",
                                      "label": "{\n      assets.push({\n        filename: motionAsset.originalFileName,\n        id: asset.livePhotoVideoId,\n        size: motionAsset.exifInfo?.fileSizeInByte || 0,\n      });\n    }",
                                      "start_token": 1290,
                                      "end_token": 1322,
                                      "children": [
                                        {
                                          "type": "ExpressionStatement",
                                          "label": "assets.push({\n        filename: motionAsset.originalFileName,\n        id: asset.livePhotoVideoId,\n        size: motionAsset.exifInfo?.fileSizeInByte || 0,\n      });",
                                          "start_token": 1291,
                                          "end_token": 1321,
                                          "children": [
                                            {
                                              "type": "CallExpression",
                                              "label": "assets.push({\n        filename: motionAsset.originalFileName,\n        id: asset.livePhotoVideoId,\n        size: motionAsset.exifInfo?.fileSizeInByte || 0,\n      })",
                                              "start_token": 1291,
                                              "end_token": 1320,
                                              "children": [
                                                {
                                                  "type": "PropertyAccessExpression",
                                                  "label": "assets.push",
                                                  "start_token": 1291,
                                                  "end_token": 1293,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "assets",
                                                      "start_token": 1291,
                                                      "end_token": 1291,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "push",
                                                      "start_token": 1293,
                                                      "end_token": 1293,
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "ObjectLiteralExpression",
                                                  "label": "{\n        filename: motionAsset.originalFileName,\n        id: asset.livePhotoVideoId,\n        size: motionAsset.exifInfo?.fileSizeInByte || 0,\n      }",
                                                  "start_token": 1295,
                                                  "end_token": 1319,
                                                  "children": [
                                                    {
                                                      "type": "PropertyAssignment",
                                                      "label": "filename: motionAsset.originalFileName",
                                                      "start_token": 1296,
                                                      "end_token": 1300,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "filename",
                                                          "start_token": 1296,
                                                          "end_token": 1296,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "PropertyAccessExpression",
                                                          "label": "motionAsset.originalFileName",
                                                          "start_token": 1298,
                                                          "end_token": 1300,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "motionAsset",
                                                              "start_token": 1298,
                                                              "end_token": 1298,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "Identifier",
                                                              "label": "originalFileName",
                                                              "start_token": 1300,
                                                              "end_token": 1300,
                                                              "children": []
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "PropertyAssignment",
                                                      "label": "id: asset.livePhotoVideoId",
                                                      "start_token": 1302,
                                                      "end_token": 1306,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "id",
                                                          "start_token": 1302,
                                                          "end_token": 1302,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "PropertyAccessExpression",
                                                          "label": "asset.livePhotoVideoId",
                                                          "start_token": 1304,
                                                          "end_token": 1306,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "asset",
                                                              "start_token": 1304,
                                                              "end_token": 1304,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "Identifier",
                                                              "label": "livePhotoVideoId",
                                                              "start_token": 1306,
                                                              "end_token": 1306,
                                                              "children": []
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "PropertyAssignment",
                                                      "label": "size: motionAsset.exifInfo?.fileSizeInByte || 0",
                                                      "start_token": 1308,
                                                      "end_token": 1317,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "size",
                                                          "start_token": 1308,
                                                          "end_token": 1308,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "BinaryExpression",
                                                          "label": "motionAsset.exifInfo?.fileSizeInByte || 0",
                                                          "start_token": 1310,
                                                          "end_token": 1317,
                                                          "children": [
                                                            {
                                                              "type": "PropertyAccessExpression",
                                                              "label": "motionAsset.exifInfo?.fileSizeInByte",
                                                              "start_token": 1310,
                                                              "end_token": 1315,
                                                              "children": [
                                                                {
                                                                  "type": "PropertyAccessExpression",
                                                                  "label": "motionAsset.exifInfo",
                                                                  "start_token": 1310,
                                                                  "end_token": 1312,
                                                                  "children": [
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "motionAsset",
                                                                      "start_token": 1310,
                                                                      "end_token": 1310,
                                                                      "children": []
                                                                    },
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "exifInfo",
                                                                      "start_token": 1312,
                                                                      "end_token": 1312,
                                                                      "children": []
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "type": "QuestionDotToken",
                                                                  "label": "?.",
                                                                  "start_token": 1313,
                                                                  "end_token": 1314,
                                                                  "children": []
                                                                },
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "fileSizeInByte",
                                                                  "start_token": 1315,
                                                                  "end_token": 1315,
                                                                  "children": []
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "type": "BarBarToken",
                                                              "label": "||",
                                                              "start_token": 1316,
                                                              "end_token": 1316,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "FirstLiteralToken",
                                                              "label": "0",
                                                              "start_token": 1317,
                                                              "end_token": 1317,
                                                              "children": []
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "ForOfStatement",
                          "label": "for (const { filename, id, size } of assets) {\n    const downloadKey = filename;\n    try {\n      const abort = new AbortController();\n      downloadManager.add(downloadKey, size, abort);\n      const key = getKey();\n      notificationController.show({\n        type: NotificationType.Info,\n        message: $t('downloading_asset_filename', { values: { filename: asset.originalFileName } }),\n      });\n      // TODO use sdk once it supports progress events\n      const { data } = await downloadRequest({\n        method: 'GET',\n        url: getBaseUrl() + `/assets/${id}/original` + (key ? `?key=${key}` : ''),\n        signal: abort.signal,\n        onDownloadProgress: (event) => downloadManager.update(downloadKey, event.loaded, event.total),\n      });\n      downloadBlob(data, filename);\n    } catch (error) {\n      handleError(error, $t('errors.error_downloading', { values: { filename } }));\n      downloadManager.clear(downloadKey);\n    } finally {\n      setTimeout(() => downloadManager.clear(downloadKey), 5000);\n    }\n  }",
                          "start_token": 1324,
                          "end_token": 1521,
                          "children": [
                            {
                              "type": "VariableDeclarationList",
                              "label": "const { filename, id, size }",
                              "start_token": 1326,
                              "end_token": 1333,
                              "children": [
                                {
                                  "type": "VariableDeclaration",
                                  "label": "{ filename, id, size }",
                                  "start_token": 1327,
                                  "end_token": 1333,
                                  "children": [
                                    {
                                      "type": "ObjectBindingPattern",
                                      "label": "{ filename, id, size }",
                                      "start_token": 1327,
                                      "end_token": 1333,
                                      "children": [
                                        {
                                          "type": "BindingElement",
                                          "label": "filename",
                                          "start_token": 1328,
                                          "end_token": 1328,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "filename",
                                              "start_token": 1328,
                                              "end_token": 1328,
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "type": "BindingElement",
                                          "label": "id",
                                          "start_token": 1330,
                                          "end_token": 1330,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "id",
                                              "start_token": 1330,
                                              "end_token": 1330,
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "type": "BindingElement",
                                          "label": "size",
                                          "start_token": 1332,
                                          "end_token": 1332,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "size",
                                              "start_token": 1332,
                                              "end_token": 1332,
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "type": "Identifier",
                              "label": "assets",
                              "start_token": 1335,
                              "end_token": 1335,
                              "children": []
                            },
                            {
                              "type": "Block",
                              "label": "{\n    const downloadKey = filename;\n    try {\n      const abort = new AbortController();\n      downloadManager.add(downloadKey, size, abort);\n      const key = getKey();\n      notificationController.show({\n        type: NotificationType.Info,\n        message: $t('downloading_asset_filename', { values: { filename: asset.originalFileName } }),\n      });\n      // TODO use sdk once it supports progress events\n      const { data } = await downloadRequest({\n        method: 'GET',\n        url: getBaseUrl() + `/assets/${id}/original` + (key ? `?key=${key}` : ''),\n        signal: abort.signal,\n        onDownloadProgress: (event) => downloadManager.update(downloadKey, event.loaded, event.total),\n      });\n      downloadBlob(data, filename);\n    } catch (error) {\n      handleError(error, $t('errors.error_downloading', { values: { filename } }));\n      downloadManager.clear(downloadKey);\n    } finally {\n      setTimeout(() => downloadManager.clear(downloadKey), 5000);\n    }\n  }",
                              "start_token": 1337,
                              "end_token": 1521,
                              "children": [
                                {
                                  "type": "FirstStatement",
                                  "label": "const downloadKey = filename;",
                                  "start_token": 1338,
                                  "end_token": 1342,
                                  "children": [
                                    {
                                      "type": "VariableDeclarationList",
                                      "label": "const downloadKey = filename",
                                      "start_token": 1338,
                                      "end_token": 1341,
                                      "children": [
                                        {
                                          "type": "VariableDeclaration",
                                          "label": "downloadKey = filename",
                                          "start_token": 1339,
                                          "end_token": 1341,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "downloadKey",
                                              "start_token": 1339,
                                              "end_token": 1339,
                                              "children": []
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "filename",
                                              "start_token": 1341,
                                              "end_token": 1341,
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "TryStatement",
                                  "label": "try {\n      const abort = new AbortController();\n      downloadManager.add(downloadKey, size, abort);\n      const key = getKey();\n      notificationController.show({\n        type: NotificationType.Info,\n        message: $t('downloading_asset_filename', { values: { filename: asset.originalFileName } }),\n      });\n      // TODO use sdk once it supports progress events\n      const { data } = await downloadRequest({\n        method: 'GET',\n        url: getBaseUrl() + `/assets/${id}/original` + (key ? `?key=${key}` : ''),\n        signal: abort.signal,\n        onDownloadProgress: (event) => downloadManager.update(downloadKey, event.loaded, event.total),\n      });\n      downloadBlob(data, filename);\n    } catch (error) {\n      handleError(error, $t('errors.error_downloading', { values: { filename } }));\n      downloadManager.clear(downloadKey);\n    } finally {\n      setTimeout(() => downloadManager.clear(downloadKey), 5000);\n    }",
                                  "start_token": 1343,
                                  "end_token": 1520,
                                  "children": [
                                    {
                                      "type": "Block",
                                      "label": "{\n      const abort = new AbortController();\n      downloadManager.add(downloadKey, size, abort);\n      const key = getKey();\n      notificationController.show({\n        type: NotificationType.Info,\n        message: $t('downloading_asset_filename', { values: { filename: asset.originalFileName } }),\n      });\n      // TODO use sdk once it supports progress events\n      const { data } = await downloadRequest({\n        method: 'GET',\n        url: getBaseUrl() + `/assets/${id}/original` + (key ? `?key=${key}` : ''),\n        signal: abort.signal,\n        onDownloadProgress: (event) => downloadManager.update(downloadKey, event.loaded, event.total),\n      });\n      downloadBlob(data, filename);\n    }",
                                      "start_token": 1344,
                                      "end_token": 1471,
                                      "children": [
                                        {
                                          "type": "FirstStatement",
                                          "label": "const abort = new AbortController();",
                                          "start_token": 1345,
                                          "end_token": 1352,
                                          "children": [
                                            {
                                              "type": "VariableDeclarationList",
                                              "label": "const abort = new AbortController()",
                                              "start_token": 1345,
                                              "end_token": 1351,
                                              "children": [
                                                {
                                                  "type": "VariableDeclaration",
                                                  "label": "abort = new AbortController()",
                                                  "start_token": 1346,
                                                  "end_token": 1351,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "abort",
                                                      "start_token": 1346,
                                                      "end_token": 1346,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "NewExpression",
                                                      "label": "new AbortController()",
                                                      "start_token": 1348,
                                                      "end_token": 1351,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "AbortController",
                                                          "start_token": 1349,
                                                          "end_token": 1349,
                                                          "children": []
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "type": "ExpressionStatement",
                                          "label": "downloadManager.add(downloadKey, size, abort);",
                                          "start_token": 1353,
                                          "end_token": 1363,
                                          "children": [
                                            {
                                              "type": "CallExpression",
                                              "label": "downloadManager.add(downloadKey, size, abort)",
                                              "start_token": 1353,
                                              "end_token": 1362,
                                              "children": [
                                                {
                                                  "type": "PropertyAccessExpression",
                                                  "label": "downloadManager.add",
                                                  "start_token": 1353,
                                                  "end_token": 1355,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "downloadManager",
                                                      "start_token": 1353,
                                                      "end_token": 1353,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "add",
                                                      "start_token": 1355,
                                                      "end_token": 1355,
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "Identifier",
                                                  "label": "downloadKey",
                                                  "start_token": 1357,
                                                  "end_token": 1357,
                                                  "children": []
                                                },
                                                {
                                                  "type": "Identifier",
                                                  "label": "size",
                                                  "start_token": 1359,
                                                  "end_token": 1359,
                                                  "children": []
                                                },
                                                {
                                                  "type": "Identifier",
                                                  "label": "abort",
                                                  "start_token": 1361,
                                                  "end_token": 1361,
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "type": "FirstStatement",
                                          "label": "const key = getKey();",
                                          "start_token": 1364,
                                          "end_token": 1370,
                                          "children": [
                                            {
                                              "type": "VariableDeclarationList",
                                              "label": "const key = getKey()",
                                              "start_token": 1364,
                                              "end_token": 1369,
                                              "children": [
                                                {
                                                  "type": "VariableDeclaration",
                                                  "label": "key = getKey()",
                                                  "start_token": 1365,
                                                  "end_token": 1369,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "key",
                                                      "start_token": 1365,
                                                      "end_token": 1365,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "CallExpression",
                                                      "label": "getKey()",
                                                      "start_token": 1367,
                                                      "end_token": 1369,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "getKey",
                                                          "start_token": 1367,
                                                          "end_token": 1367,
                                                          "children": []
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "type": "ExpressionStatement",
                                          "label": "notificationController.show({\n        type: NotificationType.Info,\n        message: $t('downloading_asset_filename', { values: { filename: asset.originalFileName } }),\n      });",
                                          "start_token": 1371,
                                          "end_token": 1403,
                                          "children": [
                                            {
                                              "type": "CallExpression",
                                              "label": "notificationController.show({\n        type: NotificationType.Info,\n        message: $t('downloading_asset_filename', { values: { filename: asset.originalFileName } }),\n      })",
                                              "start_token": 1371,
                                              "end_token": 1402,
                                              "children": [
                                                {
                                                  "type": "PropertyAccessExpression",
                                                  "label": "notificationController.show",
                                                  "start_token": 1371,
                                                  "end_token": 1373,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "notificationController",
                                                      "start_token": 1371,
                                                      "end_token": 1371,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "show",
                                                      "start_token": 1373,
                                                      "end_token": 1373,
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "ObjectLiteralExpression",
                                                  "label": "{\n        type: NotificationType.Info,\n        message: $t('downloading_asset_filename', { values: { filename: asset.originalFileName } }),\n      }",
                                                  "start_token": 1375,
                                                  "end_token": 1401,
                                                  "children": [
                                                    {
                                                      "type": "PropertyAssignment",
                                                      "label": "type: NotificationType.Info",
                                                      "start_token": 1376,
                                                      "end_token": 1380,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "type",
                                                          "start_token": 1376,
                                                          "end_token": 1376,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "PropertyAccessExpression",
                                                          "label": "NotificationType.Info",
                                                          "start_token": 1378,
                                                          "end_token": 1380,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "NotificationType",
                                                              "start_token": 1378,
                                                              "end_token": 1378,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "Identifier",
                                                              "label": "Info",
                                                              "start_token": 1380,
                                                              "end_token": 1380,
                                                              "children": []
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "PropertyAssignment",
                                                      "label": "message: $t('downloading_asset_filename', { values: { filename: asset.originalFileName } })",
                                                      "start_token": 1382,
                                                      "end_token": 1399,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "message",
                                                          "start_token": 1382,
                                                          "end_token": 1382,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "CallExpression",
                                                          "label": "$t('downloading_asset_filename', { values: { filename: asset.originalFileName } })",
                                                          "start_token": 1384,
                                                          "end_token": 1399,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "$t",
                                                              "start_token": 1384,
                                                              "end_token": 1384,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "StringLiteral",
                                                              "label": "'downloading_asset_filename'",
                                                              "start_token": 1386,
                                                              "end_token": 1386,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "ObjectLiteralExpression",
                                                              "label": "{ values: { filename: asset.originalFileName } }",
                                                              "start_token": 1388,
                                                              "end_token": 1398,
                                                              "children": [
                                                                {
                                                                  "type": "PropertyAssignment",
                                                                  "label": "values: { filename: asset.originalFileName }",
                                                                  "start_token": 1389,
                                                                  "end_token": 1397,
                                                                  "children": [
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "values",
                                                                      "start_token": 1389,
                                                                      "end_token": 1389,
                                                                      "children": []
                                                                    },
                                                                    {
                                                                      "type": "ObjectLiteralExpression",
                                                                      "label": "{ filename: asset.originalFileName }",
                                                                      "start_token": 1391,
                                                                      "end_token": 1397,
                                                                      "children": [
                                                                        {
                                                                          "type": "PropertyAssignment",
                                                                          "label": "filename: asset.originalFileName",
                                                                          "start_token": 1392,
                                                                          "end_token": 1396,
                                                                          "children": [
                                                                            {
                                                                              "type": "Identifier",
                                                                              "label": "filename",
                                                                              "start_token": 1392,
                                                                              "end_token": 1392,
                                                                              "children": []
                                                                            },
                                                                            {
                                                                              "type": "PropertyAccessExpression",
                                                                              "label": "asset.originalFileName",
                                                                              "start_token": 1394,
                                                                              "end_token": 1396,
                                                                              "children": [
                                                                                {
                                                                                  "type": "Identifier",
                                                                                  "label": "asset",
                                                                                  "start_token": 1394,
                                                                                  "end_token": 1394,
                                                                                  "children": []
                                                                                },
                                                                                {
                                                                                  "type": "Identifier",
                                                                                  "label": "originalFileName",
                                                                                  "start_token": 1396,
                                                                                  "end_token": 1396,
                                                                                  "children": []
                                                                                }
                                                                              ]
                                                                            }
                                                                          ]
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "type": "FirstStatement",
                                          "label": "const { data } = await downloadRequest({\n        method: 'GET',\n        url: getBaseUrl() + `/assets/${id}/original` + (key ? `?key=${key}` : ''),\n        signal: abort.signal,\n        onDownloadProgress: (event) => downloadManager.update(downloadKey, event.loaded, event.total),\n      });",
                                          "start_token": 1405,
                                          "end_token": 1463,
                                          "children": [
                                            {
                                              "type": "VariableDeclarationList",
                                              "label": "const { data } = await downloadRequest({\n        method: 'GET',\n        url: getBaseUrl() + `/assets/${id}/original` + (key ? `?key=${key}` : ''),\n        signal: abort.signal,\n        onDownloadProgress: (event) => downloadManager.update(downloadKey, event.loaded, event.total),\n      })",
                                              "start_token": 1405,
                                              "end_token": 1462,
                                              "children": [
                                                {
                                                  "type": "VariableDeclaration",
                                                  "label": "{ data } = await downloadRequest({\n        method: 'GET',\n        url: getBaseUrl() + `/assets/${id}/original` + (key ? `?key=${key}` : ''),\n        signal: abort.signal,\n        onDownloadProgress: (event) => downloadManager.update(downloadKey, event.loaded, event.total),\n      })",
                                                  "start_token": 1406,
                                                  "end_token": 1462,
                                                  "children": [
                                                    {
                                                      "type": "ObjectBindingPattern",
                                                      "label": "{ data }",
                                                      "start_token": 1406,
                                                      "end_token": 1408,
                                                      "children": [
                                                        {
                                                          "type": "BindingElement",
                                                          "label": "data",
                                                          "start_token": 1407,
                                                          "end_token": 1407,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "data",
                                                              "start_token": 1407,
                                                              "end_token": 1407,
                                                              "children": []
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "AwaitExpression",
                                                      "label": "await downloadRequest({\n        method: 'GET',\n        url: getBaseUrl() + `/assets/${id}/original` + (key ? `?key=${key}` : ''),\n        signal: abort.signal,\n        onDownloadProgress: (event) => downloadManager.update(downloadKey, event.loaded, event.total),\n      })",
                                                      "start_token": 1410,
                                                      "end_token": 1462,
                                                      "children": [
                                                        {
                                                          "type": "CallExpression",
                                                          "label": "downloadRequest({\n        method: 'GET',\n        url: getBaseUrl() + `/assets/${id}/original` + (key ? `?key=${key}` : ''),\n        signal: abort.signal,\n        onDownloadProgress: (event) => downloadManager.update(downloadKey, event.loaded, event.total),\n      })",
                                                          "start_token": 1411,
                                                          "end_token": 1462,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "downloadRequest",
                                                              "start_token": 1411,
                                                              "end_token": 1411,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "ObjectLiteralExpression",
                                                              "label": "{\n        method: 'GET',\n        url: getBaseUrl() + `/assets/${id}/original` + (key ? `?key=${key}` : ''),\n        signal: abort.signal,\n        onDownloadProgress: (event) => downloadManager.update(downloadKey, event.loaded, event.total),\n      }",
                                                              "start_token": 1413,
                                                              "end_token": 1461,
                                                              "children": [
                                                                {
                                                                  "type": "PropertyAssignment",
                                                                  "label": "method: 'GET'",
                                                                  "start_token": 1414,
                                                                  "end_token": 1416,
                                                                  "children": [
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "method",
                                                                      "start_token": 1414,
                                                                      "end_token": 1414,
                                                                      "children": []
                                                                    },
                                                                    {
                                                                      "type": "StringLiteral",
                                                                      "label": "'GET'",
                                                                      "start_token": 1416,
                                                                      "end_token": 1416,
                                                                      "children": []
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "type": "PropertyAssignment",
                                                                  "label": "url: getBaseUrl() + `/assets/${id}/original` + (key ? `?key=${key}` : '')",
                                                                  "start_token": 1418,
                                                                  "end_token": 1432,
                                                                  "children": [
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "url",
                                                                      "start_token": 1418,
                                                                      "end_token": 1418,
                                                                      "children": []
                                                                    },
                                                                    {
                                                                      "type": "BinaryExpression",
                                                                      "label": "getBaseUrl() + `/assets/${id}/original` + (key ? `?key=${key}` : '')",
                                                                      "start_token": 1420,
                                                                      "end_token": 1432,
                                                                      "children": [
                                                                        {
                                                                          "type": "BinaryExpression",
                                                                          "label": "getBaseUrl() + `/assets/${id}/original`",
                                                                          "start_token": 1420,
                                                                          "end_token": 1424,
                                                                          "children": [
                                                                            {
                                                                              "type": "CallExpression",
                                                                              "label": "getBaseUrl()",
                                                                              "start_token": 1420,
                                                                              "end_token": 1422,
                                                                              "children": [
                                                                                {
                                                                                  "type": "Identifier",
                                                                                  "label": "getBaseUrl",
                                                                                  "start_token": 1420,
                                                                                  "end_token": 1420,
                                                                                  "children": []
                                                                                }
                                                                              ]
                                                                            },
                                                                            {
                                                                              "type": "PlusToken",
                                                                              "label": "+",
                                                                              "start_token": 1423,
                                                                              "end_token": 1423,
                                                                              "children": []
                                                                            },
                                                                            {
                                                                              "type": "TemplateExpression",
                                                                              "label": "`/assets/${id}/original`",
                                                                              "start_token": 1424,
                                                                              "end_token": 1424,
                                                                              "children": [
                                                                                {
                                                                                  "type": "TemplateHead",
                                                                                  "label": "`/assets/${",
                                                                                  "start_token": 1424,
                                                                                  "end_token": 1424,
                                                                                  "children": []
                                                                                },
                                                                                {
                                                                                  "type": "TemplateSpan",
                                                                                  "label": "id}/original`",
                                                                                  "start_token": 1424,
                                                                                  "end_token": 1424,
                                                                                  "children": [
                                                                                    {
                                                                                      "type": "Identifier",
                                                                                      "label": "id",
                                                                                      "start_token": 1424,
                                                                                      "end_token": 1424,
                                                                                      "children": []
                                                                                    },
                                                                                    {
                                                                                      "type": "LastTemplateToken",
                                                                                      "label": "}/original`",
                                                                                      "start_token": 1424,
                                                                                      "end_token": 1424,
                                                                                      "children": []
                                                                                    }
                                                                                  ]
                                                                                }
                                                                              ]
                                                                            }
                                                                          ]
                                                                        },
                                                                        {
                                                                          "type": "PlusToken",
                                                                          "label": "+",
                                                                          "start_token": 1425,
                                                                          "end_token": 1425,
                                                                          "children": []
                                                                        },
                                                                        {
                                                                          "type": "ParenthesizedExpression",
                                                                          "label": "(key ? `?key=${key}` : '')",
                                                                          "start_token": 1426,
                                                                          "end_token": 1432,
                                                                          "children": [
                                                                            {
                                                                              "type": "ConditionalExpression",
                                                                              "label": "key ? `?key=${key}` : ''",
                                                                              "start_token": 1427,
                                                                              "end_token": 1431,
                                                                              "children": [
                                                                                {
                                                                                  "type": "Identifier",
                                                                                  "label": "key",
                                                                                  "start_token": 1427,
                                                                                  "end_token": 1427,
                                                                                  "children": []
                                                                                },
                                                                                {
                                                                                  "type": "QuestionToken",
                                                                                  "label": "?",
                                                                                  "start_token": 1428,
                                                                                  "end_token": 1428,
                                                                                  "children": []
                                                                                },
                                                                                {
                                                                                  "type": "TemplateExpression",
                                                                                  "label": "`?key=${key}`",
                                                                                  "start_token": 1429,
                                                                                  "end_token": 1429,
                                                                                  "children": [
                                                                                    {
                                                                                      "type": "TemplateHead",
                                                                                      "label": "`?key=${",
                                                                                      "start_token": 1429,
                                                                                      "end_token": 1429,
                                                                                      "children": []
                                                                                    },
                                                                                    {
                                                                                      "type": "TemplateSpan",
                                                                                      "label": "key}`",
                                                                                      "start_token": 1429,
                                                                                      "end_token": 1429,
                                                                                      "children": [
                                                                                        {
                                                                                          "type": "Identifier",
                                                                                          "label": "key",
                                                                                          "start_token": 1429,
                                                                                          "end_token": 1429,
                                                                                          "children": []
                                                                                        },
                                                                                        {
                                                                                          "type": "LastTemplateToken",
                                                                                          "label": "}`",
                                                                                          "start_token": 1429,
                                                                                          "end_token": 1429,
                                                                                          "children": []
                                                                                        }
                                                                                      ]
                                                                                    }
                                                                                  ]
                                                                                },
                                                                                {
                                                                                  "type": "ColonToken",
                                                                                  "label": ":",
                                                                                  "start_token": 1430,
                                                                                  "end_token": 1430,
                                                                                  "children": []
                                                                                },
                                                                                {
                                                                                  "type": "StringLiteral",
                                                                                  "label": "''",
                                                                                  "start_token": 1431,
                                                                                  "end_token": 1431,
                                                                                  "children": []
                                                                                }
                                                                              ]
                                                                            }
                                                                          ]
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "type": "PropertyAssignment",
                                                                  "label": "signal: abort.signal",
                                                                  "start_token": 1434,
                                                                  "end_token": 1438,
                                                                  "children": [
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "signal",
                                                                      "start_token": 1434,
                                                                      "end_token": 1434,
                                                                      "children": []
                                                                    },
                                                                    {
                                                                      "type": "PropertyAccessExpression",
                                                                      "label": "abort.signal",
                                                                      "start_token": 1436,
                                                                      "end_token": 1438,
                                                                      "children": [
                                                                        {
                                                                          "type": "Identifier",
                                                                          "label": "abort",
                                                                          "start_token": 1436,
                                                                          "end_token": 1436,
                                                                          "children": []
                                                                        },
                                                                        {
                                                                          "type": "Identifier",
                                                                          "label": "signal",
                                                                          "start_token": 1438,
                                                                          "end_token": 1438,
                                                                          "children": []
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "type": "PropertyAssignment",
                                                                  "label": "onDownloadProgress: (event) => downloadManager.update(downloadKey, event.loaded, event.total)",
                                                                  "start_token": 1440,
                                                                  "end_token": 1459,
                                                                  "children": [
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "onDownloadProgress",
                                                                      "start_token": 1440,
                                                                      "end_token": 1440,
                                                                      "children": []
                                                                    },
                                                                    {
                                                                      "type": "ArrowFunction",
                                                                      "label": "(event) => downloadManager.update(downloadKey, event.loaded, event.total)",
                                                                      "start_token": 1442,
                                                                      "end_token": 1459,
                                                                      "children": [
                                                                        {
                                                                          "type": "Parameter",
                                                                          "label": "event",
                                                                          "start_token": 1443,
                                                                          "end_token": 1443,
                                                                          "children": [
                                                                            {
                                                                              "type": "Identifier",
                                                                              "label": "event",
                                                                              "start_token": 1443,
                                                                              "end_token": 1443,
                                                                              "children": []
                                                                            }
                                                                          ]
                                                                        },
                                                                        {
                                                                          "type": "EqualsGreaterThanToken",
                                                                          "label": "=>",
                                                                          "start_token": 1445,
                                                                          "end_token": 1445,
                                                                          "children": []
                                                                        },
                                                                        {
                                                                          "type": "CallExpression",
                                                                          "label": "downloadManager.update(downloadKey, event.loaded, event.total)",
                                                                          "start_token": 1446,
                                                                          "end_token": 1459,
                                                                          "children": [
                                                                            {
                                                                              "type": "PropertyAccessExpression",
                                                                              "label": "downloadManager.update",
                                                                              "start_token": 1446,
                                                                              "end_token": 1448,
                                                                              "children": [
                                                                                {
                                                                                  "type": "Identifier",
                                                                                  "label": "downloadManager",
                                                                                  "start_token": 1446,
                                                                                  "end_token": 1446,
                                                                                  "children": []
                                                                                },
                                                                                {
                                                                                  "type": "Identifier",
                                                                                  "label": "update",
                                                                                  "start_token": 1448,
                                                                                  "end_token": 1448,
                                                                                  "children": []
                                                                                }
                                                                              ]
                                                                            },
                                                                            {
                                                                              "type": "Identifier",
                                                                              "label": "downloadKey",
                                                                              "start_token": 1450,
                                                                              "end_token": 1450,
                                                                              "children": []
                                                                            },
                                                                            {
                                                                              "type": "PropertyAccessExpression",
                                                                              "label": "event.loaded",
                                                                              "start_token": 1452,
                                                                              "end_token": 1454,
                                                                              "children": [
                                                                                {
                                                                                  "type": "Identifier",
                                                                                  "label": "event",
                                                                                  "start_token": 1452,
                                                                                  "end_token": 1452,
                                                                                  "children": []
                                                                                },
                                                                                {
                                                                                  "type": "Identifier",
                                                                                  "label": "loaded",
                                                                                  "start_token": 1454,
                                                                                  "end_token": 1454,
                                                                                  "children": []
                                                                                }
                                                                              ]
                                                                            },
                                                                            {
                                                                              "type": "PropertyAccessExpression",
                                                                              "label": "event.total",
                                                                              "start_token": 1456,
                                                                              "end_token": 1458,
                                                                              "children": [
                                                                                {
                                                                                  "type": "Identifier",
                                                                                  "label": "event",
                                                                                  "start_token": 1456,
                                                                                  "end_token": 1456,
                                                                                  "children": []
                                                                                },
                                                                                {
                                                                                  "type": "Identifier",
                                                                                  "label": "total",
                                                                                  "start_token": 1458,
                                                                                  "end_token": 1458,
                                                                                  "children": []
                                                                                }
                                                                              ]
                                                                            }
                                                                          ]
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "type": "ExpressionStatement",
                                          "label": "downloadBlob(data, filename);",
                                          "start_token": 1464,
                                          "end_token": 1470,
                                          "children": [
                                            {
                                              "type": "CallExpression",
                                              "label": "downloadBlob(data, filename)",
                                              "start_token": 1464,
                                              "end_token": 1469,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "downloadBlob",
                                                  "start_token": 1464,
                                                  "end_token": 1464,
                                                  "children": []
                                                },
                                                {
                                                  "type": "Identifier",
                                                  "label": "data",
                                                  "start_token": 1466,
                                                  "end_token": 1466,
                                                  "children": []
                                                },
                                                {
                                                  "type": "Identifier",
                                                  "label": "filename",
                                                  "start_token": 1468,
                                                  "end_token": 1468,
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "type": "CatchClause",
                                      "label": "catch (error) {\n      handleError(error, $t('errors.error_downloading', { values: { filename } }));\n      downloadManager.clear(downloadKey);\n    }",
                                      "start_token": 1472,
                                      "end_token": 1502,
                                      "children": [
                                        {
                                          "type": "VariableDeclaration",
                                          "label": "error",
                                          "start_token": 1474,
                                          "end_token": 1474,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "error",
                                              "start_token": 1474,
                                              "end_token": 1474,
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "type": "Block",
                                          "label": "{\n      handleError(error, $t('errors.error_downloading', { values: { filename } }));\n      downloadManager.clear(downloadKey);\n    }",
                                          "start_token": 1476,
                                          "end_token": 1502,
                                          "children": [
                                            {
                                              "type": "ExpressionStatement",
                                              "label": "handleError(error, $t('errors.error_downloading', { values: { filename } }));",
                                              "start_token": 1477,
                                              "end_token": 1494,
                                              "children": [
                                                {
                                                  "type": "CallExpression",
                                                  "label": "handleError(error, $t('errors.error_downloading', { values: { filename } }))",
                                                  "start_token": 1477,
                                                  "end_token": 1493,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "handleError",
                                                      "start_token": 1477,
                                                      "end_token": 1477,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "error",
                                                      "start_token": 1479,
                                                      "end_token": 1479,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "CallExpression",
                                                      "label": "$t('errors.error_downloading', { values: { filename } })",
                                                      "start_token": 1481,
                                                      "end_token": 1492,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "$t",
                                                          "start_token": 1481,
                                                          "end_token": 1481,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "StringLiteral",
                                                          "label": "'errors.error_downloading'",
                                                          "start_token": 1483,
                                                          "end_token": 1483,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "ObjectLiteralExpression",
                                                          "label": "{ values: { filename } }",
                                                          "start_token": 1485,
                                                          "end_token": 1491,
                                                          "children": [
                                                            {
                                                              "type": "PropertyAssignment",
                                                              "label": "values: { filename }",
                                                              "start_token": 1486,
                                                              "end_token": 1490,
                                                              "children": [
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "values",
                                                                  "start_token": 1486,
                                                                  "end_token": 1486,
                                                                  "children": []
                                                                },
                                                                {
                                                                  "type": "ObjectLiteralExpression",
                                                                  "label": "{ filename }",
                                                                  "start_token": 1488,
                                                                  "end_token": 1490,
                                                                  "children": [
                                                                    {
                                                                      "type": "ShorthandPropertyAssignment",
                                                                      "label": "filename",
                                                                      "start_token": 1489,
                                                                      "end_token": 1489,
                                                                      "children": [
                                                                        {
                                                                          "type": "Identifier",
                                                                          "label": "filename",
                                                                          "start_token": 1489,
                                                                          "end_token": 1489,
                                                                          "children": []
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "type": "ExpressionStatement",
                                              "label": "downloadManager.clear(downloadKey);",
                                              "start_token": 1495,
                                              "end_token": 1501,
                                              "children": [
                                                {
                                                  "type": "CallExpression",
                                                  "label": "downloadManager.clear(downloadKey)",
                                                  "start_token": 1495,
                                                  "end_token": 1500,
                                                  "children": [
                                                    {
                                                      "type": "PropertyAccessExpression",
                                                      "label": "downloadManager.clear",
                                                      "start_token": 1495,
                                                      "end_token": 1497,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "downloadManager",
                                                          "start_token": 1495,
                                                          "end_token": 1495,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "Identifier",
                                                          "label": "clear",
                                                          "start_token": 1497,
                                                          "end_token": 1497,
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "downloadKey",
                                                      "start_token": 1499,
                                                      "end_token": 1499,
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "type": "Block",
                                      "label": "{\n      setTimeout(() => downloadManager.clear(downloadKey), 5000);\n    }",
                                      "start_token": 1504,
                                      "end_token": 1520,
                                      "children": [
                                        {
                                          "type": "ExpressionStatement",
                                          "label": "setTimeout(() => downloadManager.clear(downloadKey), 5000);",
                                          "start_token": 1505,
                                          "end_token": 1519,
                                          "children": [
                                            {
                                              "type": "CallExpression",
                                              "label": "setTimeout(() => downloadManager.clear(downloadKey), 5000)",
                                              "start_token": 1505,
                                              "end_token": 1518,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "setTimeout",
                                                  "start_token": 1505,
                                                  "end_token": 1505,
                                                  "children": []
                                                },
                                                {
                                                  "type": "ArrowFunction",
                                                  "label": "() => downloadManager.clear(downloadKey)",
                                                  "start_token": 1507,
                                                  "end_token": 1515,
                                                  "children": [
                                                    {
                                                      "type": "EqualsGreaterThanToken",
                                                      "label": "=>",
                                                      "start_token": 1509,
                                                      "end_token": 1509,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "CallExpression",
                                                      "label": "downloadManager.clear(downloadKey)",
                                                      "start_token": 1510,
                                                      "end_token": 1515,
                                                      "children": [
                                                        {
                                                          "type": "PropertyAccessExpression",
                                                          "label": "downloadManager.clear",
                                                          "start_token": 1510,
                                                          "end_token": 1512,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "downloadManager",
                                                              "start_token": 1510,
                                                              "end_token": 1510,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "Identifier",
                                                              "label": "clear",
                                                              "start_token": 1512,
                                                              "end_token": 1512,
                                                              "children": []
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "type": "Identifier",
                                                          "label": "downloadKey",
                                                          "start_token": 1514,
                                                          "end_token": 1514,
                                                          "children": []
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "FirstLiteralToken",
                                                  "label": "5000",
                                                  "start_token": 1517,
                                                  "end_token": 1517,
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FunctionDeclaration",
      "label": "export function getFilenameExtension(filename: string): string {\n  const lastIndex = Math.max(0, filename.lastIndexOf('.'));\n  const startIndex = (lastIndex || Number.POSITIVE_INFINITY) + 1;\n  return filename.slice(startIndex).toLowerCase();\n}",
      "start_token": 1524,
      "end_token": 1577,
      "children": [
        {
          "type": "ExportKeyword",
          "label": "export",
          "start_token": 1524,
          "end_token": 1524,
          "children": []
        },
        {
          "type": "Identifier",
          "label": "getFilenameExtension",
          "start_token": 1526,
          "end_token": 1526,
          "children": []
        },
        {
          "type": "Parameter",
          "label": "filename: string",
          "start_token": 1528,
          "end_token": 1530,
          "children": [
            {
              "type": "Identifier",
              "label": "filename",
              "start_token": 1528,
              "end_token": 1528,
              "children": []
            },
            {
              "type": "StringKeyword",
              "label": "string",
              "start_token": 1530,
              "end_token": 1530,
              "children": []
            }
          ]
        },
        {
          "type": "StringKeyword",
          "label": "string",
          "start_token": 1533,
          "end_token": 1533,
          "children": []
        },
        {
          "type": "Block",
          "label": "{\n  const lastIndex = Math.max(0, filename.lastIndexOf('.'));\n  const startIndex = (lastIndex || Number.POSITIVE_INFINITY) + 1;\n  return filename.slice(startIndex).toLowerCase();\n}",
          "start_token": 1534,
          "end_token": 1577,
          "children": [
            {
              "type": "FirstStatement",
              "label": "const lastIndex = Math.max(0, filename.lastIndexOf('.'));",
              "start_token": 1535,
              "end_token": 1551,
              "children": [
                {
                  "type": "VariableDeclarationList",
                  "label": "const lastIndex = Math.max(0, filename.lastIndexOf('.'))",
                  "start_token": 1535,
                  "end_token": 1550,
                  "children": [
                    {
                      "type": "VariableDeclaration",
                      "label": "lastIndex = Math.max(0, filename.lastIndexOf('.'))",
                      "start_token": 1536,
                      "end_token": 1550,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "lastIndex",
                          "start_token": 1536,
                          "end_token": 1536,
                          "children": []
                        },
                        {
                          "type": "CallExpression",
                          "label": "Math.max(0, filename.lastIndexOf('.'))",
                          "start_token": 1538,
                          "end_token": 1550,
                          "children": [
                            {
                              "type": "PropertyAccessExpression",
                              "label": "Math.max",
                              "start_token": 1538,
                              "end_token": 1540,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "Math",
                                  "start_token": 1538,
                                  "end_token": 1538,
                                  "children": []
                                },
                                {
                                  "type": "Identifier",
                                  "label": "max",
                                  "start_token": 1540,
                                  "end_token": 1540,
                                  "children": []
                                }
                              ]
                            },
                            {
                              "type": "FirstLiteralToken",
                              "label": "0",
                              "start_token": 1542,
                              "end_token": 1542,
                              "children": []
                            },
                            {
                              "type": "CallExpression",
                              "label": "filename.lastIndexOf('.')",
                              "start_token": 1544,
                              "end_token": 1549,
                              "children": [
                                {
                                  "type": "PropertyAccessExpression",
                                  "label": "filename.lastIndexOf",
                                  "start_token": 1544,
                                  "end_token": 1546,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "filename",
                                      "start_token": 1544,
                                      "end_token": 1544,
                                      "children": []
                                    },
                                    {
                                      "type": "Identifier",
                                      "label": "lastIndexOf",
                                      "start_token": 1546,
                                      "end_token": 1546,
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "type": "StringLiteral",
                                  "label": "'.'",
                                  "start_token": 1548,
                                  "end_token": 1548,
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "FirstStatement",
              "label": "const startIndex = (lastIndex || Number.POSITIVE_INFINITY) + 1;",
              "start_token": 1552,
              "end_token": 1564,
              "children": [
                {
                  "type": "VariableDeclarationList",
                  "label": "const startIndex = (lastIndex || Number.POSITIVE_INFINITY) + 1",
                  "start_token": 1552,
                  "end_token": 1563,
                  "children": [
                    {
                      "type": "VariableDeclaration",
                      "label": "startIndex = (lastIndex || Number.POSITIVE_INFINITY) + 1",
                      "start_token": 1553,
                      "end_token": 1563,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "startIndex",
                          "start_token": 1553,
                          "end_token": 1553,
                          "children": []
                        },
                        {
                          "type": "BinaryExpression",
                          "label": "(lastIndex || Number.POSITIVE_INFINITY) + 1",
                          "start_token": 1555,
                          "end_token": 1563,
                          "children": [
                            {
                              "type": "ParenthesizedExpression",
                              "label": "(lastIndex || Number.POSITIVE_INFINITY)",
                              "start_token": 1555,
                              "end_token": 1561,
                              "children": [
                                {
                                  "type": "BinaryExpression",
                                  "label": "lastIndex || Number.POSITIVE_INFINITY",
                                  "start_token": 1556,
                                  "end_token": 1560,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "lastIndex",
                                      "start_token": 1556,
                                      "end_token": 1556,
                                      "children": []
                                    },
                                    {
                                      "type": "BarBarToken",
                                      "label": "||",
                                      "start_token": 1557,
                                      "end_token": 1557,
                                      "children": []
                                    },
                                    {
                                      "type": "PropertyAccessExpression",
                                      "label": "Number.POSITIVE_INFINITY",
                                      "start_token": 1558,
                                      "end_token": 1560,
                                      "children": [
                                        {
                                          "type": "Identifier",
                                          "label": "Number",
                                          "start_token": 1558,
                                          "end_token": 1558,
                                          "children": []
                                        },
                                        {
                                          "type": "Identifier",
                                          "label": "POSITIVE_INFINITY",
                                          "start_token": 1560,
                                          "end_token": 1560,
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "type": "PlusToken",
                              "label": "+",
                              "start_token": 1562,
                              "end_token": 1562,
                              "children": []
                            },
                            {
                              "type": "FirstLiteralToken",
                              "label": "1",
                              "start_token": 1563,
                              "end_token": 1563,
                              "children": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "ReturnStatement",
              "label": "return filename.slice(startIndex).toLowerCase();",
              "start_token": 1565,
              "end_token": 1576,
              "children": [
                {
                  "type": "CallExpression",
                  "label": "filename.slice(startIndex).toLowerCase()",
                  "start_token": 1566,
                  "end_token": 1575,
                  "children": [
                    {
                      "type": "PropertyAccessExpression",
                      "label": "filename.slice(startIndex).toLowerCase",
                      "start_token": 1566,
                      "end_token": 1573,
                      "children": [
                        {
                          "type": "CallExpression",
                          "label": "filename.slice(startIndex)",
                          "start_token": 1566,
                          "end_token": 1571,
                          "children": [
                            {
                              "type": "PropertyAccessExpression",
                              "label": "filename.slice",
                              "start_token": 1566,
                              "end_token": 1568,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "filename",
                                  "start_token": 1566,
                                  "end_token": 1566,
                                  "children": []
                                },
                                {
                                  "type": "Identifier",
                                  "label": "slice",
                                  "start_token": 1568,
                                  "end_token": 1568,
                                  "children": []
                                }
                              ]
                            },
                            {
                              "type": "Identifier",
                              "label": "startIndex",
                              "start_token": 1570,
                              "end_token": 1570,
                              "children": []
                            }
                          ]
                        },
                        {
                          "type": "Identifier",
                          "label": "toLowerCase",
                          "start_token": 1573,
                          "end_token": 1573,
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FunctionDeclaration",
      "label": "export function getAssetFilename(asset: AssetResponseDto): string {\n  const fileExtension = getFilenameExtension(asset.originalPath);\n  return `${asset.originalFileName}.${fileExtension}`;\n}",
      "start_token": 1578,
      "end_token": 1602,
      "children": [
        {
          "type": "ExportKeyword",
          "label": "export",
          "start_token": 1578,
          "end_token": 1578,
          "children": []
        },
        {
          "type": "Identifier",
          "label": "getAssetFilename",
          "start_token": 1580,
          "end_token": 1580,
          "children": []
        },
        {
          "type": "Parameter",
          "label": "asset: AssetResponseDto",
          "start_token": 1582,
          "end_token": 1584,
          "children": [
            {
              "type": "Identifier",
              "label": "asset",
              "start_token": 1582,
              "end_token": 1582,
              "children": []
            },
            {
              "type": "TypeReference",
              "label": "AssetResponseDto",
              "start_token": 1584,
              "end_token": 1584,
              "children": [
                {
                  "type": "Identifier",
                  "label": "AssetResponseDto",
                  "start_token": 1584,
                  "end_token": 1584,
                  "children": []
                }
              ]
            }
          ]
        },
        {
          "type": "StringKeyword",
          "label": "string",
          "start_token": 1587,
          "end_token": 1587,
          "children": []
        },
        {
          "type": "Block",
          "label": "{\n  const fileExtension = getFilenameExtension(asset.originalPath);\n  return `${asset.originalFileName}.${fileExtension}`;\n}",
          "start_token": 1588,
          "end_token": 1602,
          "children": [
            {
              "type": "FirstStatement",
              "label": "const fileExtension = getFilenameExtension(asset.originalPath);",
              "start_token": 1589,
              "end_token": 1598,
              "children": [
                {
                  "type": "VariableDeclarationList",
                  "label": "const fileExtension = getFilenameExtension(asset.originalPath)",
                  "start_token": 1589,
                  "end_token": 1597,
                  "children": [
                    {
                      "type": "VariableDeclaration",
                      "label": "fileExtension = getFilenameExtension(asset.originalPath)",
                      "start_token": 1590,
                      "end_token": 1597,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "fileExtension",
                          "start_token": 1590,
                          "end_token": 1590,
                          "children": []
                        },
                        {
                          "type": "CallExpression",
                          "label": "getFilenameExtension(asset.originalPath)",
                          "start_token": 1592,
                          "end_token": 1597,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "getFilenameExtension",
                              "start_token": 1592,
                              "end_token": 1592,
                              "children": []
                            },
                            {
                              "type": "PropertyAccessExpression",
                              "label": "asset.originalPath",
                              "start_token": 1594,
                              "end_token": 1596,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "asset",
                                  "start_token": 1594,
                                  "end_token": 1594,
                                  "children": []
                                },
                                {
                                  "type": "Identifier",
                                  "label": "originalPath",
                                  "start_token": 1596,
                                  "end_token": 1596,
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "ReturnStatement",
              "label": "return `${asset.originalFileName}.${fileExtension}`;",
              "start_token": 1599,
              "end_token": 1601,
              "children": [
                {
                  "type": "TemplateExpression",
                  "label": "`${asset.originalFileName}.${fileExtension}`",
                  "start_token": 1600,
                  "end_token": 1600,
                  "children": [
                    {
                      "type": "TemplateHead",
                      "label": "`${",
                      "start_token": 1600,
                      "end_token": 1600,
                      "children": []
                    },
                    {
                      "type": "TemplateSpan",
                      "label": "asset.originalFileName}.${",
                      "start_token": 1600,
                      "end_token": 1600,
                      "children": [
                        {
                          "type": "PropertyAccessExpression",
                          "label": "asset.originalFileName",
                          "start_token": 1600,
                          "end_token": 1600,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "asset",
                              "start_token": 1600,
                              "end_token": 1600,
                              "children": []
                            },
                            {
                              "type": "Identifier",
                              "label": "originalFileName",
                              "start_token": 1600,
                              "end_token": 1600,
                              "children": []
                            }
                          ]
                        },
                        {
                          "type": "TemplateMiddle",
                          "label": "}.${",
                          "start_token": 1600,
                          "end_token": 1600,
                          "children": []
                        }
                      ]
                    },
                    {
                      "type": "TemplateSpan",
                      "label": "fileExtension}`",
                      "start_token": 1600,
                      "end_token": 1600,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "fileExtension",
                          "start_token": 1600,
                          "end_token": 1600,
                          "children": []
                        },
                        {
                          "type": "LastTemplateToken",
                          "label": "}`",
                          "start_token": 1600,
                          "end_token": 1600,
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FunctionDeclaration",
      "label": "function isRotated90CW(orientation: number) {\n  return orientation === 5 || orientation === 6 || orientation === 90;\n}",
      "start_token": 1603,
      "end_token": 1624,
      "children": [
        {
          "type": "Identifier",
          "label": "isRotated90CW",
          "start_token": 1604,
          "end_token": 1604,
          "children": []
        },
        {
          "type": "Parameter",
          "label": "orientation: number",
          "start_token": 1606,
          "end_token": 1608,
          "children": [
            {
              "type": "Identifier",
              "label": "orientation",
              "start_token": 1606,
              "end_token": 1606,
              "children": []
            },
            {
              "type": "NumberKeyword",
              "label": "number",
              "start_token": 1608,
              "end_token": 1608,
              "children": []
            }
          ]
        },
        {
          "type": "Block",
          "label": "{\n  return orientation === 5 || orientation === 6 || orientation === 90;\n}",
          "start_token": 1610,
          "end_token": 1624,
          "children": [
            {
              "type": "ReturnStatement",
              "label": "return orientation === 5 || orientation === 6 || orientation === 90;",
              "start_token": 1611,
              "end_token": 1623,
              "children": [
                {
                  "type": "BinaryExpression",
                  "label": "orientation === 5 || orientation === 6 || orientation === 90",
                  "start_token": 1612,
                  "end_token": 1622,
                  "children": [
                    {
                      "type": "BinaryExpression",
                      "label": "orientation === 5 || orientation === 6",
                      "start_token": 1612,
                      "end_token": 1618,
                      "children": [
                        {
                          "type": "BinaryExpression",
                          "label": "orientation === 5",
                          "start_token": 1612,
                          "end_token": 1614,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "orientation",
                              "start_token": 1612,
                              "end_token": 1612,
                              "children": []
                            },
                            {
                              "type": "EqualsEqualsEqualsToken",
                              "label": "===",
                              "start_token": 1613,
                              "end_token": 1613,
                              "children": []
                            },
                            {
                              "type": "FirstLiteralToken",
                              "label": "5",
                              "start_token": 1614,
                              "end_token": 1614,
                              "children": []
                            }
                          ]
                        },
                        {
                          "type": "BarBarToken",
                          "label": "||",
                          "start_token": 1615,
                          "end_token": 1615,
                          "children": []
                        },
                        {
                          "type": "BinaryExpression",
                          "label": "orientation === 6",
                          "start_token": 1616,
                          "end_token": 1618,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "orientation",
                              "start_token": 1616,
                              "end_token": 1616,
                              "children": []
                            },
                            {
                              "type": "EqualsEqualsEqualsToken",
                              "label": "===",
                              "start_token": 1617,
                              "end_token": 1617,
                              "children": []
                            },
                            {
                              "type": "FirstLiteralToken",
                              "label": "6",
                              "start_token": 1618,
                              "end_token": 1618,
                              "children": []
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BarBarToken",
                      "label": "||",
                      "start_token": 1619,
                      "end_token": 1619,
                      "children": []
                    },
                    {
                      "type": "BinaryExpression",
                      "label": "orientation === 90",
                      "start_token": 1620,
                      "end_token": 1622,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "orientation",
                          "start_token": 1620,
                          "end_token": 1620,
                          "children": []
                        },
                        {
                          "type": "EqualsEqualsEqualsToken",
                          "label": "===",
                          "start_token": 1621,
                          "end_token": 1621,
                          "children": []
                        },
                        {
                          "type": "FirstLiteralToken",
                          "label": "90",
                          "start_token": 1622,
                          "end_token": 1622,
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FunctionDeclaration",
      "label": "function isRotated270CW(orientation: number) {\n  return orientation === 7 || orientation === 8 || orientation === -90;\n}",
      "start_token": 1625,
      "end_token": 1647,
      "children": [
        {
          "type": "Identifier",
          "label": "isRotated270CW",
          "start_token": 1626,
          "end_token": 1626,
          "children": []
        },
        {
          "type": "Parameter",
          "label": "orientation: number",
          "start_token": 1628,
          "end_token": 1630,
          "children": [
            {
              "type": "Identifier",
              "label": "orientation",
              "start_token": 1628,
              "end_token": 1628,
              "children": []
            },
            {
              "type": "NumberKeyword",
              "label": "number",
              "start_token": 1630,
              "end_token": 1630,
              "children": []
            }
          ]
        },
        {
          "type": "Block",
          "label": "{\n  return orientation === 7 || orientation === 8 || orientation === -90;\n}",
          "start_token": 1632,
          "end_token": 1647,
          "children": [
            {
              "type": "ReturnStatement",
              "label": "return orientation === 7 || orientation === 8 || orientation === -90;",
              "start_token": 1633,
              "end_token": 1646,
              "children": [
                {
                  "type": "BinaryExpression",
                  "label": "orientation === 7 || orientation === 8 || orientation === -90",
                  "start_token": 1634,
                  "end_token": 1645,
                  "children": [
                    {
                      "type": "BinaryExpression",
                      "label": "orientation === 7 || orientation === 8",
                      "start_token": 1634,
                      "end_token": 1640,
                      "children": [
                        {
                          "type": "BinaryExpression",
                          "label": "orientation === 7",
                          "start_token": 1634,
                          "end_token": 1636,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "orientation",
                              "start_token": 1634,
                              "end_token": 1634,
                              "children": []
                            },
                            {
                              "type": "EqualsEqualsEqualsToken",
                              "label": "===",
                              "start_token": 1635,
                              "end_token": 1635,
                              "children": []
                            },
                            {
                              "type": "FirstLiteralToken",
                              "label": "7",
                              "start_token": 1636,
                              "end_token": 1636,
                              "children": []
                            }
                          ]
                        },
                        {
                          "type": "BarBarToken",
                          "label": "||",
                          "start_token": 1637,
                          "end_token": 1637,
                          "children": []
                        },
                        {
                          "type": "BinaryExpression",
                          "label": "orientation === 8",
                          "start_token": 1638,
                          "end_token": 1640,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "orientation",
                              "start_token": 1638,
                              "end_token": 1638,
                              "children": []
                            },
                            {
                              "type": "EqualsEqualsEqualsToken",
                              "label": "===",
                              "start_token": 1639,
                              "end_token": 1639,
                              "children": []
                            },
                            {
                              "type": "FirstLiteralToken",
                              "label": "8",
                              "start_token": 1640,
                              "end_token": 1640,
                              "children": []
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BarBarToken",
                      "label": "||",
                      "start_token": 1641,
                      "end_token": 1641,
                      "children": []
                    },
                    {
                      "type": "BinaryExpression",
                      "label": "orientation === -90",
                      "start_token": 1642,
                      "end_token": 1645,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "orientation",
                          "start_token": 1642,
                          "end_token": 1642,
                          "children": []
                        },
                        {
                          "type": "EqualsEqualsEqualsToken",
                          "label": "===",
                          "start_token": 1643,
                          "end_token": 1643,
                          "children": []
                        },
                        {
                          "type": "PrefixUnaryExpression",
                          "label": "-90",
                          "start_token": 1644,
                          "end_token": 1645,
                          "children": [
                            {
                              "type": "FirstLiteralToken",
                              "label": "90",
                              "start_token": 1645,
                              "end_token": 1645,
                              "children": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FunctionDeclaration",
      "label": "export function isFlipped(orientation?: string | null) {\n  const value = Number(orientation);\n  return value && (isRotated270CW(value) || isRotated90CW(value));\n}",
      "start_token": 1648,
      "end_token": 1683,
      "children": [
        {
          "type": "ExportKeyword",
          "label": "export",
          "start_token": 1648,
          "end_token": 1648,
          "children": []
        },
        {
          "type": "Identifier",
          "label": "isFlipped",
          "start_token": 1650,
          "end_token": 1650,
          "children": []
        },
        {
          "type": "Parameter",
          "label": "orientation?: string | null",
          "start_token": 1652,
          "end_token": 1657,
          "children": [
            {
              "type": "Identifier",
              "label": "orientation",
              "start_token": 1652,
              "end_token": 1652,
              "children": []
            },
            {
              "type": "QuestionToken",
              "label": "?",
              "start_token": 1653,
              "end_token": 1653,
              "children": []
            },
            {
              "type": "UnionType",
              "label": "string | null",
              "start_token": 1655,
              "end_token": 1657,
              "children": [
                {
                  "type": "StringKeyword",
                  "label": "string",
                  "start_token": 1655,
                  "end_token": 1655,
                  "children": []
                },
                {
                  "type": "LiteralType",
                  "label": "null",
                  "start_token": 1657,
                  "end_token": 1657,
                  "children": [
                    {
                      "type": "NullKeyword",
                      "label": "null",
                      "start_token": 1657,
                      "end_token": 1657,
                      "children": []
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "Block",
          "label": "{\n  const value = Number(orientation);\n  return value && (isRotated270CW(value) || isRotated90CW(value));\n}",
          "start_token": 1659,
          "end_token": 1683,
          "children": [
            {
              "type": "FirstStatement",
              "label": "const value = Number(orientation);",
              "start_token": 1660,
              "end_token": 1667,
              "children": [
                {
                  "type": "VariableDeclarationList",
                  "label": "const value = Number(orientation)",
                  "start_token": 1660,
                  "end_token": 1666,
                  "children": [
                    {
                      "type": "VariableDeclaration",
                      "label": "value = Number(orientation)",
                      "start_token": 1661,
                      "end_token": 1666,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "value",
                          "start_token": 1661,
                          "end_token": 1661,
                          "children": []
                        },
                        {
                          "type": "CallExpression",
                          "label": "Number(orientation)",
                          "start_token": 1663,
                          "end_token": 1666,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "Number",
                              "start_token": 1663,
                              "end_token": 1663,
                              "children": []
                            },
                            {
                              "type": "Identifier",
                              "label": "orientation",
                              "start_token": 1665,
                              "end_token": 1665,
                              "children": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "ReturnStatement",
              "label": "return value && (isRotated270CW(value) || isRotated90CW(value));",
              "start_token": 1668,
              "end_token": 1682,
              "children": [
                {
                  "type": "BinaryExpression",
                  "label": "value && (isRotated270CW(value) || isRotated90CW(value))",
                  "start_token": 1669,
                  "end_token": 1681,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "value",
                      "start_token": 1669,
                      "end_token": 1669,
                      "children": []
                    },
                    {
                      "type": "AmpersandAmpersandToken",
                      "label": "&&",
                      "start_token": 1670,
                      "end_token": 1670,
                      "children": []
                    },
                    {
                      "type": "ParenthesizedExpression",
                      "label": "(isRotated270CW(value) || isRotated90CW(value))",
                      "start_token": 1671,
                      "end_token": 1681,
                      "children": [
                        {
                          "type": "BinaryExpression",
                          "label": "isRotated270CW(value) || isRotated90CW(value)",
                          "start_token": 1672,
                          "end_token": 1680,
                          "children": [
                            {
                              "type": "CallExpression",
                              "label": "isRotated270CW(value)",
                              "start_token": 1672,
                              "end_token": 1675,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "isRotated270CW",
                                  "start_token": 1672,
                                  "end_token": 1672,
                                  "children": []
                                },
                                {
                                  "type": "Identifier",
                                  "label": "value",
                                  "start_token": 1674,
                                  "end_token": 1674,
                                  "children": []
                                }
                              ]
                            },
                            {
                              "type": "BarBarToken",
                              "label": "||",
                              "start_token": 1676,
                              "end_token": 1676,
                              "children": []
                            },
                            {
                              "type": "CallExpression",
                              "label": "isRotated90CW(value)",
                              "start_token": 1677,
                              "end_token": 1680,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "isRotated90CW",
                                  "start_token": 1677,
                                  "end_token": 1677,
                                  "children": []
                                },
                                {
                                  "type": "Identifier",
                                  "label": "value",
                                  "start_token": 1679,
                                  "end_token": 1679,
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FunctionDeclaration",
      "label": "export function getFileSize(asset: AssetResponseDto): string {\n  const size = asset.exifInfo?.fileSizeInByte || 0;\n  return size > 0 ? getByteUnitString(size, undefined, 4) : 'Invalid Data';\n}",
      "start_token": 1684,
      "end_token": 1723,
      "children": [
        {
          "type": "ExportKeyword",
          "label": "export",
          "start_token": 1684,
          "end_token": 1684,
          "children": []
        },
        {
          "type": "Identifier",
          "label": "getFileSize",
          "start_token": 1686,
          "end_token": 1686,
          "children": []
        },
        {
          "type": "Parameter",
          "label": "asset: AssetResponseDto",
          "start_token": 1688,
          "end_token": 1690,
          "children": [
            {
              "type": "Identifier",
              "label": "asset",
              "start_token": 1688,
              "end_token": 1688,
              "children": []
            },
            {
              "type": "TypeReference",
              "label": "AssetResponseDto",
              "start_token": 1690,
              "end_token": 1690,
              "children": [
                {
                  "type": "Identifier",
                  "label": "AssetResponseDto",
                  "start_token": 1690,
                  "end_token": 1690,
                  "children": []
                }
              ]
            }
          ]
        },
        {
          "type": "StringKeyword",
          "label": "string",
          "start_token": 1693,
          "end_token": 1693,
          "children": []
        },
        {
          "type": "Block",
          "label": "{\n  const size = asset.exifInfo?.fileSizeInByte || 0;\n  return size > 0 ? getByteUnitString(size, undefined, 4) : 'Invalid Data';\n}",
          "start_token": 1694,
          "end_token": 1723,
          "children": [
            {
              "type": "FirstStatement",
              "label": "const size = asset.exifInfo?.fileSizeInByte || 0;",
              "start_token": 1695,
              "end_token": 1706,
              "children": [
                {
                  "type": "VariableDeclarationList",
                  "label": "const size = asset.exifInfo?.fileSizeInByte || 0",
                  "start_token": 1695,
                  "end_token": 1705,
                  "children": [
                    {
                      "type": "VariableDeclaration",
                      "label": "size = asset.exifInfo?.fileSizeInByte || 0",
                      "start_token": 1696,
                      "end_token": 1705,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "size",
                          "start_token": 1696,
                          "end_token": 1696,
                          "children": []
                        },
                        {
                          "type": "BinaryExpression",
                          "label": "asset.exifInfo?.fileSizeInByte || 0",
                          "start_token": 1698,
                          "end_token": 1705,
                          "children": [
                            {
                              "type": "PropertyAccessExpression",
                              "label": "asset.exifInfo?.fileSizeInByte",
                              "start_token": 1698,
                              "end_token": 1703,
                              "children": [
                                {
                                  "type": "PropertyAccessExpression",
                                  "label": "asset.exifInfo",
                                  "start_token": 1698,
                                  "end_token": 1700,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "asset",
                                      "start_token": 1698,
                                      "end_token": 1698,
                                      "children": []
                                    },
                                    {
                                      "type": "Identifier",
                                      "label": "exifInfo",
                                      "start_token": 1700,
                                      "end_token": 1700,
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "type": "QuestionDotToken",
                                  "label": "?.",
                                  "start_token": 1701,
                                  "end_token": 1702,
                                  "children": []
                                },
                                {
                                  "type": "Identifier",
                                  "label": "fileSizeInByte",
                                  "start_token": 1703,
                                  "end_token": 1703,
                                  "children": []
                                }
                              ]
                            },
                            {
                              "type": "BarBarToken",
                              "label": "||",
                              "start_token": 1704,
                              "end_token": 1704,
                              "children": []
                            },
                            {
                              "type": "FirstLiteralToken",
                              "label": "0",
                              "start_token": 1705,
                              "end_token": 1705,
                              "children": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "ReturnStatement",
              "label": "return size > 0 ? getByteUnitString(size, undefined, 4) : 'Invalid Data';",
              "start_token": 1707,
              "end_token": 1722,
              "children": [
                {
                  "type": "ConditionalExpression",
                  "label": "size > 0 ? getByteUnitString(size, undefined, 4) : 'Invalid Data'",
                  "start_token": 1708,
                  "end_token": 1721,
                  "children": [
                    {
                      "type": "BinaryExpression",
                      "label": "size > 0",
                      "start_token": 1708,
                      "end_token": 1710,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "size",
                          "start_token": 1708,
                          "end_token": 1708,
                          "children": []
                        },
                        {
                          "type": "GreaterThanToken",
                          "label": ">",
                          "start_token": 1709,
                          "end_token": 1709,
                          "children": []
                        },
                        {
                          "type": "FirstLiteralToken",
                          "label": "0",
                          "start_token": 1710,
                          "end_token": 1710,
                          "children": []
                        }
                      ]
                    },
                    {
                      "type": "QuestionToken",
                      "label": "?",
                      "start_token": 1711,
                      "end_token": 1711,
                      "children": []
                    },
                    {
                      "type": "CallExpression",
                      "label": "getByteUnitString(size, undefined, 4)",
                      "start_token": 1712,
                      "end_token": 1719,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "getByteUnitString",
                          "start_token": 1712,
                          "end_token": 1712,
                          "children": []
                        },
                        {
                          "type": "Identifier",
                          "label": "size",
                          "start_token": 1714,
                          "end_token": 1714,
                          "children": []
                        },
                        {
                          "type": "Identifier",
                          "label": "undefined",
                          "start_token": 1716,
                          "end_token": 1716,
                          "children": []
                        },
                        {
                          "type": "FirstLiteralToken",
                          "label": "4",
                          "start_token": 1718,
                          "end_token": 1718,
                          "children": []
                        }
                      ]
                    },
                    {
                      "type": "ColonToken",
                      "label": ":",
                      "start_token": 1720,
                      "end_token": 1720,
                      "children": []
                    },
                    {
                      "type": "StringLiteral",
                      "label": "'Invalid Data'",
                      "start_token": 1721,
                      "end_token": 1721,
                      "children": []
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FunctionDeclaration",
      "label": "export function getAssetResolution(asset: AssetResponseDto): string {\n  const { width, height } = getAssetRatio(asset);\n  if (width === 235 && height === 235) {\n    return 'Invalid Data';\n  }\n  return `${width} x ${height}`;\n}",
      "start_token": 1724,
      "end_token": 1765,
      "children": [
        {
          "type": "ExportKeyword",
          "label": "export",
          "start_token": 1724,
          "end_token": 1724,
          "children": []
        },
        {
          "type": "Identifier",
          "label": "getAssetResolution",
          "start_token": 1726,
          "end_token": 1726,
          "children": []
        },
        {
          "type": "Parameter",
          "label": "asset: AssetResponseDto",
          "start_token": 1728,
          "end_token": 1730,
          "children": [
            {
              "type": "Identifier",
              "label": "asset",
              "start_token": 1728,
              "end_token": 1728,
              "children": []
            },
            {
              "type": "TypeReference",
              "label": "AssetResponseDto",
              "start_token": 1730,
              "end_token": 1730,
              "children": [
                {
                  "type": "Identifier",
                  "label": "AssetResponseDto",
                  "start_token": 1730,
                  "end_token": 1730,
                  "children": []
                }
              ]
            }
          ]
        },
        {
          "type": "StringKeyword",
          "label": "string",
          "start_token": 1733,
          "end_token": 1733,
          "children": []
        },
        {
          "type": "Block",
          "label": "{\n  const { width, height } = getAssetRatio(asset);\n  if (width === 235 && height === 235) {\n    return 'Invalid Data';\n  }\n  return `${width} x ${height}`;\n}",
          "start_token": 1734,
          "end_token": 1765,
          "children": [
            {
              "type": "FirstStatement",
              "label": "const { width, height } = getAssetRatio(asset);",
              "start_token": 1735,
              "end_token": 1746,
              "children": [
                {
                  "type": "VariableDeclarationList",
                  "label": "const { width, height } = getAssetRatio(asset)",
                  "start_token": 1735,
                  "end_token": 1745,
                  "children": [
                    {
                      "type": "VariableDeclaration",
                      "label": "{ width, height } = getAssetRatio(asset)",
                      "start_token": 1736,
                      "end_token": 1745,
                      "children": [
                        {
                          "type": "ObjectBindingPattern",
                          "label": "{ width, height }",
                          "start_token": 1736,
                          "end_token": 1740,
                          "children": [
                            {
                              "type": "BindingElement",
                              "label": "width",
                              "start_token": 1737,
                              "end_token": 1737,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "width",
                                  "start_token": 1737,
                                  "end_token": 1737,
                                  "children": []
                                }
                              ]
                            },
                            {
                              "type": "BindingElement",
                              "label": "height",
                              "start_token": 1739,
                              "end_token": 1739,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "height",
                                  "start_token": 1739,
                                  "end_token": 1739,
                                  "children": []
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "CallExpression",
                          "label": "getAssetRatio(asset)",
                          "start_token": 1742,
                          "end_token": 1745,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "getAssetRatio",
                              "start_token": 1742,
                              "end_token": 1742,
                              "children": []
                            },
                            {
                              "type": "Identifier",
                              "label": "asset",
                              "start_token": 1744,
                              "end_token": 1744,
                              "children": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "IfStatement",
              "label": "if (width === 235 && height === 235) {\n    return 'Invalid Data';\n  }",
              "start_token": 1747,
              "end_token": 1761,
              "children": [
                {
                  "type": "BinaryExpression",
                  "label": "width === 235 && height === 235",
                  "start_token": 1749,
                  "end_token": 1755,
                  "children": [
                    {
                      "type": "BinaryExpression",
                      "label": "width === 235",
                      "start_token": 1749,
                      "end_token": 1751,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "width",
                          "start_token": 1749,
                          "end_token": 1749,
                          "children": []
                        },
                        {
                          "type": "EqualsEqualsEqualsToken",
                          "label": "===",
                          "start_token": 1750,
                          "end_token": 1750,
                          "children": []
                        },
                        {
                          "type": "FirstLiteralToken",
                          "label": "235",
                          "start_token": 1751,
                          "end_token": 1751,
                          "children": []
                        }
                      ]
                    },
                    {
                      "type": "AmpersandAmpersandToken",
                      "label": "&&",
                      "start_token": 1752,
                      "end_token": 1752,
                      "children": []
                    },
                    {
                      "type": "BinaryExpression",
                      "label": "height === 235",
                      "start_token": 1753,
                      "end_token": 1755,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "height",
                          "start_token": 1753,
                          "end_token": 1753,
                          "children": []
                        },
                        {
                          "type": "EqualsEqualsEqualsToken",
                          "label": "===",
                          "start_token": 1754,
                          "end_token": 1754,
                          "children": []
                        },
                        {
                          "type": "FirstLiteralToken",
                          "label": "235",
                          "start_token": 1755,
                          "end_token": 1755,
                          "children": []
                        }
                      ]
                    }
                  ]
                },
                {
                  "type": "Block",
                  "label": "{\n    return 'Invalid Data';\n  }",
                  "start_token": 1757,
                  "end_token": 1761,
                  "children": [
                    {
                      "type": "ReturnStatement",
                      "label": "return 'Invalid Data';",
                      "start_token": 1758,
                      "end_token": 1760,
                      "children": [
                        {
                          "type": "StringLiteral",
                          "label": "'Invalid Data'",
                          "start_token": 1759,
                          "end_token": 1759,
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "ReturnStatement",
              "label": "return `${width} x ${height}`;",
              "start_token": 1762,
              "end_token": 1764,
              "children": [
                {
                  "type": "TemplateExpression",
                  "label": "`${width} x ${height}`",
                  "start_token": 1763,
                  "end_token": 1763,
                  "children": [
                    {
                      "type": "TemplateHead",
                      "label": "`${",
                      "start_token": 1763,
                      "end_token": 1763,
                      "children": []
                    },
                    {
                      "type": "TemplateSpan",
                      "label": "width} x ${",
                      "start_token": 1763,
                      "end_token": 1763,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "width",
                          "start_token": 1763,
                          "end_token": 1763,
                          "children": []
                        },
                        {
                          "type": "TemplateMiddle",
                          "label": "} x ${",
                          "start_token": 1763,
                          "end_token": 1763,
                          "children": []
                        }
                      ]
                    },
                    {
                      "type": "TemplateSpan",
                      "label": "height}`",
                      "start_token": 1763,
                      "end_token": 1763,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "height",
                          "start_token": 1763,
                          "end_token": 1763,
                          "children": []
                        },
                        {
                          "type": "LastTemplateToken",
                          "label": "}`",
                          "start_token": 1763,
                          "end_token": 1763,
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FunctionDeclaration",
      "label": "export function getAssetRatio(asset: AssetResponseDto) {\n  let height = asset.exifInfo?.exifImageHeight || 235;\n  let width = asset.exifInfo?.exifImageWidth || 235;\n  if (isFlipped(asset.exifInfo?.orientation)) {\n    [width, height] = [height, width];\n  }\n  return { width, height };\n}",
      "start_token": 1766,
      "end_token": 1832,
      "children": [
        {
          "type": "ExportKeyword",
          "label": "export",
          "start_token": 1766,
          "end_token": 1766,
          "children": []
        },
        {
          "type": "Identifier",
          "label": "getAssetRatio",
          "start_token": 1768,
          "end_token": 1768,
          "children": []
        },
        {
          "type": "Parameter",
          "label": "asset: AssetResponseDto",
          "start_token": 1770,
          "end_token": 1772,
          "children": [
            {
              "type": "Identifier",
              "label": "asset",
              "start_token": 1770,
              "end_token": 1770,
              "children": []
            },
            {
              "type": "TypeReference",
              "label": "AssetResponseDto",
              "start_token": 1772,
              "end_token": 1772,
              "children": [
                {
                  "type": "Identifier",
                  "label": "AssetResponseDto",
                  "start_token": 1772,
                  "end_token": 1772,
                  "children": []
                }
              ]
            }
          ]
        },
        {
          "type": "Block",
          "label": "{\n  let height = asset.exifInfo?.exifImageHeight || 235;\n  let width = asset.exifInfo?.exifImageWidth || 235;\n  if (isFlipped(asset.exifInfo?.orientation)) {\n    [width, height] = [height, width];\n  }\n  return { width, height };\n}",
          "start_token": 1774,
          "end_token": 1832,
          "children": [
            {
              "type": "FirstStatement",
              "label": "let height = asset.exifInfo?.exifImageHeight || 235;",
              "start_token": 1775,
              "end_token": 1786,
              "children": [
                {
                  "type": "VariableDeclarationList",
                  "label": "let height = asset.exifInfo?.exifImageHeight || 235",
                  "start_token": 1775,
                  "end_token": 1785,
                  "children": [
                    {
                      "type": "VariableDeclaration",
                      "label": "height = asset.exifInfo?.exifImageHeight || 235",
                      "start_token": 1776,
                      "end_token": 1785,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "height",
                          "start_token": 1776,
                          "end_token": 1776,
                          "children": []
                        },
                        {
                          "type": "BinaryExpression",
                          "label": "asset.exifInfo?.exifImageHeight || 235",
                          "start_token": 1778,
                          "end_token": 1785,
                          "children": [
                            {
                              "type": "PropertyAccessExpression",
                              "label": "asset.exifInfo?.exifImageHeight",
                              "start_token": 1778,
                              "end_token": 1783,
                              "children": [
                                {
                                  "type": "PropertyAccessExpression",
                                  "label": "asset.exifInfo",
                                  "start_token": 1778,
                                  "end_token": 1780,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "asset",
                                      "start_token": 1778,
                                      "end_token": 1778,
                                      "children": []
                                    },
                                    {
                                      "type": "Identifier",
                                      "label": "exifInfo",
                                      "start_token": 1780,
                                      "end_token": 1780,
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "type": "QuestionDotToken",
                                  "label": "?.",
                                  "start_token": 1781,
                                  "end_token": 1782,
                                  "children": []
                                },
                                {
                                  "type": "Identifier",
                                  "label": "exifImageHeight",
                                  "start_token": 1783,
                                  "end_token": 1783,
                                  "children": []
                                }
                              ]
                            },
                            {
                              "type": "BarBarToken",
                              "label": "||",
                              "start_token": 1784,
                              "end_token": 1784,
                              "children": []
                            },
                            {
                              "type": "FirstLiteralToken",
                              "label": "235",
                              "start_token": 1785,
                              "end_token": 1785,
                              "children": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "FirstStatement",
              "label": "let width = asset.exifInfo?.exifImageWidth || 235;",
              "start_token": 1787,
              "end_token": 1798,
              "children": [
                {
                  "type": "VariableDeclarationList",
                  "label": "let width = asset.exifInfo?.exifImageWidth || 235",
                  "start_token": 1787,
                  "end_token": 1797,
                  "children": [
                    {
                      "type": "VariableDeclaration",
                      "label": "width = asset.exifInfo?.exifImageWidth || 235",
                      "start_token": 1788,
                      "end_token": 1797,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "width",
                          "start_token": 1788,
                          "end_token": 1788,
                          "children": []
                        },
                        {
                          "type": "BinaryExpression",
                          "label": "asset.exifInfo?.exifImageWidth || 235",
                          "start_token": 1790,
                          "end_token": 1797,
                          "children": [
                            {
                              "type": "PropertyAccessExpression",
                              "label": "asset.exifInfo?.exifImageWidth",
                              "start_token": 1790,
                              "end_token": 1795,
                              "children": [
                                {
                                  "type": "PropertyAccessExpression",
                                  "label": "asset.exifInfo",
                                  "start_token": 1790,
                                  "end_token": 1792,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "asset",
                                      "start_token": 1790,
                                      "end_token": 1790,
                                      "children": []
                                    },
                                    {
                                      "type": "Identifier",
                                      "label": "exifInfo",
                                      "start_token": 1792,
                                      "end_token": 1792,
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "type": "QuestionDotToken",
                                  "label": "?.",
                                  "start_token": 1793,
                                  "end_token": 1794,
                                  "children": []
                                },
                                {
                                  "type": "Identifier",
                                  "label": "exifImageWidth",
                                  "start_token": 1795,
                                  "end_token": 1795,
                                  "children": []
                                }
                              ]
                            },
                            {
                              "type": "BarBarToken",
                              "label": "||",
                              "start_token": 1796,
                              "end_token": 1796,
                              "children": []
                            },
                            {
                              "type": "FirstLiteralToken",
                              "label": "235",
                              "start_token": 1797,
                              "end_token": 1797,
                              "children": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "IfStatement",
              "label": "if (isFlipped(asset.exifInfo?.orientation)) {\n    [width, height] = [height, width];\n  }",
              "start_token": 1799,
              "end_token": 1824,
              "children": [
                {
                  "type": "CallExpression",
                  "label": "isFlipped(asset.exifInfo?.orientation)",
                  "start_token": 1801,
                  "end_token": 1809,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "isFlipped",
                      "start_token": 1801,
                      "end_token": 1801,
                      "children": []
                    },
                    {
                      "type": "PropertyAccessExpression",
                      "label": "asset.exifInfo?.orientation",
                      "start_token": 1803,
                      "end_token": 1808,
                      "children": [
                        {
                          "type": "PropertyAccessExpression",
                          "label": "asset.exifInfo",
                          "start_token": 1803,
                          "end_token": 1805,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "asset",
                              "start_token": 1803,
                              "end_token": 1803,
                              "children": []
                            },
                            {
                              "type": "Identifier",
                              "label": "exifInfo",
                              "start_token": 1805,
                              "end_token": 1805,
                              "children": []
                            }
                          ]
                        },
                        {
                          "type": "QuestionDotToken",
                          "label": "?.",
                          "start_token": 1806,
                          "end_token": 1807,
                          "children": []
                        },
                        {
                          "type": "Identifier",
                          "label": "orientation",
                          "start_token": 1808,
                          "end_token": 1808,
                          "children": []
                        }
                      ]
                    }
                  ]
                },
                {
                  "type": "Block",
                  "label": "{\n    [width, height] = [height, width];\n  }",
                  "start_token": 1811,
                  "end_token": 1824,
                  "children": [
                    {
                      "type": "ExpressionStatement",
                      "label": "[width, height] = [height, width];",
                      "start_token": 1812,
                      "end_token": 1823,
                      "children": [
                        {
                          "type": "BinaryExpression",
                          "label": "[width, height] = [height, width]",
                          "start_token": 1812,
                          "end_token": 1822,
                          "children": [
                            {
                              "type": "ArrayLiteralExpression",
                              "label": "[width, height]",
                              "start_token": 1812,
                              "end_token": 1816,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "width",
                                  "start_token": 1813,
                                  "end_token": 1813,
                                  "children": []
                                },
                                {
                                  "type": "Identifier",
                                  "label": "height",
                                  "start_token": 1815,
                                  "end_token": 1815,
                                  "children": []
                                }
                              ]
                            },
                            {
                              "type": "FirstAssignment",
                              "label": "=",
                              "start_token": 1817,
                              "end_token": 1817,
                              "children": []
                            },
                            {
                              "type": "ArrayLiteralExpression",
                              "label": "[height, width]",
                              "start_token": 1818,
                              "end_token": 1822,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "height",
                                  "start_token": 1819,
                                  "end_token": 1819,
                                  "children": []
                                },
                                {
                                  "type": "Identifier",
                                  "label": "width",
                                  "start_token": 1821,
                                  "end_token": 1821,
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "ReturnStatement",
              "label": "return { width, height };",
              "start_token": 1825,
              "end_token": 1831,
              "children": [
                {
                  "type": "ObjectLiteralExpression",
                  "label": "{ width, height }",
                  "start_token": 1826,
                  "end_token": 1830,
                  "children": [
                    {
                      "type": "ShorthandPropertyAssignment",
                      "label": "width",
                      "start_token": 1827,
                      "end_token": 1827,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "width",
                          "start_token": 1827,
                          "end_token": 1827,
                          "children": []
                        }
                      ]
                    },
                    {
                      "type": "ShorthandPropertyAssignment",
                      "label": "height",
                      "start_token": 1829,
                      "end_token": 1829,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "height",
                          "start_token": 1829,
                          "end_token": 1829,
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FirstStatement",
      "label": "const supportedImageMimeTypes = new Set([\n  'image/apng',\n  'image/avif',\n  'image/gif',\n  'image/jpeg',\n  'image/png',\n  'image/webp',\n]);",
      "start_token": 1834,
      "end_token": 1855,
      "children": [
        {
          "type": "VariableDeclarationList",
          "label": "const supportedImageMimeTypes = new Set([\n  'image/apng',\n  'image/avif',\n  'image/gif',\n  'image/jpeg',\n  'image/png',\n  'image/webp',\n])",
          "start_token": 1834,
          "end_token": 1854,
          "children": [
            {
              "type": "VariableDeclaration",
              "label": "supportedImageMimeTypes = new Set([\n  'image/apng',\n  'image/avif',\n  'image/gif',\n  'image/jpeg',\n  'image/png',\n  'image/webp',\n])",
              "start_token": 1835,
              "end_token": 1854,
              "children": [
                {
                  "type": "Identifier",
                  "label": "supportedImageMimeTypes",
                  "start_token": 1835,
                  "end_token": 1835,
                  "children": []
                },
                {
                  "type": "NewExpression",
                  "label": "new Set([\n  'image/apng',\n  'image/avif',\n  'image/gif',\n  'image/jpeg',\n  'image/png',\n  'image/webp',\n])",
                  "start_token": 1837,
                  "end_token": 1854,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "Set",
                      "start_token": 1838,
                      "end_token": 1838,
                      "children": []
                    },
                    {
                      "type": "ArrayLiteralExpression",
                      "label": "[\n  'image/apng',\n  'image/avif',\n  'image/gif',\n  'image/jpeg',\n  'image/png',\n  'image/webp',\n]",
                      "start_token": 1840,
                      "end_token": 1853,
                      "children": [
                        {
                          "type": "StringLiteral",
                          "label": "'image/apng'",
                          "start_token": 1841,
                          "end_token": 1841,
                          "children": []
                        },
                        {
                          "type": "StringLiteral",
                          "label": "'image/avif'",
                          "start_token": 1843,
                          "end_token": 1843,
                          "children": []
                        },
                        {
                          "type": "StringLiteral",
                          "label": "'image/gif'",
                          "start_token": 1845,
                          "end_token": 1845,
                          "children": []
                        },
                        {
                          "type": "StringLiteral",
                          "label": "'image/jpeg'",
                          "start_token": 1847,
                          "end_token": 1847,
                          "children": []
                        },
                        {
                          "type": "StringLiteral",
                          "label": "'image/png'",
                          "start_token": 1849,
                          "end_token": 1849,
                          "children": []
                        },
                        {
                          "type": "StringLiteral",
                          "label": "'image/webp'",
                          "start_token": 1851,
                          "end_token": 1851,
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FirstStatement",
      "label": "const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);",
      "start_token": 1856,
      "end_token": 1882,
      "children": [
        {
          "type": "VariableDeclarationList",
          "label": "const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent)",
          "start_token": 1856,
          "end_token": 1881,
          "children": [
            {
              "type": "VariableDeclaration",
              "label": "isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent)",
              "start_token": 1857,
              "end_token": 1881,
              "children": [
                {
                  "type": "Identifier",
                  "label": "isSafari",
                  "start_token": 1857,
                  "end_token": 1857,
                  "children": []
                },
                {
                  "type": "CallExpression",
                  "label": "/^((?!chrome|android).)*safari/i.test(navigator.userAgent)",
                  "start_token": 1859,
                  "end_token": 1881,
                  "children": [
                    {
                      "type": "PropertyAccessExpression",
                      "label": "/^((?!chrome|android).)*safari/i.test",
                      "start_token": 1859,
                      "end_token": 1876,
                      "children": [
                        {
                          "type": "RegularExpressionLiteral",
                          "label": "/^((?!chrome|android).)*safari/i",
                          "start_token": 1859,
                          "end_token": 1874,
                          "children": []
                        },
                        {
                          "type": "Identifier",
                          "label": "test",
                          "start_token": 1876,
                          "end_token": 1876,
                          "children": []
                        }
                      ]
                    },
                    {
                      "type": "PropertyAccessExpression",
                      "label": "navigator.userAgent",
                      "start_token": 1878,
                      "end_token": 1880,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "navigator",
                          "start_token": 1878,
                          "end_token": 1878,
                          "children": []
                        },
                        {
                          "type": "Identifier",
                          "label": "userAgent",
                          "start_token": 1880,
                          "end_token": 1880,
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "IfStatement",
      "label": "if (isSafari) {\n  supportedImageMimeTypes.add('image/heic').add('image/heif');\n}",
      "start_token": 1884,
      "end_token": 1901,
      "children": [
        {
          "type": "Identifier",
          "label": "isSafari",
          "start_token": 1886,
          "end_token": 1886,
          "children": []
        },
        {
          "type": "Block",
          "label": "{\n  supportedImageMimeTypes.add('image/heic').add('image/heif');\n}",
          "start_token": 1888,
          "end_token": 1901,
          "children": [
            {
              "type": "ExpressionStatement",
              "label": "supportedImageMimeTypes.add('image/heic').add('image/heif');",
              "start_token": 1889,
              "end_token": 1900,
              "children": [
                {
                  "type": "CallExpression",
                  "label": "supportedImageMimeTypes.add('image/heic').add('image/heif')",
                  "start_token": 1889,
                  "end_token": 1899,
                  "children": [
                    {
                      "type": "PropertyAccessExpression",
                      "label": "supportedImageMimeTypes.add('image/heic').add",
                      "start_token": 1889,
                      "end_token": 1896,
                      "children": [
                        {
                          "type": "CallExpression",
                          "label": "supportedImageMimeTypes.add('image/heic')",
                          "start_token": 1889,
                          "end_token": 1894,
                          "children": [
                            {
                              "type": "PropertyAccessExpression",
                              "label": "supportedImageMimeTypes.add",
                              "start_token": 1889,
                              "end_token": 1891,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "supportedImageMimeTypes",
                                  "start_token": 1889,
                                  "end_token": 1889,
                                  "children": []
                                },
                                {
                                  "type": "Identifier",
                                  "label": "add",
                                  "start_token": 1891,
                                  "end_token": 1891,
                                  "children": []
                                }
                              ]
                            },
                            {
                              "type": "StringLiteral",
                              "label": "'image/heic'",
                              "start_token": 1893,
                              "end_token": 1893,
                              "children": []
                            }
                          ]
                        },
                        {
                          "type": "Identifier",
                          "label": "add",
                          "start_token": 1896,
                          "end_token": 1896,
                          "children": []
                        }
                      ]
                    },
                    {
                      "type": "StringLiteral",
                      "label": "'image/heif'",
                      "start_token": 1898,
                      "end_token": 1898,
                      "children": []
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FunctionDeclaration",
      "label": "export function isWebCompatibleImage(asset: AssetResponseDto): boolean {\n  if (!asset.originalMimeType) {\n    return false;\n  }\n  return supportedImageMimeTypes.has(asset.originalMimeType);\n}",
      "start_token": 1902,
      "end_token": 1935,
      "children": [
        {
          "type": "ExportKeyword",
          "label": "export",
          "start_token": 1902,
          "end_token": 1902,
          "children": []
        },
        {
          "type": "Identifier",
          "label": "isWebCompatibleImage",
          "start_token": 1904,
          "end_token": 1904,
          "children": []
        },
        {
          "type": "Parameter",
          "label": "asset: AssetResponseDto",
          "start_token": 1906,
          "end_token": 1908,
          "children": [
            {
              "type": "Identifier",
              "label": "asset",
              "start_token": 1906,
              "end_token": 1906,
              "children": []
            },
            {
              "type": "TypeReference",
              "label": "AssetResponseDto",
              "start_token": 1908,
              "end_token": 1908,
              "children": [
                {
                  "type": "Identifier",
                  "label": "AssetResponseDto",
                  "start_token": 1908,
                  "end_token": 1908,
                  "children": []
                }
              ]
            }
          ]
        },
        {
          "type": "BooleanKeyword",
          "label": "boolean",
          "start_token": 1911,
          "end_token": 1911,
          "children": []
        },
        {
          "type": "Block",
          "label": "{\n  if (!asset.originalMimeType) {\n    return false;\n  }\n  return supportedImageMimeTypes.has(asset.originalMimeType);\n}",
          "start_token": 1912,
          "end_token": 1935,
          "children": [
            {
              "type": "IfStatement",
              "label": "if (!asset.originalMimeType) {\n    return false;\n  }",
              "start_token": 1913,
              "end_token": 1924,
              "children": [
                {
                  "type": "PrefixUnaryExpression",
                  "label": "!asset.originalMimeType",
                  "start_token": 1915,
                  "end_token": 1918,
                  "children": [
                    {
                      "type": "PropertyAccessExpression",
                      "label": "asset.originalMimeType",
                      "start_token": 1916,
                      "end_token": 1918,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "asset",
                          "start_token": 1916,
                          "end_token": 1916,
                          "children": []
                        },
                        {
                          "type": "Identifier",
                          "label": "originalMimeType",
                          "start_token": 1918,
                          "end_token": 1918,
                          "children": []
                        }
                      ]
                    }
                  ]
                },
                {
                  "type": "Block",
                  "label": "{\n    return false;\n  }",
                  "start_token": 1920,
                  "end_token": 1924,
                  "children": [
                    {
                      "type": "ReturnStatement",
                      "label": "return false;",
                      "start_token": 1921,
                      "end_token": 1923,
                      "children": [
                        {
                          "type": "FalseKeyword",
                          "label": "false",
                          "start_token": 1922,
                          "end_token": 1922,
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "ReturnStatement",
              "label": "return supportedImageMimeTypes.has(asset.originalMimeType);",
              "start_token": 1925,
              "end_token": 1934,
              "children": [
                {
                  "type": "CallExpression",
                  "label": "supportedImageMimeTypes.has(asset.originalMimeType)",
                  "start_token": 1926,
                  "end_token": 1933,
                  "children": [
                    {
                      "type": "PropertyAccessExpression",
                      "label": "supportedImageMimeTypes.has",
                      "start_token": 1926,
                      "end_token": 1928,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "supportedImageMimeTypes",
                          "start_token": 1926,
                          "end_token": 1926,
                          "children": []
                        },
                        {
                          "type": "Identifier",
                          "label": "has",
                          "start_token": 1928,
                          "end_token": 1928,
                          "children": []
                        }
                      ]
                    },
                    {
                      "type": "PropertyAccessExpression",
                      "label": "asset.originalMimeType",
                      "start_token": 1930,
                      "end_token": 1932,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "asset",
                          "start_token": 1930,
                          "end_token": 1930,
                          "children": []
                        },
                        {
                          "type": "Identifier",
                          "label": "originalMimeType",
                          "start_token": 1932,
                          "end_token": 1932,
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FirstStatement",
      "label": "export const getAssetType = (type: AssetTypeEnum) => {\n  switch (type) {\n    case 'IMAGE': {\n      return 'Photo';\n    }\n    case 'VIDEO': {\n      return 'Video';\n    }\n    default: {\n      return 'Asset';\n    }\n  }\n};",
      "start_token": 1936,
      "end_token": 1977,
      "children": [
        {
          "type": "ExportKeyword",
          "label": "export",
          "start_token": 1936,
          "end_token": 1936,
          "children": []
        },
        {
          "type": "VariableDeclarationList",
          "label": "const getAssetType = (type: AssetTypeEnum) => {\n  switch (type) {\n    case 'IMAGE': {\n      return 'Photo';\n    }\n    case 'VIDEO': {\n      return 'Video';\n    }\n    default: {\n      return 'Asset';\n    }\n  }\n}",
          "start_token": 1937,
          "end_token": 1976,
          "children": [
            {
              "type": "VariableDeclaration",
              "label": "getAssetType = (type: AssetTypeEnum) => {\n  switch (type) {\n    case 'IMAGE': {\n      return 'Photo';\n    }\n    case 'VIDEO': {\n      return 'Video';\n    }\n    default: {\n      return 'Asset';\n    }\n  }\n}",
              "start_token": 1938,
              "end_token": 1976,
              "children": [
                {
                  "type": "Identifier",
                  "label": "getAssetType",
                  "start_token": 1938,
                  "end_token": 1938,
                  "children": []
                },
                {
                  "type": "ArrowFunction",
                  "label": "(type: AssetTypeEnum) => {\n  switch (type) {\n    case 'IMAGE': {\n      return 'Photo';\n    }\n    case 'VIDEO': {\n      return 'Video';\n    }\n    default: {\n      return 'Asset';\n    }\n  }\n}",
                  "start_token": 1940,
                  "end_token": 1976,
                  "children": [
                    {
                      "type": "Parameter",
                      "label": "type: AssetTypeEnum",
                      "start_token": 1941,
                      "end_token": 1943,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "type",
                          "start_token": 1941,
                          "end_token": 1941,
                          "children": []
                        },
                        {
                          "type": "TypeReference",
                          "label": "AssetTypeEnum",
                          "start_token": 1943,
                          "end_token": 1943,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "AssetTypeEnum",
                              "start_token": 1943,
                              "end_token": 1943,
                              "children": []
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "EqualsGreaterThanToken",
                      "label": "=>",
                      "start_token": 1945,
                      "end_token": 1945,
                      "children": []
                    },
                    {
                      "type": "Block",
                      "label": "{\n  switch (type) {\n    case 'IMAGE': {\n      return 'Photo';\n    }\n    case 'VIDEO': {\n      return 'Video';\n    }\n    default: {\n      return 'Asset';\n    }\n  }\n}",
                      "start_token": 1946,
                      "end_token": 1976,
                      "children": [
                        {
                          "type": "SwitchStatement",
                          "label": "switch (type) {\n    case 'IMAGE': {\n      return 'Photo';\n    }\n    case 'VIDEO': {\n      return 'Video';\n    }\n    default: {\n      return 'Asset';\n    }\n  }",
                          "start_token": 1947,
                          "end_token": 1975,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "type",
                              "start_token": 1949,
                              "end_token": 1949,
                              "children": []
                            },
                            {
                              "type": "CaseBlock",
                              "label": "{\n    case 'IMAGE': {\n      return 'Photo';\n    }\n    case 'VIDEO': {\n      return 'Video';\n    }\n    default: {\n      return 'Asset';\n    }\n  }",
                              "start_token": 1951,
                              "end_token": 1975,
                              "children": [
                                {
                                  "type": "CaseClause",
                                  "label": "case 'IMAGE': {\n      return 'Photo';\n    }",
                                  "start_token": 1952,
                                  "end_token": 1959,
                                  "children": [
                                    {
                                      "type": "StringLiteral",
                                      "label": "'IMAGE'",
                                      "start_token": 1953,
                                      "end_token": 1953,
                                      "children": []
                                    },
                                    {
                                      "type": "Block",
                                      "label": "{\n      return 'Photo';\n    }",
                                      "start_token": 1955,
                                      "end_token": 1959,
                                      "children": [
                                        {
                                          "type": "ReturnStatement",
                                          "label": "return 'Photo';",
                                          "start_token": 1956,
                                          "end_token": 1958,
                                          "children": [
                                            {
                                              "type": "StringLiteral",
                                              "label": "'Photo'",
                                              "start_token": 1957,
                                              "end_token": 1957,
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "CaseClause",
                                  "label": "case 'VIDEO': {\n      return 'Video';\n    }",
                                  "start_token": 1960,
                                  "end_token": 1967,
                                  "children": [
                                    {
                                      "type": "StringLiteral",
                                      "label": "'VIDEO'",
                                      "start_token": 1961,
                                      "end_token": 1961,
                                      "children": []
                                    },
                                    {
                                      "type": "Block",
                                      "label": "{\n      return 'Video';\n    }",
                                      "start_token": 1963,
                                      "end_token": 1967,
                                      "children": [
                                        {
                                          "type": "ReturnStatement",
                                          "label": "return 'Video';",
                                          "start_token": 1964,
                                          "end_token": 1966,
                                          "children": [
                                            {
                                              "type": "StringLiteral",
                                              "label": "'Video'",
                                              "start_token": 1965,
                                              "end_token": 1965,
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "DefaultClause",
                                  "label": "default: {\n      return 'Asset';\n    }",
                                  "start_token": 1968,
                                  "end_token": 1974,
                                  "children": [
                                    {
                                      "type": "Block",
                                      "label": "{\n      return 'Asset';\n    }",
                                      "start_token": 1970,
                                      "end_token": 1974,
                                      "children": [
                                        {
                                          "type": "ReturnStatement",
                                          "label": "return 'Asset';",
                                          "start_token": 1971,
                                          "end_token": 1973,
                                          "children": [
                                            {
                                              "type": "StringLiteral",
                                              "label": "'Asset'",
                                              "start_token": 1972,
                                              "end_token": 1972,
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FirstStatement",
      "label": "export const getSelectedAssets = (assets: Set<AssetResponseDto>, user: UserResponseDto | null): string[] => {\n  const ids = [...assets].filter((a) => user && a.ownerId === user.id).map((a) => a.id);\n  const numberOfIssues = [...assets].filter((a) => user && a.ownerId !== user.id).length;\n  if (numberOfIssues > 0) {\n    const $t = get(t);\n    notificationController.show({\n      message: $t('errors.cant_change_metadata_assets_count', { values: { count: numberOfIssues } }),\n      type: NotificationType.Warning,\n    });\n  }\n  return ids;\n};",
      "start_token": 1978,
      "end_token": 2120,
      "children": [
        {
          "type": "ExportKeyword",
          "label": "export",
          "start_token": 1978,
          "end_token": 1978,
          "children": []
        },
        {
          "type": "VariableDeclarationList",
          "label": "const getSelectedAssets = (assets: Set<AssetResponseDto>, user: UserResponseDto | null): string[] => {\n  const ids = [...assets].filter((a) => user && a.ownerId === user.id).map((a) => a.id);\n  const numberOfIssues = [...assets].filter((a) => user && a.ownerId !== user.id).length;\n  if (numberOfIssues > 0) {\n    const $t = get(t);\n    notificationController.show({\n      message: $t('errors.cant_change_metadata_assets_count', { values: { count: numberOfIssues } }),\n      type: NotificationType.Warning,\n    });\n  }\n  return ids;\n}",
          "start_token": 1979,
          "end_token": 2119,
          "children": [
            {
              "type": "VariableDeclaration",
              "label": "getSelectedAssets = (assets: Set<AssetResponseDto>, user: UserResponseDto | null): string[] => {\n  const ids = [...assets].filter((a) => user && a.ownerId === user.id).map((a) => a.id);\n  const numberOfIssues = [...assets].filter((a) => user && a.ownerId !== user.id).length;\n  if (numberOfIssues > 0) {\n    const $t = get(t);\n    notificationController.show({\n      message: $t('errors.cant_change_metadata_assets_count', { values: { count: numberOfIssues } }),\n      type: NotificationType.Warning,\n    });\n  }\n  return ids;\n}",
              "start_token": 1980,
              "end_token": 2119,
              "children": [
                {
                  "type": "Identifier",
                  "label": "getSelectedAssets",
                  "start_token": 1980,
                  "end_token": 1980,
                  "children": []
                },
                {
                  "type": "ArrowFunction",
                  "label": "(assets: Set<AssetResponseDto>, user: UserResponseDto | null): string[] => {\n  const ids = [...assets].filter((a) => user && a.ownerId === user.id).map((a) => a.id);\n  const numberOfIssues = [...assets].filter((a) => user && a.ownerId !== user.id).length;\n  if (numberOfIssues > 0) {\n    const $t = get(t);\n    notificationController.show({\n      message: $t('errors.cant_change_metadata_assets_count', { values: { count: numberOfIssues } }),\n      type: NotificationType.Warning,\n    });\n  }\n  return ids;\n}",
                  "start_token": 1982,
                  "end_token": 2119,
                  "children": [
                    {
                      "type": "Parameter",
                      "label": "assets: Set<AssetResponseDto>",
                      "start_token": 1983,
                      "end_token": 1988,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "assets",
                          "start_token": 1983,
                          "end_token": 1983,
                          "children": []
                        },
                        {
                          "type": "TypeReference",
                          "label": "Set<AssetResponseDto>",
                          "start_token": 1985,
                          "end_token": 1988,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "Set",
                              "start_token": 1985,
                              "end_token": 1985,
                              "children": []
                            },
                            {
                              "type": "TypeReference",
                              "label": "AssetResponseDto",
                              "start_token": 1987,
                              "end_token": 1987,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "AssetResponseDto",
                                  "start_token": 1987,
                                  "end_token": 1987,
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "Parameter",
                      "label": "user: UserResponseDto | null",
                      "start_token": 1990,
                      "end_token": 1994,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "user",
                          "start_token": 1990,
                          "end_token": 1990,
                          "children": []
                        },
                        {
                          "type": "UnionType",
                          "label": "UserResponseDto | null",
                          "start_token": 1992,
                          "end_token": 1994,
                          "children": [
                            {
                              "type": "TypeReference",
                              "label": "UserResponseDto",
                              "start_token": 1992,
                              "end_token": 1992,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "UserResponseDto",
                                  "start_token": 1992,
                                  "end_token": 1992,
                                  "children": []
                                }
                              ]
                            },
                            {
                              "type": "LiteralType",
                              "label": "null",
                              "start_token": 1994,
                              "end_token": 1994,
                              "children": [
                                {
                                  "type": "NullKeyword",
                                  "label": "null",
                                  "start_token": 1994,
                                  "end_token": 1994,
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "ArrayType",
                      "label": "string[]",
                      "start_token": 1997,
                      "end_token": 1999,
                      "children": [
                        {
                          "type": "StringKeyword",
                          "label": "string",
                          "start_token": 1997,
                          "end_token": 1997,
                          "children": []
                        }
                      ]
                    },
                    {
                      "type": "EqualsGreaterThanToken",
                      "label": "=>",
                      "start_token": 2000,
                      "end_token": 2000,
                      "children": []
                    },
                    {
                      "type": "Block",
                      "label": "{\n  const ids = [...assets].filter((a) => user && a.ownerId === user.id).map((a) => a.id);\n  const numberOfIssues = [...assets].filter((a) => user && a.ownerId !== user.id).length;\n  if (numberOfIssues > 0) {\n    const $t = get(t);\n    notificationController.show({\n      message: $t('errors.cant_change_metadata_assets_count', { values: { count: numberOfIssues } }),\n      type: NotificationType.Warning,\n    });\n  }\n  return ids;\n}",
                      "start_token": 2001,
                      "end_token": 2119,
                      "children": [
                        {
                          "type": "FirstStatement",
                          "label": "const ids = [...assets].filter((a) => user && a.ownerId === user.id).map((a) => a.id);",
                          "start_token": 2002,
                          "end_token": 2039,
                          "children": [
                            {
                              "type": "VariableDeclarationList",
                              "label": "const ids = [...assets].filter((a) => user && a.ownerId === user.id).map((a) => a.id)",
                              "start_token": 2002,
                              "end_token": 2038,
                              "children": [
                                {
                                  "type": "VariableDeclaration",
                                  "label": "ids = [...assets].filter((a) => user && a.ownerId === user.id).map((a) => a.id)",
                                  "start_token": 2003,
                                  "end_token": 2038,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "ids",
                                      "start_token": 2003,
                                      "end_token": 2003,
                                      "children": []
                                    },
                                    {
                                      "type": "CallExpression",
                                      "label": "[...assets].filter((a) => user && a.ownerId === user.id).map((a) => a.id)",
                                      "start_token": 2005,
                                      "end_token": 2038,
                                      "children": [
                                        {
                                          "type": "PropertyAccessExpression",
                                          "label": "[...assets].filter((a) => user && a.ownerId === user.id).map",
                                          "start_token": 2005,
                                          "end_token": 2029,
                                          "children": [
                                            {
                                              "type": "CallExpression",
                                              "label": "[...assets].filter((a) => user && a.ownerId === user.id)",
                                              "start_token": 2005,
                                              "end_token": 2027,
                                              "children": [
                                                {
                                                  "type": "PropertyAccessExpression",
                                                  "label": "[...assets].filter",
                                                  "start_token": 2005,
                                                  "end_token": 2012,
                                                  "children": [
                                                    {
                                                      "type": "ArrayLiteralExpression",
                                                      "label": "[...assets]",
                                                      "start_token": 2005,
                                                      "end_token": 2010,
                                                      "children": [
                                                        {
                                                          "type": "SpreadElement",
                                                          "label": "...assets",
                                                          "start_token": 2006,
                                                          "end_token": 2009,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "assets",
                                                              "start_token": 2009,
                                                              "end_token": 2009,
                                                              "children": []
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "filter",
                                                      "start_token": 2012,
                                                      "end_token": 2012,
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "ArrowFunction",
                                                  "label": "(a) => user && a.ownerId === user.id",
                                                  "start_token": 2014,
                                                  "end_token": 2026,
                                                  "children": [
                                                    {
                                                      "type": "Parameter",
                                                      "label": "a",
                                                      "start_token": 2015,
                                                      "end_token": 2015,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "a",
                                                          "start_token": 2015,
                                                          "end_token": 2015,
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "EqualsGreaterThanToken",
                                                      "label": "=>",
                                                      "start_token": 2017,
                                                      "end_token": 2017,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "BinaryExpression",
                                                      "label": "user && a.ownerId === user.id",
                                                      "start_token": 2018,
                                                      "end_token": 2026,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "user",
                                                          "start_token": 2018,
                                                          "end_token": 2018,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "AmpersandAmpersandToken",
                                                          "label": "&&",
                                                          "start_token": 2019,
                                                          "end_token": 2019,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "BinaryExpression",
                                                          "label": "a.ownerId === user.id",
                                                          "start_token": 2020,
                                                          "end_token": 2026,
                                                          "children": [
                                                            {
                                                              "type": "PropertyAccessExpression",
                                                              "label": "a.ownerId",
                                                              "start_token": 2020,
                                                              "end_token": 2022,
                                                              "children": [
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "a",
                                                                  "start_token": 2020,
                                                                  "end_token": 2020,
                                                                  "children": []
                                                                },
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "ownerId",
                                                                  "start_token": 2022,
                                                                  "end_token": 2022,
                                                                  "children": []
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "type": "EqualsEqualsEqualsToken",
                                                              "label": "===",
                                                              "start_token": 2023,
                                                              "end_token": 2023,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "PropertyAccessExpression",
                                                              "label": "user.id",
                                                              "start_token": 2024,
                                                              "end_token": 2026,
                                                              "children": [
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "user",
                                                                  "start_token": 2024,
                                                                  "end_token": 2024,
                                                                  "children": []
                                                                },
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "id",
                                                                  "start_token": 2026,
                                                                  "end_token": 2026,
                                                                  "children": []
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "map",
                                              "start_token": 2029,
                                              "end_token": 2029,
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "type": "ArrowFunction",
                                          "label": "(a) => a.id",
                                          "start_token": 2031,
                                          "end_token": 2037,
                                          "children": [
                                            {
                                              "type": "Parameter",
                                              "label": "a",
                                              "start_token": 2032,
                                              "end_token": 2032,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "a",
                                                  "start_token": 2032,
                                                  "end_token": 2032,
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "type": "EqualsGreaterThanToken",
                                              "label": "=>",
                                              "start_token": 2034,
                                              "end_token": 2034,
                                              "children": []
                                            },
                                            {
                                              "type": "PropertyAccessExpression",
                                              "label": "a.id",
                                              "start_token": 2035,
                                              "end_token": 2037,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "a",
                                                  "start_token": 2035,
                                                  "end_token": 2035,
                                                  "children": []
                                                },
                                                {
                                                  "type": "Identifier",
                                                  "label": "id",
                                                  "start_token": 2037,
                                                  "end_token": 2037,
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "FirstStatement",
                          "label": "const numberOfIssues = [...assets].filter((a) => user && a.ownerId !== user.id).length;",
                          "start_token": 2040,
                          "end_token": 2068,
                          "children": [
                            {
                              "type": "VariableDeclarationList",
                              "label": "const numberOfIssues = [...assets].filter((a) => user && a.ownerId !== user.id).length",
                              "start_token": 2040,
                              "end_token": 2067,
                              "children": [
                                {
                                  "type": "VariableDeclaration",
                                  "label": "numberOfIssues = [...assets].filter((a) => user && a.ownerId !== user.id).length",
                                  "start_token": 2041,
                                  "end_token": 2067,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "numberOfIssues",
                                      "start_token": 2041,
                                      "end_token": 2041,
                                      "children": []
                                    },
                                    {
                                      "type": "PropertyAccessExpression",
                                      "label": "[...assets].filter((a) => user && a.ownerId !== user.id).length",
                                      "start_token": 2043,
                                      "end_token": 2067,
                                      "children": [
                                        {
                                          "type": "CallExpression",
                                          "label": "[...assets].filter((a) => user && a.ownerId !== user.id)",
                                          "start_token": 2043,
                                          "end_token": 2065,
                                          "children": [
                                            {
                                              "type": "PropertyAccessExpression",
                                              "label": "[...assets].filter",
                                              "start_token": 2043,
                                              "end_token": 2050,
                                              "children": [
                                                {
                                                  "type": "ArrayLiteralExpression",
                                                  "label": "[...assets]",
                                                  "start_token": 2043,
                                                  "end_token": 2048,
                                                  "children": [
                                                    {
                                                      "type": "SpreadElement",
                                                      "label": "...assets",
                                                      "start_token": 2044,
                                                      "end_token": 2047,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "assets",
                                                          "start_token": 2047,
                                                          "end_token": 2047,
                                                          "children": []
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "Identifier",
                                                  "label": "filter",
                                                  "start_token": 2050,
                                                  "end_token": 2050,
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "type": "ArrowFunction",
                                              "label": "(a) => user && a.ownerId !== user.id",
                                              "start_token": 2052,
                                              "end_token": 2064,
                                              "children": [
                                                {
                                                  "type": "Parameter",
                                                  "label": "a",
                                                  "start_token": 2053,
                                                  "end_token": 2053,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "a",
                                                      "start_token": 2053,
                                                      "end_token": 2053,
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "EqualsGreaterThanToken",
                                                  "label": "=>",
                                                  "start_token": 2055,
                                                  "end_token": 2055,
                                                  "children": []
                                                },
                                                {
                                                  "type": "BinaryExpression",
                                                  "label": "user && a.ownerId !== user.id",
                                                  "start_token": 2056,
                                                  "end_token": 2064,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "user",
                                                      "start_token": 2056,
                                                      "end_token": 2056,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "AmpersandAmpersandToken",
                                                      "label": "&&",
                                                      "start_token": 2057,
                                                      "end_token": 2057,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "BinaryExpression",
                                                      "label": "a.ownerId !== user.id",
                                                      "start_token": 2058,
                                                      "end_token": 2064,
                                                      "children": [
                                                        {
                                                          "type": "PropertyAccessExpression",
                                                          "label": "a.ownerId",
                                                          "start_token": 2058,
                                                          "end_token": 2060,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "a",
                                                              "start_token": 2058,
                                                              "end_token": 2058,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "Identifier",
                                                              "label": "ownerId",
                                                              "start_token": 2060,
                                                              "end_token": 2060,
                                                              "children": []
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "type": "ExclamationEqualsEqualsToken",
                                                          "label": "!==",
                                                          "start_token": 2061,
                                                          "end_token": 2061,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "PropertyAccessExpression",
                                                          "label": "user.id",
                                                          "start_token": 2062,
                                                          "end_token": 2064,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "user",
                                                              "start_token": 2062,
                                                              "end_token": 2062,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "Identifier",
                                                              "label": "id",
                                                              "start_token": 2064,
                                                              "end_token": 2064,
                                                              "children": []
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "type": "Identifier",
                                          "label": "length",
                                          "start_token": 2067,
                                          "end_token": 2067,
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "IfStatement",
                          "label": "if (numberOfIssues > 0) {\n    const $t = get(t);\n    notificationController.show({\n      message: $t('errors.cant_change_metadata_assets_count', { values: { count: numberOfIssues } }),\n      type: NotificationType.Warning,\n    });\n  }",
                          "start_token": 2069,
                          "end_token": 2115,
                          "children": [
                            {
                              "type": "BinaryExpression",
                              "label": "numberOfIssues > 0",
                              "start_token": 2071,
                              "end_token": 2073,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "numberOfIssues",
                                  "start_token": 2071,
                                  "end_token": 2071,
                                  "children": []
                                },
                                {
                                  "type": "GreaterThanToken",
                                  "label": ">",
                                  "start_token": 2072,
                                  "end_token": 2072,
                                  "children": []
                                },
                                {
                                  "type": "FirstLiteralToken",
                                  "label": "0",
                                  "start_token": 2073,
                                  "end_token": 2073,
                                  "children": []
                                }
                              ]
                            },
                            {
                              "type": "Block",
                              "label": "{\n    const $t = get(t);\n    notificationController.show({\n      message: $t('errors.cant_change_metadata_assets_count', { values: { count: numberOfIssues } }),\n      type: NotificationType.Warning,\n    });\n  }",
                              "start_token": 2075,
                              "end_token": 2115,
                              "children": [
                                {
                                  "type": "FirstStatement",
                                  "label": "const $t = get(t);",
                                  "start_token": 2076,
                                  "end_token": 2083,
                                  "children": [
                                    {
                                      "type": "VariableDeclarationList",
                                      "label": "const $t = get(t)",
                                      "start_token": 2076,
                                      "end_token": 2082,
                                      "children": [
                                        {
                                          "type": "VariableDeclaration",
                                          "label": "$t = get(t)",
                                          "start_token": 2077,
                                          "end_token": 2082,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "$t",
                                              "start_token": 2077,
                                              "end_token": 2077,
                                              "children": []
                                            },
                                            {
                                              "type": "CallExpression",
                                              "label": "get(t)",
                                              "start_token": 2079,
                                              "end_token": 2082,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "get",
                                                  "start_token": 2079,
                                                  "end_token": 2079,
                                                  "children": []
                                                },
                                                {
                                                  "type": "Identifier",
                                                  "label": "t",
                                                  "start_token": 2081,
                                                  "end_token": 2081,
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "ExpressionStatement",
                                  "label": "notificationController.show({\n      message: $t('errors.cant_change_metadata_assets_count', { values: { count: numberOfIssues } }),\n      type: NotificationType.Warning,\n    });",
                                  "start_token": 2084,
                                  "end_token": 2114,
                                  "children": [
                                    {
                                      "type": "CallExpression",
                                      "label": "notificationController.show({\n      message: $t('errors.cant_change_metadata_assets_count', { values: { count: numberOfIssues } }),\n      type: NotificationType.Warning,\n    })",
                                      "start_token": 2084,
                                      "end_token": 2113,
                                      "children": [
                                        {
                                          "type": "PropertyAccessExpression",
                                          "label": "notificationController.show",
                                          "start_token": 2084,
                                          "end_token": 2086,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "notificationController",
                                              "start_token": 2084,
                                              "end_token": 2084,
                                              "children": []
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "show",
                                              "start_token": 2086,
                                              "end_token": 2086,
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "type": "ObjectLiteralExpression",
                                          "label": "{\n      message: $t('errors.cant_change_metadata_assets_count', { values: { count: numberOfIssues } }),\n      type: NotificationType.Warning,\n    }",
                                          "start_token": 2088,
                                          "end_token": 2112,
                                          "children": [
                                            {
                                              "type": "PropertyAssignment",
                                              "label": "message: $t('errors.cant_change_metadata_assets_count', { values: { count: numberOfIssues } })",
                                              "start_token": 2089,
                                              "end_token": 2104,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "message",
                                                  "start_token": 2089,
                                                  "end_token": 2089,
                                                  "children": []
                                                },
                                                {
                                                  "type": "CallExpression",
                                                  "label": "$t('errors.cant_change_metadata_assets_count', { values: { count: numberOfIssues } })",
                                                  "start_token": 2091,
                                                  "end_token": 2104,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "$t",
                                                      "start_token": 2091,
                                                      "end_token": 2091,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "StringLiteral",
                                                      "label": "'errors.cant_change_metadata_assets_count'",
                                                      "start_token": 2093,
                                                      "end_token": 2093,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "ObjectLiteralExpression",
                                                      "label": "{ values: { count: numberOfIssues } }",
                                                      "start_token": 2095,
                                                      "end_token": 2103,
                                                      "children": [
                                                        {
                                                          "type": "PropertyAssignment",
                                                          "label": "values: { count: numberOfIssues }",
                                                          "start_token": 2096,
                                                          "end_token": 2102,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "values",
                                                              "start_token": 2096,
                                                              "end_token": 2096,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "ObjectLiteralExpression",
                                                              "label": "{ count: numberOfIssues }",
                                                              "start_token": 2098,
                                                              "end_token": 2102,
                                                              "children": [
                                                                {
                                                                  "type": "PropertyAssignment",
                                                                  "label": "count: numberOfIssues",
                                                                  "start_token": 2099,
                                                                  "end_token": 2101,
                                                                  "children": [
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "count",
                                                                      "start_token": 2099,
                                                                      "end_token": 2099,
                                                                      "children": []
                                                                    },
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "numberOfIssues",
                                                                      "start_token": 2101,
                                                                      "end_token": 2101,
                                                                      "children": []
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "type": "PropertyAssignment",
                                              "label": "type: NotificationType.Warning",
                                              "start_token": 2106,
                                              "end_token": 2110,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "type",
                                                  "start_token": 2106,
                                                  "end_token": 2106,
                                                  "children": []
                                                },
                                                {
                                                  "type": "PropertyAccessExpression",
                                                  "label": "NotificationType.Warning",
                                                  "start_token": 2108,
                                                  "end_token": 2110,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "NotificationType",
                                                      "start_token": 2108,
                                                      "end_token": 2108,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "Warning",
                                                      "start_token": 2110,
                                                      "end_token": 2110,
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "ReturnStatement",
                          "label": "return ids;",
                          "start_token": 2116,
                          "end_token": 2118,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "ids",
                              "start_token": 2117,
                              "end_token": 2117,
                              "children": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FirstStatement",
      "label": "export const stackAssets = async (assets: AssetResponseDto[], showNotification = true) => {\n  if (assets.length < 2) {\n    return false;\n  }\n  const $t = get(t);\n  try {\n    const stack = await createStack({ stackCreateDto: { assetIds: assets.map(({ id }) => id) } });\n    if (showNotification) {\n      notificationController.show({\n        message: $t('stacked_assets_count', { values: { count: stack.assets.length } }),\n        type: NotificationType.Info,\n        button: {\n          text: $t('view_stack'),\n          onClick: () => assetViewingStore.setAssetId(stack.primaryAssetId),\n        },\n      });\n    }\n    for (const [index, asset] of assets.entries()) {\n      asset.stack = index === 0 ? { id: stack.id, assetCount: stack.assets.length, primaryAssetId: asset.id } : null;\n    }\n    return assets.slice(1).map((asset) => asset.id);\n  } catch (error) {\n    handleError(error, $t('errors.failed_to_stack_assets'));\n    return false;\n  }\n};",
      "start_token": 2121,
      "end_token": 2346,
      "children": [
        {
          "type": "ExportKeyword",
          "label": "export",
          "start_token": 2121,
          "end_token": 2121,
          "children": []
        },
        {
          "type": "VariableDeclarationList",
          "label": "const stackAssets = async (assets: AssetResponseDto[], showNotification = true) => {\n  if (assets.length < 2) {\n    return false;\n  }\n  const $t = get(t);\n  try {\n    const stack = await createStack({ stackCreateDto: { assetIds: assets.map(({ id }) => id) } });\n    if (showNotification) {\n      notificationController.show({\n        message: $t('stacked_assets_count', { values: { count: stack.assets.length } }),\n        type: NotificationType.Info,\n        button: {\n          text: $t('view_stack'),\n          onClick: () => assetViewingStore.setAssetId(stack.primaryAssetId),\n        },\n      });\n    }\n    for (const [index, asset] of assets.entries()) {\n      asset.stack = index === 0 ? { id: stack.id, assetCount: stack.assets.length, primaryAssetId: asset.id } : null;\n    }\n    return assets.slice(1).map((asset) => asset.id);\n  } catch (error) {\n    handleError(error, $t('errors.failed_to_stack_assets'));\n    return false;\n  }\n}",
          "start_token": 2122,
          "end_token": 2345,
          "children": [
            {
              "type": "VariableDeclaration",
              "label": "stackAssets = async (assets: AssetResponseDto[], showNotification = true) => {\n  if (assets.length < 2) {\n    return false;\n  }\n  const $t = get(t);\n  try {\n    const stack = await createStack({ stackCreateDto: { assetIds: assets.map(({ id }) => id) } });\n    if (showNotification) {\n      notificationController.show({\n        message: $t('stacked_assets_count', { values: { count: stack.assets.length } }),\n        type: NotificationType.Info,\n        button: {\n          text: $t('view_stack'),\n          onClick: () => assetViewingStore.setAssetId(stack.primaryAssetId),\n        },\n      });\n    }\n    for (const [index, asset] of assets.entries()) {\n      asset.stack = index === 0 ? { id: stack.id, assetCount: stack.assets.length, primaryAssetId: asset.id } : null;\n    }\n    return assets.slice(1).map((asset) => asset.id);\n  } catch (error) {\n    handleError(error, $t('errors.failed_to_stack_assets'));\n    return false;\n  }\n}",
              "start_token": 2123,
              "end_token": 2345,
              "children": [
                {
                  "type": "Identifier",
                  "label": "stackAssets",
                  "start_token": 2123,
                  "end_token": 2123,
                  "children": []
                },
                {
                  "type": "ArrowFunction",
                  "label": "async (assets: AssetResponseDto[], showNotification = true) => {\n  if (assets.length < 2) {\n    return false;\n  }\n  const $t = get(t);\n  try {\n    const stack = await createStack({ stackCreateDto: { assetIds: assets.map(({ id }) => id) } });\n    if (showNotification) {\n      notificationController.show({\n        message: $t('stacked_assets_count', { values: { count: stack.assets.length } }),\n        type: NotificationType.Info,\n        button: {\n          text: $t('view_stack'),\n          onClick: () => assetViewingStore.setAssetId(stack.primaryAssetId),\n        },\n      });\n    }\n    for (const [index, asset] of assets.entries()) {\n      asset.stack = index === 0 ? { id: stack.id, assetCount: stack.assets.length, primaryAssetId: asset.id } : null;\n    }\n    return assets.slice(1).map((asset) => asset.id);\n  } catch (error) {\n    handleError(error, $t('errors.failed_to_stack_assets'));\n    return false;\n  }\n}",
                  "start_token": 2125,
                  "end_token": 2345,
                  "children": [
                    {
                      "type": "AsyncKeyword",
                      "label": "async",
                      "start_token": 2125,
                      "end_token": 2125,
                      "children": []
                    },
                    {
                      "type": "Parameter",
                      "label": "assets: AssetResponseDto[]",
                      "start_token": 2127,
                      "end_token": 2131,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "assets",
                          "start_token": 2127,
                          "end_token": 2127,
                          "children": []
                        },
                        {
                          "type": "ArrayType",
                          "label": "AssetResponseDto[]",
                          "start_token": 2129,
                          "end_token": 2131,
                          "children": [
                            {
                              "type": "TypeReference",
                              "label": "AssetResponseDto",
                              "start_token": 2129,
                              "end_token": 2129,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "AssetResponseDto",
                                  "start_token": 2129,
                                  "end_token": 2129,
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "Parameter",
                      "label": "showNotification = true",
                      "start_token": 2133,
                      "end_token": 2135,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "showNotification",
                          "start_token": 2133,
                          "end_token": 2133,
                          "children": []
                        },
                        {
                          "type": "TrueKeyword",
                          "label": "true",
                          "start_token": 2135,
                          "end_token": 2135,
                          "children": []
                        }
                      ]
                    },
                    {
                      "type": "EqualsGreaterThanToken",
                      "label": "=>",
                      "start_token": 2137,
                      "end_token": 2137,
                      "children": []
                    },
                    {
                      "type": "Block",
                      "label": "{\n  if (assets.length < 2) {\n    return false;\n  }\n  const $t = get(t);\n  try {\n    const stack = await createStack({ stackCreateDto: { assetIds: assets.map(({ id }) => id) } });\n    if (showNotification) {\n      notificationController.show({\n        message: $t('stacked_assets_count', { values: { count: stack.assets.length } }),\n        type: NotificationType.Info,\n        button: {\n          text: $t('view_stack'),\n          onClick: () => assetViewingStore.setAssetId(stack.primaryAssetId),\n        },\n      });\n    }\n    for (const [index, asset] of assets.entries()) {\n      asset.stack = index === 0 ? { id: stack.id, assetCount: stack.assets.length, primaryAssetId: asset.id } : null;\n    }\n    return assets.slice(1).map((asset) => asset.id);\n  } catch (error) {\n    handleError(error, $t('errors.failed_to_stack_assets'));\n    return false;\n  }\n}",
                      "start_token": 2138,
                      "end_token": 2345,
                      "children": [
                        {
                          "type": "IfStatement",
                          "label": "if (assets.length < 2) {\n    return false;\n  }",
                          "start_token": 2139,
                          "end_token": 2151,
                          "children": [
                            {
                              "type": "BinaryExpression",
                              "label": "assets.length < 2",
                              "start_token": 2141,
                              "end_token": 2145,
                              "children": [
                                {
                                  "type": "PropertyAccessExpression",
                                  "label": "assets.length",
                                  "start_token": 2141,
                                  "end_token": 2143,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "assets",
                                      "start_token": 2141,
                                      "end_token": 2141,
                                      "children": []
                                    },
                                    {
                                      "type": "Identifier",
                                      "label": "length",
                                      "start_token": 2143,
                                      "end_token": 2143,
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "type": "FirstBinaryOperator",
                                  "label": "<",
                                  "start_token": 2144,
                                  "end_token": 2144,
                                  "children": []
                                },
                                {
                                  "type": "FirstLiteralToken",
                                  "label": "2",
                                  "start_token": 2145,
                                  "end_token": 2145,
                                  "children": []
                                }
                              ]
                            },
                            {
                              "type": "Block",
                              "label": "{\n    return false;\n  }",
                              "start_token": 2147,
                              "end_token": 2151,
                              "children": [
                                {
                                  "type": "ReturnStatement",
                                  "label": "return false;",
                                  "start_token": 2148,
                                  "end_token": 2150,
                                  "children": [
                                    {
                                      "type": "FalseKeyword",
                                      "label": "false",
                                      "start_token": 2149,
                                      "end_token": 2149,
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "FirstStatement",
                          "label": "const $t = get(t);",
                          "start_token": 2152,
                          "end_token": 2159,
                          "children": [
                            {
                              "type": "VariableDeclarationList",
                              "label": "const $t = get(t)",
                              "start_token": 2152,
                              "end_token": 2158,
                              "children": [
                                {
                                  "type": "VariableDeclaration",
                                  "label": "$t = get(t)",
                                  "start_token": 2153,
                                  "end_token": 2158,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "$t",
                                      "start_token": 2153,
                                      "end_token": 2153,
                                      "children": []
                                    },
                                    {
                                      "type": "CallExpression",
                                      "label": "get(t)",
                                      "start_token": 2155,
                                      "end_token": 2158,
                                      "children": [
                                        {
                                          "type": "Identifier",
                                          "label": "get",
                                          "start_token": 2155,
                                          "end_token": 2155,
                                          "children": []
                                        },
                                        {
                                          "type": "Identifier",
                                          "label": "t",
                                          "start_token": 2157,
                                          "end_token": 2157,
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "TryStatement",
                          "label": "try {\n    const stack = await createStack({ stackCreateDto: { assetIds: assets.map(({ id }) => id) } });\n    if (showNotification) {\n      notificationController.show({\n        message: $t('stacked_assets_count', { values: { count: stack.assets.length } }),\n        type: NotificationType.Info,\n        button: {\n          text: $t('view_stack'),\n          onClick: () => assetViewingStore.setAssetId(stack.primaryAssetId),\n        },\n      });\n    }\n    for (const [index, asset] of assets.entries()) {\n      asset.stack = index === 0 ? { id: stack.id, assetCount: stack.assets.length, primaryAssetId: asset.id } : null;\n    }\n    return assets.slice(1).map((asset) => asset.id);\n  } catch (error) {\n    handleError(error, $t('errors.failed_to_stack_assets'));\n    return false;\n  }",
                          "start_token": 2160,
                          "end_token": 2344,
                          "children": [
                            {
                              "type": "Block",
                              "label": "{\n    const stack = await createStack({ stackCreateDto: { assetIds: assets.map(({ id }) => id) } });\n    if (showNotification) {\n      notificationController.show({\n        message: $t('stacked_assets_count', { values: { count: stack.assets.length } }),\n        type: NotificationType.Info,\n        button: {\n          text: $t('view_stack'),\n          onClick: () => assetViewingStore.setAssetId(stack.primaryAssetId),\n        },\n      });\n    }\n    for (const [index, asset] of assets.entries()) {\n      asset.stack = index === 0 ? { id: stack.id, assetCount: stack.assets.length, primaryAssetId: asset.id } : null;\n    }\n    return assets.slice(1).map((asset) => asset.id);\n  }",
                              "start_token": 2161,
                              "end_token": 2325,
                              "children": [
                                {
                                  "type": "FirstStatement",
                                  "label": "const stack = await createStack({ stackCreateDto: { assetIds: assets.map(({ id }) => id) } });",
                                  "start_token": 2162,
                                  "end_token": 2189,
                                  "children": [
                                    {
                                      "type": "VariableDeclarationList",
                                      "label": "const stack = await createStack({ stackCreateDto: { assetIds: assets.map(({ id }) => id) } })",
                                      "start_token": 2162,
                                      "end_token": 2188,
                                      "children": [
                                        {
                                          "type": "VariableDeclaration",
                                          "label": "stack = await createStack({ stackCreateDto: { assetIds: assets.map(({ id }) => id) } })",
                                          "start_token": 2163,
                                          "end_token": 2188,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "stack",
                                              "start_token": 2163,
                                              "end_token": 2163,
                                              "children": []
                                            },
                                            {
                                              "type": "AwaitExpression",
                                              "label": "await createStack({ stackCreateDto: { assetIds: assets.map(({ id }) => id) } })",
                                              "start_token": 2165,
                                              "end_token": 2188,
                                              "children": [
                                                {
                                                  "type": "CallExpression",
                                                  "label": "createStack({ stackCreateDto: { assetIds: assets.map(({ id }) => id) } })",
                                                  "start_token": 2166,
                                                  "end_token": 2188,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "createStack",
                                                      "start_token": 2166,
                                                      "end_token": 2166,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "ObjectLiteralExpression",
                                                      "label": "{ stackCreateDto: { assetIds: assets.map(({ id }) => id) } }",
                                                      "start_token": 2168,
                                                      "end_token": 2187,
                                                      "children": [
                                                        {
                                                          "type": "PropertyAssignment",
                                                          "label": "stackCreateDto: { assetIds: assets.map(({ id }) => id) }",
                                                          "start_token": 2169,
                                                          "end_token": 2186,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "stackCreateDto",
                                                              "start_token": 2169,
                                                              "end_token": 2169,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "ObjectLiteralExpression",
                                                              "label": "{ assetIds: assets.map(({ id }) => id) }",
                                                              "start_token": 2171,
                                                              "end_token": 2186,
                                                              "children": [
                                                                {
                                                                  "type": "PropertyAssignment",
                                                                  "label": "assetIds: assets.map(({ id }) => id)",
                                                                  "start_token": 2172,
                                                                  "end_token": 2185,
                                                                  "children": [
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "assetIds",
                                                                      "start_token": 2172,
                                                                      "end_token": 2172,
                                                                      "children": []
                                                                    },
                                                                    {
                                                                      "type": "CallExpression",
                                                                      "label": "assets.map(({ id }) => id)",
                                                                      "start_token": 2174,
                                                                      "end_token": 2185,
                                                                      "children": [
                                                                        {
                                                                          "type": "PropertyAccessExpression",
                                                                          "label": "assets.map",
                                                                          "start_token": 2174,
                                                                          "end_token": 2176,
                                                                          "children": [
                                                                            {
                                                                              "type": "Identifier",
                                                                              "label": "assets",
                                                                              "start_token": 2174,
                                                                              "end_token": 2174,
                                                                              "children": []
                                                                            },
                                                                            {
                                                                              "type": "Identifier",
                                                                              "label": "map",
                                                                              "start_token": 2176,
                                                                              "end_token": 2176,
                                                                              "children": []
                                                                            }
                                                                          ]
                                                                        },
                                                                        {
                                                                          "type": "ArrowFunction",
                                                                          "label": "({ id }) => id",
                                                                          "start_token": 2178,
                                                                          "end_token": 2184,
                                                                          "children": [
                                                                            {
                                                                              "type": "Parameter",
                                                                              "label": "{ id }",
                                                                              "start_token": 2179,
                                                                              "end_token": 2181,
                                                                              "children": [
                                                                                {
                                                                                  "type": "ObjectBindingPattern",
                                                                                  "label": "{ id }",
                                                                                  "start_token": 2179,
                                                                                  "end_token": 2181,
                                                                                  "children": [
                                                                                    {
                                                                                      "type": "BindingElement",
                                                                                      "label": "id",
                                                                                      "start_token": 2180,
                                                                                      "end_token": 2180,
                                                                                      "children": [
                                                                                        {
                                                                                          "type": "Identifier",
                                                                                          "label": "id",
                                                                                          "start_token": 2180,
                                                                                          "end_token": 2180,
                                                                                          "children": []
                                                                                        }
                                                                                      ]
                                                                                    }
                                                                                  ]
                                                                                }
                                                                              ]
                                                                            },
                                                                            {
                                                                              "type": "EqualsGreaterThanToken",
                                                                              "label": "=>",
                                                                              "start_token": 2183,
                                                                              "end_token": 2183,
                                                                              "children": []
                                                                            },
                                                                            {
                                                                              "type": "Identifier",
                                                                              "label": "id",
                                                                              "start_token": 2184,
                                                                              "end_token": 2184,
                                                                              "children": []
                                                                            }
                                                                          ]
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "IfStatement",
                                  "label": "if (showNotification) {\n      notificationController.show({\n        message: $t('stacked_assets_count', { values: { count: stack.assets.length } }),\n        type: NotificationType.Info,\n        button: {\n          text: $t('view_stack'),\n          onClick: () => assetViewingStore.setAssetId(stack.primaryAssetId),\n        },\n      });\n    }",
                                  "start_token": 2190,
                                  "end_token": 2256,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "showNotification",
                                      "start_token": 2192,
                                      "end_token": 2192,
                                      "children": []
                                    },
                                    {
                                      "type": "Block",
                                      "label": "{\n      notificationController.show({\n        message: $t('stacked_assets_count', { values: { count: stack.assets.length } }),\n        type: NotificationType.Info,\n        button: {\n          text: $t('view_stack'),\n          onClick: () => assetViewingStore.setAssetId(stack.primaryAssetId),\n        },\n      });\n    }",
                                      "start_token": 2194,
                                      "end_token": 2256,
                                      "children": [
                                        {
                                          "type": "ExpressionStatement",
                                          "label": "notificationController.show({\n        message: $t('stacked_assets_count', { values: { count: stack.assets.length } }),\n        type: NotificationType.Info,\n        button: {\n          text: $t('view_stack'),\n          onClick: () => assetViewingStore.setAssetId(stack.primaryAssetId),\n        },\n      });",
                                          "start_token": 2195,
                                          "end_token": 2255,
                                          "children": [
                                            {
                                              "type": "CallExpression",
                                              "label": "notificationController.show({\n        message: $t('stacked_assets_count', { values: { count: stack.assets.length } }),\n        type: NotificationType.Info,\n        button: {\n          text: $t('view_stack'),\n          onClick: () => assetViewingStore.setAssetId(stack.primaryAssetId),\n        },\n      })",
                                              "start_token": 2195,
                                              "end_token": 2254,
                                              "children": [
                                                {
                                                  "type": "PropertyAccessExpression",
                                                  "label": "notificationController.show",
                                                  "start_token": 2195,
                                                  "end_token": 2197,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "notificationController",
                                                      "start_token": 2195,
                                                      "end_token": 2195,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "show",
                                                      "start_token": 2197,
                                                      "end_token": 2197,
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "ObjectLiteralExpression",
                                                  "label": "{\n        message: $t('stacked_assets_count', { values: { count: stack.assets.length } }),\n        type: NotificationType.Info,\n        button: {\n          text: $t('view_stack'),\n          onClick: () => assetViewingStore.setAssetId(stack.primaryAssetId),\n        },\n      }",
                                                  "start_token": 2199,
                                                  "end_token": 2253,
                                                  "children": [
                                                    {
                                                      "type": "PropertyAssignment",
                                                      "label": "message: $t('stacked_assets_count', { values: { count: stack.assets.length } })",
                                                      "start_token": 2200,
                                                      "end_token": 2219,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "message",
                                                          "start_token": 2200,
                                                          "end_token": 2200,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "CallExpression",
                                                          "label": "$t('stacked_assets_count', { values: { count: stack.assets.length } })",
                                                          "start_token": 2202,
                                                          "end_token": 2219,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "$t",
                                                              "start_token": 2202,
                                                              "end_token": 2202,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "StringLiteral",
                                                              "label": "'stacked_assets_count'",
                                                              "start_token": 2204,
                                                              "end_token": 2204,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "ObjectLiteralExpression",
                                                              "label": "{ values: { count: stack.assets.length } }",
                                                              "start_token": 2206,
                                                              "end_token": 2218,
                                                              "children": [
                                                                {
                                                                  "type": "PropertyAssignment",
                                                                  "label": "values: { count: stack.assets.length }",
                                                                  "start_token": 2207,
                                                                  "end_token": 2217,
                                                                  "children": [
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "values",
                                                                      "start_token": 2207,
                                                                      "end_token": 2207,
                                                                      "children": []
                                                                    },
                                                                    {
                                                                      "type": "ObjectLiteralExpression",
                                                                      "label": "{ count: stack.assets.length }",
                                                                      "start_token": 2209,
                                                                      "end_token": 2217,
                                                                      "children": [
                                                                        {
                                                                          "type": "PropertyAssignment",
                                                                          "label": "count: stack.assets.length",
                                                                          "start_token": 2210,
                                                                          "end_token": 2216,
                                                                          "children": [
                                                                            {
                                                                              "type": "Identifier",
                                                                              "label": "count",
                                                                              "start_token": 2210,
                                                                              "end_token": 2210,
                                                                              "children": []
                                                                            },
                                                                            {
                                                                              "type": "PropertyAccessExpression",
                                                                              "label": "stack.assets.length",
                                                                              "start_token": 2212,
                                                                              "end_token": 2216,
                                                                              "children": [
                                                                                {
                                                                                  "type": "PropertyAccessExpression",
                                                                                  "label": "stack.assets",
                                                                                  "start_token": 2212,
                                                                                  "end_token": 2214,
                                                                                  "children": [
                                                                                    {
                                                                                      "type": "Identifier",
                                                                                      "label": "stack",
                                                                                      "start_token": 2212,
                                                                                      "end_token": 2212,
                                                                                      "children": []
                                                                                    },
                                                                                    {
                                                                                      "type": "Identifier",
                                                                                      "label": "assets",
                                                                                      "start_token": 2214,
                                                                                      "end_token": 2214,
                                                                                      "children": []
                                                                                    }
                                                                                  ]
                                                                                },
                                                                                {
                                                                                  "type": "Identifier",
                                                                                  "label": "length",
                                                                                  "start_token": 2216,
                                                                                  "end_token": 2216,
                                                                                  "children": []
                                                                                }
                                                                              ]
                                                                            }
                                                                          ]
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "PropertyAssignment",
                                                      "label": "type: NotificationType.Info",
                                                      "start_token": 2221,
                                                      "end_token": 2225,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "type",
                                                          "start_token": 2221,
                                                          "end_token": 2221,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "PropertyAccessExpression",
                                                          "label": "NotificationType.Info",
                                                          "start_token": 2223,
                                                          "end_token": 2225,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "NotificationType",
                                                              "start_token": 2223,
                                                              "end_token": 2223,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "Identifier",
                                                              "label": "Info",
                                                              "start_token": 2225,
                                                              "end_token": 2225,
                                                              "children": []
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "PropertyAssignment",
                                                      "label": "button: {\n          text: $t('view_stack'),\n          onClick: () => assetViewingStore.setAssetId(stack.primaryAssetId),\n        }",
                                                      "start_token": 2227,
                                                      "end_token": 2251,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "button",
                                                          "start_token": 2227,
                                                          "end_token": 2227,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "ObjectLiteralExpression",
                                                          "label": "{\n          text: $t('view_stack'),\n          onClick: () => assetViewingStore.setAssetId(stack.primaryAssetId),\n        }",
                                                          "start_token": 2229,
                                                          "end_token": 2251,
                                                          "children": [
                                                            {
                                                              "type": "PropertyAssignment",
                                                              "label": "text: $t('view_stack')",
                                                              "start_token": 2230,
                                                              "end_token": 2235,
                                                              "children": [
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "text",
                                                                  "start_token": 2230,
                                                                  "end_token": 2230,
                                                                  "children": []
                                                                },
                                                                {
                                                                  "type": "CallExpression",
                                                                  "label": "$t('view_stack')",
                                                                  "start_token": 2232,
                                                                  "end_token": 2235,
                                                                  "children": [
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "$t",
                                                                      "start_token": 2232,
                                                                      "end_token": 2232,
                                                                      "children": []
                                                                    },
                                                                    {
                                                                      "type": "StringLiteral",
                                                                      "label": "'view_stack'",
                                                                      "start_token": 2234,
                                                                      "end_token": 2234,
                                                                      "children": []
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "type": "PropertyAssignment",
                                                              "label": "onClick: () => assetViewingStore.setAssetId(stack.primaryAssetId)",
                                                              "start_token": 2237,
                                                              "end_token": 2249,
                                                              "children": [
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "onClick",
                                                                  "start_token": 2237,
                                                                  "end_token": 2237,
                                                                  "children": []
                                                                },
                                                                {
                                                                  "type": "ArrowFunction",
                                                                  "label": "() => assetViewingStore.setAssetId(stack.primaryAssetId)",
                                                                  "start_token": 2239,
                                                                  "end_token": 2249,
                                                                  "children": [
                                                                    {
                                                                      "type": "EqualsGreaterThanToken",
                                                                      "label": "=>",
                                                                      "start_token": 2241,
                                                                      "end_token": 2241,
                                                                      "children": []
                                                                    },
                                                                    {
                                                                      "type": "CallExpression",
                                                                      "label": "assetViewingStore.setAssetId(stack.primaryAssetId)",
                                                                      "start_token": 2242,
                                                                      "end_token": 2249,
                                                                      "children": [
                                                                        {
                                                                          "type": "PropertyAccessExpression",
                                                                          "label": "assetViewingStore.setAssetId",
                                                                          "start_token": 2242,
                                                                          "end_token": 2244,
                                                                          "children": [
                                                                            {
                                                                              "type": "Identifier",
                                                                              "label": "assetViewingStore",
                                                                              "start_token": 2242,
                                                                              "end_token": 2242,
                                                                              "children": []
                                                                            },
                                                                            {
                                                                              "type": "Identifier",
                                                                              "label": "setAssetId",
                                                                              "start_token": 2244,
                                                                              "end_token": 2244,
                                                                              "children": []
                                                                            }
                                                                          ]
                                                                        },
                                                                        {
                                                                          "type": "PropertyAccessExpression",
                                                                          "label": "stack.primaryAssetId",
                                                                          "start_token": 2246,
                                                                          "end_token": 2248,
                                                                          "children": [
                                                                            {
                                                                              "type": "Identifier",
                                                                              "label": "stack",
                                                                              "start_token": 2246,
                                                                              "end_token": 2246,
                                                                              "children": []
                                                                            },
                                                                            {
                                                                              "type": "Identifier",
                                                                              "label": "primaryAssetId",
                                                                              "start_token": 2248,
                                                                              "end_token": 2248,
                                                                              "children": []
                                                                            }
                                                                          ]
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "ForOfStatement",
                                  "label": "for (const [index, asset] of assets.entries()) {\n      asset.stack = index === 0 ? { id: stack.id, assetCount: stack.assets.length, primaryAssetId: asset.id } : null;\n    }",
                                  "start_token": 2257,
                                  "end_token": 2305,
                                  "children": [
                                    {
                                      "type": "VariableDeclarationList",
                                      "label": "const [index, asset]",
                                      "start_token": 2259,
                                      "end_token": 2264,
                                      "children": [
                                        {
                                          "type": "VariableDeclaration",
                                          "label": "[index, asset]",
                                          "start_token": 2260,
                                          "end_token": 2264,
                                          "children": [
                                            {
                                              "type": "ArrayBindingPattern",
                                              "label": "[index, asset]",
                                              "start_token": 2260,
                                              "end_token": 2264,
                                              "children": [
                                                {
                                                  "type": "BindingElement",
                                                  "label": "index",
                                                  "start_token": 2261,
                                                  "end_token": 2261,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "index",
                                                      "start_token": 2261,
                                                      "end_token": 2261,
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "BindingElement",
                                                  "label": "asset",
                                                  "start_token": 2263,
                                                  "end_token": 2263,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "asset",
                                                      "start_token": 2263,
                                                      "end_token": 2263,
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "type": "CallExpression",
                                      "label": "assets.entries()",
                                      "start_token": 2266,
                                      "end_token": 2270,
                                      "children": [
                                        {
                                          "type": "PropertyAccessExpression",
                                          "label": "assets.entries",
                                          "start_token": 2266,
                                          "end_token": 2268,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "assets",
                                              "start_token": 2266,
                                              "end_token": 2266,
                                              "children": []
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "entries",
                                              "start_token": 2268,
                                              "end_token": 2268,
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "type": "Block",
                                      "label": "{\n      asset.stack = index === 0 ? { id: stack.id, assetCount: stack.assets.length, primaryAssetId: asset.id } : null;\n    }",
                                      "start_token": 2272,
                                      "end_token": 2305,
                                      "children": [
                                        {
                                          "type": "ExpressionStatement",
                                          "label": "asset.stack = index === 0 ? { id: stack.id, assetCount: stack.assets.length, primaryAssetId: asset.id } : null;",
                                          "start_token": 2273,
                                          "end_token": 2304,
                                          "children": [
                                            {
                                              "type": "BinaryExpression",
                                              "label": "asset.stack = index === 0 ? { id: stack.id, assetCount: stack.assets.length, primaryAssetId: asset.id } : null",
                                              "start_token": 2273,
                                              "end_token": 2303,
                                              "children": [
                                                {
                                                  "type": "PropertyAccessExpression",
                                                  "label": "asset.stack",
                                                  "start_token": 2273,
                                                  "end_token": 2275,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "asset",
                                                      "start_token": 2273,
                                                      "end_token": 2273,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "stack",
                                                      "start_token": 2275,
                                                      "end_token": 2275,
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "FirstAssignment",
                                                  "label": "=",
                                                  "start_token": 2276,
                                                  "end_token": 2276,
                                                  "children": []
                                                },
                                                {
                                                  "type": "ConditionalExpression",
                                                  "label": "index === 0 ? { id: stack.id, assetCount: stack.assets.length, primaryAssetId: asset.id } : null",
                                                  "start_token": 2277,
                                                  "end_token": 2303,
                                                  "children": [
                                                    {
                                                      "type": "BinaryExpression",
                                                      "label": "index === 0",
                                                      "start_token": 2277,
                                                      "end_token": 2279,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "index",
                                                          "start_token": 2277,
                                                          "end_token": 2277,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "EqualsEqualsEqualsToken",
                                                          "label": "===",
                                                          "start_token": 2278,
                                                          "end_token": 2278,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "FirstLiteralToken",
                                                          "label": "0",
                                                          "start_token": 2279,
                                                          "end_token": 2279,
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "QuestionToken",
                                                      "label": "?",
                                                      "start_token": 2280,
                                                      "end_token": 2280,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "ObjectLiteralExpression",
                                                      "label": "{ id: stack.id, assetCount: stack.assets.length, primaryAssetId: asset.id }",
                                                      "start_token": 2281,
                                                      "end_token": 2301,
                                                      "children": [
                                                        {
                                                          "type": "PropertyAssignment",
                                                          "label": "id: stack.id",
                                                          "start_token": 2282,
                                                          "end_token": 2286,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "id",
                                                              "start_token": 2282,
                                                              "end_token": 2282,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "PropertyAccessExpression",
                                                              "label": "stack.id",
                                                              "start_token": 2284,
                                                              "end_token": 2286,
                                                              "children": [
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "stack",
                                                                  "start_token": 2284,
                                                                  "end_token": 2284,
                                                                  "children": []
                                                                },
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "id",
                                                                  "start_token": 2286,
                                                                  "end_token": 2286,
                                                                  "children": []
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "type": "PropertyAssignment",
                                                          "label": "assetCount: stack.assets.length",
                                                          "start_token": 2288,
                                                          "end_token": 2294,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "assetCount",
                                                              "start_token": 2288,
                                                              "end_token": 2288,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "PropertyAccessExpression",
                                                              "label": "stack.assets.length",
                                                              "start_token": 2290,
                                                              "end_token": 2294,
                                                              "children": [
                                                                {
                                                                  "type": "PropertyAccessExpression",
                                                                  "label": "stack.assets",
                                                                  "start_token": 2290,
                                                                  "end_token": 2292,
                                                                  "children": [
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "stack",
                                                                      "start_token": 2290,
                                                                      "end_token": 2290,
                                                                      "children": []
                                                                    },
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "assets",
                                                                      "start_token": 2292,
                                                                      "end_token": 2292,
                                                                      "children": []
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "length",
                                                                  "start_token": 2294,
                                                                  "end_token": 2294,
                                                                  "children": []
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "type": "PropertyAssignment",
                                                          "label": "primaryAssetId: asset.id",
                                                          "start_token": 2296,
                                                          "end_token": 2300,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "primaryAssetId",
                                                              "start_token": 2296,
                                                              "end_token": 2296,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "PropertyAccessExpression",
                                                              "label": "asset.id",
                                                              "start_token": 2298,
                                                              "end_token": 2300,
                                                              "children": [
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "asset",
                                                                  "start_token": 2298,
                                                                  "end_token": 2298,
                                                                  "children": []
                                                                },
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "id",
                                                                  "start_token": 2300,
                                                                  "end_token": 2300,
                                                                  "children": []
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "ColonToken",
                                                      "label": ":",
                                                      "start_token": 2302,
                                                      "end_token": 2302,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "NullKeyword",
                                                      "label": "null",
                                                      "start_token": 2303,
                                                      "end_token": 2303,
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "ReturnStatement",
                                  "label": "return assets.slice(1).map((asset) => asset.id);",
                                  "start_token": 2306,
                                  "end_token": 2324,
                                  "children": [
                                    {
                                      "type": "CallExpression",
                                      "label": "assets.slice(1).map((asset) => asset.id)",
                                      "start_token": 2307,
                                      "end_token": 2323,
                                      "children": [
                                        {
                                          "type": "PropertyAccessExpression",
                                          "label": "assets.slice(1).map",
                                          "start_token": 2307,
                                          "end_token": 2314,
                                          "children": [
                                            {
                                              "type": "CallExpression",
                                              "label": "assets.slice(1)",
                                              "start_token": 2307,
                                              "end_token": 2312,
                                              "children": [
                                                {
                                                  "type": "PropertyAccessExpression",
                                                  "label": "assets.slice",
                                                  "start_token": 2307,
                                                  "end_token": 2309,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "assets",
                                                      "start_token": 2307,
                                                      "end_token": 2307,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "slice",
                                                      "start_token": 2309,
                                                      "end_token": 2309,
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "FirstLiteralToken",
                                                  "label": "1",
                                                  "start_token": 2311,
                                                  "end_token": 2311,
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "map",
                                              "start_token": 2314,
                                              "end_token": 2314,
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "type": "ArrowFunction",
                                          "label": "(asset) => asset.id",
                                          "start_token": 2316,
                                          "end_token": 2322,
                                          "children": [
                                            {
                                              "type": "Parameter",
                                              "label": "asset",
                                              "start_token": 2317,
                                              "end_token": 2317,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "asset",
                                                  "start_token": 2317,
                                                  "end_token": 2317,
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "type": "EqualsGreaterThanToken",
                                              "label": "=>",
                                              "start_token": 2319,
                                              "end_token": 2319,
                                              "children": []
                                            },
                                            {
                                              "type": "PropertyAccessExpression",
                                              "label": "asset.id",
                                              "start_token": 2320,
                                              "end_token": 2322,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "asset",
                                                  "start_token": 2320,
                                                  "end_token": 2320,
                                                  "children": []
                                                },
                                                {
                                                  "type": "Identifier",
                                                  "label": "id",
                                                  "start_token": 2322,
                                                  "end_token": 2322,
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "type": "CatchClause",
                              "label": "catch (error) {\n    handleError(error, $t('errors.failed_to_stack_assets'));\n    return false;\n  }",
                              "start_token": 2326,
                              "end_token": 2344,
                              "children": [
                                {
                                  "type": "VariableDeclaration",
                                  "label": "error",
                                  "start_token": 2328,
                                  "end_token": 2328,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "error",
                                      "start_token": 2328,
                                      "end_token": 2328,
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "type": "Block",
                                  "label": "{\n    handleError(error, $t('errors.failed_to_stack_assets'));\n    return false;\n  }",
                                  "start_token": 2330,
                                  "end_token": 2344,
                                  "children": [
                                    {
                                      "type": "ExpressionStatement",
                                      "label": "handleError(error, $t('errors.failed_to_stack_assets'));",
                                      "start_token": 2331,
                                      "end_token": 2340,
                                      "children": [
                                        {
                                          "type": "CallExpression",
                                          "label": "handleError(error, $t('errors.failed_to_stack_assets'))",
                                          "start_token": 2331,
                                          "end_token": 2339,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "handleError",
                                              "start_token": 2331,
                                              "end_token": 2331,
                                              "children": []
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "error",
                                              "start_token": 2333,
                                              "end_token": 2333,
                                              "children": []
                                            },
                                            {
                                              "type": "CallExpression",
                                              "label": "$t('errors.failed_to_stack_assets')",
                                              "start_token": 2335,
                                              "end_token": 2338,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "$t",
                                                  "start_token": 2335,
                                                  "end_token": 2335,
                                                  "children": []
                                                },
                                                {
                                                  "type": "StringLiteral",
                                                  "label": "'errors.failed_to_stack_assets'",
                                                  "start_token": 2337,
                                                  "end_token": 2337,
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "type": "ReturnStatement",
                                      "label": "return false;",
                                      "start_token": 2341,
                                      "end_token": 2343,
                                      "children": [
                                        {
                                          "type": "FalseKeyword",
                                          "label": "false",
                                          "start_token": 2342,
                                          "end_token": 2342,
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FirstStatement",
      "label": "export const deleteStack = async (stackIds: string[]) => {\n  const ids = [...new Set(stackIds)];\n  if (ids.length === 0) {\n    return;\n  }\n  const $t = get(t);\n  try {\n    const stacks = await Promise.all(ids.map((id) => getStack({ id })));\n    const count = stacks.reduce((sum, stack) => sum + stack.assets.length, 0);\n    await deleteStacks({ bulkIdsDto: { ids: [...ids] } });\n    notificationController.show({\n      type: NotificationType.Info,\n      message: $t('unstacked_assets_count', { values: { count } }),\n    });\n    const assets = stacks.flatMap((stack) => stack.assets);\n    for (const asset of assets) {\n      asset.stack = null;\n    }\n    return assets;\n  } catch (error) {\n    handleError(error, $t('errors.failed_to_unstack_assets'));\n  }\n};",
      "start_token": 2347,
      "end_token": 2546,
      "children": [
        {
          "type": "ExportKeyword",
          "label": "export",
          "start_token": 2347,
          "end_token": 2347,
          "children": []
        },
        {
          "type": "VariableDeclarationList",
          "label": "const deleteStack = async (stackIds: string[]) => {\n  const ids = [...new Set(stackIds)];\n  if (ids.length === 0) {\n    return;\n  }\n  const $t = get(t);\n  try {\n    const stacks = await Promise.all(ids.map((id) => getStack({ id })));\n    const count = stacks.reduce((sum, stack) => sum + stack.assets.length, 0);\n    await deleteStacks({ bulkIdsDto: { ids: [...ids] } });\n    notificationController.show({\n      type: NotificationType.Info,\n      message: $t('unstacked_assets_count', { values: { count } }),\n    });\n    const assets = stacks.flatMap((stack) => stack.assets);\n    for (const asset of assets) {\n      asset.stack = null;\n    }\n    return assets;\n  } catch (error) {\n    handleError(error, $t('errors.failed_to_unstack_assets'));\n  }\n}",
          "start_token": 2348,
          "end_token": 2545,
          "children": [
            {
              "type": "VariableDeclaration",
              "label": "deleteStack = async (stackIds: string[]) => {\n  const ids = [...new Set(stackIds)];\n  if (ids.length === 0) {\n    return;\n  }\n  const $t = get(t);\n  try {\n    const stacks = await Promise.all(ids.map((id) => getStack({ id })));\n    const count = stacks.reduce((sum, stack) => sum + stack.assets.length, 0);\n    await deleteStacks({ bulkIdsDto: { ids: [...ids] } });\n    notificationController.show({\n      type: NotificationType.Info,\n      message: $t('unstacked_assets_count', { values: { count } }),\n    });\n    const assets = stacks.flatMap((stack) => stack.assets);\n    for (const asset of assets) {\n      asset.stack = null;\n    }\n    return assets;\n  } catch (error) {\n    handleError(error, $t('errors.failed_to_unstack_assets'));\n  }\n}",
              "start_token": 2349,
              "end_token": 2545,
              "children": [
                {
                  "type": "Identifier",
                  "label": "deleteStack",
                  "start_token": 2349,
                  "end_token": 2349,
                  "children": []
                },
                {
                  "type": "ArrowFunction",
                  "label": "async (stackIds: string[]) => {\n  const ids = [...new Set(stackIds)];\n  if (ids.length === 0) {\n    return;\n  }\n  const $t = get(t);\n  try {\n    const stacks = await Promise.all(ids.map((id) => getStack({ id })));\n    const count = stacks.reduce((sum, stack) => sum + stack.assets.length, 0);\n    await deleteStacks({ bulkIdsDto: { ids: [...ids] } });\n    notificationController.show({\n      type: NotificationType.Info,\n      message: $t('unstacked_assets_count', { values: { count } }),\n    });\n    const assets = stacks.flatMap((stack) => stack.assets);\n    for (const asset of assets) {\n      asset.stack = null;\n    }\n    return assets;\n  } catch (error) {\n    handleError(error, $t('errors.failed_to_unstack_assets'));\n  }\n}",
                  "start_token": 2351,
                  "end_token": 2545,
                  "children": [
                    {
                      "type": "AsyncKeyword",
                      "label": "async",
                      "start_token": 2351,
                      "end_token": 2351,
                      "children": []
                    },
                    {
                      "type": "Parameter",
                      "label": "stackIds: string[]",
                      "start_token": 2353,
                      "end_token": 2357,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "stackIds",
                          "start_token": 2353,
                          "end_token": 2353,
                          "children": []
                        },
                        {
                          "type": "ArrayType",
                          "label": "string[]",
                          "start_token": 2355,
                          "end_token": 2357,
                          "children": [
                            {
                              "type": "StringKeyword",
                              "label": "string",
                              "start_token": 2355,
                              "end_token": 2355,
                              "children": []
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "EqualsGreaterThanToken",
                      "label": "=>",
                      "start_token": 2359,
                      "end_token": 2359,
                      "children": []
                    },
                    {
                      "type": "Block",
                      "label": "{\n  const ids = [...new Set(stackIds)];\n  if (ids.length === 0) {\n    return;\n  }\n  const $t = get(t);\n  try {\n    const stacks = await Promise.all(ids.map((id) => getStack({ id })));\n    const count = stacks.reduce((sum, stack) => sum + stack.assets.length, 0);\n    await deleteStacks({ bulkIdsDto: { ids: [...ids] } });\n    notificationController.show({\n      type: NotificationType.Info,\n      message: $t('unstacked_assets_count', { values: { count } }),\n    });\n    const assets = stacks.flatMap((stack) => stack.assets);\n    for (const asset of assets) {\n      asset.stack = null;\n    }\n    return assets;\n  } catch (error) {\n    handleError(error, $t('errors.failed_to_unstack_assets'));\n  }\n}",
                      "start_token": 2360,
                      "end_token": 2545,
                      "children": [
                        {
                          "type": "FirstStatement",
                          "label": "const ids = [...new Set(stackIds)];",
                          "start_token": 2361,
                          "end_token": 2374,
                          "children": [
                            {
                              "type": "VariableDeclarationList",
                              "label": "const ids = [...new Set(stackIds)]",
                              "start_token": 2361,
                              "end_token": 2373,
                              "children": [
                                {
                                  "type": "VariableDeclaration",
                                  "label": "ids = [...new Set(stackIds)]",
                                  "start_token": 2362,
                                  "end_token": 2373,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "ids",
                                      "start_token": 2362,
                                      "end_token": 2362,
                                      "children": []
                                    },
                                    {
                                      "type": "ArrayLiteralExpression",
                                      "label": "[...new Set(stackIds)]",
                                      "start_token": 2364,
                                      "end_token": 2373,
                                      "children": [
                                        {
                                          "type": "SpreadElement",
                                          "label": "...new Set(stackIds)",
                                          "start_token": 2365,
                                          "end_token": 2372,
                                          "children": [
                                            {
                                              "type": "NewExpression",
                                              "label": "new Set(stackIds)",
                                              "start_token": 2368,
                                              "end_token": 2372,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "Set",
                                                  "start_token": 2369,
                                                  "end_token": 2369,
                                                  "children": []
                                                },
                                                {
                                                  "type": "Identifier",
                                                  "label": "stackIds",
                                                  "start_token": 2371,
                                                  "end_token": 2371,
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "IfStatement",
                          "label": "if (ids.length === 0) {\n    return;\n  }",
                          "start_token": 2375,
                          "end_token": 2386,
                          "children": [
                            {
                              "type": "BinaryExpression",
                              "label": "ids.length === 0",
                              "start_token": 2377,
                              "end_token": 2381,
                              "children": [
                                {
                                  "type": "PropertyAccessExpression",
                                  "label": "ids.length",
                                  "start_token": 2377,
                                  "end_token": 2379,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "ids",
                                      "start_token": 2377,
                                      "end_token": 2377,
                                      "children": []
                                    },
                                    {
                                      "type": "Identifier",
                                      "label": "length",
                                      "start_token": 2379,
                                      "end_token": 2379,
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "type": "EqualsEqualsEqualsToken",
                                  "label": "===",
                                  "start_token": 2380,
                                  "end_token": 2380,
                                  "children": []
                                },
                                {
                                  "type": "FirstLiteralToken",
                                  "label": "0",
                                  "start_token": 2381,
                                  "end_token": 2381,
                                  "children": []
                                }
                              ]
                            },
                            {
                              "type": "Block",
                              "label": "{\n    return;\n  }",
                              "start_token": 2383,
                              "end_token": 2386,
                              "children": [
                                {
                                  "type": "ReturnStatement",
                                  "label": "return;",
                                  "start_token": 2384,
                                  "end_token": 2385,
                                  "children": []
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "FirstStatement",
                          "label": "const $t = get(t);",
                          "start_token": 2387,
                          "end_token": 2394,
                          "children": [
                            {
                              "type": "VariableDeclarationList",
                              "label": "const $t = get(t)",
                              "start_token": 2387,
                              "end_token": 2393,
                              "children": [
                                {
                                  "type": "VariableDeclaration",
                                  "label": "$t = get(t)",
                                  "start_token": 2388,
                                  "end_token": 2393,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "$t",
                                      "start_token": 2388,
                                      "end_token": 2388,
                                      "children": []
                                    },
                                    {
                                      "type": "CallExpression",
                                      "label": "get(t)",
                                      "start_token": 2390,
                                      "end_token": 2393,
                                      "children": [
                                        {
                                          "type": "Identifier",
                                          "label": "get",
                                          "start_token": 2390,
                                          "end_token": 2390,
                                          "children": []
                                        },
                                        {
                                          "type": "Identifier",
                                          "label": "t",
                                          "start_token": 2392,
                                          "end_token": 2392,
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "TryStatement",
                          "label": "try {\n    const stacks = await Promise.all(ids.map((id) => getStack({ id })));\n    const count = stacks.reduce((sum, stack) => sum + stack.assets.length, 0);\n    await deleteStacks({ bulkIdsDto: { ids: [...ids] } });\n    notificationController.show({\n      type: NotificationType.Info,\n      message: $t('unstacked_assets_count', { values: { count } }),\n    });\n    const assets = stacks.flatMap((stack) => stack.assets);\n    for (const asset of assets) {\n      asset.stack = null;\n    }\n    return assets;\n  } catch (error) {\n    handleError(error, $t('errors.failed_to_unstack_assets'));\n  }",
                          "start_token": 2395,
                          "end_token": 2544,
                          "children": [
                            {
                              "type": "Block",
                              "label": "{\n    const stacks = await Promise.all(ids.map((id) => getStack({ id })));\n    const count = stacks.reduce((sum, stack) => sum + stack.assets.length, 0);\n    await deleteStacks({ bulkIdsDto: { ids: [...ids] } });\n    notificationController.show({\n      type: NotificationType.Info,\n      message: $t('unstacked_assets_count', { values: { count } }),\n    });\n    const assets = stacks.flatMap((stack) => stack.assets);\n    for (const asset of assets) {\n      asset.stack = null;\n    }\n    return assets;\n  }",
                              "start_token": 2396,
                              "end_token": 2528,
                              "children": [
                                {
                                  "type": "FirstStatement",
                                  "label": "const stacks = await Promise.all(ids.map((id) => getStack({ id })));",
                                  "start_token": 2397,
                                  "end_token": 2421,
                                  "children": [
                                    {
                                      "type": "VariableDeclarationList",
                                      "label": "const stacks = await Promise.all(ids.map((id) => getStack({ id })))",
                                      "start_token": 2397,
                                      "end_token": 2420,
                                      "children": [
                                        {
                                          "type": "VariableDeclaration",
                                          "label": "stacks = await Promise.all(ids.map((id) => getStack({ id })))",
                                          "start_token": 2398,
                                          "end_token": 2420,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "stacks",
                                              "start_token": 2398,
                                              "end_token": 2398,
                                              "children": []
                                            },
                                            {
                                              "type": "AwaitExpression",
                                              "label": "await Promise.all(ids.map((id) => getStack({ id })))",
                                              "start_token": 2400,
                                              "end_token": 2420,
                                              "children": [
                                                {
                                                  "type": "CallExpression",
                                                  "label": "Promise.all(ids.map((id) => getStack({ id })))",
                                                  "start_token": 2401,
                                                  "end_token": 2420,
                                                  "children": [
                                                    {
                                                      "type": "PropertyAccessExpression",
                                                      "label": "Promise.all",
                                                      "start_token": 2401,
                                                      "end_token": 2403,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "Promise",
                                                          "start_token": 2401,
                                                          "end_token": 2401,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "Identifier",
                                                          "label": "all",
                                                          "start_token": 2403,
                                                          "end_token": 2403,
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "CallExpression",
                                                      "label": "ids.map((id) => getStack({ id }))",
                                                      "start_token": 2405,
                                                      "end_token": 2419,
                                                      "children": [
                                                        {
                                                          "type": "PropertyAccessExpression",
                                                          "label": "ids.map",
                                                          "start_token": 2405,
                                                          "end_token": 2407,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "ids",
                                                              "start_token": 2405,
                                                              "end_token": 2405,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "Identifier",
                                                              "label": "map",
                                                              "start_token": 2407,
                                                              "end_token": 2407,
                                                              "children": []
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "type": "ArrowFunction",
                                                          "label": "(id) => getStack({ id })",
                                                          "start_token": 2409,
                                                          "end_token": 2418,
                                                          "children": [
                                                            {
                                                              "type": "Parameter",
                                                              "label": "id",
                                                              "start_token": 2410,
                                                              "end_token": 2410,
                                                              "children": [
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "id",
                                                                  "start_token": 2410,
                                                                  "end_token": 2410,
                                                                  "children": []
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "type": "EqualsGreaterThanToken",
                                                              "label": "=>",
                                                              "start_token": 2412,
                                                              "end_token": 2412,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "CallExpression",
                                                              "label": "getStack({ id })",
                                                              "start_token": 2413,
                                                              "end_token": 2418,
                                                              "children": [
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "getStack",
                                                                  "start_token": 2413,
                                                                  "end_token": 2413,
                                                                  "children": []
                                                                },
                                                                {
                                                                  "type": "ObjectLiteralExpression",
                                                                  "label": "{ id }",
                                                                  "start_token": 2415,
                                                                  "end_token": 2417,
                                                                  "children": [
                                                                    {
                                                                      "type": "ShorthandPropertyAssignment",
                                                                      "label": "id",
                                                                      "start_token": 2416,
                                                                      "end_token": 2416,
                                                                      "children": [
                                                                        {
                                                                          "type": "Identifier",
                                                                          "label": "id",
                                                                          "start_token": 2416,
                                                                          "end_token": 2416,
                                                                          "children": []
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "FirstStatement",
                                  "label": "const count = stacks.reduce((sum, stack) => sum + stack.assets.length, 0);",
                                  "start_token": 2422,
                                  "end_token": 2445,
                                  "children": [
                                    {
                                      "type": "VariableDeclarationList",
                                      "label": "const count = stacks.reduce((sum, stack) => sum + stack.assets.length, 0)",
                                      "start_token": 2422,
                                      "end_token": 2444,
                                      "children": [
                                        {
                                          "type": "VariableDeclaration",
                                          "label": "count = stacks.reduce((sum, stack) => sum + stack.assets.length, 0)",
                                          "start_token": 2423,
                                          "end_token": 2444,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "count",
                                              "start_token": 2423,
                                              "end_token": 2423,
                                              "children": []
                                            },
                                            {
                                              "type": "CallExpression",
                                              "label": "stacks.reduce((sum, stack) => sum + stack.assets.length, 0)",
                                              "start_token": 2425,
                                              "end_token": 2444,
                                              "children": [
                                                {
                                                  "type": "PropertyAccessExpression",
                                                  "label": "stacks.reduce",
                                                  "start_token": 2425,
                                                  "end_token": 2427,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "stacks",
                                                      "start_token": 2425,
                                                      "end_token": 2425,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "reduce",
                                                      "start_token": 2427,
                                                      "end_token": 2427,
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "ArrowFunction",
                                                  "label": "(sum, stack) => sum + stack.assets.length",
                                                  "start_token": 2429,
                                                  "end_token": 2441,
                                                  "children": [
                                                    {
                                                      "type": "Parameter",
                                                      "label": "sum",
                                                      "start_token": 2430,
                                                      "end_token": 2430,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "sum",
                                                          "start_token": 2430,
                                                          "end_token": 2430,
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "Parameter",
                                                      "label": "stack",
                                                      "start_token": 2432,
                                                      "end_token": 2432,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "stack",
                                                          "start_token": 2432,
                                                          "end_token": 2432,
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "EqualsGreaterThanToken",
                                                      "label": "=>",
                                                      "start_token": 2434,
                                                      "end_token": 2434,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "BinaryExpression",
                                                      "label": "sum + stack.assets.length",
                                                      "start_token": 2435,
                                                      "end_token": 2441,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "sum",
                                                          "start_token": 2435,
                                                          "end_token": 2435,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "PlusToken",
                                                          "label": "+",
                                                          "start_token": 2436,
                                                          "end_token": 2436,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "PropertyAccessExpression",
                                                          "label": "stack.assets.length",
                                                          "start_token": 2437,
                                                          "end_token": 2441,
                                                          "children": [
                                                            {
                                                              "type": "PropertyAccessExpression",
                                                              "label": "stack.assets",
                                                              "start_token": 2437,
                                                              "end_token": 2439,
                                                              "children": [
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "stack",
                                                                  "start_token": 2437,
                                                                  "end_token": 2437,
                                                                  "children": []
                                                                },
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "assets",
                                                                  "start_token": 2439,
                                                                  "end_token": 2439,
                                                                  "children": []
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "type": "Identifier",
                                                              "label": "length",
                                                              "start_token": 2441,
                                                              "end_token": 2441,
                                                              "children": []
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "FirstLiteralToken",
                                                  "label": "0",
                                                  "start_token": 2443,
                                                  "end_token": 2443,
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "ExpressionStatement",
                                  "label": "await deleteStacks({ bulkIdsDto: { ids: [...ids] } });",
                                  "start_token": 2446,
                                  "end_token": 2464,
                                  "children": [
                                    {
                                      "type": "AwaitExpression",
                                      "label": "await deleteStacks({ bulkIdsDto: { ids: [...ids] } })",
                                      "start_token": 2446,
                                      "end_token": 2463,
                                      "children": [
                                        {
                                          "type": "CallExpression",
                                          "label": "deleteStacks({ bulkIdsDto: { ids: [...ids] } })",
                                          "start_token": 2447,
                                          "end_token": 2463,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "deleteStacks",
                                              "start_token": 2447,
                                              "end_token": 2447,
                                              "children": []
                                            },
                                            {
                                              "type": "ObjectLiteralExpression",
                                              "label": "{ bulkIdsDto: { ids: [...ids] } }",
                                              "start_token": 2449,
                                              "end_token": 2462,
                                              "children": [
                                                {
                                                  "type": "PropertyAssignment",
                                                  "label": "bulkIdsDto: { ids: [...ids] }",
                                                  "start_token": 2450,
                                                  "end_token": 2461,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "bulkIdsDto",
                                                      "start_token": 2450,
                                                      "end_token": 2450,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "ObjectLiteralExpression",
                                                      "label": "{ ids: [...ids] }",
                                                      "start_token": 2452,
                                                      "end_token": 2461,
                                                      "children": [
                                                        {
                                                          "type": "PropertyAssignment",
                                                          "label": "ids: [...ids]",
                                                          "start_token": 2453,
                                                          "end_token": 2460,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "ids",
                                                              "start_token": 2453,
                                                              "end_token": 2453,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "ArrayLiteralExpression",
                                                              "label": "[...ids]",
                                                              "start_token": 2455,
                                                              "end_token": 2460,
                                                              "children": [
                                                                {
                                                                  "type": "SpreadElement",
                                                                  "label": "...ids",
                                                                  "start_token": 2456,
                                                                  "end_token": 2459,
                                                                  "children": [
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "ids",
                                                                      "start_token": 2459,
                                                                      "end_token": 2459,
                                                                      "children": []
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "ExpressionStatement",
                                  "label": "notificationController.show({\n      type: NotificationType.Info,\n      message: $t('unstacked_assets_count', { values: { count } }),\n    });",
                                  "start_token": 2465,
                                  "end_token": 2493,
                                  "children": [
                                    {
                                      "type": "CallExpression",
                                      "label": "notificationController.show({\n      type: NotificationType.Info,\n      message: $t('unstacked_assets_count', { values: { count } }),\n    })",
                                      "start_token": 2465,
                                      "end_token": 2492,
                                      "children": [
                                        {
                                          "type": "PropertyAccessExpression",
                                          "label": "notificationController.show",
                                          "start_token": 2465,
                                          "end_token": 2467,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "notificationController",
                                              "start_token": 2465,
                                              "end_token": 2465,
                                              "children": []
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "show",
                                              "start_token": 2467,
                                              "end_token": 2467,
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "type": "ObjectLiteralExpression",
                                          "label": "{\n      type: NotificationType.Info,\n      message: $t('unstacked_assets_count', { values: { count } }),\n    }",
                                          "start_token": 2469,
                                          "end_token": 2491,
                                          "children": [
                                            {
                                              "type": "PropertyAssignment",
                                              "label": "type: NotificationType.Info",
                                              "start_token": 2470,
                                              "end_token": 2474,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "type",
                                                  "start_token": 2470,
                                                  "end_token": 2470,
                                                  "children": []
                                                },
                                                {
                                                  "type": "PropertyAccessExpression",
                                                  "label": "NotificationType.Info",
                                                  "start_token": 2472,
                                                  "end_token": 2474,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "NotificationType",
                                                      "start_token": 2472,
                                                      "end_token": 2472,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "Info",
                                                      "start_token": 2474,
                                                      "end_token": 2474,
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "type": "PropertyAssignment",
                                              "label": "message: $t('unstacked_assets_count', { values: { count } })",
                                              "start_token": 2476,
                                              "end_token": 2489,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "message",
                                                  "start_token": 2476,
                                                  "end_token": 2476,
                                                  "children": []
                                                },
                                                {
                                                  "type": "CallExpression",
                                                  "label": "$t('unstacked_assets_count', { values: { count } })",
                                                  "start_token": 2478,
                                                  "end_token": 2489,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "$t",
                                                      "start_token": 2478,
                                                      "end_token": 2478,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "StringLiteral",
                                                      "label": "'unstacked_assets_count'",
                                                      "start_token": 2480,
                                                      "end_token": 2480,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "ObjectLiteralExpression",
                                                      "label": "{ values: { count } }",
                                                      "start_token": 2482,
                                                      "end_token": 2488,
                                                      "children": [
                                                        {
                                                          "type": "PropertyAssignment",
                                                          "label": "values: { count }",
                                                          "start_token": 2483,
                                                          "end_token": 2487,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "values",
                                                              "start_token": 2483,
                                                              "end_token": 2483,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "ObjectLiteralExpression",
                                                              "label": "{ count }",
                                                              "start_token": 2485,
                                                              "end_token": 2487,
                                                              "children": [
                                                                {
                                                                  "type": "ShorthandPropertyAssignment",
                                                                  "label": "count",
                                                                  "start_token": 2486,
                                                                  "end_token": 2486,
                                                                  "children": [
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "count",
                                                                      "start_token": 2486,
                                                                      "end_token": 2486,
                                                                      "children": []
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "FirstStatement",
                                  "label": "const assets = stacks.flatMap((stack) => stack.assets);",
                                  "start_token": 2494,
                                  "end_token": 2509,
                                  "children": [
                                    {
                                      "type": "VariableDeclarationList",
                                      "label": "const assets = stacks.flatMap((stack) => stack.assets)",
                                      "start_token": 2494,
                                      "end_token": 2508,
                                      "children": [
                                        {
                                          "type": "VariableDeclaration",
                                          "label": "assets = stacks.flatMap((stack) => stack.assets)",
                                          "start_token": 2495,
                                          "end_token": 2508,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "assets",
                                              "start_token": 2495,
                                              "end_token": 2495,
                                              "children": []
                                            },
                                            {
                                              "type": "CallExpression",
                                              "label": "stacks.flatMap((stack) => stack.assets)",
                                              "start_token": 2497,
                                              "end_token": 2508,
                                              "children": [
                                                {
                                                  "type": "PropertyAccessExpression",
                                                  "label": "stacks.flatMap",
                                                  "start_token": 2497,
                                                  "end_token": 2499,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "stacks",
                                                      "start_token": 2497,
                                                      "end_token": 2497,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "flatMap",
                                                      "start_token": 2499,
                                                      "end_token": 2499,
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "ArrowFunction",
                                                  "label": "(stack) => stack.assets",
                                                  "start_token": 2501,
                                                  "end_token": 2507,
                                                  "children": [
                                                    {
                                                      "type": "Parameter",
                                                      "label": "stack",
                                                      "start_token": 2502,
                                                      "end_token": 2502,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "stack",
                                                          "start_token": 2502,
                                                          "end_token": 2502,
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "EqualsGreaterThanToken",
                                                      "label": "=>",
                                                      "start_token": 2504,
                                                      "end_token": 2504,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "PropertyAccessExpression",
                                                      "label": "stack.assets",
                                                      "start_token": 2505,
                                                      "end_token": 2507,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "stack",
                                                          "start_token": 2505,
                                                          "end_token": 2505,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "Identifier",
                                                          "label": "assets",
                                                          "start_token": 2507,
                                                          "end_token": 2507,
                                                          "children": []
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "ForOfStatement",
                                  "label": "for (const asset of assets) {\n      asset.stack = null;\n    }",
                                  "start_token": 2510,
                                  "end_token": 2524,
                                  "children": [
                                    {
                                      "type": "VariableDeclarationList",
                                      "label": "const asset",
                                      "start_token": 2512,
                                      "end_token": 2513,
                                      "children": [
                                        {
                                          "type": "VariableDeclaration",
                                          "label": "asset",
                                          "start_token": 2513,
                                          "end_token": 2513,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "asset",
                                              "start_token": 2513,
                                              "end_token": 2513,
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "type": "Identifier",
                                      "label": "assets",
                                      "start_token": 2515,
                                      "end_token": 2515,
                                      "children": []
                                    },
                                    {
                                      "type": "Block",
                                      "label": "{\n      asset.stack = null;\n    }",
                                      "start_token": 2517,
                                      "end_token": 2524,
                                      "children": [
                                        {
                                          "type": "ExpressionStatement",
                                          "label": "asset.stack = null;",
                                          "start_token": 2518,
                                          "end_token": 2523,
                                          "children": [
                                            {
                                              "type": "BinaryExpression",
                                              "label": "asset.stack = null",
                                              "start_token": 2518,
                                              "end_token": 2522,
                                              "children": [
                                                {
                                                  "type": "PropertyAccessExpression",
                                                  "label": "asset.stack",
                                                  "start_token": 2518,
                                                  "end_token": 2520,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "asset",
                                                      "start_token": 2518,
                                                      "end_token": 2518,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "stack",
                                                      "start_token": 2520,
                                                      "end_token": 2520,
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "FirstAssignment",
                                                  "label": "=",
                                                  "start_token": 2521,
                                                  "end_token": 2521,
                                                  "children": []
                                                },
                                                {
                                                  "type": "NullKeyword",
                                                  "label": "null",
                                                  "start_token": 2522,
                                                  "end_token": 2522,
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "ReturnStatement",
                                  "label": "return assets;",
                                  "start_token": 2525,
                                  "end_token": 2527,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "assets",
                                      "start_token": 2526,
                                      "end_token": 2526,
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "type": "CatchClause",
                              "label": "catch (error) {\n    handleError(error, $t('errors.failed_to_unstack_assets'));\n  }",
                              "start_token": 2529,
                              "end_token": 2544,
                              "children": [
                                {
                                  "type": "VariableDeclaration",
                                  "label": "error",
                                  "start_token": 2531,
                                  "end_token": 2531,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "error",
                                      "start_token": 2531,
                                      "end_token": 2531,
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "type": "Block",
                                  "label": "{\n    handleError(error, $t('errors.failed_to_unstack_assets'));\n  }",
                                  "start_token": 2533,
                                  "end_token": 2544,
                                  "children": [
                                    {
                                      "type": "ExpressionStatement",
                                      "label": "handleError(error, $t('errors.failed_to_unstack_assets'));",
                                      "start_token": 2534,
                                      "end_token": 2543,
                                      "children": [
                                        {
                                          "type": "CallExpression",
                                          "label": "handleError(error, $t('errors.failed_to_unstack_assets'))",
                                          "start_token": 2534,
                                          "end_token": 2542,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "handleError",
                                              "start_token": 2534,
                                              "end_token": 2534,
                                              "children": []
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "error",
                                              "start_token": 2536,
                                              "end_token": 2536,
                                              "children": []
                                            },
                                            {
                                              "type": "CallExpression",
                                              "label": "$t('errors.failed_to_unstack_assets')",
                                              "start_token": 2538,
                                              "end_token": 2541,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "$t",
                                                  "start_token": 2538,
                                                  "end_token": 2538,
                                                  "children": []
                                                },
                                                {
                                                  "type": "StringLiteral",
                                                  "label": "'errors.failed_to_unstack_assets'",
                                                  "start_token": 2540,
                                                  "end_token": 2540,
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FirstStatement",
      "label": "export const keepThisDeleteOthers = async (keepAsset: AssetResponseDto, stack: StackResponseDto) => {\n  const $t = get(t);\n  try {\n    const assetsToDeleteIds = stack.assets.filter((asset) => asset.id !== keepAsset.id).map((asset) => asset.id);\n    await deleteAssets({ assetBulkDeleteDto: { ids: assetsToDeleteIds } });\n    await deleteStacks({ bulkIdsDto: { ids: [stack.id] } });\n    notificationController.show({\n      type: NotificationType.Info,\n      message: $t('kept_this_deleted_others', { values: { count: assetsToDeleteIds.length } }),\n    });\n    keepAsset.stack = null;\n    return keepAsset;\n  } catch (error) {\n    handleError(error, $t('errors.failed_to_keep_this_delete_others'));\n  }\n};",
      "start_token": 2547,
      "end_token": 2698,
      "children": [
        {
          "type": "ExportKeyword",
          "label": "export",
          "start_token": 2547,
          "end_token": 2547,
          "children": []
        },
        {
          "type": "VariableDeclarationList",
          "label": "const keepThisDeleteOthers = async (keepAsset: AssetResponseDto, stack: StackResponseDto) => {\n  const $t = get(t);\n  try {\n    const assetsToDeleteIds = stack.assets.filter((asset) => asset.id !== keepAsset.id).map((asset) => asset.id);\n    await deleteAssets({ assetBulkDeleteDto: { ids: assetsToDeleteIds } });\n    await deleteStacks({ bulkIdsDto: { ids: [stack.id] } });\n    notificationController.show({\n      type: NotificationType.Info,\n      message: $t('kept_this_deleted_others', { values: { count: assetsToDeleteIds.length } }),\n    });\n    keepAsset.stack = null;\n    return keepAsset;\n  } catch (error) {\n    handleError(error, $t('errors.failed_to_keep_this_delete_others'));\n  }\n}",
          "start_token": 2548,
          "end_token": 2697,
          "children": [
            {
              "type": "VariableDeclaration",
              "label": "keepThisDeleteOthers = async (keepAsset: AssetResponseDto, stack: StackResponseDto) => {\n  const $t = get(t);\n  try {\n    const assetsToDeleteIds = stack.assets.filter((asset) => asset.id !== keepAsset.id).map((asset) => asset.id);\n    await deleteAssets({ assetBulkDeleteDto: { ids: assetsToDeleteIds } });\n    await deleteStacks({ bulkIdsDto: { ids: [stack.id] } });\n    notificationController.show({\n      type: NotificationType.Info,\n      message: $t('kept_this_deleted_others', { values: { count: assetsToDeleteIds.length } }),\n    });\n    keepAsset.stack = null;\n    return keepAsset;\n  } catch (error) {\n    handleError(error, $t('errors.failed_to_keep_this_delete_others'));\n  }\n}",
              "start_token": 2549,
              "end_token": 2697,
              "children": [
                {
                  "type": "Identifier",
                  "label": "keepThisDeleteOthers",
                  "start_token": 2549,
                  "end_token": 2549,
                  "children": []
                },
                {
                  "type": "ArrowFunction",
                  "label": "async (keepAsset: AssetResponseDto, stack: StackResponseDto) => {\n  const $t = get(t);\n  try {\n    const assetsToDeleteIds = stack.assets.filter((asset) => asset.id !== keepAsset.id).map((asset) => asset.id);\n    await deleteAssets({ assetBulkDeleteDto: { ids: assetsToDeleteIds } });\n    await deleteStacks({ bulkIdsDto: { ids: [stack.id] } });\n    notificationController.show({\n      type: NotificationType.Info,\n      message: $t('kept_this_deleted_others', { values: { count: assetsToDeleteIds.length } }),\n    });\n    keepAsset.stack = null;\n    return keepAsset;\n  } catch (error) {\n    handleError(error, $t('errors.failed_to_keep_this_delete_others'));\n  }\n}",
                  "start_token": 2551,
                  "end_token": 2697,
                  "children": [
                    {
                      "type": "AsyncKeyword",
                      "label": "async",
                      "start_token": 2551,
                      "end_token": 2551,
                      "children": []
                    },
                    {
                      "type": "Parameter",
                      "label": "keepAsset: AssetResponseDto",
                      "start_token": 2553,
                      "end_token": 2555,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "keepAsset",
                          "start_token": 2553,
                          "end_token": 2553,
                          "children": []
                        },
                        {
                          "type": "TypeReference",
                          "label": "AssetResponseDto",
                          "start_token": 2555,
                          "end_token": 2555,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "AssetResponseDto",
                              "start_token": 2555,
                              "end_token": 2555,
                              "children": []
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "Parameter",
                      "label": "stack: StackResponseDto",
                      "start_token": 2557,
                      "end_token": 2559,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "stack",
                          "start_token": 2557,
                          "end_token": 2557,
                          "children": []
                        },
                        {
                          "type": "TypeReference",
                          "label": "StackResponseDto",
                          "start_token": 2559,
                          "end_token": 2559,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "StackResponseDto",
                              "start_token": 2559,
                              "end_token": 2559,
                              "children": []
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "EqualsGreaterThanToken",
                      "label": "=>",
                      "start_token": 2561,
                      "end_token": 2561,
                      "children": []
                    },
                    {
                      "type": "Block",
                      "label": "{\n  const $t = get(t);\n  try {\n    const assetsToDeleteIds = stack.assets.filter((asset) => asset.id !== keepAsset.id).map((asset) => asset.id);\n    await deleteAssets({ assetBulkDeleteDto: { ids: assetsToDeleteIds } });\n    await deleteStacks({ bulkIdsDto: { ids: [stack.id] } });\n    notificationController.show({\n      type: NotificationType.Info,\n      message: $t('kept_this_deleted_others', { values: { count: assetsToDeleteIds.length } }),\n    });\n    keepAsset.stack = null;\n    return keepAsset;\n  } catch (error) {\n    handleError(error, $t('errors.failed_to_keep_this_delete_others'));\n  }\n}",
                      "start_token": 2562,
                      "end_token": 2697,
                      "children": [
                        {
                          "type": "FirstStatement",
                          "label": "const $t = get(t);",
                          "start_token": 2563,
                          "end_token": 2570,
                          "children": [
                            {
                              "type": "VariableDeclarationList",
                              "label": "const $t = get(t)",
                              "start_token": 2563,
                              "end_token": 2569,
                              "children": [
                                {
                                  "type": "VariableDeclaration",
                                  "label": "$t = get(t)",
                                  "start_token": 2564,
                                  "end_token": 2569,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "$t",
                                      "start_token": 2564,
                                      "end_token": 2564,
                                      "children": []
                                    },
                                    {
                                      "type": "CallExpression",
                                      "label": "get(t)",
                                      "start_token": 2566,
                                      "end_token": 2569,
                                      "children": [
                                        {
                                          "type": "Identifier",
                                          "label": "get",
                                          "start_token": 2566,
                                          "end_token": 2566,
                                          "children": []
                                        },
                                        {
                                          "type": "Identifier",
                                          "label": "t",
                                          "start_token": 2568,
                                          "end_token": 2568,
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "TryStatement",
                          "label": "try {\n    const assetsToDeleteIds = stack.assets.filter((asset) => asset.id !== keepAsset.id).map((asset) => asset.id);\n    await deleteAssets({ assetBulkDeleteDto: { ids: assetsToDeleteIds } });\n    await deleteStacks({ bulkIdsDto: { ids: [stack.id] } });\n    notificationController.show({\n      type: NotificationType.Info,\n      message: $t('kept_this_deleted_others', { values: { count: assetsToDeleteIds.length } }),\n    });\n    keepAsset.stack = null;\n    return keepAsset;\n  } catch (error) {\n    handleError(error, $t('errors.failed_to_keep_this_delete_others'));\n  }",
                          "start_token": 2571,
                          "end_token": 2696,
                          "children": [
                            {
                              "type": "Block",
                              "label": "{\n    const assetsToDeleteIds = stack.assets.filter((asset) => asset.id !== keepAsset.id).map((asset) => asset.id);\n    await deleteAssets({ assetBulkDeleteDto: { ids: assetsToDeleteIds } });\n    await deleteStacks({ bulkIdsDto: { ids: [stack.id] } });\n    notificationController.show({\n      type: NotificationType.Info,\n      message: $t('kept_this_deleted_others', { values: { count: assetsToDeleteIds.length } }),\n    });\n    keepAsset.stack = null;\n    return keepAsset;\n  }",
                              "start_token": 2572,
                              "end_token": 2680,
                              "children": [
                                {
                                  "type": "FirstStatement",
                                  "label": "const assetsToDeleteIds = stack.assets.filter((asset) => asset.id !== keepAsset.id).map((asset) => asset.id);",
                                  "start_token": 2573,
                                  "end_token": 2605,
                                  "children": [
                                    {
                                      "type": "VariableDeclarationList",
                                      "label": "const assetsToDeleteIds = stack.assets.filter((asset) => asset.id !== keepAsset.id).map((asset) => asset.id)",
                                      "start_token": 2573,
                                      "end_token": 2604,
                                      "children": [
                                        {
                                          "type": "VariableDeclaration",
                                          "label": "assetsToDeleteIds = stack.assets.filter((asset) => asset.id !== keepAsset.id).map((asset) => asset.id)",
                                          "start_token": 2574,
                                          "end_token": 2604,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "assetsToDeleteIds",
                                              "start_token": 2574,
                                              "end_token": 2574,
                                              "children": []
                                            },
                                            {
                                              "type": "CallExpression",
                                              "label": "stack.assets.filter((asset) => asset.id !== keepAsset.id).map((asset) => asset.id)",
                                              "start_token": 2576,
                                              "end_token": 2604,
                                              "children": [
                                                {
                                                  "type": "PropertyAccessExpression",
                                                  "label": "stack.assets.filter((asset) => asset.id !== keepAsset.id).map",
                                                  "start_token": 2576,
                                                  "end_token": 2595,
                                                  "children": [
                                                    {
                                                      "type": "CallExpression",
                                                      "label": "stack.assets.filter((asset) => asset.id !== keepAsset.id)",
                                                      "start_token": 2576,
                                                      "end_token": 2593,
                                                      "children": [
                                                        {
                                                          "type": "PropertyAccessExpression",
                                                          "label": "stack.assets.filter",
                                                          "start_token": 2576,
                                                          "end_token": 2580,
                                                          "children": [
                                                            {
                                                              "type": "PropertyAccessExpression",
                                                              "label": "stack.assets",
                                                              "start_token": 2576,
                                                              "end_token": 2578,
                                                              "children": [
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "stack",
                                                                  "start_token": 2576,
                                                                  "end_token": 2576,
                                                                  "children": []
                                                                },
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "assets",
                                                                  "start_token": 2578,
                                                                  "end_token": 2578,
                                                                  "children": []
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "type": "Identifier",
                                                              "label": "filter",
                                                              "start_token": 2580,
                                                              "end_token": 2580,
                                                              "children": []
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "type": "ArrowFunction",
                                                          "label": "(asset) => asset.id !== keepAsset.id",
                                                          "start_token": 2582,
                                                          "end_token": 2592,
                                                          "children": [
                                                            {
                                                              "type": "Parameter",
                                                              "label": "asset",
                                                              "start_token": 2583,
                                                              "end_token": 2583,
                                                              "children": [
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "asset",
                                                                  "start_token": 2583,
                                                                  "end_token": 2583,
                                                                  "children": []
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "type": "EqualsGreaterThanToken",
                                                              "label": "=>",
                                                              "start_token": 2585,
                                                              "end_token": 2585,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "BinaryExpression",
                                                              "label": "asset.id !== keepAsset.id",
                                                              "start_token": 2586,
                                                              "end_token": 2592,
                                                              "children": [
                                                                {
                                                                  "type": "PropertyAccessExpression",
                                                                  "label": "asset.id",
                                                                  "start_token": 2586,
                                                                  "end_token": 2588,
                                                                  "children": [
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "asset",
                                                                      "start_token": 2586,
                                                                      "end_token": 2586,
                                                                      "children": []
                                                                    },
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "id",
                                                                      "start_token": 2588,
                                                                      "end_token": 2588,
                                                                      "children": []
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "type": "ExclamationEqualsEqualsToken",
                                                                  "label": "!==",
                                                                  "start_token": 2589,
                                                                  "end_token": 2589,
                                                                  "children": []
                                                                },
                                                                {
                                                                  "type": "PropertyAccessExpression",
                                                                  "label": "keepAsset.id",
                                                                  "start_token": 2590,
                                                                  "end_token": 2592,
                                                                  "children": [
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "keepAsset",
                                                                      "start_token": 2590,
                                                                      "end_token": 2590,
                                                                      "children": []
                                                                    },
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "id",
                                                                      "start_token": 2592,
                                                                      "end_token": 2592,
                                                                      "children": []
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "map",
                                                      "start_token": 2595,
                                                      "end_token": 2595,
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "ArrowFunction",
                                                  "label": "(asset) => asset.id",
                                                  "start_token": 2597,
                                                  "end_token": 2603,
                                                  "children": [
                                                    {
                                                      "type": "Parameter",
                                                      "label": "asset",
                                                      "start_token": 2598,
                                                      "end_token": 2598,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "asset",
                                                          "start_token": 2598,
                                                          "end_token": 2598,
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "EqualsGreaterThanToken",
                                                      "label": "=>",
                                                      "start_token": 2600,
                                                      "end_token": 2600,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "PropertyAccessExpression",
                                                      "label": "asset.id",
                                                      "start_token": 2601,
                                                      "end_token": 2603,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "asset",
                                                          "start_token": 2601,
                                                          "end_token": 2601,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "Identifier",
                                                          "label": "id",
                                                          "start_token": 2603,
                                                          "end_token": 2603,
                                                          "children": []
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "ExpressionStatement",
                                  "label": "await deleteAssets({ assetBulkDeleteDto: { ids: assetsToDeleteIds } });",
                                  "start_token": 2606,
                                  "end_token": 2619,
                                  "children": [
                                    {
                                      "type": "AwaitExpression",
                                      "label": "await deleteAssets({ assetBulkDeleteDto: { ids: assetsToDeleteIds } })",
                                      "start_token": 2606,
                                      "end_token": 2618,
                                      "children": [
                                        {
                                          "type": "CallExpression",
                                          "label": "deleteAssets({ assetBulkDeleteDto: { ids: assetsToDeleteIds } })",
                                          "start_token": 2607,
                                          "end_token": 2618,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "deleteAssets",
                                              "start_token": 2607,
                                              "end_token": 2607,
                                              "children": []
                                            },
                                            {
                                              "type": "ObjectLiteralExpression",
                                              "label": "{ assetBulkDeleteDto: { ids: assetsToDeleteIds } }",
                                              "start_token": 2609,
                                              "end_token": 2617,
                                              "children": [
                                                {
                                                  "type": "PropertyAssignment",
                                                  "label": "assetBulkDeleteDto: { ids: assetsToDeleteIds }",
                                                  "start_token": 2610,
                                                  "end_token": 2616,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "assetBulkDeleteDto",
                                                      "start_token": 2610,
                                                      "end_token": 2610,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "ObjectLiteralExpression",
                                                      "label": "{ ids: assetsToDeleteIds }",
                                                      "start_token": 2612,
                                                      "end_token": 2616,
                                                      "children": [
                                                        {
                                                          "type": "PropertyAssignment",
                                                          "label": "ids: assetsToDeleteIds",
                                                          "start_token": 2613,
                                                          "end_token": 2615,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "ids",
                                                              "start_token": 2613,
                                                              "end_token": 2613,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "Identifier",
                                                              "label": "assetsToDeleteIds",
                                                              "start_token": 2615,
                                                              "end_token": 2615,
                                                              "children": []
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "ExpressionStatement",
                                  "label": "await deleteStacks({ bulkIdsDto: { ids: [stack.id] } });",
                                  "start_token": 2620,
                                  "end_token": 2637,
                                  "children": [
                                    {
                                      "type": "AwaitExpression",
                                      "label": "await deleteStacks({ bulkIdsDto: { ids: [stack.id] } })",
                                      "start_token": 2620,
                                      "end_token": 2636,
                                      "children": [
                                        {
                                          "type": "CallExpression",
                                          "label": "deleteStacks({ bulkIdsDto: { ids: [stack.id] } })",
                                          "start_token": 2621,
                                          "end_token": 2636,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "deleteStacks",
                                              "start_token": 2621,
                                              "end_token": 2621,
                                              "children": []
                                            },
                                            {
                                              "type": "ObjectLiteralExpression",
                                              "label": "{ bulkIdsDto: { ids: [stack.id] } }",
                                              "start_token": 2623,
                                              "end_token": 2635,
                                              "children": [
                                                {
                                                  "type": "PropertyAssignment",
                                                  "label": "bulkIdsDto: { ids: [stack.id] }",
                                                  "start_token": 2624,
                                                  "end_token": 2634,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "bulkIdsDto",
                                                      "start_token": 2624,
                                                      "end_token": 2624,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "ObjectLiteralExpression",
                                                      "label": "{ ids: [stack.id] }",
                                                      "start_token": 2626,
                                                      "end_token": 2634,
                                                      "children": [
                                                        {
                                                          "type": "PropertyAssignment",
                                                          "label": "ids: [stack.id]",
                                                          "start_token": 2627,
                                                          "end_token": 2633,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "ids",
                                                              "start_token": 2627,
                                                              "end_token": 2627,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "ArrayLiteralExpression",
                                                              "label": "[stack.id]",
                                                              "start_token": 2629,
                                                              "end_token": 2633,
                                                              "children": [
                                                                {
                                                                  "type": "PropertyAccessExpression",
                                                                  "label": "stack.id",
                                                                  "start_token": 2630,
                                                                  "end_token": 2632,
                                                                  "children": [
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "stack",
                                                                      "start_token": 2630,
                                                                      "end_token": 2630,
                                                                      "children": []
                                                                    },
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "id",
                                                                      "start_token": 2632,
                                                                      "end_token": 2632,
                                                                      "children": []
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "ExpressionStatement",
                                  "label": "notificationController.show({\n      type: NotificationType.Info,\n      message: $t('kept_this_deleted_others', { values: { count: assetsToDeleteIds.length } }),\n    });",
                                  "start_token": 2638,
                                  "end_token": 2670,
                                  "children": [
                                    {
                                      "type": "CallExpression",
                                      "label": "notificationController.show({\n      type: NotificationType.Info,\n      message: $t('kept_this_deleted_others', { values: { count: assetsToDeleteIds.length } }),\n    })",
                                      "start_token": 2638,
                                      "end_token": 2669,
                                      "children": [
                                        {
                                          "type": "PropertyAccessExpression",
                                          "label": "notificationController.show",
                                          "start_token": 2638,
                                          "end_token": 2640,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "notificationController",
                                              "start_token": 2638,
                                              "end_token": 2638,
                                              "children": []
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "show",
                                              "start_token": 2640,
                                              "end_token": 2640,
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "type": "ObjectLiteralExpression",
                                          "label": "{\n      type: NotificationType.Info,\n      message: $t('kept_this_deleted_others', { values: { count: assetsToDeleteIds.length } }),\n    }",
                                          "start_token": 2642,
                                          "end_token": 2668,
                                          "children": [
                                            {
                                              "type": "PropertyAssignment",
                                              "label": "type: NotificationType.Info",
                                              "start_token": 2643,
                                              "end_token": 2647,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "type",
                                                  "start_token": 2643,
                                                  "end_token": 2643,
                                                  "children": []
                                                },
                                                {
                                                  "type": "PropertyAccessExpression",
                                                  "label": "NotificationType.Info",
                                                  "start_token": 2645,
                                                  "end_token": 2647,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "NotificationType",
                                                      "start_token": 2645,
                                                      "end_token": 2645,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "Info",
                                                      "start_token": 2647,
                                                      "end_token": 2647,
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "type": "PropertyAssignment",
                                              "label": "message: $t('kept_this_deleted_others', { values: { count: assetsToDeleteIds.length } })",
                                              "start_token": 2649,
                                              "end_token": 2666,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "message",
                                                  "start_token": 2649,
                                                  "end_token": 2649,
                                                  "children": []
                                                },
                                                {
                                                  "type": "CallExpression",
                                                  "label": "$t('kept_this_deleted_others', { values: { count: assetsToDeleteIds.length } })",
                                                  "start_token": 2651,
                                                  "end_token": 2666,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "$t",
                                                      "start_token": 2651,
                                                      "end_token": 2651,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "StringLiteral",
                                                      "label": "'kept_this_deleted_others'",
                                                      "start_token": 2653,
                                                      "end_token": 2653,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "ObjectLiteralExpression",
                                                      "label": "{ values: { count: assetsToDeleteIds.length } }",
                                                      "start_token": 2655,
                                                      "end_token": 2665,
                                                      "children": [
                                                        {
                                                          "type": "PropertyAssignment",
                                                          "label": "values: { count: assetsToDeleteIds.length }",
                                                          "start_token": 2656,
                                                          "end_token": 2664,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "values",
                                                              "start_token": 2656,
                                                              "end_token": 2656,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "ObjectLiteralExpression",
                                                              "label": "{ count: assetsToDeleteIds.length }",
                                                              "start_token": 2658,
                                                              "end_token": 2664,
                                                              "children": [
                                                                {
                                                                  "type": "PropertyAssignment",
                                                                  "label": "count: assetsToDeleteIds.length",
                                                                  "start_token": 2659,
                                                                  "end_token": 2663,
                                                                  "children": [
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "count",
                                                                      "start_token": 2659,
                                                                      "end_token": 2659,
                                                                      "children": []
                                                                    },
                                                                    {
                                                                      "type": "PropertyAccessExpression",
                                                                      "label": "assetsToDeleteIds.length",
                                                                      "start_token": 2661,
                                                                      "end_token": 2663,
                                                                      "children": [
                                                                        {
                                                                          "type": "Identifier",
                                                                          "label": "assetsToDeleteIds",
                                                                          "start_token": 2661,
                                                                          "end_token": 2661,
                                                                          "children": []
                                                                        },
                                                                        {
                                                                          "type": "Identifier",
                                                                          "label": "length",
                                                                          "start_token": 2663,
                                                                          "end_token": 2663,
                                                                          "children": []
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "ExpressionStatement",
                                  "label": "keepAsset.stack = null;",
                                  "start_token": 2671,
                                  "end_token": 2676,
                                  "children": [
                                    {
                                      "type": "BinaryExpression",
                                      "label": "keepAsset.stack = null",
                                      "start_token": 2671,
                                      "end_token": 2675,
                                      "children": [
                                        {
                                          "type": "PropertyAccessExpression",
                                          "label": "keepAsset.stack",
                                          "start_token": 2671,
                                          "end_token": 2673,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "keepAsset",
                                              "start_token": 2671,
                                              "end_token": 2671,
                                              "children": []
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "stack",
                                              "start_token": 2673,
                                              "end_token": 2673,
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "type": "FirstAssignment",
                                          "label": "=",
                                          "start_token": 2674,
                                          "end_token": 2674,
                                          "children": []
                                        },
                                        {
                                          "type": "NullKeyword",
                                          "label": "null",
                                          "start_token": 2675,
                                          "end_token": 2675,
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "ReturnStatement",
                                  "label": "return keepAsset;",
                                  "start_token": 2677,
                                  "end_token": 2679,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "keepAsset",
                                      "start_token": 2678,
                                      "end_token": 2678,
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "type": "CatchClause",
                              "label": "catch (error) {\n    handleError(error, $t('errors.failed_to_keep_this_delete_others'));\n  }",
                              "start_token": 2681,
                              "end_token": 2696,
                              "children": [
                                {
                                  "type": "VariableDeclaration",
                                  "label": "error",
                                  "start_token": 2683,
                                  "end_token": 2683,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "error",
                                      "start_token": 2683,
                                      "end_token": 2683,
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "type": "Block",
                                  "label": "{\n    handleError(error, $t('errors.failed_to_keep_this_delete_others'));\n  }",
                                  "start_token": 2685,
                                  "end_token": 2696,
                                  "children": [
                                    {
                                      "type": "ExpressionStatement",
                                      "label": "handleError(error, $t('errors.failed_to_keep_this_delete_others'));",
                                      "start_token": 2686,
                                      "end_token": 2695,
                                      "children": [
                                        {
                                          "type": "CallExpression",
                                          "label": "handleError(error, $t('errors.failed_to_keep_this_delete_others'))",
                                          "start_token": 2686,
                                          "end_token": 2694,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "handleError",
                                              "start_token": 2686,
                                              "end_token": 2686,
                                              "children": []
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "error",
                                              "start_token": 2688,
                                              "end_token": 2688,
                                              "children": []
                                            },
                                            {
                                              "type": "CallExpression",
                                              "label": "$t('errors.failed_to_keep_this_delete_others')",
                                              "start_token": 2690,
                                              "end_token": 2693,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "$t",
                                                  "start_token": 2690,
                                                  "end_token": 2690,
                                                  "children": []
                                                },
                                                {
                                                  "type": "StringLiteral",
                                                  "label": "'errors.failed_to_keep_this_delete_others'",
                                                  "start_token": 2692,
                                                  "end_token": 2692,
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FirstStatement",
      "label": "export const selectAllAssets = async (assetStore: AssetStore, assetInteractionStore: AssetInteractionStore) => {\n  if (get(isSelectingAllAssets)) {\n    // Selection is already ongoing\n    return;\n  }\n  isSelectingAllAssets.set(true);\n  try {\n    for (const bucket of assetStore.buckets) {\n      await assetStore.loadBucket(bucket.bucketDate);\n      if (!get(isSelectingAllAssets)) {\n        break; // Cancelled\n      }\n      assetInteractionStore.selectAssets(bucket.assets);\n      // We use setTimeout to allow the UI to update. Otherwise, this may\n      // cause a long delay between the start of 'select all' and the\n      // effective update of the UI, depending on the number of assets\n      // to select\n      await delay(0);\n    }\n  } catch (error) {\n    const $t = get(t);\n    handleError(error, $t('errors.error_selecting_all_assets'));\n    isSelectingAllAssets.set(false);\n  }\n};",
      "start_token": 2699,
      "end_token": 2822,
      "children": [
        {
          "type": "ExportKeyword",
          "label": "export",
          "start_token": 2699,
          "end_token": 2699,
          "children": []
        },
        {
          "type": "VariableDeclarationList",
          "label": "const selectAllAssets = async (assetStore: AssetStore, assetInteractionStore: AssetInteractionStore) => {\n  if (get(isSelectingAllAssets)) {\n    // Selection is already ongoing\n    return;\n  }\n  isSelectingAllAssets.set(true);\n  try {\n    for (const bucket of assetStore.buckets) {\n      await assetStore.loadBucket(bucket.bucketDate);\n      if (!get(isSelectingAllAssets)) {\n        break; // Cancelled\n      }\n      assetInteractionStore.selectAssets(bucket.assets);\n      // We use setTimeout to allow the UI to update. Otherwise, this may\n      // cause a long delay between the start of 'select all' and the\n      // effective update of the UI, depending on the number of assets\n      // to select\n      await delay(0);\n    }\n  } catch (error) {\n    const $t = get(t);\n    handleError(error, $t('errors.error_selecting_all_assets'));\n    isSelectingAllAssets.set(false);\n  }\n}",
          "start_token": 2700,
          "end_token": 2821,
          "children": [
            {
              "type": "VariableDeclaration",
              "label": "selectAllAssets = async (assetStore: AssetStore, assetInteractionStore: AssetInteractionStore) => {\n  if (get(isSelectingAllAssets)) {\n    // Selection is already ongoing\n    return;\n  }\n  isSelectingAllAssets.set(true);\n  try {\n    for (const bucket of assetStore.buckets) {\n      await assetStore.loadBucket(bucket.bucketDate);\n      if (!get(isSelectingAllAssets)) {\n        break; // Cancelled\n      }\n      assetInteractionStore.selectAssets(bucket.assets);\n      // We use setTimeout to allow the UI to update. Otherwise, this may\n      // cause a long delay between the start of 'select all' and the\n      // effective update of the UI, depending on the number of assets\n      // to select\n      await delay(0);\n    }\n  } catch (error) {\n    const $t = get(t);\n    handleError(error, $t('errors.error_selecting_all_assets'));\n    isSelectingAllAssets.set(false);\n  }\n}",
              "start_token": 2701,
              "end_token": 2821,
              "children": [
                {
                  "type": "Identifier",
                  "label": "selectAllAssets",
                  "start_token": 2701,
                  "end_token": 2701,
                  "children": []
                },
                {
                  "type": "ArrowFunction",
                  "label": "async (assetStore: AssetStore, assetInteractionStore: AssetInteractionStore) => {\n  if (get(isSelectingAllAssets)) {\n    // Selection is already ongoing\n    return;\n  }\n  isSelectingAllAssets.set(true);\n  try {\n    for (const bucket of assetStore.buckets) {\n      await assetStore.loadBucket(bucket.bucketDate);\n      if (!get(isSelectingAllAssets)) {\n        break; // Cancelled\n      }\n      assetInteractionStore.selectAssets(bucket.assets);\n      // We use setTimeout to allow the UI to update. Otherwise, this may\n      // cause a long delay between the start of 'select all' and the\n      // effective update of the UI, depending on the number of assets\n      // to select\n      await delay(0);\n    }\n  } catch (error) {\n    const $t = get(t);\n    handleError(error, $t('errors.error_selecting_all_assets'));\n    isSelectingAllAssets.set(false);\n  }\n}",
                  "start_token": 2703,
                  "end_token": 2821,
                  "children": [
                    {
                      "type": "AsyncKeyword",
                      "label": "async",
                      "start_token": 2703,
                      "end_token": 2703,
                      "children": []
                    },
                    {
                      "type": "Parameter",
                      "label": "assetStore: AssetStore",
                      "start_token": 2705,
                      "end_token": 2707,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "assetStore",
                          "start_token": 2705,
                          "end_token": 2705,
                          "children": []
                        },
                        {
                          "type": "TypeReference",
                          "label": "AssetStore",
                          "start_token": 2707,
                          "end_token": 2707,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "AssetStore",
                              "start_token": 2707,
                              "end_token": 2707,
                              "children": []
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "Parameter",
                      "label": "assetInteractionStore: AssetInteractionStore",
                      "start_token": 2709,
                      "end_token": 2711,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "assetInteractionStore",
                          "start_token": 2709,
                          "end_token": 2709,
                          "children": []
                        },
                        {
                          "type": "TypeReference",
                          "label": "AssetInteractionStore",
                          "start_token": 2711,
                          "end_token": 2711,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "AssetInteractionStore",
                              "start_token": 2711,
                              "end_token": 2711,
                              "children": []
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "EqualsGreaterThanToken",
                      "label": "=>",
                      "start_token": 2713,
                      "end_token": 2713,
                      "children": []
                    },
                    {
                      "type": "Block",
                      "label": "{\n  if (get(isSelectingAllAssets)) {\n    // Selection is already ongoing\n    return;\n  }\n  isSelectingAllAssets.set(true);\n  try {\n    for (const bucket of assetStore.buckets) {\n      await assetStore.loadBucket(bucket.bucketDate);\n      if (!get(isSelectingAllAssets)) {\n        break; // Cancelled\n      }\n      assetInteractionStore.selectAssets(bucket.assets);\n      // We use setTimeout to allow the UI to update. Otherwise, this may\n      // cause a long delay between the start of 'select all' and the\n      // effective update of the UI, depending on the number of assets\n      // to select\n      await delay(0);\n    }\n  } catch (error) {\n    const $t = get(t);\n    handleError(error, $t('errors.error_selecting_all_assets'));\n    isSelectingAllAssets.set(false);\n  }\n}",
                      "start_token": 2714,
                      "end_token": 2821,
                      "children": [
                        {
                          "type": "IfStatement",
                          "label": "if (get(isSelectingAllAssets)) {\n    // Selection is already ongoing\n    return;\n  }",
                          "start_token": 2715,
                          "end_token": 2726,
                          "children": [
                            {
                              "type": "CallExpression",
                              "label": "get(isSelectingAllAssets)",
                              "start_token": 2717,
                              "end_token": 2720,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "get",
                                  "start_token": 2717,
                                  "end_token": 2717,
                                  "children": []
                                },
                                {
                                  "type": "Identifier",
                                  "label": "isSelectingAllAssets",
                                  "start_token": 2719,
                                  "end_token": 2719,
                                  "children": []
                                }
                              ]
                            },
                            {
                              "type": "Block",
                              "label": "{\n    // Selection is already ongoing\n    return;\n  }",
                              "start_token": 2722,
                              "end_token": 2726,
                              "children": [
                                {
                                  "type": "ReturnStatement",
                                  "label": "return;",
                                  "start_token": 2724,
                                  "end_token": 2725,
                                  "children": []
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "ExpressionStatement",
                          "label": "isSelectingAllAssets.set(true);",
                          "start_token": 2727,
                          "end_token": 2733,
                          "children": [
                            {
                              "type": "CallExpression",
                              "label": "isSelectingAllAssets.set(true)",
                              "start_token": 2727,
                              "end_token": 2732,
                              "children": [
                                {
                                  "type": "PropertyAccessExpression",
                                  "label": "isSelectingAllAssets.set",
                                  "start_token": 2727,
                                  "end_token": 2729,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "isSelectingAllAssets",
                                      "start_token": 2727,
                                      "end_token": 2727,
                                      "children": []
                                    },
                                    {
                                      "type": "Identifier",
                                      "label": "set",
                                      "start_token": 2729,
                                      "end_token": 2729,
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "type": "TrueKeyword",
                                  "label": "true",
                                  "start_token": 2731,
                                  "end_token": 2731,
                                  "children": []
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "TryStatement",
                          "label": "try {\n    for (const bucket of assetStore.buckets) {\n      await assetStore.loadBucket(bucket.bucketDate);\n      if (!get(isSelectingAllAssets)) {\n        break; // Cancelled\n      }\n      assetInteractionStore.selectAssets(bucket.assets);\n      // We use setTimeout to allow the UI to update. Otherwise, this may\n      // cause a long delay between the start of 'select all' and the\n      // effective update of the UI, depending on the number of assets\n      // to select\n      await delay(0);\n    }\n  } catch (error) {\n    const $t = get(t);\n    handleError(error, $t('errors.error_selecting_all_assets'));\n    isSelectingAllAssets.set(false);\n  }",
                          "start_token": 2734,
                          "end_token": 2820,
                          "children": [
                            {
                              "type": "Block",
                              "label": "{\n    for (const bucket of assetStore.buckets) {\n      await assetStore.loadBucket(bucket.bucketDate);\n      if (!get(isSelectingAllAssets)) {\n        break; // Cancelled\n      }\n      assetInteractionStore.selectAssets(bucket.assets);\n      // We use setTimeout to allow the UI to update. Otherwise, this may\n      // cause a long delay between the start of 'select all' and the\n      // effective update of the UI, depending on the number of assets\n      // to select\n      await delay(0);\n    }\n  }",
                              "start_token": 2735,
                              "end_token": 2789,
                              "children": [
                                {
                                  "type": "ForOfStatement",
                                  "label": "for (const bucket of assetStore.buckets) {\n      await assetStore.loadBucket(bucket.bucketDate);\n      if (!get(isSelectingAllAssets)) {\n        break; // Cancelled\n      }\n      assetInteractionStore.selectAssets(bucket.assets);\n      // We use setTimeout to allow the UI to update. Otherwise, this may\n      // cause a long delay between the start of 'select all' and the\n      // effective update of the UI, depending on the number of assets\n      // to select\n      await delay(0);\n    }",
                                  "start_token": 2736,
                                  "end_token": 2788,
                                  "children": [
                                    {
                                      "type": "VariableDeclarationList",
                                      "label": "const bucket",
                                      "start_token": 2738,
                                      "end_token": 2739,
                                      "children": [
                                        {
                                          "type": "VariableDeclaration",
                                          "label": "bucket",
                                          "start_token": 2739,
                                          "end_token": 2739,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "bucket",
                                              "start_token": 2739,
                                              "end_token": 2739,
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "type": "PropertyAccessExpression",
                                      "label": "assetStore.buckets",
                                      "start_token": 2741,
                                      "end_token": 2743,
                                      "children": [
                                        {
                                          "type": "Identifier",
                                          "label": "assetStore",
                                          "start_token": 2741,
                                          "end_token": 2741,
                                          "children": []
                                        },
                                        {
                                          "type": "Identifier",
                                          "label": "buckets",
                                          "start_token": 2743,
                                          "end_token": 2743,
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "type": "Block",
                                      "label": "{\n      await assetStore.loadBucket(bucket.bucketDate);\n      if (!get(isSelectingAllAssets)) {\n        break; // Cancelled\n      }\n      assetInteractionStore.selectAssets(bucket.assets);\n      // We use setTimeout to allow the UI to update. Otherwise, this may\n      // cause a long delay between the start of 'select all' and the\n      // effective update of the UI, depending on the number of assets\n      // to select\n      await delay(0);\n    }",
                                      "start_token": 2745,
                                      "end_token": 2788,
                                      "children": [
                                        {
                                          "type": "ExpressionStatement",
                                          "label": "await assetStore.loadBucket(bucket.bucketDate);",
                                          "start_token": 2746,
                                          "end_token": 2755,
                                          "children": [
                                            {
                                              "type": "AwaitExpression",
                                              "label": "await assetStore.loadBucket(bucket.bucketDate)",
                                              "start_token": 2746,
                                              "end_token": 2754,
                                              "children": [
                                                {
                                                  "type": "CallExpression",
                                                  "label": "assetStore.loadBucket(bucket.bucketDate)",
                                                  "start_token": 2747,
                                                  "end_token": 2754,
                                                  "children": [
                                                    {
                                                      "type": "PropertyAccessExpression",
                                                      "label": "assetStore.loadBucket",
                                                      "start_token": 2747,
                                                      "end_token": 2749,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "assetStore",
                                                          "start_token": 2747,
                                                          "end_token": 2747,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "Identifier",
                                                          "label": "loadBucket",
                                                          "start_token": 2749,
                                                          "end_token": 2749,
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "PropertyAccessExpression",
                                                      "label": "bucket.bucketDate",
                                                      "start_token": 2751,
                                                      "end_token": 2753,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "bucket",
                                                          "start_token": 2751,
                                                          "end_token": 2751,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "Identifier",
                                                          "label": "bucketDate",
                                                          "start_token": 2753,
                                                          "end_token": 2753,
                                                          "children": []
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "type": "IfStatement",
                                          "label": "if (!get(isSelectingAllAssets)) {\n        break; // Cancelled\n      }",
                                          "start_token": 2756,
                                          "end_token": 2768,
                                          "children": [
                                            {
                                              "type": "PrefixUnaryExpression",
                                              "label": "!get(isSelectingAllAssets)",
                                              "start_token": 2758,
                                              "end_token": 2762,
                                              "children": [
                                                {
                                                  "type": "CallExpression",
                                                  "label": "get(isSelectingAllAssets)",
                                                  "start_token": 2759,
                                                  "end_token": 2762,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "get",
                                                      "start_token": 2759,
                                                      "end_token": 2759,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "isSelectingAllAssets",
                                                      "start_token": 2761,
                                                      "end_token": 2761,
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "type": "Block",
                                              "label": "{\n        break; // Cancelled\n      }",
                                              "start_token": 2764,
                                              "end_token": 2768,
                                              "children": [
                                                {
                                                  "type": "BreakStatement",
                                                  "label": "break;",
                                                  "start_token": 2765,
                                                  "end_token": 2766,
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "type": "ExpressionStatement",
                                          "label": "assetInteractionStore.selectAssets(bucket.assets);",
                                          "start_token": 2769,
                                          "end_token": 2777,
                                          "children": [
                                            {
                                              "type": "CallExpression",
                                              "label": "assetInteractionStore.selectAssets(bucket.assets)",
                                              "start_token": 2769,
                                              "end_token": 2776,
                                              "children": [
                                                {
                                                  "type": "PropertyAccessExpression",
                                                  "label": "assetInteractionStore.selectAssets",
                                                  "start_token": 2769,
                                                  "end_token": 2771,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "assetInteractionStore",
                                                      "start_token": 2769,
                                                      "end_token": 2769,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "selectAssets",
                                                      "start_token": 2771,
                                                      "end_token": 2771,
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "PropertyAccessExpression",
                                                  "label": "bucket.assets",
                                                  "start_token": 2773,
                                                  "end_token": 2775,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "bucket",
                                                      "start_token": 2773,
                                                      "end_token": 2773,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "assets",
                                                      "start_token": 2775,
                                                      "end_token": 2775,
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "type": "ExpressionStatement",
                                          "label": "await delay(0);",
                                          "start_token": 2782,
                                          "end_token": 2787,
                                          "children": [
                                            {
                                              "type": "AwaitExpression",
                                              "label": "await delay(0)",
                                              "start_token": 2782,
                                              "end_token": 2786,
                                              "children": [
                                                {
                                                  "type": "CallExpression",
                                                  "label": "delay(0)",
                                                  "start_token": 2783,
                                                  "end_token": 2786,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "delay",
                                                      "start_token": 2783,
                                                      "end_token": 2783,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "FirstLiteralToken",
                                                      "label": "0",
                                                      "start_token": 2785,
                                                      "end_token": 2785,
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "type": "CatchClause",
                              "label": "catch (error) {\n    const $t = get(t);\n    handleError(error, $t('errors.error_selecting_all_assets'));\n    isSelectingAllAssets.set(false);\n  }",
                              "start_token": 2790,
                              "end_token": 2820,
                              "children": [
                                {
                                  "type": "VariableDeclaration",
                                  "label": "error",
                                  "start_token": 2792,
                                  "end_token": 2792,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "error",
                                      "start_token": 2792,
                                      "end_token": 2792,
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "type": "Block",
                                  "label": "{\n    const $t = get(t);\n    handleError(error, $t('errors.error_selecting_all_assets'));\n    isSelectingAllAssets.set(false);\n  }",
                                  "start_token": 2794,
                                  "end_token": 2820,
                                  "children": [
                                    {
                                      "type": "FirstStatement",
                                      "label": "const $t = get(t);",
                                      "start_token": 2795,
                                      "end_token": 2802,
                                      "children": [
                                        {
                                          "type": "VariableDeclarationList",
                                          "label": "const $t = get(t)",
                                          "start_token": 2795,
                                          "end_token": 2801,
                                          "children": [
                                            {
                                              "type": "VariableDeclaration",
                                              "label": "$t = get(t)",
                                              "start_token": 2796,
                                              "end_token": 2801,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "$t",
                                                  "start_token": 2796,
                                                  "end_token": 2796,
                                                  "children": []
                                                },
                                                {
                                                  "type": "CallExpression",
                                                  "label": "get(t)",
                                                  "start_token": 2798,
                                                  "end_token": 2801,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "get",
                                                      "start_token": 2798,
                                                      "end_token": 2798,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "t",
                                                      "start_token": 2800,
                                                      "end_token": 2800,
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "type": "ExpressionStatement",
                                      "label": "handleError(error, $t('errors.error_selecting_all_assets'));",
                                      "start_token": 2803,
                                      "end_token": 2812,
                                      "children": [
                                        {
                                          "type": "CallExpression",
                                          "label": "handleError(error, $t('errors.error_selecting_all_assets'))",
                                          "start_token": 2803,
                                          "end_token": 2811,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "handleError",
                                              "start_token": 2803,
                                              "end_token": 2803,
                                              "children": []
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "error",
                                              "start_token": 2805,
                                              "end_token": 2805,
                                              "children": []
                                            },
                                            {
                                              "type": "CallExpression",
                                              "label": "$t('errors.error_selecting_all_assets')",
                                              "start_token": 2807,
                                              "end_token": 2810,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "$t",
                                                  "start_token": 2807,
                                                  "end_token": 2807,
                                                  "children": []
                                                },
                                                {
                                                  "type": "StringLiteral",
                                                  "label": "'errors.error_selecting_all_assets'",
                                                  "start_token": 2809,
                                                  "end_token": 2809,
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "type": "ExpressionStatement",
                                      "label": "isSelectingAllAssets.set(false);",
                                      "start_token": 2813,
                                      "end_token": 2819,
                                      "children": [
                                        {
                                          "type": "CallExpression",
                                          "label": "isSelectingAllAssets.set(false)",
                                          "start_token": 2813,
                                          "end_token": 2818,
                                          "children": [
                                            {
                                              "type": "PropertyAccessExpression",
                                              "label": "isSelectingAllAssets.set",
                                              "start_token": 2813,
                                              "end_token": 2815,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "isSelectingAllAssets",
                                                  "start_token": 2813,
                                                  "end_token": 2813,
                                                  "children": []
                                                },
                                                {
                                                  "type": "Identifier",
                                                  "label": "set",
                                                  "start_token": 2815,
                                                  "end_token": 2815,
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "type": "FalseKeyword",
                                              "label": "false",
                                              "start_token": 2817,
                                              "end_token": 2817,
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FirstStatement",
      "label": "export const cancelMultiselect = (assetInteractionStore: AssetInteractionStore) => {\n  isSelectingAllAssets.set(false);\n  assetInteractionStore.clearMultiselect();\n};",
      "start_token": 2823,
      "end_token": 2848,
      "children": [
        {
          "type": "ExportKeyword",
          "label": "export",
          "start_token": 2823,
          "end_token": 2823,
          "children": []
        },
        {
          "type": "VariableDeclarationList",
          "label": "const cancelMultiselect = (assetInteractionStore: AssetInteractionStore) => {\n  isSelectingAllAssets.set(false);\n  assetInteractionStore.clearMultiselect();\n}",
          "start_token": 2824,
          "end_token": 2847,
          "children": [
            {
              "type": "VariableDeclaration",
              "label": "cancelMultiselect = (assetInteractionStore: AssetInteractionStore) => {\n  isSelectingAllAssets.set(false);\n  assetInteractionStore.clearMultiselect();\n}",
              "start_token": 2825,
              "end_token": 2847,
              "children": [
                {
                  "type": "Identifier",
                  "label": "cancelMultiselect",
                  "start_token": 2825,
                  "end_token": 2825,
                  "children": []
                },
                {
                  "type": "ArrowFunction",
                  "label": "(assetInteractionStore: AssetInteractionStore) => {\n  isSelectingAllAssets.set(false);\n  assetInteractionStore.clearMultiselect();\n}",
                  "start_token": 2827,
                  "end_token": 2847,
                  "children": [
                    {
                      "type": "Parameter",
                      "label": "assetInteractionStore: AssetInteractionStore",
                      "start_token": 2828,
                      "end_token": 2830,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "assetInteractionStore",
                          "start_token": 2828,
                          "end_token": 2828,
                          "children": []
                        },
                        {
                          "type": "TypeReference",
                          "label": "AssetInteractionStore",
                          "start_token": 2830,
                          "end_token": 2830,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "AssetInteractionStore",
                              "start_token": 2830,
                              "end_token": 2830,
                              "children": []
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "EqualsGreaterThanToken",
                      "label": "=>",
                      "start_token": 2832,
                      "end_token": 2832,
                      "children": []
                    },
                    {
                      "type": "Block",
                      "label": "{\n  isSelectingAllAssets.set(false);\n  assetInteractionStore.clearMultiselect();\n}",
                      "start_token": 2833,
                      "end_token": 2847,
                      "children": [
                        {
                          "type": "ExpressionStatement",
                          "label": "isSelectingAllAssets.set(false);",
                          "start_token": 2834,
                          "end_token": 2840,
                          "children": [
                            {
                              "type": "CallExpression",
                              "label": "isSelectingAllAssets.set(false)",
                              "start_token": 2834,
                              "end_token": 2839,
                              "children": [
                                {
                                  "type": "PropertyAccessExpression",
                                  "label": "isSelectingAllAssets.set",
                                  "start_token": 2834,
                                  "end_token": 2836,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "isSelectingAllAssets",
                                      "start_token": 2834,
                                      "end_token": 2834,
                                      "children": []
                                    },
                                    {
                                      "type": "Identifier",
                                      "label": "set",
                                      "start_token": 2836,
                                      "end_token": 2836,
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "type": "FalseKeyword",
                                  "label": "false",
                                  "start_token": 2838,
                                  "end_token": 2838,
                                  "children": []
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "ExpressionStatement",
                          "label": "assetInteractionStore.clearMultiselect();",
                          "start_token": 2841,
                          "end_token": 2846,
                          "children": [
                            {
                              "type": "CallExpression",
                              "label": "assetInteractionStore.clearMultiselect()",
                              "start_token": 2841,
                              "end_token": 2845,
                              "children": [
                                {
                                  "type": "PropertyAccessExpression",
                                  "label": "assetInteractionStore.clearMultiselect",
                                  "start_token": 2841,
                                  "end_token": 2843,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "assetInteractionStore",
                                      "start_token": 2841,
                                      "end_token": 2841,
                                      "children": []
                                    },
                                    {
                                      "type": "Identifier",
                                      "label": "clearMultiselect",
                                      "start_token": 2843,
                                      "end_token": 2843,
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FirstStatement",
      "label": "export const toggleArchive = async (asset: AssetResponseDto) => {\n  const $t = get(t);\n  try {\n    const data = await updateAsset({\n      id: asset.id,\n      updateAssetDto: {\n        isArchived: !asset.isArchived,\n      },\n    });\n    asset.isArchived = data.isArchived;\n    notificationController.show({\n      type: NotificationType.Info,\n      message: asset.isArchived ? $t(`added_to_archive`) : $t(`removed_from_archive`),\n    });\n  } catch (error) {\n    handleError(error, $t('errors.unable_to_add_remove_archive', { values: { archived: asset.isArchived } }));\n  }\n  return asset;\n};",
      "start_token": 2849,
      "end_token": 2970,
      "children": [
        {
          "type": "ExportKeyword",
          "label": "export",
          "start_token": 2849,
          "end_token": 2849,
          "children": []
        },
        {
          "type": "VariableDeclarationList",
          "label": "const toggleArchive = async (asset: AssetResponseDto) => {\n  const $t = get(t);\n  try {\n    const data = await updateAsset({\n      id: asset.id,\n      updateAssetDto: {\n        isArchived: !asset.isArchived,\n      },\n    });\n    asset.isArchived = data.isArchived;\n    notificationController.show({\n      type: NotificationType.Info,\n      message: asset.isArchived ? $t(`added_to_archive`) : $t(`removed_from_archive`),\n    });\n  } catch (error) {\n    handleError(error, $t('errors.unable_to_add_remove_archive', { values: { archived: asset.isArchived } }));\n  }\n  return asset;\n}",
          "start_token": 2850,
          "end_token": 2969,
          "children": [
            {
              "type": "VariableDeclaration",
              "label": "toggleArchive = async (asset: AssetResponseDto) => {\n  const $t = get(t);\n  try {\n    const data = await updateAsset({\n      id: asset.id,\n      updateAssetDto: {\n        isArchived: !asset.isArchived,\n      },\n    });\n    asset.isArchived = data.isArchived;\n    notificationController.show({\n      type: NotificationType.Info,\n      message: asset.isArchived ? $t(`added_to_archive`) : $t(`removed_from_archive`),\n    });\n  } catch (error) {\n    handleError(error, $t('errors.unable_to_add_remove_archive', { values: { archived: asset.isArchived } }));\n  }\n  return asset;\n}",
              "start_token": 2851,
              "end_token": 2969,
              "children": [
                {
                  "type": "Identifier",
                  "label": "toggleArchive",
                  "start_token": 2851,
                  "end_token": 2851,
                  "children": []
                },
                {
                  "type": "ArrowFunction",
                  "label": "async (asset: AssetResponseDto) => {\n  const $t = get(t);\n  try {\n    const data = await updateAsset({\n      id: asset.id,\n      updateAssetDto: {\n        isArchived: !asset.isArchived,\n      },\n    });\n    asset.isArchived = data.isArchived;\n    notificationController.show({\n      type: NotificationType.Info,\n      message: asset.isArchived ? $t(`added_to_archive`) : $t(`removed_from_archive`),\n    });\n  } catch (error) {\n    handleError(error, $t('errors.unable_to_add_remove_archive', { values: { archived: asset.isArchived } }));\n  }\n  return asset;\n}",
                  "start_token": 2853,
                  "end_token": 2969,
                  "children": [
                    {
                      "type": "AsyncKeyword",
                      "label": "async",
                      "start_token": 2853,
                      "end_token": 2853,
                      "children": []
                    },
                    {
                      "type": "Parameter",
                      "label": "asset: AssetResponseDto",
                      "start_token": 2855,
                      "end_token": 2857,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "asset",
                          "start_token": 2855,
                          "end_token": 2855,
                          "children": []
                        },
                        {
                          "type": "TypeReference",
                          "label": "AssetResponseDto",
                          "start_token": 2857,
                          "end_token": 2857,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "AssetResponseDto",
                              "start_token": 2857,
                              "end_token": 2857,
                              "children": []
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "EqualsGreaterThanToken",
                      "label": "=>",
                      "start_token": 2859,
                      "end_token": 2859,
                      "children": []
                    },
                    {
                      "type": "Block",
                      "label": "{\n  const $t = get(t);\n  try {\n    const data = await updateAsset({\n      id: asset.id,\n      updateAssetDto: {\n        isArchived: !asset.isArchived,\n      },\n    });\n    asset.isArchived = data.isArchived;\n    notificationController.show({\n      type: NotificationType.Info,\n      message: asset.isArchived ? $t(`added_to_archive`) : $t(`removed_from_archive`),\n    });\n  } catch (error) {\n    handleError(error, $t('errors.unable_to_add_remove_archive', { values: { archived: asset.isArchived } }));\n  }\n  return asset;\n}",
                      "start_token": 2860,
                      "end_token": 2969,
                      "children": [
                        {
                          "type": "FirstStatement",
                          "label": "const $t = get(t);",
                          "start_token": 2861,
                          "end_token": 2868,
                          "children": [
                            {
                              "type": "VariableDeclarationList",
                              "label": "const $t = get(t)",
                              "start_token": 2861,
                              "end_token": 2867,
                              "children": [
                                {
                                  "type": "VariableDeclaration",
                                  "label": "$t = get(t)",
                                  "start_token": 2862,
                                  "end_token": 2867,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "$t",
                                      "start_token": 2862,
                                      "end_token": 2862,
                                      "children": []
                                    },
                                    {
                                      "type": "CallExpression",
                                      "label": "get(t)",
                                      "start_token": 2864,
                                      "end_token": 2867,
                                      "children": [
                                        {
                                          "type": "Identifier",
                                          "label": "get",
                                          "start_token": 2864,
                                          "end_token": 2864,
                                          "children": []
                                        },
                                        {
                                          "type": "Identifier",
                                          "label": "t",
                                          "start_token": 2866,
                                          "end_token": 2866,
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "TryStatement",
                          "label": "try {\n    const data = await updateAsset({\n      id: asset.id,\n      updateAssetDto: {\n        isArchived: !asset.isArchived,\n      },\n    });\n    asset.isArchived = data.isArchived;\n    notificationController.show({\n      type: NotificationType.Info,\n      message: asset.isArchived ? $t(`added_to_archive`) : $t(`removed_from_archive`),\n    });\n  } catch (error) {\n    handleError(error, $t('errors.unable_to_add_remove_archive', { values: { archived: asset.isArchived } }));\n  }",
                          "start_token": 2869,
                          "end_token": 2965,
                          "children": [
                            {
                              "type": "Block",
                              "label": "{\n    const data = await updateAsset({\n      id: asset.id,\n      updateAssetDto: {\n        isArchived: !asset.isArchived,\n      },\n    });\n    asset.isArchived = data.isArchived;\n    notificationController.show({\n      type: NotificationType.Info,\n      message: asset.isArchived ? $t(`added_to_archive`) : $t(`removed_from_archive`),\n    });\n  }",
                              "start_token": 2870,
                              "end_token": 2937,
                              "children": [
                                {
                                  "type": "FirstStatement",
                                  "label": "const data = await updateAsset({\n      id: asset.id,\n      updateAssetDto: {\n        isArchived: !asset.isArchived,\n      },\n    });",
                                  "start_token": 2871,
                                  "end_token": 2898,
                                  "children": [
                                    {
                                      "type": "VariableDeclarationList",
                                      "label": "const data = await updateAsset({\n      id: asset.id,\n      updateAssetDto: {\n        isArchived: !asset.isArchived,\n      },\n    })",
                                      "start_token": 2871,
                                      "end_token": 2897,
                                      "children": [
                                        {
                                          "type": "VariableDeclaration",
                                          "label": "data = await updateAsset({\n      id: asset.id,\n      updateAssetDto: {\n        isArchived: !asset.isArchived,\n      },\n    })",
                                          "start_token": 2872,
                                          "end_token": 2897,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "data",
                                              "start_token": 2872,
                                              "end_token": 2872,
                                              "children": []
                                            },
                                            {
                                              "type": "AwaitExpression",
                                              "label": "await updateAsset({\n      id: asset.id,\n      updateAssetDto: {\n        isArchived: !asset.isArchived,\n      },\n    })",
                                              "start_token": 2874,
                                              "end_token": 2897,
                                              "children": [
                                                {
                                                  "type": "CallExpression",
                                                  "label": "updateAsset({\n      id: asset.id,\n      updateAssetDto: {\n        isArchived: !asset.isArchived,\n      },\n    })",
                                                  "start_token": 2875,
                                                  "end_token": 2897,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "updateAsset",
                                                      "start_token": 2875,
                                                      "end_token": 2875,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "ObjectLiteralExpression",
                                                      "label": "{\n      id: asset.id,\n      updateAssetDto: {\n        isArchived: !asset.isArchived,\n      },\n    }",
                                                      "start_token": 2877,
                                                      "end_token": 2896,
                                                      "children": [
                                                        {
                                                          "type": "PropertyAssignment",
                                                          "label": "id: asset.id",
                                                          "start_token": 2878,
                                                          "end_token": 2882,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "id",
                                                              "start_token": 2878,
                                                              "end_token": 2878,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "PropertyAccessExpression",
                                                              "label": "asset.id",
                                                              "start_token": 2880,
                                                              "end_token": 2882,
                                                              "children": [
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "asset",
                                                                  "start_token": 2880,
                                                                  "end_token": 2880,
                                                                  "children": []
                                                                },
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "id",
                                                                  "start_token": 2882,
                                                                  "end_token": 2882,
                                                                  "children": []
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "type": "PropertyAssignment",
                                                          "label": "updateAssetDto: {\n        isArchived: !asset.isArchived,\n      }",
                                                          "start_token": 2884,
                                                          "end_token": 2894,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "updateAssetDto",
                                                              "start_token": 2884,
                                                              "end_token": 2884,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "ObjectLiteralExpression",
                                                              "label": "{\n        isArchived: !asset.isArchived,\n      }",
                                                              "start_token": 2886,
                                                              "end_token": 2894,
                                                              "children": [
                                                                {
                                                                  "type": "PropertyAssignment",
                                                                  "label": "isArchived: !asset.isArchived",
                                                                  "start_token": 2887,
                                                                  "end_token": 2892,
                                                                  "children": [
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "isArchived",
                                                                      "start_token": 2887,
                                                                      "end_token": 2887,
                                                                      "children": []
                                                                    },
                                                                    {
                                                                      "type": "PrefixUnaryExpression",
                                                                      "label": "!asset.isArchived",
                                                                      "start_token": 2889,
                                                                      "end_token": 2892,
                                                                      "children": [
                                                                        {
                                                                          "type": "PropertyAccessExpression",
                                                                          "label": "asset.isArchived",
                                                                          "start_token": 2890,
                                                                          "end_token": 2892,
                                                                          "children": [
                                                                            {
                                                                              "type": "Identifier",
                                                                              "label": "asset",
                                                                              "start_token": 2890,
                                                                              "end_token": 2890,
                                                                              "children": []
                                                                            },
                                                                            {
                                                                              "type": "Identifier",
                                                                              "label": "isArchived",
                                                                              "start_token": 2892,
                                                                              "end_token": 2892,
                                                                              "children": []
                                                                            }
                                                                          ]
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "ExpressionStatement",
                                  "label": "asset.isArchived = data.isArchived;",
                                  "start_token": 2899,
                                  "end_token": 2906,
                                  "children": [
                                    {
                                      "type": "BinaryExpression",
                                      "label": "asset.isArchived = data.isArchived",
                                      "start_token": 2899,
                                      "end_token": 2905,
                                      "children": [
                                        {
                                          "type": "PropertyAccessExpression",
                                          "label": "asset.isArchived",
                                          "start_token": 2899,
                                          "end_token": 2901,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "asset",
                                              "start_token": 2899,
                                              "end_token": 2899,
                                              "children": []
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "isArchived",
                                              "start_token": 2901,
                                              "end_token": 2901,
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "type": "FirstAssignment",
                                          "label": "=",
                                          "start_token": 2902,
                                          "end_token": 2902,
                                          "children": []
                                        },
                                        {
                                          "type": "PropertyAccessExpression",
                                          "label": "data.isArchived",
                                          "start_token": 2903,
                                          "end_token": 2905,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "data",
                                              "start_token": 2903,
                                              "end_token": 2903,
                                              "children": []
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "isArchived",
                                              "start_token": 2905,
                                              "end_token": 2905,
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "ExpressionStatement",
                                  "label": "notificationController.show({\n      type: NotificationType.Info,\n      message: asset.isArchived ? $t(`added_to_archive`) : $t(`removed_from_archive`),\n    });",
                                  "start_token": 2907,
                                  "end_token": 2936,
                                  "children": [
                                    {
                                      "type": "CallExpression",
                                      "label": "notificationController.show({\n      type: NotificationType.Info,\n      message: asset.isArchived ? $t(`added_to_archive`) : $t(`removed_from_archive`),\n    })",
                                      "start_token": 2907,
                                      "end_token": 2935,
                                      "children": [
                                        {
                                          "type": "PropertyAccessExpression",
                                          "label": "notificationController.show",
                                          "start_token": 2907,
                                          "end_token": 2909,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "notificationController",
                                              "start_token": 2907,
                                              "end_token": 2907,
                                              "children": []
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "show",
                                              "start_token": 2909,
                                              "end_token": 2909,
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "type": "ObjectLiteralExpression",
                                          "label": "{\n      type: NotificationType.Info,\n      message: asset.isArchived ? $t(`added_to_archive`) : $t(`removed_from_archive`),\n    }",
                                          "start_token": 2911,
                                          "end_token": 2934,
                                          "children": [
                                            {
                                              "type": "PropertyAssignment",
                                              "label": "type: NotificationType.Info",
                                              "start_token": 2912,
                                              "end_token": 2916,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "type",
                                                  "start_token": 2912,
                                                  "end_token": 2912,
                                                  "children": []
                                                },
                                                {
                                                  "type": "PropertyAccessExpression",
                                                  "label": "NotificationType.Info",
                                                  "start_token": 2914,
                                                  "end_token": 2916,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "NotificationType",
                                                      "start_token": 2914,
                                                      "end_token": 2914,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "Info",
                                                      "start_token": 2916,
                                                      "end_token": 2916,
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "type": "PropertyAssignment",
                                              "label": "message: asset.isArchived ? $t(`added_to_archive`) : $t(`removed_from_archive`)",
                                              "start_token": 2918,
                                              "end_token": 2932,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "message",
                                                  "start_token": 2918,
                                                  "end_token": 2918,
                                                  "children": []
                                                },
                                                {
                                                  "type": "ConditionalExpression",
                                                  "label": "asset.isArchived ? $t(`added_to_archive`) : $t(`removed_from_archive`)",
                                                  "start_token": 2920,
                                                  "end_token": 2932,
                                                  "children": [
                                                    {
                                                      "type": "PropertyAccessExpression",
                                                      "label": "asset.isArchived",
                                                      "start_token": 2920,
                                                      "end_token": 2922,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "asset",
                                                          "start_token": 2920,
                                                          "end_token": 2920,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "Identifier",
                                                          "label": "isArchived",
                                                          "start_token": 2922,
                                                          "end_token": 2922,
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "QuestionToken",
                                                      "label": "?",
                                                      "start_token": 2923,
                                                      "end_token": 2923,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "CallExpression",
                                                      "label": "$t(`added_to_archive`)",
                                                      "start_token": 2924,
                                                      "end_token": 2927,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "$t",
                                                          "start_token": 2924,
                                                          "end_token": 2924,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "FirstTemplateToken",
                                                          "label": "`added_to_archive`",
                                                          "start_token": 2926,
                                                          "end_token": 2926,
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "ColonToken",
                                                      "label": ":",
                                                      "start_token": 2928,
                                                      "end_token": 2928,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "CallExpression",
                                                      "label": "$t(`removed_from_archive`)",
                                                      "start_token": 2929,
                                                      "end_token": 2932,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "$t",
                                                          "start_token": 2929,
                                                          "end_token": 2929,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "FirstTemplateToken",
                                                          "label": "`removed_from_archive`",
                                                          "start_token": 2931,
                                                          "end_token": 2931,
                                                          "children": []
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "type": "CatchClause",
                              "label": "catch (error) {\n    handleError(error, $t('errors.unable_to_add_remove_archive', { values: { archived: asset.isArchived } }));\n  }",
                              "start_token": 2938,
                              "end_token": 2965,
                              "children": [
                                {
                                  "type": "VariableDeclaration",
                                  "label": "error",
                                  "start_token": 2940,
                                  "end_token": 2940,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "error",
                                      "start_token": 2940,
                                      "end_token": 2940,
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "type": "Block",
                                  "label": "{\n    handleError(error, $t('errors.unable_to_add_remove_archive', { values: { archived: asset.isArchived } }));\n  }",
                                  "start_token": 2942,
                                  "end_token": 2965,
                                  "children": [
                                    {
                                      "type": "ExpressionStatement",
                                      "label": "handleError(error, $t('errors.unable_to_add_remove_archive', { values: { archived: asset.isArchived } }));",
                                      "start_token": 2943,
                                      "end_token": 2964,
                                      "children": [
                                        {
                                          "type": "CallExpression",
                                          "label": "handleError(error, $t('errors.unable_to_add_remove_archive', { values: { archived: asset.isArchived } }))",
                                          "start_token": 2943,
                                          "end_token": 2963,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "handleError",
                                              "start_token": 2943,
                                              "end_token": 2943,
                                              "children": []
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "error",
                                              "start_token": 2945,
                                              "end_token": 2945,
                                              "children": []
                                            },
                                            {
                                              "type": "CallExpression",
                                              "label": "$t('errors.unable_to_add_remove_archive', { values: { archived: asset.isArchived } })",
                                              "start_token": 2947,
                                              "end_token": 2962,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "$t",
                                                  "start_token": 2947,
                                                  "end_token": 2947,
                                                  "children": []
                                                },
                                                {
                                                  "type": "StringLiteral",
                                                  "label": "'errors.unable_to_add_remove_archive'",
                                                  "start_token": 2949,
                                                  "end_token": 2949,
                                                  "children": []
                                                },
                                                {
                                                  "type": "ObjectLiteralExpression",
                                                  "label": "{ values: { archived: asset.isArchived } }",
                                                  "start_token": 2951,
                                                  "end_token": 2961,
                                                  "children": [
                                                    {
                                                      "type": "PropertyAssignment",
                                                      "label": "values: { archived: asset.isArchived }",
                                                      "start_token": 2952,
                                                      "end_token": 2960,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "values",
                                                          "start_token": 2952,
                                                          "end_token": 2952,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "ObjectLiteralExpression",
                                                          "label": "{ archived: asset.isArchived }",
                                                          "start_token": 2954,
                                                          "end_token": 2960,
                                                          "children": [
                                                            {
                                                              "type": "PropertyAssignment",
                                                              "label": "archived: asset.isArchived",
                                                              "start_token": 2955,
                                                              "end_token": 2959,
                                                              "children": [
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "archived",
                                                                  "start_token": 2955,
                                                                  "end_token": 2955,
                                                                  "children": []
                                                                },
                                                                {
                                                                  "type": "PropertyAccessExpression",
                                                                  "label": "asset.isArchived",
                                                                  "start_token": 2957,
                                                                  "end_token": 2959,
                                                                  "children": [
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "asset",
                                                                      "start_token": 2957,
                                                                      "end_token": 2957,
                                                                      "children": []
                                                                    },
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "isArchived",
                                                                      "start_token": 2959,
                                                                      "end_token": 2959,
                                                                      "children": []
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "ReturnStatement",
                          "label": "return asset;",
                          "start_token": 2966,
                          "end_token": 2968,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "asset",
                              "start_token": 2967,
                              "end_token": 2967,
                              "children": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FirstStatement",
      "label": "export const archiveAssets = async (assets: AssetResponseDto[], archive: boolean) => {\n  const isArchived = archive;\n  const ids = assets.map(({ id }) => id);\n  const $t = get(t);\n  try {\n    if (ids.length > 0) {\n      await updateAssets({ assetBulkUpdateDto: { ids, isArchived } });\n    }\n    for (const asset of assets) {\n      asset.isArchived = isArchived;\n    }\n    notificationController.show({\n      message: isArchived\n        ? $t('archived_count', { values: { count: ids.length } })\n        : $t('unarchived_count', { values: { count: ids.length } }),\n      type: NotificationType.Info,\n    });\n  } catch (error) {\n    handleError(error, $t('errors.unable_to_archive_unarchive', { values: { archived: isArchived } }));\n  }\n  return ids;\n};",
      "start_token": 2971,
      "end_token": 3142,
      "children": [
        {
          "type": "ExportKeyword",
          "label": "export",
          "start_token": 2971,
          "end_token": 2971,
          "children": []
        },
        {
          "type": "VariableDeclarationList",
          "label": "const archiveAssets = async (assets: AssetResponseDto[], archive: boolean) => {\n  const isArchived = archive;\n  const ids = assets.map(({ id }) => id);\n  const $t = get(t);\n  try {\n    if (ids.length > 0) {\n      await updateAssets({ assetBulkUpdateDto: { ids, isArchived } });\n    }\n    for (const asset of assets) {\n      asset.isArchived = isArchived;\n    }\n    notificationController.show({\n      message: isArchived\n        ? $t('archived_count', { values: { count: ids.length } })\n        : $t('unarchived_count', { values: { count: ids.length } }),\n      type: NotificationType.Info,\n    });\n  } catch (error) {\n    handleError(error, $t('errors.unable_to_archive_unarchive', { values: { archived: isArchived } }));\n  }\n  return ids;\n}",
          "start_token": 2972,
          "end_token": 3141,
          "children": [
            {
              "type": "VariableDeclaration",
              "label": "archiveAssets = async (assets: AssetResponseDto[], archive: boolean) => {\n  const isArchived = archive;\n  const ids = assets.map(({ id }) => id);\n  const $t = get(t);\n  try {\n    if (ids.length > 0) {\n      await updateAssets({ assetBulkUpdateDto: { ids, isArchived } });\n    }\n    for (const asset of assets) {\n      asset.isArchived = isArchived;\n    }\n    notificationController.show({\n      message: isArchived\n        ? $t('archived_count', { values: { count: ids.length } })\n        : $t('unarchived_count', { values: { count: ids.length } }),\n      type: NotificationType.Info,\n    });\n  } catch (error) {\n    handleError(error, $t('errors.unable_to_archive_unarchive', { values: { archived: isArchived } }));\n  }\n  return ids;\n}",
              "start_token": 2973,
              "end_token": 3141,
              "children": [
                {
                  "type": "Identifier",
                  "label": "archiveAssets",
                  "start_token": 2973,
                  "end_token": 2973,
                  "children": []
                },
                {
                  "type": "ArrowFunction",
                  "label": "async (assets: AssetResponseDto[], archive: boolean) => {\n  const isArchived = archive;\n  const ids = assets.map(({ id }) => id);\n  const $t = get(t);\n  try {\n    if (ids.length > 0) {\n      await updateAssets({ assetBulkUpdateDto: { ids, isArchived } });\n    }\n    for (const asset of assets) {\n      asset.isArchived = isArchived;\n    }\n    notificationController.show({\n      message: isArchived\n        ? $t('archived_count', { values: { count: ids.length } })\n        : $t('unarchived_count', { values: { count: ids.length } }),\n      type: NotificationType.Info,\n    });\n  } catch (error) {\n    handleError(error, $t('errors.unable_to_archive_unarchive', { values: { archived: isArchived } }));\n  }\n  return ids;\n}",
                  "start_token": 2975,
                  "end_token": 3141,
                  "children": [
                    {
                      "type": "AsyncKeyword",
                      "label": "async",
                      "start_token": 2975,
                      "end_token": 2975,
                      "children": []
                    },
                    {
                      "type": "Parameter",
                      "label": "assets: AssetResponseDto[]",
                      "start_token": 2977,
                      "end_token": 2981,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "assets",
                          "start_token": 2977,
                          "end_token": 2977,
                          "children": []
                        },
                        {
                          "type": "ArrayType",
                          "label": "AssetResponseDto[]",
                          "start_token": 2979,
                          "end_token": 2981,
                          "children": [
                            {
                              "type": "TypeReference",
                              "label": "AssetResponseDto",
                              "start_token": 2979,
                              "end_token": 2979,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "AssetResponseDto",
                                  "start_token": 2979,
                                  "end_token": 2979,
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "Parameter",
                      "label": "archive: boolean",
                      "start_token": 2983,
                      "end_token": 2985,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "archive",
                          "start_token": 2983,
                          "end_token": 2983,
                          "children": []
                        },
                        {
                          "type": "BooleanKeyword",
                          "label": "boolean",
                          "start_token": 2985,
                          "end_token": 2985,
                          "children": []
                        }
                      ]
                    },
                    {
                      "type": "EqualsGreaterThanToken",
                      "label": "=>",
                      "start_token": 2987,
                      "end_token": 2987,
                      "children": []
                    },
                    {
                      "type": "Block",
                      "label": "{\n  const isArchived = archive;\n  const ids = assets.map(({ id }) => id);\n  const $t = get(t);\n  try {\n    if (ids.length > 0) {\n      await updateAssets({ assetBulkUpdateDto: { ids, isArchived } });\n    }\n    for (const asset of assets) {\n      asset.isArchived = isArchived;\n    }\n    notificationController.show({\n      message: isArchived\n        ? $t('archived_count', { values: { count: ids.length } })\n        : $t('unarchived_count', { values: { count: ids.length } }),\n      type: NotificationType.Info,\n    });\n  } catch (error) {\n    handleError(error, $t('errors.unable_to_archive_unarchive', { values: { archived: isArchived } }));\n  }\n  return ids;\n}",
                      "start_token": 2988,
                      "end_token": 3141,
                      "children": [
                        {
                          "type": "FirstStatement",
                          "label": "const isArchived = archive;",
                          "start_token": 2989,
                          "end_token": 2993,
                          "children": [
                            {
                              "type": "VariableDeclarationList",
                              "label": "const isArchived = archive",
                              "start_token": 2989,
                              "end_token": 2992,
                              "children": [
                                {
                                  "type": "VariableDeclaration",
                                  "label": "isArchived = archive",
                                  "start_token": 2990,
                                  "end_token": 2992,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "isArchived",
                                      "start_token": 2990,
                                      "end_token": 2990,
                                      "children": []
                                    },
                                    {
                                      "type": "Identifier",
                                      "label": "archive",
                                      "start_token": 2992,
                                      "end_token": 2992,
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "FirstStatement",
                          "label": "const ids = assets.map(({ id }) => id);",
                          "start_token": 2994,
                          "end_token": 3009,
                          "children": [
                            {
                              "type": "VariableDeclarationList",
                              "label": "const ids = assets.map(({ id }) => id)",
                              "start_token": 2994,
                              "end_token": 3008,
                              "children": [
                                {
                                  "type": "VariableDeclaration",
                                  "label": "ids = assets.map(({ id }) => id)",
                                  "start_token": 2995,
                                  "end_token": 3008,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "ids",
                                      "start_token": 2995,
                                      "end_token": 2995,
                                      "children": []
                                    },
                                    {
                                      "type": "CallExpression",
                                      "label": "assets.map(({ id }) => id)",
                                      "start_token": 2997,
                                      "end_token": 3008,
                                      "children": [
                                        {
                                          "type": "PropertyAccessExpression",
                                          "label": "assets.map",
                                          "start_token": 2997,
                                          "end_token": 2999,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "assets",
                                              "start_token": 2997,
                                              "end_token": 2997,
                                              "children": []
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "map",
                                              "start_token": 2999,
                                              "end_token": 2999,
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "type": "ArrowFunction",
                                          "label": "({ id }) => id",
                                          "start_token": 3001,
                                          "end_token": 3007,
                                          "children": [
                                            {
                                              "type": "Parameter",
                                              "label": "{ id }",
                                              "start_token": 3002,
                                              "end_token": 3004,
                                              "children": [
                                                {
                                                  "type": "ObjectBindingPattern",
                                                  "label": "{ id }",
                                                  "start_token": 3002,
                                                  "end_token": 3004,
                                                  "children": [
                                                    {
                                                      "type": "BindingElement",
                                                      "label": "id",
                                                      "start_token": 3003,
                                                      "end_token": 3003,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "id",
                                                          "start_token": 3003,
                                                          "end_token": 3003,
                                                          "children": []
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "type": "EqualsGreaterThanToken",
                                              "label": "=>",
                                              "start_token": 3006,
                                              "end_token": 3006,
                                              "children": []
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "id",
                                              "start_token": 3007,
                                              "end_token": 3007,
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "FirstStatement",
                          "label": "const $t = get(t);",
                          "start_token": 3010,
                          "end_token": 3017,
                          "children": [
                            {
                              "type": "VariableDeclarationList",
                              "label": "const $t = get(t)",
                              "start_token": 3010,
                              "end_token": 3016,
                              "children": [
                                {
                                  "type": "VariableDeclaration",
                                  "label": "$t = get(t)",
                                  "start_token": 3011,
                                  "end_token": 3016,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "$t",
                                      "start_token": 3011,
                                      "end_token": 3011,
                                      "children": []
                                    },
                                    {
                                      "type": "CallExpression",
                                      "label": "get(t)",
                                      "start_token": 3013,
                                      "end_token": 3016,
                                      "children": [
                                        {
                                          "type": "Identifier",
                                          "label": "get",
                                          "start_token": 3013,
                                          "end_token": 3013,
                                          "children": []
                                        },
                                        {
                                          "type": "Identifier",
                                          "label": "t",
                                          "start_token": 3015,
                                          "end_token": 3015,
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "TryStatement",
                          "label": "try {\n    if (ids.length > 0) {\n      await updateAssets({ assetBulkUpdateDto: { ids, isArchived } });\n    }\n    for (const asset of assets) {\n      asset.isArchived = isArchived;\n    }\n    notificationController.show({\n      message: isArchived\n        ? $t('archived_count', { values: { count: ids.length } })\n        : $t('unarchived_count', { values: { count: ids.length } }),\n      type: NotificationType.Info,\n    });\n  } catch (error) {\n    handleError(error, $t('errors.unable_to_archive_unarchive', { values: { archived: isArchived } }));\n  }",
                          "start_token": 3018,
                          "end_token": 3137,
                          "children": [
                            {
                              "type": "Block",
                              "label": "{\n    if (ids.length > 0) {\n      await updateAssets({ assetBulkUpdateDto: { ids, isArchived } });\n    }\n    for (const asset of assets) {\n      asset.isArchived = isArchived;\n    }\n    notificationController.show({\n      message: isArchived\n        ? $t('archived_count', { values: { count: ids.length } })\n        : $t('unarchived_count', { values: { count: ids.length } }),\n      type: NotificationType.Info,\n    });\n  }",
                              "start_token": 3019,
                              "end_token": 3111,
                              "children": [
                                {
                                  "type": "IfStatement",
                                  "label": "if (ids.length > 0) {\n      await updateAssets({ assetBulkUpdateDto: { ids, isArchived } });\n    }",
                                  "start_token": 3020,
                                  "end_token": 3043,
                                  "children": [
                                    {
                                      "type": "BinaryExpression",
                                      "label": "ids.length > 0",
                                      "start_token": 3022,
                                      "end_token": 3026,
                                      "children": [
                                        {
                                          "type": "PropertyAccessExpression",
                                          "label": "ids.length",
                                          "start_token": 3022,
                                          "end_token": 3024,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "ids",
                                              "start_token": 3022,
                                              "end_token": 3022,
                                              "children": []
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "length",
                                              "start_token": 3024,
                                              "end_token": 3024,
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "type": "GreaterThanToken",
                                          "label": ">",
                                          "start_token": 3025,
                                          "end_token": 3025,
                                          "children": []
                                        },
                                        {
                                          "type": "FirstLiteralToken",
                                          "label": "0",
                                          "start_token": 3026,
                                          "end_token": 3026,
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "type": "Block",
                                      "label": "{\n      await updateAssets({ assetBulkUpdateDto: { ids, isArchived } });\n    }",
                                      "start_token": 3028,
                                      "end_token": 3043,
                                      "children": [
                                        {
                                          "type": "ExpressionStatement",
                                          "label": "await updateAssets({ assetBulkUpdateDto: { ids, isArchived } });",
                                          "start_token": 3029,
                                          "end_token": 3042,
                                          "children": [
                                            {
                                              "type": "AwaitExpression",
                                              "label": "await updateAssets({ assetBulkUpdateDto: { ids, isArchived } })",
                                              "start_token": 3029,
                                              "end_token": 3041,
                                              "children": [
                                                {
                                                  "type": "CallExpression",
                                                  "label": "updateAssets({ assetBulkUpdateDto: { ids, isArchived } })",
                                                  "start_token": 3030,
                                                  "end_token": 3041,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "updateAssets",
                                                      "start_token": 3030,
                                                      "end_token": 3030,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "ObjectLiteralExpression",
                                                      "label": "{ assetBulkUpdateDto: { ids, isArchived } }",
                                                      "start_token": 3032,
                                                      "end_token": 3040,
                                                      "children": [
                                                        {
                                                          "type": "PropertyAssignment",
                                                          "label": "assetBulkUpdateDto: { ids, isArchived }",
                                                          "start_token": 3033,
                                                          "end_token": 3039,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "assetBulkUpdateDto",
                                                              "start_token": 3033,
                                                              "end_token": 3033,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "ObjectLiteralExpression",
                                                              "label": "{ ids, isArchived }",
                                                              "start_token": 3035,
                                                              "end_token": 3039,
                                                              "children": [
                                                                {
                                                                  "type": "ShorthandPropertyAssignment",
                                                                  "label": "ids",
                                                                  "start_token": 3036,
                                                                  "end_token": 3036,
                                                                  "children": [
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "ids",
                                                                      "start_token": 3036,
                                                                      "end_token": 3036,
                                                                      "children": []
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "type": "ShorthandPropertyAssignment",
                                                                  "label": "isArchived",
                                                                  "start_token": 3038,
                                                                  "end_token": 3038,
                                                                  "children": [
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "isArchived",
                                                                      "start_token": 3038,
                                                                      "end_token": 3038,
                                                                      "children": []
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "ForOfStatement",
                                  "label": "for (const asset of assets) {\n      asset.isArchived = isArchived;\n    }",
                                  "start_token": 3044,
                                  "end_token": 3058,
                                  "children": [
                                    {
                                      "type": "VariableDeclarationList",
                                      "label": "const asset",
                                      "start_token": 3046,
                                      "end_token": 3047,
                                      "children": [
                                        {
                                          "type": "VariableDeclaration",
                                          "label": "asset",
                                          "start_token": 3047,
                                          "end_token": 3047,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "asset",
                                              "start_token": 3047,
                                              "end_token": 3047,
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "type": "Identifier",
                                      "label": "assets",
                                      "start_token": 3049,
                                      "end_token": 3049,
                                      "children": []
                                    },
                                    {
                                      "type": "Block",
                                      "label": "{\n      asset.isArchived = isArchived;\n    }",
                                      "start_token": 3051,
                                      "end_token": 3058,
                                      "children": [
                                        {
                                          "type": "ExpressionStatement",
                                          "label": "asset.isArchived = isArchived;",
                                          "start_token": 3052,
                                          "end_token": 3057,
                                          "children": [
                                            {
                                              "type": "BinaryExpression",
                                              "label": "asset.isArchived = isArchived",
                                              "start_token": 3052,
                                              "end_token": 3056,
                                              "children": [
                                                {
                                                  "type": "PropertyAccessExpression",
                                                  "label": "asset.isArchived",
                                                  "start_token": 3052,
                                                  "end_token": 3054,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "asset",
                                                      "start_token": 3052,
                                                      "end_token": 3052,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "isArchived",
                                                      "start_token": 3054,
                                                      "end_token": 3054,
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "FirstAssignment",
                                                  "label": "=",
                                                  "start_token": 3055,
                                                  "end_token": 3055,
                                                  "children": []
                                                },
                                                {
                                                  "type": "Identifier",
                                                  "label": "isArchived",
                                                  "start_token": 3056,
                                                  "end_token": 3056,
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "ExpressionStatement",
                                  "label": "notificationController.show({\n      message: isArchived\n        ? $t('archived_count', { values: { count: ids.length } })\n        : $t('unarchived_count', { values: { count: ids.length } }),\n      type: NotificationType.Info,\n    });",
                                  "start_token": 3059,
                                  "end_token": 3110,
                                  "children": [
                                    {
                                      "type": "CallExpression",
                                      "label": "notificationController.show({\n      message: isArchived\n        ? $t('archived_count', { values: { count: ids.length } })\n        : $t('unarchived_count', { values: { count: ids.length } }),\n      type: NotificationType.Info,\n    })",
                                      "start_token": 3059,
                                      "end_token": 3109,
                                      "children": [
                                        {
                                          "type": "PropertyAccessExpression",
                                          "label": "notificationController.show",
                                          "start_token": 3059,
                                          "end_token": 3061,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "notificationController",
                                              "start_token": 3059,
                                              "end_token": 3059,
                                              "children": []
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "show",
                                              "start_token": 3061,
                                              "end_token": 3061,
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "type": "ObjectLiteralExpression",
                                          "label": "{\n      message: isArchived\n        ? $t('archived_count', { values: { count: ids.length } })\n        : $t('unarchived_count', { values: { count: ids.length } }),\n      type: NotificationType.Info,\n    }",
                                          "start_token": 3063,
                                          "end_token": 3108,
                                          "children": [
                                            {
                                              "type": "PropertyAssignment",
                                              "label": "message: isArchived\n        ? $t('archived_count', { values: { count: ids.length } })\n        : $t('unarchived_count', { values: { count: ids.length } })",
                                              "start_token": 3064,
                                              "end_token": 3100,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "message",
                                                  "start_token": 3064,
                                                  "end_token": 3064,
                                                  "children": []
                                                },
                                                {
                                                  "type": "ConditionalExpression",
                                                  "label": "isArchived\n        ? $t('archived_count', { values: { count: ids.length } })\n        : $t('unarchived_count', { values: { count: ids.length } })",
                                                  "start_token": 3066,
                                                  "end_token": 3100,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "isArchived",
                                                      "start_token": 3066,
                                                      "end_token": 3066,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "QuestionToken",
                                                      "label": "?",
                                                      "start_token": 3067,
                                                      "end_token": 3067,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "CallExpression",
                                                      "label": "$t('archived_count', { values: { count: ids.length } })",
                                                      "start_token": 3068,
                                                      "end_token": 3083,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "$t",
                                                          "start_token": 3068,
                                                          "end_token": 3068,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "StringLiteral",
                                                          "label": "'archived_count'",
                                                          "start_token": 3070,
                                                          "end_token": 3070,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "ObjectLiteralExpression",
                                                          "label": "{ values: { count: ids.length } }",
                                                          "start_token": 3072,
                                                          "end_token": 3082,
                                                          "children": [
                                                            {
                                                              "type": "PropertyAssignment",
                                                              "label": "values: { count: ids.length }",
                                                              "start_token": 3073,
                                                              "end_token": 3081,
                                                              "children": [
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "values",
                                                                  "start_token": 3073,
                                                                  "end_token": 3073,
                                                                  "children": []
                                                                },
                                                                {
                                                                  "type": "ObjectLiteralExpression",
                                                                  "label": "{ count: ids.length }",
                                                                  "start_token": 3075,
                                                                  "end_token": 3081,
                                                                  "children": [
                                                                    {
                                                                      "type": "PropertyAssignment",
                                                                      "label": "count: ids.length",
                                                                      "start_token": 3076,
                                                                      "end_token": 3080,
                                                                      "children": [
                                                                        {
                                                                          "type": "Identifier",
                                                                          "label": "count",
                                                                          "start_token": 3076,
                                                                          "end_token": 3076,
                                                                          "children": []
                                                                        },
                                                                        {
                                                                          "type": "PropertyAccessExpression",
                                                                          "label": "ids.length",
                                                                          "start_token": 3078,
                                                                          "end_token": 3080,
                                                                          "children": [
                                                                            {
                                                                              "type": "Identifier",
                                                                              "label": "ids",
                                                                              "start_token": 3078,
                                                                              "end_token": 3078,
                                                                              "children": []
                                                                            },
                                                                            {
                                                                              "type": "Identifier",
                                                                              "label": "length",
                                                                              "start_token": 3080,
                                                                              "end_token": 3080,
                                                                              "children": []
                                                                            }
                                                                          ]
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "ColonToken",
                                                      "label": ":",
                                                      "start_token": 3084,
                                                      "end_token": 3084,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "CallExpression",
                                                      "label": "$t('unarchived_count', { values: { count: ids.length } })",
                                                      "start_token": 3085,
                                                      "end_token": 3100,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "$t",
                                                          "start_token": 3085,
                                                          "end_token": 3085,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "StringLiteral",
                                                          "label": "'unarchived_count'",
                                                          "start_token": 3087,
                                                          "end_token": 3087,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "ObjectLiteralExpression",
                                                          "label": "{ values: { count: ids.length } }",
                                                          "start_token": 3089,
                                                          "end_token": 3099,
                                                          "children": [
                                                            {
                                                              "type": "PropertyAssignment",
                                                              "label": "values: { count: ids.length }",
                                                              "start_token": 3090,
                                                              "end_token": 3098,
                                                              "children": [
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "values",
                                                                  "start_token": 3090,
                                                                  "end_token": 3090,
                                                                  "children": []
                                                                },
                                                                {
                                                                  "type": "ObjectLiteralExpression",
                                                                  "label": "{ count: ids.length }",
                                                                  "start_token": 3092,
                                                                  "end_token": 3098,
                                                                  "children": [
                                                                    {
                                                                      "type": "PropertyAssignment",
                                                                      "label": "count: ids.length",
                                                                      "start_token": 3093,
                                                                      "end_token": 3097,
                                                                      "children": [
                                                                        {
                                                                          "type": "Identifier",
                                                                          "label": "count",
                                                                          "start_token": 3093,
                                                                          "end_token": 3093,
                                                                          "children": []
                                                                        },
                                                                        {
                                                                          "type": "PropertyAccessExpression",
                                                                          "label": "ids.length",
                                                                          "start_token": 3095,
                                                                          "end_token": 3097,
                                                                          "children": [
                                                                            {
                                                                              "type": "Identifier",
                                                                              "label": "ids",
                                                                              "start_token": 3095,
                                                                              "end_token": 3095,
                                                                              "children": []
                                                                            },
                                                                            {
                                                                              "type": "Identifier",
                                                                              "label": "length",
                                                                              "start_token": 3097,
                                                                              "end_token": 3097,
                                                                              "children": []
                                                                            }
                                                                          ]
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "type": "PropertyAssignment",
                                              "label": "type: NotificationType.Info",
                                              "start_token": 3102,
                                              "end_token": 3106,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "type",
                                                  "start_token": 3102,
                                                  "end_token": 3102,
                                                  "children": []
                                                },
                                                {
                                                  "type": "PropertyAccessExpression",
                                                  "label": "NotificationType.Info",
                                                  "start_token": 3104,
                                                  "end_token": 3106,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "NotificationType",
                                                      "start_token": 3104,
                                                      "end_token": 3104,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "Info",
                                                      "start_token": 3106,
                                                      "end_token": 3106,
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "type": "CatchClause",
                              "label": "catch (error) {\n    handleError(error, $t('errors.unable_to_archive_unarchive', { values: { archived: isArchived } }));\n  }",
                              "start_token": 3112,
                              "end_token": 3137,
                              "children": [
                                {
                                  "type": "VariableDeclaration",
                                  "label": "error",
                                  "start_token": 3114,
                                  "end_token": 3114,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "error",
                                      "start_token": 3114,
                                      "end_token": 3114,
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "type": "Block",
                                  "label": "{\n    handleError(error, $t('errors.unable_to_archive_unarchive', { values: { archived: isArchived } }));\n  }",
                                  "start_token": 3116,
                                  "end_token": 3137,
                                  "children": [
                                    {
                                      "type": "ExpressionStatement",
                                      "label": "handleError(error, $t('errors.unable_to_archive_unarchive', { values: { archived: isArchived } }));",
                                      "start_token": 3117,
                                      "end_token": 3136,
                                      "children": [
                                        {
                                          "type": "CallExpression",
                                          "label": "handleError(error, $t('errors.unable_to_archive_unarchive', { values: { archived: isArchived } }))",
                                          "start_token": 3117,
                                          "end_token": 3135,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "handleError",
                                              "start_token": 3117,
                                              "end_token": 3117,
                                              "children": []
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "error",
                                              "start_token": 3119,
                                              "end_token": 3119,
                                              "children": []
                                            },
                                            {
                                              "type": "CallExpression",
                                              "label": "$t('errors.unable_to_archive_unarchive', { values: { archived: isArchived } })",
                                              "start_token": 3121,
                                              "end_token": 3134,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "$t",
                                                  "start_token": 3121,
                                                  "end_token": 3121,
                                                  "children": []
                                                },
                                                {
                                                  "type": "StringLiteral",
                                                  "label": "'errors.unable_to_archive_unarchive'",
                                                  "start_token": 3123,
                                                  "end_token": 3123,
                                                  "children": []
                                                },
                                                {
                                                  "type": "ObjectLiteralExpression",
                                                  "label": "{ values: { archived: isArchived } }",
                                                  "start_token": 3125,
                                                  "end_token": 3133,
                                                  "children": [
                                                    {
                                                      "type": "PropertyAssignment",
                                                      "label": "values: { archived: isArchived }",
                                                      "start_token": 3126,
                                                      "end_token": 3132,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "values",
                                                          "start_token": 3126,
                                                          "end_token": 3126,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "ObjectLiteralExpression",
                                                          "label": "{ archived: isArchived }",
                                                          "start_token": 3128,
                                                          "end_token": 3132,
                                                          "children": [
                                                            {
                                                              "type": "PropertyAssignment",
                                                              "label": "archived: isArchived",
                                                              "start_token": 3129,
                                                              "end_token": 3131,
                                                              "children": [
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "archived",
                                                                  "start_token": 3129,
                                                                  "end_token": 3129,
                                                                  "children": []
                                                                },
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "isArchived",
                                                                  "start_token": 3131,
                                                                  "end_token": 3131,
                                                                  "children": []
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "ReturnStatement",
                          "label": "return ids;",
                          "start_token": 3138,
                          "end_token": 3140,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "ids",
                              "start_token": 3139,
                              "end_token": 3139,
                              "children": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FirstStatement",
      "label": "export const delay = async (ms: number) => {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n};",
      "start_token": 3143,
      "end_token": 3172,
      "children": [
        {
          "type": "ExportKeyword",
          "label": "export",
          "start_token": 3143,
          "end_token": 3143,
          "children": []
        },
        {
          "type": "VariableDeclarationList",
          "label": "const delay = async (ms: number) => {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n}",
          "start_token": 3144,
          "end_token": 3171,
          "children": [
            {
              "type": "VariableDeclaration",
              "label": "delay = async (ms: number) => {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n}",
              "start_token": 3145,
              "end_token": 3171,
              "children": [
                {
                  "type": "Identifier",
                  "label": "delay",
                  "start_token": 3145,
                  "end_token": 3145,
                  "children": []
                },
                {
                  "type": "ArrowFunction",
                  "label": "async (ms: number) => {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n}",
                  "start_token": 3147,
                  "end_token": 3171,
                  "children": [
                    {
                      "type": "AsyncKeyword",
                      "label": "async",
                      "start_token": 3147,
                      "end_token": 3147,
                      "children": []
                    },
                    {
                      "type": "Parameter",
                      "label": "ms: number",
                      "start_token": 3149,
                      "end_token": 3151,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "ms",
                          "start_token": 3149,
                          "end_token": 3149,
                          "children": []
                        },
                        {
                          "type": "NumberKeyword",
                          "label": "number",
                          "start_token": 3151,
                          "end_token": 3151,
                          "children": []
                        }
                      ]
                    },
                    {
                      "type": "EqualsGreaterThanToken",
                      "label": "=>",
                      "start_token": 3153,
                      "end_token": 3153,
                      "children": []
                    },
                    {
                      "type": "Block",
                      "label": "{\n  return new Promise((resolve) => setTimeout(resolve, ms));\n}",
                      "start_token": 3154,
                      "end_token": 3171,
                      "children": [
                        {
                          "type": "ReturnStatement",
                          "label": "return new Promise((resolve) => setTimeout(resolve, ms));",
                          "start_token": 3155,
                          "end_token": 3170,
                          "children": [
                            {
                              "type": "NewExpression",
                              "label": "new Promise((resolve) => setTimeout(resolve, ms))",
                              "start_token": 3156,
                              "end_token": 3169,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "Promise",
                                  "start_token": 3157,
                                  "end_token": 3157,
                                  "children": []
                                },
                                {
                                  "type": "ArrowFunction",
                                  "label": "(resolve) => setTimeout(resolve, ms)",
                                  "start_token": 3159,
                                  "end_token": 3168,
                                  "children": [
                                    {
                                      "type": "Parameter",
                                      "label": "resolve",
                                      "start_token": 3160,
                                      "end_token": 3160,
                                      "children": [
                                        {
                                          "type": "Identifier",
                                          "label": "resolve",
                                          "start_token": 3160,
                                          "end_token": 3160,
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "type": "EqualsGreaterThanToken",
                                      "label": "=>",
                                      "start_token": 3162,
                                      "end_token": 3162,
                                      "children": []
                                    },
                                    {
                                      "type": "CallExpression",
                                      "label": "setTimeout(resolve, ms)",
                                      "start_token": 3163,
                                      "end_token": 3168,
                                      "children": [
                                        {
                                          "type": "Identifier",
                                          "label": "setTimeout",
                                          "start_token": 3163,
                                          "end_token": 3163,
                                          "children": []
                                        },
                                        {
                                          "type": "Identifier",
                                          "label": "resolve",
                                          "start_token": 3165,
                                          "end_token": 3165,
                                          "children": []
                                        },
                                        {
                                          "type": "Identifier",
                                          "label": "ms",
                                          "start_token": 3167,
                                          "end_token": 3167,
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FirstStatement",
      "label": "export const canCopyImageToClipboard = (): boolean => {\n  return !!(navigator.clipboard && window.ClipboardItem);\n};",
      "start_token": 3173,
      "end_token": 3197,
      "children": [
        {
          "type": "ExportKeyword",
          "label": "export",
          "start_token": 3173,
          "end_token": 3173,
          "children": []
        },
        {
          "type": "VariableDeclarationList",
          "label": "const canCopyImageToClipboard = (): boolean => {\n  return !!(navigator.clipboard && window.ClipboardItem);\n}",
          "start_token": 3174,
          "end_token": 3196,
          "children": [
            {
              "type": "VariableDeclaration",
              "label": "canCopyImageToClipboard = (): boolean => {\n  return !!(navigator.clipboard && window.ClipboardItem);\n}",
              "start_token": 3175,
              "end_token": 3196,
              "children": [
                {
                  "type": "Identifier",
                  "label": "canCopyImageToClipboard",
                  "start_token": 3175,
                  "end_token": 3175,
                  "children": []
                },
                {
                  "type": "ArrowFunction",
                  "label": "(): boolean => {\n  return !!(navigator.clipboard && window.ClipboardItem);\n}",
                  "start_token": 3177,
                  "end_token": 3196,
                  "children": [
                    {
                      "type": "BooleanKeyword",
                      "label": "boolean",
                      "start_token": 3180,
                      "end_token": 3180,
                      "children": []
                    },
                    {
                      "type": "EqualsGreaterThanToken",
                      "label": "=>",
                      "start_token": 3181,
                      "end_token": 3181,
                      "children": []
                    },
                    {
                      "type": "Block",
                      "label": "{\n  return !!(navigator.clipboard && window.ClipboardItem);\n}",
                      "start_token": 3182,
                      "end_token": 3196,
                      "children": [
                        {
                          "type": "ReturnStatement",
                          "label": "return !!(navigator.clipboard && window.ClipboardItem);",
                          "start_token": 3183,
                          "end_token": 3195,
                          "children": [
                            {
                              "type": "PrefixUnaryExpression",
                              "label": "!!(navigator.clipboard && window.ClipboardItem)",
                              "start_token": 3184,
                              "end_token": 3194,
                              "children": [
                                {
                                  "type": "PrefixUnaryExpression",
                                  "label": "!(navigator.clipboard && window.ClipboardItem)",
                                  "start_token": 3185,
                                  "end_token": 3194,
                                  "children": [
                                    {
                                      "type": "ParenthesizedExpression",
                                      "label": "(navigator.clipboard && window.ClipboardItem)",
                                      "start_token": 3186,
                                      "end_token": 3194,
                                      "children": [
                                        {
                                          "type": "BinaryExpression",
                                          "label": "navigator.clipboard && window.ClipboardItem",
                                          "start_token": 3187,
                                          "end_token": 3193,
                                          "children": [
                                            {
                                              "type": "PropertyAccessExpression",
                                              "label": "navigator.clipboard",
                                              "start_token": 3187,
                                              "end_token": 3189,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "navigator",
                                                  "start_token": 3187,
                                                  "end_token": 3187,
                                                  "children": []
                                                },
                                                {
                                                  "type": "Identifier",
                                                  "label": "clipboard",
                                                  "start_token": 3189,
                                                  "end_token": 3189,
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "type": "AmpersandAmpersandToken",
                                              "label": "&&",
                                              "start_token": 3190,
                                              "end_token": 3190,
                                              "children": []
                                            },
                                            {
                                              "type": "PropertyAccessExpression",
                                              "label": "window.ClipboardItem",
                                              "start_token": 3191,
                                              "end_token": 3193,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "window",
                                                  "start_token": 3191,
                                                  "end_token": 3191,
                                                  "children": []
                                                },
                                                {
                                                  "type": "Identifier",
                                                  "label": "ClipboardItem",
                                                  "start_token": 3193,
                                                  "end_token": 3193,
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FirstStatement",
      "label": "const imgToBlob = async (imageElement: HTMLImageElement) => {\n  const canvas = document.createElement('canvas');\n  const context = canvas.getContext('2d');\n  canvas.width = imageElement.naturalWidth;\n  canvas.height = imageElement.naturalHeight;\n  if (context) {\n    context.drawImage(imageElement, 0, 0);\n    return await new Promise<Blob>((resolve) => {\n      canvas.toBlob((blob) => {\n        if (blob) {\n          resolve(blob);\n        } else {\n          throw new Error('Canvas conversion to Blob failed');\n        }\n      });\n    });\n  }\n  throw new Error('Canvas context is null');\n};",
      "start_token": 3198,
      "end_token": 3319,
      "children": [
        {
          "type": "VariableDeclarationList",
          "label": "const imgToBlob = async (imageElement: HTMLImageElement) => {\n  const canvas = document.createElement('canvas');\n  const context = canvas.getContext('2d');\n  canvas.width = imageElement.naturalWidth;\n  canvas.height = imageElement.naturalHeight;\n  if (context) {\n    context.drawImage(imageElement, 0, 0);\n    return await new Promise<Blob>((resolve) => {\n      canvas.toBlob((blob) => {\n        if (blob) {\n          resolve(blob);\n        } else {\n          throw new Error('Canvas conversion to Blob failed');\n        }\n      });\n    });\n  }\n  throw new Error('Canvas context is null');\n}",
          "start_token": 3198,
          "end_token": 3318,
          "children": [
            {
              "type": "VariableDeclaration",
              "label": "imgToBlob = async (imageElement: HTMLImageElement) => {\n  const canvas = document.createElement('canvas');\n  const context = canvas.getContext('2d');\n  canvas.width = imageElement.naturalWidth;\n  canvas.height = imageElement.naturalHeight;\n  if (context) {\n    context.drawImage(imageElement, 0, 0);\n    return await new Promise<Blob>((resolve) => {\n      canvas.toBlob((blob) => {\n        if (blob) {\n          resolve(blob);\n        } else {\n          throw new Error('Canvas conversion to Blob failed');\n        }\n      });\n    });\n  }\n  throw new Error('Canvas context is null');\n}",
              "start_token": 3199,
              "end_token": 3318,
              "children": [
                {
                  "type": "Identifier",
                  "label": "imgToBlob",
                  "start_token": 3199,
                  "end_token": 3199,
                  "children": []
                },
                {
                  "type": "ArrowFunction",
                  "label": "async (imageElement: HTMLImageElement) => {\n  const canvas = document.createElement('canvas');\n  const context = canvas.getContext('2d');\n  canvas.width = imageElement.naturalWidth;\n  canvas.height = imageElement.naturalHeight;\n  if (context) {\n    context.drawImage(imageElement, 0, 0);\n    return await new Promise<Blob>((resolve) => {\n      canvas.toBlob((blob) => {\n        if (blob) {\n          resolve(blob);\n        } else {\n          throw new Error('Canvas conversion to Blob failed');\n        }\n      });\n    });\n  }\n  throw new Error('Canvas context is null');\n}",
                  "start_token": 3201,
                  "end_token": 3318,
                  "children": [
                    {
                      "type": "AsyncKeyword",
                      "label": "async",
                      "start_token": 3201,
                      "end_token": 3201,
                      "children": []
                    },
                    {
                      "type": "Parameter",
                      "label": "imageElement: HTMLImageElement",
                      "start_token": 3203,
                      "end_token": 3205,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "imageElement",
                          "start_token": 3203,
                          "end_token": 3203,
                          "children": []
                        },
                        {
                          "type": "TypeReference",
                          "label": "HTMLImageElement",
                          "start_token": 3205,
                          "end_token": 3205,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "HTMLImageElement",
                              "start_token": 3205,
                              "end_token": 3205,
                              "children": []
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "EqualsGreaterThanToken",
                      "label": "=>",
                      "start_token": 3207,
                      "end_token": 3207,
                      "children": []
                    },
                    {
                      "type": "Block",
                      "label": "{\n  const canvas = document.createElement('canvas');\n  const context = canvas.getContext('2d');\n  canvas.width = imageElement.naturalWidth;\n  canvas.height = imageElement.naturalHeight;\n  if (context) {\n    context.drawImage(imageElement, 0, 0);\n    return await new Promise<Blob>((resolve) => {\n      canvas.toBlob((blob) => {\n        if (blob) {\n          resolve(blob);\n        } else {\n          throw new Error('Canvas conversion to Blob failed');\n        }\n      });\n    });\n  }\n  throw new Error('Canvas context is null');\n}",
                      "start_token": 3208,
                      "end_token": 3318,
                      "children": [
                        {
                          "type": "FirstStatement",
                          "label": "const canvas = document.createElement('canvas');",
                          "start_token": 3209,
                          "end_token": 3218,
                          "children": [
                            {
                              "type": "VariableDeclarationList",
                              "label": "const canvas = document.createElement('canvas')",
                              "start_token": 3209,
                              "end_token": 3217,
                              "children": [
                                {
                                  "type": "VariableDeclaration",
                                  "label": "canvas = document.createElement('canvas')",
                                  "start_token": 3210,
                                  "end_token": 3217,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "canvas",
                                      "start_token": 3210,
                                      "end_token": 3210,
                                      "children": []
                                    },
                                    {
                                      "type": "CallExpression",
                                      "label": "document.createElement('canvas')",
                                      "start_token": 3212,
                                      "end_token": 3217,
                                      "children": [
                                        {
                                          "type": "PropertyAccessExpression",
                                          "label": "document.createElement",
                                          "start_token": 3212,
                                          "end_token": 3214,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "document",
                                              "start_token": 3212,
                                              "end_token": 3212,
                                              "children": []
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "createElement",
                                              "start_token": 3214,
                                              "end_token": 3214,
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "type": "StringLiteral",
                                          "label": "'canvas'",
                                          "start_token": 3216,
                                          "end_token": 3216,
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "FirstStatement",
                          "label": "const context = canvas.getContext('2d');",
                          "start_token": 3219,
                          "end_token": 3228,
                          "children": [
                            {
                              "type": "VariableDeclarationList",
                              "label": "const context = canvas.getContext('2d')",
                              "start_token": 3219,
                              "end_token": 3227,
                              "children": [
                                {
                                  "type": "VariableDeclaration",
                                  "label": "context = canvas.getContext('2d')",
                                  "start_token": 3220,
                                  "end_token": 3227,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "context",
                                      "start_token": 3220,
                                      "end_token": 3220,
                                      "children": []
                                    },
                                    {
                                      "type": "CallExpression",
                                      "label": "canvas.getContext('2d')",
                                      "start_token": 3222,
                                      "end_token": 3227,
                                      "children": [
                                        {
                                          "type": "PropertyAccessExpression",
                                          "label": "canvas.getContext",
                                          "start_token": 3222,
                                          "end_token": 3224,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "canvas",
                                              "start_token": 3222,
                                              "end_token": 3222,
                                              "children": []
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "getContext",
                                              "start_token": 3224,
                                              "end_token": 3224,
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "type": "StringLiteral",
                                          "label": "'2d'",
                                          "start_token": 3226,
                                          "end_token": 3226,
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "ExpressionStatement",
                          "label": "canvas.width = imageElement.naturalWidth;",
                          "start_token": 3229,
                          "end_token": 3236,
                          "children": [
                            {
                              "type": "BinaryExpression",
                              "label": "canvas.width = imageElement.naturalWidth",
                              "start_token": 3229,
                              "end_token": 3235,
                              "children": [
                                {
                                  "type": "PropertyAccessExpression",
                                  "label": "canvas.width",
                                  "start_token": 3229,
                                  "end_token": 3231,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "canvas",
                                      "start_token": 3229,
                                      "end_token": 3229,
                                      "children": []
                                    },
                                    {
                                      "type": "Identifier",
                                      "label": "width",
                                      "start_token": 3231,
                                      "end_token": 3231,
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "type": "FirstAssignment",
                                  "label": "=",
                                  "start_token": 3232,
                                  "end_token": 3232,
                                  "children": []
                                },
                                {
                                  "type": "PropertyAccessExpression",
                                  "label": "imageElement.naturalWidth",
                                  "start_token": 3233,
                                  "end_token": 3235,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "imageElement",
                                      "start_token": 3233,
                                      "end_token": 3233,
                                      "children": []
                                    },
                                    {
                                      "type": "Identifier",
                                      "label": "naturalWidth",
                                      "start_token": 3235,
                                      "end_token": 3235,
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "ExpressionStatement",
                          "label": "canvas.height = imageElement.naturalHeight;",
                          "start_token": 3237,
                          "end_token": 3244,
                          "children": [
                            {
                              "type": "BinaryExpression",
                              "label": "canvas.height = imageElement.naturalHeight",
                              "start_token": 3237,
                              "end_token": 3243,
                              "children": [
                                {
                                  "type": "PropertyAccessExpression",
                                  "label": "canvas.height",
                                  "start_token": 3237,
                                  "end_token": 3239,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "canvas",
                                      "start_token": 3237,
                                      "end_token": 3237,
                                      "children": []
                                    },
                                    {
                                      "type": "Identifier",
                                      "label": "height",
                                      "start_token": 3239,
                                      "end_token": 3239,
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "type": "FirstAssignment",
                                  "label": "=",
                                  "start_token": 3240,
                                  "end_token": 3240,
                                  "children": []
                                },
                                {
                                  "type": "PropertyAccessExpression",
                                  "label": "imageElement.naturalHeight",
                                  "start_token": 3241,
                                  "end_token": 3243,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "imageElement",
                                      "start_token": 3241,
                                      "end_token": 3241,
                                      "children": []
                                    },
                                    {
                                      "type": "Identifier",
                                      "label": "naturalHeight",
                                      "start_token": 3243,
                                      "end_token": 3243,
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "IfStatement",
                          "label": "if (context) {\n    context.drawImage(imageElement, 0, 0);\n    return await new Promise<Blob>((resolve) => {\n      canvas.toBlob((blob) => {\n        if (blob) {\n          resolve(blob);\n        } else {\n          throw new Error('Canvas conversion to Blob failed');\n        }\n      });\n    });\n  }",
                          "start_token": 3245,
                          "end_token": 3310,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "context",
                              "start_token": 3247,
                              "end_token": 3247,
                              "children": []
                            },
                            {
                              "type": "Block",
                              "label": "{\n    context.drawImage(imageElement, 0, 0);\n    return await new Promise<Blob>((resolve) => {\n      canvas.toBlob((blob) => {\n        if (blob) {\n          resolve(blob);\n        } else {\n          throw new Error('Canvas conversion to Blob failed');\n        }\n      });\n    });\n  }",
                              "start_token": 3249,
                              "end_token": 3310,
                              "children": [
                                {
                                  "type": "ExpressionStatement",
                                  "label": "context.drawImage(imageElement, 0, 0);",
                                  "start_token": 3250,
                                  "end_token": 3260,
                                  "children": [
                                    {
                                      "type": "CallExpression",
                                      "label": "context.drawImage(imageElement, 0, 0)",
                                      "start_token": 3250,
                                      "end_token": 3259,
                                      "children": [
                                        {
                                          "type": "PropertyAccessExpression",
                                          "label": "context.drawImage",
                                          "start_token": 3250,
                                          "end_token": 3252,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "context",
                                              "start_token": 3250,
                                              "end_token": 3250,
                                              "children": []
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "drawImage",
                                              "start_token": 3252,
                                              "end_token": 3252,
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "type": "Identifier",
                                          "label": "imageElement",
                                          "start_token": 3254,
                                          "end_token": 3254,
                                          "children": []
                                        },
                                        {
                                          "type": "FirstLiteralToken",
                                          "label": "0",
                                          "start_token": 3256,
                                          "end_token": 3256,
                                          "children": []
                                        },
                                        {
                                          "type": "FirstLiteralToken",
                                          "label": "0",
                                          "start_token": 3258,
                                          "end_token": 3258,
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "ReturnStatement",
                                  "label": "return await new Promise<Blob>((resolve) => {\n      canvas.toBlob((blob) => {\n        if (blob) {\n          resolve(blob);\n        } else {\n          throw new Error('Canvas conversion to Blob failed');\n        }\n      });\n    });",
                                  "start_token": 3261,
                                  "end_token": 3309,
                                  "children": [
                                    {
                                      "type": "AwaitExpression",
                                      "label": "await new Promise<Blob>((resolve) => {\n      canvas.toBlob((blob) => {\n        if (blob) {\n          resolve(blob);\n        } else {\n          throw new Error('Canvas conversion to Blob failed');\n        }\n      });\n    })",
                                      "start_token": 3262,
                                      "end_token": 3308,
                                      "children": [
                                        {
                                          "type": "NewExpression",
                                          "label": "new Promise<Blob>((resolve) => {\n      canvas.toBlob((blob) => {\n        if (blob) {\n          resolve(blob);\n        } else {\n          throw new Error('Canvas conversion to Blob failed');\n        }\n      });\n    })",
                                          "start_token": 3263,
                                          "end_token": 3308,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "Promise",
                                              "start_token": 3264,
                                              "end_token": 3264,
                                              "children": []
                                            },
                                            {
                                              "type": "TypeReference",
                                              "label": "Blob",
                                              "start_token": 3266,
                                              "end_token": 3266,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "Blob",
                                                  "start_token": 3266,
                                                  "end_token": 3266,
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "type": "ArrowFunction",
                                              "label": "(resolve) => {\n      canvas.toBlob((blob) => {\n        if (blob) {\n          resolve(blob);\n        } else {\n          throw new Error('Canvas conversion to Blob failed');\n        }\n      });\n    }",
                                              "start_token": 3269,
                                              "end_token": 3307,
                                              "children": [
                                                {
                                                  "type": "Parameter",
                                                  "label": "resolve",
                                                  "start_token": 3270,
                                                  "end_token": 3270,
                                                  "children": [
                                                    {
                                                      "type": "Identifier",
                                                      "label": "resolve",
                                                      "start_token": 3270,
                                                      "end_token": 3270,
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "EqualsGreaterThanToken",
                                                  "label": "=>",
                                                  "start_token": 3272,
                                                  "end_token": 3272,
                                                  "children": []
                                                },
                                                {
                                                  "type": "Block",
                                                  "label": "{\n      canvas.toBlob((blob) => {\n        if (blob) {\n          resolve(blob);\n        } else {\n          throw new Error('Canvas conversion to Blob failed');\n        }\n      });\n    }",
                                                  "start_token": 3273,
                                                  "end_token": 3307,
                                                  "children": [
                                                    {
                                                      "type": "ExpressionStatement",
                                                      "label": "canvas.toBlob((blob) => {\n        if (blob) {\n          resolve(blob);\n        } else {\n          throw new Error('Canvas conversion to Blob failed');\n        }\n      });",
                                                      "start_token": 3274,
                                                      "end_token": 3306,
                                                      "children": [
                                                        {
                                                          "type": "CallExpression",
                                                          "label": "canvas.toBlob((blob) => {\n        if (blob) {\n          resolve(blob);\n        } else {\n          throw new Error('Canvas conversion to Blob failed');\n        }\n      })",
                                                          "start_token": 3274,
                                                          "end_token": 3305,
                                                          "children": [
                                                            {
                                                              "type": "PropertyAccessExpression",
                                                              "label": "canvas.toBlob",
                                                              "start_token": 3274,
                                                              "end_token": 3276,
                                                              "children": [
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "canvas",
                                                                  "start_token": 3274,
                                                                  "end_token": 3274,
                                                                  "children": []
                                                                },
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "toBlob",
                                                                  "start_token": 3276,
                                                                  "end_token": 3276,
                                                                  "children": []
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "type": "ArrowFunction",
                                                              "label": "(blob) => {\n        if (blob) {\n          resolve(blob);\n        } else {\n          throw new Error('Canvas conversion to Blob failed');\n        }\n      }",
                                                              "start_token": 3278,
                                                              "end_token": 3304,
                                                              "children": [
                                                                {
                                                                  "type": "Parameter",
                                                                  "label": "blob",
                                                                  "start_token": 3279,
                                                                  "end_token": 3279,
                                                                  "children": [
                                                                    {
                                                                      "type": "Identifier",
                                                                      "label": "blob",
                                                                      "start_token": 3279,
                                                                      "end_token": 3279,
                                                                      "children": []
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "type": "EqualsGreaterThanToken",
                                                                  "label": "=>",
                                                                  "start_token": 3281,
                                                                  "end_token": 3281,
                                                                  "children": []
                                                                },
                                                                {
                                                                  "type": "Block",
                                                                  "label": "{\n        if (blob) {\n          resolve(blob);\n        } else {\n          throw new Error('Canvas conversion to Blob failed');\n        }\n      }",
                                                                  "start_token": 3282,
                                                                  "end_token": 3304,
                                                                  "children": [
                                                                    {
                                                                      "type": "IfStatement",
                                                                      "label": "if (blob) {\n          resolve(blob);\n        } else {\n          throw new Error('Canvas conversion to Blob failed');\n        }",
                                                                      "start_token": 3283,
                                                                      "end_token": 3303,
                                                                      "children": [
                                                                        {
                                                                          "type": "Identifier",
                                                                          "label": "blob",
                                                                          "start_token": 3285,
                                                                          "end_token": 3285,
                                                                          "children": []
                                                                        },
                                                                        {
                                                                          "type": "Block",
                                                                          "label": "{\n          resolve(blob);\n        }",
                                                                          "start_token": 3287,
                                                                          "end_token": 3293,
                                                                          "children": [
                                                                            {
                                                                              "type": "ExpressionStatement",
                                                                              "label": "resolve(blob);",
                                                                              "start_token": 3288,
                                                                              "end_token": 3292,
                                                                              "children": [
                                                                                {
                                                                                  "type": "CallExpression",
                                                                                  "label": "resolve(blob)",
                                                                                  "start_token": 3288,
                                                                                  "end_token": 3291,
                                                                                  "children": [
                                                                                    {
                                                                                      "type": "Identifier",
                                                                                      "label": "resolve",
                                                                                      "start_token": 3288,
                                                                                      "end_token": 3288,
                                                                                      "children": []
                                                                                    },
                                                                                    {
                                                                                      "type": "Identifier",
                                                                                      "label": "blob",
                                                                                      "start_token": 3290,
                                                                                      "end_token": 3290,
                                                                                      "children": []
                                                                                    }
                                                                                  ]
                                                                                }
                                                                              ]
                                                                            }
                                                                          ]
                                                                        },
                                                                        {
                                                                          "type": "Block",
                                                                          "label": "{\n          throw new Error('Canvas conversion to Blob failed');\n        }",
                                                                          "start_token": 3295,
                                                                          "end_token": 3303,
                                                                          "children": [
                                                                            {
                                                                              "type": "ThrowStatement",
                                                                              "label": "throw new Error('Canvas conversion to Blob failed');",
                                                                              "start_token": 3296,
                                                                              "end_token": 3302,
                                                                              "children": [
                                                                                {
                                                                                  "type": "NewExpression",
                                                                                  "label": "new Error('Canvas conversion to Blob failed')",
                                                                                  "start_token": 3297,
                                                                                  "end_token": 3301,
                                                                                  "children": [
                                                                                    {
                                                                                      "type": "Identifier",
                                                                                      "label": "Error",
                                                                                      "start_token": 3298,
                                                                                      "end_token": 3298,
                                                                                      "children": []
                                                                                    },
                                                                                    {
                                                                                      "type": "StringLiteral",
                                                                                      "label": "'Canvas conversion to Blob failed'",
                                                                                      "start_token": 3300,
                                                                                      "end_token": 3300,
                                                                                      "children": []
                                                                                    }
                                                                                  ]
                                                                                }
                                                                              ]
                                                                            }
                                                                          ]
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "ThrowStatement",
                          "label": "throw new Error('Canvas context is null');",
                          "start_token": 3311,
                          "end_token": 3317,
                          "children": [
                            {
                              "type": "NewExpression",
                              "label": "new Error('Canvas context is null')",
                              "start_token": 3312,
                              "end_token": 3316,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "Error",
                                  "start_token": 3313,
                                  "end_token": 3313,
                                  "children": []
                                },
                                {
                                  "type": "StringLiteral",
                                  "label": "'Canvas context is null'",
                                  "start_token": 3315,
                                  "end_token": 3315,
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FirstStatement",
      "label": "const urlToBlob = async (imageSource: string) => {\n  const response = await fetch(imageSource);\n  return await response.blob();\n};",
      "start_token": 3320,
      "end_token": 3349,
      "children": [
        {
          "type": "VariableDeclarationList",
          "label": "const urlToBlob = async (imageSource: string) => {\n  const response = await fetch(imageSource);\n  return await response.blob();\n}",
          "start_token": 3320,
          "end_token": 3348,
          "children": [
            {
              "type": "VariableDeclaration",
              "label": "urlToBlob = async (imageSource: string) => {\n  const response = await fetch(imageSource);\n  return await response.blob();\n}",
              "start_token": 3321,
              "end_token": 3348,
              "children": [
                {
                  "type": "Identifier",
                  "label": "urlToBlob",
                  "start_token": 3321,
                  "end_token": 3321,
                  "children": []
                },
                {
                  "type": "ArrowFunction",
                  "label": "async (imageSource: string) => {\n  const response = await fetch(imageSource);\n  return await response.blob();\n}",
                  "start_token": 3323,
                  "end_token": 3348,
                  "children": [
                    {
                      "type": "AsyncKeyword",
                      "label": "async",
                      "start_token": 3323,
                      "end_token": 3323,
                      "children": []
                    },
                    {
                      "type": "Parameter",
                      "label": "imageSource: string",
                      "start_token": 3325,
                      "end_token": 3327,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "imageSource",
                          "start_token": 3325,
                          "end_token": 3325,
                          "children": []
                        },
                        {
                          "type": "StringKeyword",
                          "label": "string",
                          "start_token": 3327,
                          "end_token": 3327,
                          "children": []
                        }
                      ]
                    },
                    {
                      "type": "EqualsGreaterThanToken",
                      "label": "=>",
                      "start_token": 3329,
                      "end_token": 3329,
                      "children": []
                    },
                    {
                      "type": "Block",
                      "label": "{\n  const response = await fetch(imageSource);\n  return await response.blob();\n}",
                      "start_token": 3330,
                      "end_token": 3348,
                      "children": [
                        {
                          "type": "FirstStatement",
                          "label": "const response = await fetch(imageSource);",
                          "start_token": 3331,
                          "end_token": 3339,
                          "children": [
                            {
                              "type": "VariableDeclarationList",
                              "label": "const response = await fetch(imageSource)",
                              "start_token": 3331,
                              "end_token": 3338,
                              "children": [
                                {
                                  "type": "VariableDeclaration",
                                  "label": "response = await fetch(imageSource)",
                                  "start_token": 3332,
                                  "end_token": 3338,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "response",
                                      "start_token": 3332,
                                      "end_token": 3332,
                                      "children": []
                                    },
                                    {
                                      "type": "AwaitExpression",
                                      "label": "await fetch(imageSource)",
                                      "start_token": 3334,
                                      "end_token": 3338,
                                      "children": [
                                        {
                                          "type": "CallExpression",
                                          "label": "fetch(imageSource)",
                                          "start_token": 3335,
                                          "end_token": 3338,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "fetch",
                                              "start_token": 3335,
                                              "end_token": 3335,
                                              "children": []
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "imageSource",
                                              "start_token": 3337,
                                              "end_token": 3337,
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "ReturnStatement",
                          "label": "return await response.blob();",
                          "start_token": 3340,
                          "end_token": 3347,
                          "children": [
                            {
                              "type": "AwaitExpression",
                              "label": "await response.blob()",
                              "start_token": 3341,
                              "end_token": 3346,
                              "children": [
                                {
                                  "type": "CallExpression",
                                  "label": "response.blob()",
                                  "start_token": 3342,
                                  "end_token": 3346,
                                  "children": [
                                    {
                                      "type": "PropertyAccessExpression",
                                      "label": "response.blob",
                                      "start_token": 3342,
                                      "end_token": 3344,
                                      "children": [
                                        {
                                          "type": "Identifier",
                                          "label": "response",
                                          "start_token": 3342,
                                          "end_token": 3342,
                                          "children": []
                                        },
                                        {
                                          "type": "Identifier",
                                          "label": "blob",
                                          "start_token": 3344,
                                          "end_token": 3344,
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FirstStatement",
      "label": "export const copyImageToClipboard = async (source: HTMLImageElement | string) => {\n  const blob = source instanceof HTMLImageElement ? await imgToBlob(source) : await urlToBlob(source);\n  await navigator.clipboard.write([new ClipboardItem({ [blob.type]: blob })]);\n};",
      "start_token": 3350,
      "end_token": 3408,
      "children": [
        {
          "type": "ExportKeyword",
          "label": "export",
          "start_token": 3350,
          "end_token": 3350,
          "children": []
        },
        {
          "type": "VariableDeclarationList",
          "label": "const copyImageToClipboard = async (source: HTMLImageElement | string) => {\n  const blob = source instanceof HTMLImageElement ? await imgToBlob(source) : await urlToBlob(source);\n  await navigator.clipboard.write([new ClipboardItem({ [blob.type]: blob })]);\n}",
          "start_token": 3351,
          "end_token": 3407,
          "children": [
            {
              "type": "VariableDeclaration",
              "label": "copyImageToClipboard = async (source: HTMLImageElement | string) => {\n  const blob = source instanceof HTMLImageElement ? await imgToBlob(source) : await urlToBlob(source);\n  await navigator.clipboard.write([new ClipboardItem({ [blob.type]: blob })]);\n}",
              "start_token": 3352,
              "end_token": 3407,
              "children": [
                {
                  "type": "Identifier",
                  "label": "copyImageToClipboard",
                  "start_token": 3352,
                  "end_token": 3352,
                  "children": []
                },
                {
                  "type": "ArrowFunction",
                  "label": "async (source: HTMLImageElement | string) => {\n  const blob = source instanceof HTMLImageElement ? await imgToBlob(source) : await urlToBlob(source);\n  await navigator.clipboard.write([new ClipboardItem({ [blob.type]: blob })]);\n}",
                  "start_token": 3354,
                  "end_token": 3407,
                  "children": [
                    {
                      "type": "AsyncKeyword",
                      "label": "async",
                      "start_token": 3354,
                      "end_token": 3354,
                      "children": []
                    },
                    {
                      "type": "Parameter",
                      "label": "source: HTMLImageElement | string",
                      "start_token": 3356,
                      "end_token": 3360,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "source",
                          "start_token": 3356,
                          "end_token": 3356,
                          "children": []
                        },
                        {
                          "type": "UnionType",
                          "label": "HTMLImageElement | string",
                          "start_token": 3358,
                          "end_token": 3360,
                          "children": [
                            {
                              "type": "TypeReference",
                              "label": "HTMLImageElement",
                              "start_token": 3358,
                              "end_token": 3358,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "HTMLImageElement",
                                  "start_token": 3358,
                                  "end_token": 3358,
                                  "children": []
                                }
                              ]
                            },
                            {
                              "type": "StringKeyword",
                              "label": "string",
                              "start_token": 3360,
                              "end_token": 3360,
                              "children": []
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "EqualsGreaterThanToken",
                      "label": "=>",
                      "start_token": 3362,
                      "end_token": 3362,
                      "children": []
                    },
                    {
                      "type": "Block",
                      "label": "{\n  const blob = source instanceof HTMLImageElement ? await imgToBlob(source) : await urlToBlob(source);\n  await navigator.clipboard.write([new ClipboardItem({ [blob.type]: blob })]);\n}",
                      "start_token": 3363,
                      "end_token": 3407,
                      "children": [
                        {
                          "type": "FirstStatement",
                          "label": "const blob = source instanceof HTMLImageElement ? await imgToBlob(source) : await urlToBlob(source);",
                          "start_token": 3364,
                          "end_token": 3382,
                          "children": [
                            {
                              "type": "VariableDeclarationList",
                              "label": "const blob = source instanceof HTMLImageElement ? await imgToBlob(source) : await urlToBlob(source)",
                              "start_token": 3364,
                              "end_token": 3381,
                              "children": [
                                {
                                  "type": "VariableDeclaration",
                                  "label": "blob = source instanceof HTMLImageElement ? await imgToBlob(source) : await urlToBlob(source)",
                                  "start_token": 3365,
                                  "end_token": 3381,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "blob",
                                      "start_token": 3365,
                                      "end_token": 3365,
                                      "children": []
                                    },
                                    {
                                      "type": "ConditionalExpression",
                                      "label": "source instanceof HTMLImageElement ? await imgToBlob(source) : await urlToBlob(source)",
                                      "start_token": 3367,
                                      "end_token": 3381,
                                      "children": [
                                        {
                                          "type": "BinaryExpression",
                                          "label": "source instanceof HTMLImageElement",
                                          "start_token": 3367,
                                          "end_token": 3369,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "source",
                                              "start_token": 3367,
                                              "end_token": 3367,
                                              "children": []
                                            },
                                            {
                                              "type": "InstanceOfKeyword",
                                              "label": "instanceof",
                                              "start_token": 3368,
                                              "end_token": 3368,
                                              "children": []
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "HTMLImageElement",
                                              "start_token": 3369,
                                              "end_token": 3369,
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "type": "QuestionToken",
                                          "label": "?",
                                          "start_token": 3370,
                                          "end_token": 3370,
                                          "children": []
                                        },
                                        {
                                          "type": "AwaitExpression",
                                          "label": "await imgToBlob(source)",
                                          "start_token": 3371,
                                          "end_token": 3375,
                                          "children": [
                                            {
                                              "type": "CallExpression",
                                              "label": "imgToBlob(source)",
                                              "start_token": 3372,
                                              "end_token": 3375,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "imgToBlob",
                                                  "start_token": 3372,
                                                  "end_token": 3372,
                                                  "children": []
                                                },
                                                {
                                                  "type": "Identifier",
                                                  "label": "source",
                                                  "start_token": 3374,
                                                  "end_token": 3374,
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "type": "ColonToken",
                                          "label": ":",
                                          "start_token": 3376,
                                          "end_token": 3376,
                                          "children": []
                                        },
                                        {
                                          "type": "AwaitExpression",
                                          "label": "await urlToBlob(source)",
                                          "start_token": 3377,
                                          "end_token": 3381,
                                          "children": [
                                            {
                                              "type": "CallExpression",
                                              "label": "urlToBlob(source)",
                                              "start_token": 3378,
                                              "end_token": 3381,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "urlToBlob",
                                                  "start_token": 3378,
                                                  "end_token": 3378,
                                                  "children": []
                                                },
                                                {
                                                  "type": "Identifier",
                                                  "label": "source",
                                                  "start_token": 3380,
                                                  "end_token": 3380,
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "ExpressionStatement",
                          "label": "await navigator.clipboard.write([new ClipboardItem({ [blob.type]: blob })]);",
                          "start_token": 3383,
                          "end_token": 3406,
                          "children": [
                            {
                              "type": "AwaitExpression",
                              "label": "await navigator.clipboard.write([new ClipboardItem({ [blob.type]: blob })])",
                              "start_token": 3383,
                              "end_token": 3405,
                              "children": [
                                {
                                  "type": "CallExpression",
                                  "label": "navigator.clipboard.write([new ClipboardItem({ [blob.type]: blob })])",
                                  "start_token": 3384,
                                  "end_token": 3405,
                                  "children": [
                                    {
                                      "type": "PropertyAccessExpression",
                                      "label": "navigator.clipboard.write",
                                      "start_token": 3384,
                                      "end_token": 3388,
                                      "children": [
                                        {
                                          "type": "PropertyAccessExpression",
                                          "label": "navigator.clipboard",
                                          "start_token": 3384,
                                          "end_token": 3386,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "navigator",
                                              "start_token": 3384,
                                              "end_token": 3384,
                                              "children": []
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "clipboard",
                                              "start_token": 3386,
                                              "end_token": 3386,
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "type": "Identifier",
                                          "label": "write",
                                          "start_token": 3388,
                                          "end_token": 3388,
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "type": "ArrayLiteralExpression",
                                      "label": "[new ClipboardItem({ [blob.type]: blob })]",
                                      "start_token": 3390,
                                      "end_token": 3404,
                                      "children": [
                                        {
                                          "type": "NewExpression",
                                          "label": "new ClipboardItem({ [blob.type]: blob })",
                                          "start_token": 3391,
                                          "end_token": 3403,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "ClipboardItem",
                                              "start_token": 3392,
                                              "end_token": 3392,
                                              "children": []
                                            },
                                            {
                                              "type": "ObjectLiteralExpression",
                                              "label": "{ [blob.type]: blob }",
                                              "start_token": 3394,
                                              "end_token": 3402,
                                              "children": [
                                                {
                                                  "type": "PropertyAssignment",
                                                  "label": "[blob.type]: blob",
                                                  "start_token": 3395,
                                                  "end_token": 3401,
                                                  "children": [
                                                    {
                                                      "type": "ComputedPropertyName",
                                                      "label": "[blob.type]",
                                                      "start_token": 3395,
                                                      "end_token": 3399,
                                                      "children": [
                                                        {
                                                          "type": "PropertyAccessExpression",
                                                          "label": "blob.type",
                                                          "start_token": 3396,
                                                          "end_token": 3398,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "blob",
                                                              "start_token": 3396,
                                                              "end_token": 3396,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "Identifier",
                                                              "label": "type",
                                                              "start_token": 3398,
                                                              "end_token": 3398,
                                                              "children": []
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "Identifier",
                                                      "label": "blob",
                                                      "start_token": 3401,
                                                      "end_token": 3401,
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "EndOfFileToken",
      "label": "",
      "start_token": -1,
      "end_token": -1,
      "children": []
    }
  ]
}