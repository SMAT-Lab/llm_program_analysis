{
  "type": "SourceFile",
  "label": "import { clamp } from '@/util/helpers'\n// Types\nimport type { RGB, XYZ } from '../colorUtils'\n// For converting XYZ to sRGB\nconst srgbForwardMatrix = [\n  [3.2406, -1.5372, -0.4986],\n  [-0.9689, 1.8758, 0.0415],\n  [0.0557, -0.2040, 1.0570],\n]\n// Forward gamma adjust\nconst srgbForwardTransform = (C: number): number => (\n  C <= 0.0031308\n    ? C * 12.92\n    : 1.055 * C ** (1 / 2.4) - 0.055\n)\n// For converting sRGB to XYZ\nconst srgbReverseMatrix = [\n  [0.4124, 0.3576, 0.1805],\n  [0.2126, 0.7152, 0.0722],\n  [0.0193, 0.1192, 0.9505],\n]\n// Reverse gamma adjust\nconst srgbReverseTransform = (C: number): number => (\n  C <= 0.04045\n    ? C / 12.92\n    : ((C + 0.055) / 1.055) ** 2.4\n)\nexport function fromXYZ (xyz: XYZ): RGB {\n  const rgb = Array(3)\n  const transform = srgbForwardTransform\n  const matrix = srgbForwardMatrix\n  // Matrix transform, then gamma adjustment\n  for (let i = 0; i < 3; ++i) {\n    // Rescale back to [0, 255]\n    rgb[i] = Math.round(clamp(transform(\n      matrix[i][0] * xyz[0] +\n      matrix[i][1] * xyz[1] +\n      matrix[i][2] * xyz[2]\n    )) * 255)\n  }\n  return {\n    r: rgb[0],\n    g: rgb[1],\n    b: rgb[2],\n  }\n}\nexport function toXYZ ({ r, g, b }: RGB): XYZ {\n  const xyz: XYZ = [0, 0, 0]\n  const transform = srgbReverseTransform\n  const matrix = srgbReverseMatrix\n  // Rescale from [0, 255] to [0, 1] then adjust sRGB gamma to linear RGB\n  r = transform(r / 255)\n  g = transform(g / 255)\n  b = transform(b / 255)\n  // Matrix color space transform\n  for (let i = 0; i < 3; ++i) {\n    xyz[i] = matrix[i][0] * r + matrix[i][1] * g + matrix[i][2] * b\n  }\n  return xyz\n}",
  "start_token": 0,
  "end_token": 393,
  "children": [
    {
      "type": "ImportDeclaration",
      "label": "import { clamp } from '@/util/helpers'",
      "start_token": 1,
      "end_token": 6,
      "children": [
        {
          "type": "ImportClause",
          "label": "{ clamp }",
          "start_token": 2,
          "end_token": 4,
          "children": [
            {
              "type": "NamedImports",
              "label": "{ clamp }",
              "start_token": 2,
              "end_token": 4,
              "children": [
                {
                  "type": "ImportSpecifier",
                  "label": "clamp",
                  "start_token": 3,
                  "end_token": 3,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "clamp",
                      "start_token": 3,
                      "end_token": 3,
                      "children": []
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "StringLiteral",
          "label": "'@/util/helpers'",
          "start_token": 6,
          "end_token": 6,
          "children": []
        }
      ]
    },
    {
      "type": "ImportDeclaration",
      "label": "import type { RGB, XYZ } from '../colorUtils'",
      "start_token": 8,
      "end_token": 16,
      "children": [
        {
          "type": "ImportClause",
          "label": "type { RGB, XYZ }",
          "start_token": 9,
          "end_token": 14,
          "children": [
            {
              "type": "NamedImports",
              "label": "{ RGB, XYZ }",
              "start_token": 10,
              "end_token": 14,
              "children": [
                {
                  "type": "ImportSpecifier",
                  "label": "RGB",
                  "start_token": 11,
                  "end_token": 11,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "RGB",
                      "start_token": 11,
                      "end_token": 11,
                      "children": []
                    }
                  ]
                },
                {
                  "type": "ImportSpecifier",
                  "label": "XYZ",
                  "start_token": 13,
                  "end_token": 13,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "XYZ",
                      "start_token": 13,
                      "end_token": 13,
                      "children": []
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "StringLiteral",
          "label": "'../colorUtils'",
          "start_token": 16,
          "end_token": 16,
          "children": []
        }
      ]
    },
    {
      "type": "FirstStatement",
      "label": "const srgbForwardMatrix = [\n  [3.2406, -1.5372, -0.4986],\n  [-0.9689, 1.8758, 0.0415],\n  [0.0557, -0.2040, 1.0570],\n]",
      "start_token": 18,
      "end_token": 50,
      "children": [
        {
          "type": "VariableDeclarationList",
          "label": "const srgbForwardMatrix = [\n  [3.2406, -1.5372, -0.4986],\n  [-0.9689, 1.8758, 0.0415],\n  [0.0557, -0.2040, 1.0570],\n]",
          "start_token": 18,
          "end_token": 50,
          "children": [
            {
              "type": "VariableDeclaration",
              "label": "srgbForwardMatrix = [\n  [3.2406, -1.5372, -0.4986],\n  [-0.9689, 1.8758, 0.0415],\n  [0.0557, -0.2040, 1.0570],\n]",
              "start_token": 19,
              "end_token": 50,
              "children": [
                {
                  "type": "Identifier",
                  "label": "srgbForwardMatrix",
                  "start_token": 19,
                  "end_token": 19,
                  "children": []
                },
                {
                  "type": "ArrayLiteralExpression",
                  "label": "[\n  [3.2406, -1.5372, -0.4986],\n  [-0.9689, 1.8758, 0.0415],\n  [0.0557, -0.2040, 1.0570],\n]",
                  "start_token": 21,
                  "end_token": 50,
                  "children": [
                    {
                      "type": "ArrayLiteralExpression",
                      "label": "[3.2406, -1.5372, -0.4986]",
                      "start_token": 22,
                      "end_token": 30,
                      "children": [
                        {
                          "type": "FirstLiteralToken",
                          "label": "3.2406",
                          "start_token": 23,
                          "end_token": 23,
                          "children": []
                        },
                        {
                          "type": "PrefixUnaryExpression",
                          "label": "-1.5372",
                          "start_token": 25,
                          "end_token": 26,
                          "children": [
                            {
                              "type": "FirstLiteralToken",
                              "label": "1.5372",
                              "start_token": 26,
                              "end_token": 26,
                              "children": []
                            }
                          ]
                        },
                        {
                          "type": "PrefixUnaryExpression",
                          "label": "-0.4986",
                          "start_token": 28,
                          "end_token": 29,
                          "children": [
                            {
                              "type": "FirstLiteralToken",
                              "label": "0.4986",
                              "start_token": 29,
                              "end_token": 29,
                              "children": []
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "ArrayLiteralExpression",
                      "label": "[-0.9689, 1.8758, 0.0415]",
                      "start_token": 32,
                      "end_token": 39,
                      "children": [
                        {
                          "type": "PrefixUnaryExpression",
                          "label": "-0.9689",
                          "start_token": 33,
                          "end_token": 34,
                          "children": [
                            {
                              "type": "FirstLiteralToken",
                              "label": "0.9689",
                              "start_token": 34,
                              "end_token": 34,
                              "children": []
                            }
                          ]
                        },
                        {
                          "type": "FirstLiteralToken",
                          "label": "1.8758",
                          "start_token": 36,
                          "end_token": 36,
                          "children": []
                        },
                        {
                          "type": "FirstLiteralToken",
                          "label": "0.0415",
                          "start_token": 38,
                          "end_token": 38,
                          "children": []
                        }
                      ]
                    },
                    {
                      "type": "ArrayLiteralExpression",
                      "label": "[0.0557, -0.2040, 1.0570]",
                      "start_token": 41,
                      "end_token": 48,
                      "children": [
                        {
                          "type": "FirstLiteralToken",
                          "label": "0.0557",
                          "start_token": 42,
                          "end_token": 42,
                          "children": []
                        },
                        {
                          "type": "PrefixUnaryExpression",
                          "label": "-0.2040",
                          "start_token": 44,
                          "end_token": 45,
                          "children": [
                            {
                              "type": "FirstLiteralToken",
                              "label": "0.2040",
                              "start_token": 45,
                              "end_token": 45,
                              "children": []
                            }
                          ]
                        },
                        {
                          "type": "FirstLiteralToken",
                          "label": "1.0570",
                          "start_token": 47,
                          "end_token": 47,
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FirstStatement",
      "label": "const srgbForwardTransform = (C: number): number => (\n  C <= 0.0031308\n    ? C * 12.92\n    : 1.055 * C ** (1 / 2.4) - 0.055\n)",
      "start_token": 52,
      "end_token": 85,
      "children": [
        {
          "type": "VariableDeclarationList",
          "label": "const srgbForwardTransform = (C: number): number => (\n  C <= 0.0031308\n    ? C * 12.92\n    : 1.055 * C ** (1 / 2.4) - 0.055\n)",
          "start_token": 52,
          "end_token": 85,
          "children": [
            {
              "type": "VariableDeclaration",
              "label": "srgbForwardTransform = (C: number): number => (\n  C <= 0.0031308\n    ? C * 12.92\n    : 1.055 * C ** (1 / 2.4) - 0.055\n)",
              "start_token": 53,
              "end_token": 85,
              "children": [
                {
                  "type": "Identifier",
                  "label": "srgbForwardTransform",
                  "start_token": 53,
                  "end_token": 53,
                  "children": []
                },
                {
                  "type": "ArrowFunction",
                  "label": "(C: number): number => (\n  C <= 0.0031308\n    ? C * 12.92\n    : 1.055 * C ** (1 / 2.4) - 0.055\n)",
                  "start_token": 55,
                  "end_token": 85,
                  "children": [
                    {
                      "type": "Parameter",
                      "label": "C: number",
                      "start_token": 56,
                      "end_token": 58,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "C",
                          "start_token": 56,
                          "end_token": 56,
                          "children": []
                        },
                        {
                          "type": "NumberKeyword",
                          "label": "number",
                          "start_token": 58,
                          "end_token": 58,
                          "children": []
                        }
                      ]
                    },
                    {
                      "type": "NumberKeyword",
                      "label": "number",
                      "start_token": 61,
                      "end_token": 61,
                      "children": []
                    },
                    {
                      "type": "EqualsGreaterThanToken",
                      "label": "=>",
                      "start_token": 62,
                      "end_token": 62,
                      "children": []
                    },
                    {
                      "type": "ParenthesizedExpression",
                      "label": "(\n  C <= 0.0031308\n    ? C * 12.92\n    : 1.055 * C ** (1 / 2.4) - 0.055\n)",
                      "start_token": 63,
                      "end_token": 85,
                      "children": [
                        {
                          "type": "ConditionalExpression",
                          "label": "C <= 0.0031308\n    ? C * 12.92\n    : 1.055 * C ** (1 / 2.4) - 0.055",
                          "start_token": 64,
                          "end_token": 84,
                          "children": [
                            {
                              "type": "BinaryExpression",
                              "label": "C <= 0.0031308",
                              "start_token": 64,
                              "end_token": 67,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "C",
                                  "start_token": 64,
                                  "end_token": 64,
                                  "children": []
                                },
                                {
                                  "type": "LessThanEqualsToken",
                                  "label": "<=",
                                  "start_token": 65,
                                  "end_token": 66,
                                  "children": []
                                },
                                {
                                  "type": "FirstLiteralToken",
                                  "label": "0.0031308",
                                  "start_token": 67,
                                  "end_token": 67,
                                  "children": []
                                }
                              ]
                            },
                            {
                              "type": "QuestionToken",
                              "label": "?",
                              "start_token": 68,
                              "end_token": 68,
                              "children": []
                            },
                            {
                              "type": "BinaryExpression",
                              "label": "C * 12.92",
                              "start_token": 69,
                              "end_token": 71,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "C",
                                  "start_token": 69,
                                  "end_token": 69,
                                  "children": []
                                },
                                {
                                  "type": "AsteriskToken",
                                  "label": "*",
                                  "start_token": 70,
                                  "end_token": 70,
                                  "children": []
                                },
                                {
                                  "type": "FirstLiteralToken",
                                  "label": "12.92",
                                  "start_token": 71,
                                  "end_token": 71,
                                  "children": []
                                }
                              ]
                            },
                            {
                              "type": "ColonToken",
                              "label": ":",
                              "start_token": 72,
                              "end_token": 72,
                              "children": []
                            },
                            {
                              "type": "BinaryExpression",
                              "label": "1.055 * C ** (1 / 2.4) - 0.055",
                              "start_token": 73,
                              "end_token": 84,
                              "children": [
                                {
                                  "type": "BinaryExpression",
                                  "label": "1.055 * C ** (1 / 2.4)",
                                  "start_token": 73,
                                  "end_token": 82,
                                  "children": [
                                    {
                                      "type": "FirstLiteralToken",
                                      "label": "1.055",
                                      "start_token": 73,
                                      "end_token": 73,
                                      "children": []
                                    },
                                    {
                                      "type": "AsteriskToken",
                                      "label": "*",
                                      "start_token": 74,
                                      "end_token": 74,
                                      "children": []
                                    },
                                    {
                                      "type": "BinaryExpression",
                                      "label": "C ** (1 / 2.4)",
                                      "start_token": 75,
                                      "end_token": 82,
                                      "children": [
                                        {
                                          "type": "Identifier",
                                          "label": "C",
                                          "start_token": 75,
                                          "end_token": 75,
                                          "children": []
                                        },
                                        {
                                          "type": "AsteriskAsteriskToken",
                                          "label": "**",
                                          "start_token": 76,
                                          "end_token": 77,
                                          "children": []
                                        },
                                        {
                                          "type": "ParenthesizedExpression",
                                          "label": "(1 / 2.4)",
                                          "start_token": 78,
                                          "end_token": 82,
                                          "children": [
                                            {
                                              "type": "BinaryExpression",
                                              "label": "1 / 2.4",
                                              "start_token": 79,
                                              "end_token": 81,
                                              "children": [
                                                {
                                                  "type": "FirstLiteralToken",
                                                  "label": "1",
                                                  "start_token": 79,
                                                  "end_token": 79,
                                                  "children": []
                                                },
                                                {
                                                  "type": "SlashToken",
                                                  "label": "/",
                                                  "start_token": 80,
                                                  "end_token": 80,
                                                  "children": []
                                                },
                                                {
                                                  "type": "FirstLiteralToken",
                                                  "label": "2.4",
                                                  "start_token": 81,
                                                  "end_token": 81,
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "MinusToken",
                                  "label": "-",
                                  "start_token": 83,
                                  "end_token": 83,
                                  "children": []
                                },
                                {
                                  "type": "FirstLiteralToken",
                                  "label": "0.055",
                                  "start_token": 84,
                                  "end_token": 84,
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FirstStatement",
      "label": "const srgbReverseMatrix = [\n  [0.4124, 0.3576, 0.1805],\n  [0.2126, 0.7152, 0.0722],\n  [0.0193, 0.1192, 0.9505],\n]",
      "start_token": 87,
      "end_token": 115,
      "children": [
        {
          "type": "VariableDeclarationList",
          "label": "const srgbReverseMatrix = [\n  [0.4124, 0.3576, 0.1805],\n  [0.2126, 0.7152, 0.0722],\n  [0.0193, 0.1192, 0.9505],\n]",
          "start_token": 87,
          "end_token": 115,
          "children": [
            {
              "type": "VariableDeclaration",
              "label": "srgbReverseMatrix = [\n  [0.4124, 0.3576, 0.1805],\n  [0.2126, 0.7152, 0.0722],\n  [0.0193, 0.1192, 0.9505],\n]",
              "start_token": 88,
              "end_token": 115,
              "children": [
                {
                  "type": "Identifier",
                  "label": "srgbReverseMatrix",
                  "start_token": 88,
                  "end_token": 88,
                  "children": []
                },
                {
                  "type": "ArrayLiteralExpression",
                  "label": "[\n  [0.4124, 0.3576, 0.1805],\n  [0.2126, 0.7152, 0.0722],\n  [0.0193, 0.1192, 0.9505],\n]",
                  "start_token": 90,
                  "end_token": 115,
                  "children": [
                    {
                      "type": "ArrayLiteralExpression",
                      "label": "[0.4124, 0.3576, 0.1805]",
                      "start_token": 91,
                      "end_token": 97,
                      "children": [
                        {
                          "type": "FirstLiteralToken",
                          "label": "0.4124",
                          "start_token": 92,
                          "end_token": 92,
                          "children": []
                        },
                        {
                          "type": "FirstLiteralToken",
                          "label": "0.3576",
                          "start_token": 94,
                          "end_token": 94,
                          "children": []
                        },
                        {
                          "type": "FirstLiteralToken",
                          "label": "0.1805",
                          "start_token": 96,
                          "end_token": 96,
                          "children": []
                        }
                      ]
                    },
                    {
                      "type": "ArrayLiteralExpression",
                      "label": "[0.2126, 0.7152, 0.0722]",
                      "start_token": 99,
                      "end_token": 105,
                      "children": [
                        {
                          "type": "FirstLiteralToken",
                          "label": "0.2126",
                          "start_token": 100,
                          "end_token": 100,
                          "children": []
                        },
                        {
                          "type": "FirstLiteralToken",
                          "label": "0.7152",
                          "start_token": 102,
                          "end_token": 102,
                          "children": []
                        },
                        {
                          "type": "FirstLiteralToken",
                          "label": "0.0722",
                          "start_token": 104,
                          "end_token": 104,
                          "children": []
                        }
                      ]
                    },
                    {
                      "type": "ArrayLiteralExpression",
                      "label": "[0.0193, 0.1192, 0.9505]",
                      "start_token": 107,
                      "end_token": 113,
                      "children": [
                        {
                          "type": "FirstLiteralToken",
                          "label": "0.0193",
                          "start_token": 108,
                          "end_token": 108,
                          "children": []
                        },
                        {
                          "type": "FirstLiteralToken",
                          "label": "0.1192",
                          "start_token": 110,
                          "end_token": 110,
                          "children": []
                        },
                        {
                          "type": "FirstLiteralToken",
                          "label": "0.9505",
                          "start_token": 112,
                          "end_token": 112,
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FirstStatement",
      "label": "const srgbReverseTransform = (C: number): number => (\n  C <= 0.04045\n    ? C / 12.92\n    : ((C + 0.055) / 1.055) ** 2.4\n)",
      "start_token": 117,
      "end_token": 150,
      "children": [
        {
          "type": "VariableDeclarationList",
          "label": "const srgbReverseTransform = (C: number): number => (\n  C <= 0.04045\n    ? C / 12.92\n    : ((C + 0.055) / 1.055) ** 2.4\n)",
          "start_token": 117,
          "end_token": 150,
          "children": [
            {
              "type": "VariableDeclaration",
              "label": "srgbReverseTransform = (C: number): number => (\n  C <= 0.04045\n    ? C / 12.92\n    : ((C + 0.055) / 1.055) ** 2.4\n)",
              "start_token": 118,
              "end_token": 150,
              "children": [
                {
                  "type": "Identifier",
                  "label": "srgbReverseTransform",
                  "start_token": 118,
                  "end_token": 118,
                  "children": []
                },
                {
                  "type": "ArrowFunction",
                  "label": "(C: number): number => (\n  C <= 0.04045\n    ? C / 12.92\n    : ((C + 0.055) / 1.055) ** 2.4\n)",
                  "start_token": 120,
                  "end_token": 150,
                  "children": [
                    {
                      "type": "Parameter",
                      "label": "C: number",
                      "start_token": 121,
                      "end_token": 123,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "C",
                          "start_token": 121,
                          "end_token": 121,
                          "children": []
                        },
                        {
                          "type": "NumberKeyword",
                          "label": "number",
                          "start_token": 123,
                          "end_token": 123,
                          "children": []
                        }
                      ]
                    },
                    {
                      "type": "NumberKeyword",
                      "label": "number",
                      "start_token": 126,
                      "end_token": 126,
                      "children": []
                    },
                    {
                      "type": "EqualsGreaterThanToken",
                      "label": "=>",
                      "start_token": 127,
                      "end_token": 127,
                      "children": []
                    },
                    {
                      "type": "ParenthesizedExpression",
                      "label": "(\n  C <= 0.04045\n    ? C / 12.92\n    : ((C + 0.055) / 1.055) ** 2.4\n)",
                      "start_token": 128,
                      "end_token": 150,
                      "children": [
                        {
                          "type": "ConditionalExpression",
                          "label": "C <= 0.04045\n    ? C / 12.92\n    : ((C + 0.055) / 1.055) ** 2.4",
                          "start_token": 129,
                          "end_token": 149,
                          "children": [
                            {
                              "type": "BinaryExpression",
                              "label": "C <= 0.04045",
                              "start_token": 129,
                              "end_token": 132,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "C",
                                  "start_token": 129,
                                  "end_token": 129,
                                  "children": []
                                },
                                {
                                  "type": "LessThanEqualsToken",
                                  "label": "<=",
                                  "start_token": 130,
                                  "end_token": 131,
                                  "children": []
                                },
                                {
                                  "type": "FirstLiteralToken",
                                  "label": "0.04045",
                                  "start_token": 132,
                                  "end_token": 132,
                                  "children": []
                                }
                              ]
                            },
                            {
                              "type": "QuestionToken",
                              "label": "?",
                              "start_token": 133,
                              "end_token": 133,
                              "children": []
                            },
                            {
                              "type": "BinaryExpression",
                              "label": "C / 12.92",
                              "start_token": 134,
                              "end_token": 136,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "C",
                                  "start_token": 134,
                                  "end_token": 134,
                                  "children": []
                                },
                                {
                                  "type": "SlashToken",
                                  "label": "/",
                                  "start_token": 135,
                                  "end_token": 135,
                                  "children": []
                                },
                                {
                                  "type": "FirstLiteralToken",
                                  "label": "12.92",
                                  "start_token": 136,
                                  "end_token": 136,
                                  "children": []
                                }
                              ]
                            },
                            {
                              "type": "ColonToken",
                              "label": ":",
                              "start_token": 137,
                              "end_token": 137,
                              "children": []
                            },
                            {
                              "type": "BinaryExpression",
                              "label": "((C + 0.055) / 1.055) ** 2.4",
                              "start_token": 138,
                              "end_token": 149,
                              "children": [
                                {
                                  "type": "ParenthesizedExpression",
                                  "label": "((C + 0.055) / 1.055)",
                                  "start_token": 138,
                                  "end_token": 146,
                                  "children": [
                                    {
                                      "type": "BinaryExpression",
                                      "label": "(C + 0.055) / 1.055",
                                      "start_token": 139,
                                      "end_token": 145,
                                      "children": [
                                        {
                                          "type": "ParenthesizedExpression",
                                          "label": "(C + 0.055)",
                                          "start_token": 139,
                                          "end_token": 143,
                                          "children": [
                                            {
                                              "type": "BinaryExpression",
                                              "label": "C + 0.055",
                                              "start_token": 140,
                                              "end_token": 142,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "C",
                                                  "start_token": 140,
                                                  "end_token": 140,
                                                  "children": []
                                                },
                                                {
                                                  "type": "PlusToken",
                                                  "label": "+",
                                                  "start_token": 141,
                                                  "end_token": 141,
                                                  "children": []
                                                },
                                                {
                                                  "type": "FirstLiteralToken",
                                                  "label": "0.055",
                                                  "start_token": 142,
                                                  "end_token": 142,
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "type": "SlashToken",
                                          "label": "/",
                                          "start_token": 144,
                                          "end_token": 144,
                                          "children": []
                                        },
                                        {
                                          "type": "FirstLiteralToken",
                                          "label": "1.055",
                                          "start_token": 145,
                                          "end_token": 145,
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "AsteriskAsteriskToken",
                                  "label": "**",
                                  "start_token": 147,
                                  "end_token": 148,
                                  "children": []
                                },
                                {
                                  "type": "FirstLiteralToken",
                                  "label": "2.4",
                                  "start_token": 149,
                                  "end_token": 149,
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FunctionDeclaration",
      "label": "export function fromXYZ (xyz: XYZ): RGB {\n  const rgb = Array(3)\n  const transform = srgbForwardTransform\n  const matrix = srgbForwardMatrix\n  // Matrix transform, then gamma adjustment\n  for (let i = 0; i < 3; ++i) {\n    // Rescale back to [0, 255]\n    rgb[i] = Math.round(clamp(transform(\n      matrix[i][0] * xyz[0] +\n      matrix[i][1] * xyz[1] +\n      matrix[i][2] * xyz[2]\n    )) * 255)\n  }\n  return {\n    r: rgb[0],\n    g: rgb[1],\n    b: rgb[2],\n  }\n}",
      "start_token": 151,
      "end_token": 276,
      "children": [
        {
          "type": "ExportKeyword",
          "label": "export",
          "start_token": 151,
          "end_token": 151,
          "children": []
        },
        {
          "type": "Identifier",
          "label": "fromXYZ",
          "start_token": 153,
          "end_token": 153,
          "children": []
        },
        {
          "type": "Parameter",
          "label": "xyz: XYZ",
          "start_token": 155,
          "end_token": 157,
          "children": [
            {
              "type": "Identifier",
              "label": "xyz",
              "start_token": 155,
              "end_token": 155,
              "children": []
            },
            {
              "type": "TypeReference",
              "label": "XYZ",
              "start_token": 157,
              "end_token": 157,
              "children": [
                {
                  "type": "Identifier",
                  "label": "XYZ",
                  "start_token": 157,
                  "end_token": 157,
                  "children": []
                }
              ]
            }
          ]
        },
        {
          "type": "TypeReference",
          "label": "RGB",
          "start_token": 160,
          "end_token": 160,
          "children": [
            {
              "type": "Identifier",
              "label": "RGB",
              "start_token": 160,
              "end_token": 160,
              "children": []
            }
          ]
        },
        {
          "type": "Block",
          "label": "{\n  const rgb = Array(3)\n  const transform = srgbForwardTransform\n  const matrix = srgbForwardMatrix\n  // Matrix transform, then gamma adjustment\n  for (let i = 0; i < 3; ++i) {\n    // Rescale back to [0, 255]\n    rgb[i] = Math.round(clamp(transform(\n      matrix[i][0] * xyz[0] +\n      matrix[i][1] * xyz[1] +\n      matrix[i][2] * xyz[2]\n    )) * 255)\n  }\n  return {\n    r: rgb[0],\n    g: rgb[1],\n    b: rgb[2],\n  }\n}",
          "start_token": 161,
          "end_token": 276,
          "children": [
            {
              "type": "FirstStatement",
              "label": "const rgb = Array(3)",
              "start_token": 162,
              "end_token": 168,
              "children": [
                {
                  "type": "VariableDeclarationList",
                  "label": "const rgb = Array(3)",
                  "start_token": 162,
                  "end_token": 168,
                  "children": [
                    {
                      "type": "VariableDeclaration",
                      "label": "rgb = Array(3)",
                      "start_token": 163,
                      "end_token": 168,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "rgb",
                          "start_token": 163,
                          "end_token": 163,
                          "children": []
                        },
                        {
                          "type": "CallExpression",
                          "label": "Array(3)",
                          "start_token": 165,
                          "end_token": 168,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "Array",
                              "start_token": 165,
                              "end_token": 165,
                              "children": []
                            },
                            {
                              "type": "FirstLiteralToken",
                              "label": "3",
                              "start_token": 167,
                              "end_token": 167,
                              "children": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "FirstStatement",
              "label": "const transform = srgbForwardTransform",
              "start_token": 169,
              "end_token": 172,
              "children": [
                {
                  "type": "VariableDeclarationList",
                  "label": "const transform = srgbForwardTransform",
                  "start_token": 169,
                  "end_token": 172,
                  "children": [
                    {
                      "type": "VariableDeclaration",
                      "label": "transform = srgbForwardTransform",
                      "start_token": 170,
                      "end_token": 172,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "transform",
                          "start_token": 170,
                          "end_token": 170,
                          "children": []
                        },
                        {
                          "type": "Identifier",
                          "label": "srgbForwardTransform",
                          "start_token": 172,
                          "end_token": 172,
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "FirstStatement",
              "label": "const matrix = srgbForwardMatrix",
              "start_token": 173,
              "end_token": 176,
              "children": [
                {
                  "type": "VariableDeclarationList",
                  "label": "const matrix = srgbForwardMatrix",
                  "start_token": 173,
                  "end_token": 176,
                  "children": [
                    {
                      "type": "VariableDeclaration",
                      "label": "matrix = srgbForwardMatrix",
                      "start_token": 174,
                      "end_token": 176,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "matrix",
                          "start_token": 174,
                          "end_token": 174,
                          "children": []
                        },
                        {
                          "type": "Identifier",
                          "label": "srgbForwardMatrix",
                          "start_token": 176,
                          "end_token": 176,
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "ForStatement",
              "label": "for (let i = 0; i < 3; ++i) {\n    // Rescale back to [0, 255]\n    rgb[i] = Math.round(clamp(transform(\n      matrix[i][0] * xyz[0] +\n      matrix[i][1] * xyz[1] +\n      matrix[i][2] * xyz[2]\n    )) * 255)\n  }",
              "start_token": 178,
              "end_token": 251,
              "children": [
                {
                  "type": "VariableDeclarationList",
                  "label": "let i = 0",
                  "start_token": 180,
                  "end_token": 183,
                  "children": [
                    {
                      "type": "VariableDeclaration",
                      "label": "i = 0",
                      "start_token": 181,
                      "end_token": 183,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "i",
                          "start_token": 181,
                          "end_token": 181,
                          "children": []
                        },
                        {
                          "type": "FirstLiteralToken",
                          "label": "0",
                          "start_token": 183,
                          "end_token": 183,
                          "children": []
                        }
                      ]
                    }
                  ]
                },
                {
                  "type": "BinaryExpression",
                  "label": "i < 3",
                  "start_token": 185,
                  "end_token": 187,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "i",
                      "start_token": 185,
                      "end_token": 185,
                      "children": []
                    },
                    {
                      "type": "FirstBinaryOperator",
                      "label": "<",
                      "start_token": 186,
                      "end_token": 186,
                      "children": []
                    },
                    {
                      "type": "FirstLiteralToken",
                      "label": "3",
                      "start_token": 187,
                      "end_token": 187,
                      "children": []
                    }
                  ]
                },
                {
                  "type": "PrefixUnaryExpression",
                  "label": "++i",
                  "start_token": 189,
                  "end_token": 191,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "i",
                      "start_token": 191,
                      "end_token": 191,
                      "children": []
                    }
                  ]
                },
                {
                  "type": "Block",
                  "label": "{\n    // Rescale back to [0, 255]\n    rgb[i] = Math.round(clamp(transform(\n      matrix[i][0] * xyz[0] +\n      matrix[i][1] * xyz[1] +\n      matrix[i][2] * xyz[2]\n    )) * 255)\n  }",
                  "start_token": 193,
                  "end_token": 251,
                  "children": [
                    {
                      "type": "ExpressionStatement",
                      "label": "rgb[i] = Math.round(clamp(transform(\n      matrix[i][0] * xyz[0] +\n      matrix[i][1] * xyz[1] +\n      matrix[i][2] * xyz[2]\n    )) * 255)",
                      "start_token": 195,
                      "end_token": 250,
                      "children": [
                        {
                          "type": "BinaryExpression",
                          "label": "rgb[i] = Math.round(clamp(transform(\n      matrix[i][0] * xyz[0] +\n      matrix[i][1] * xyz[1] +\n      matrix[i][2] * xyz[2]\n    )) * 255)",
                          "start_token": 195,
                          "end_token": 250,
                          "children": [
                            {
                              "type": "ElementAccessExpression",
                              "label": "rgb[i]",
                              "start_token": 195,
                              "end_token": 198,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "rgb",
                                  "start_token": 195,
                                  "end_token": 195,
                                  "children": []
                                },
                                {
                                  "type": "Identifier",
                                  "label": "i",
                                  "start_token": 197,
                                  "end_token": 197,
                                  "children": []
                                }
                              ]
                            },
                            {
                              "type": "FirstAssignment",
                              "label": "=",
                              "start_token": 199,
                              "end_token": 199,
                              "children": []
                            },
                            {
                              "type": "CallExpression",
                              "label": "Math.round(clamp(transform(\n      matrix[i][0] * xyz[0] +\n      matrix[i][1] * xyz[1] +\n      matrix[i][2] * xyz[2]\n    )) * 255)",
                              "start_token": 200,
                              "end_token": 250,
                              "children": [
                                {
                                  "type": "PropertyAccessExpression",
                                  "label": "Math.round",
                                  "start_token": 200,
                                  "end_token": 202,
                                  "children": [
                                    {
                                      "type": "Identifier",
                                      "label": "Math",
                                      "start_token": 200,
                                      "end_token": 200,
                                      "children": []
                                    },
                                    {
                                      "type": "Identifier",
                                      "label": "round",
                                      "start_token": 202,
                                      "end_token": 202,
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "type": "BinaryExpression",
                                  "label": "clamp(transform(\n      matrix[i][0] * xyz[0] +\n      matrix[i][1] * xyz[1] +\n      matrix[i][2] * xyz[2]\n    )) * 255",
                                  "start_token": 204,
                                  "end_token": 249,
                                  "children": [
                                    {
                                      "type": "CallExpression",
                                      "label": "clamp(transform(\n      matrix[i][0] * xyz[0] +\n      matrix[i][1] * xyz[1] +\n      matrix[i][2] * xyz[2]\n    ))",
                                      "start_token": 204,
                                      "end_token": 247,
                                      "children": [
                                        {
                                          "type": "Identifier",
                                          "label": "clamp",
                                          "start_token": 204,
                                          "end_token": 204,
                                          "children": []
                                        },
                                        {
                                          "type": "CallExpression",
                                          "label": "transform(\n      matrix[i][0] * xyz[0] +\n      matrix[i][1] * xyz[1] +\n      matrix[i][2] * xyz[2]\n    )",
                                          "start_token": 206,
                                          "end_token": 246,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "transform",
                                              "start_token": 206,
                                              "end_token": 206,
                                              "children": []
                                            },
                                            {
                                              "type": "BinaryExpression",
                                              "label": "matrix[i][0] * xyz[0] +\n      matrix[i][1] * xyz[1] +\n      matrix[i][2] * xyz[2]",
                                              "start_token": 208,
                                              "end_token": 245,
                                              "children": [
                                                {
                                                  "type": "BinaryExpression",
                                                  "label": "matrix[i][0] * xyz[0] +\n      matrix[i][1] * xyz[1]",
                                                  "start_token": 208,
                                                  "end_token": 232,
                                                  "children": [
                                                    {
                                                      "type": "BinaryExpression",
                                                      "label": "matrix[i][0] * xyz[0]",
                                                      "start_token": 208,
                                                      "end_token": 219,
                                                      "children": [
                                                        {
                                                          "type": "ElementAccessExpression",
                                                          "label": "matrix[i][0]",
                                                          "start_token": 208,
                                                          "end_token": 214,
                                                          "children": [
                                                            {
                                                              "type": "ElementAccessExpression",
                                                              "label": "matrix[i]",
                                                              "start_token": 208,
                                                              "end_token": 211,
                                                              "children": [
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "matrix",
                                                                  "start_token": 208,
                                                                  "end_token": 208,
                                                                  "children": []
                                                                },
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "i",
                                                                  "start_token": 210,
                                                                  "end_token": 210,
                                                                  "children": []
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "type": "FirstLiteralToken",
                                                              "label": "0",
                                                              "start_token": 213,
                                                              "end_token": 213,
                                                              "children": []
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "type": "AsteriskToken",
                                                          "label": "*",
                                                          "start_token": 215,
                                                          "end_token": 215,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "ElementAccessExpression",
                                                          "label": "xyz[0]",
                                                          "start_token": 216,
                                                          "end_token": 219,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "xyz",
                                                              "start_token": 216,
                                                              "end_token": 216,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "FirstLiteralToken",
                                                              "label": "0",
                                                              "start_token": 218,
                                                              "end_token": 218,
                                                              "children": []
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "PlusToken",
                                                      "label": "+",
                                                      "start_token": 220,
                                                      "end_token": 220,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "BinaryExpression",
                                                      "label": "matrix[i][1] * xyz[1]",
                                                      "start_token": 221,
                                                      "end_token": 232,
                                                      "children": [
                                                        {
                                                          "type": "ElementAccessExpression",
                                                          "label": "matrix[i][1]",
                                                          "start_token": 221,
                                                          "end_token": 227,
                                                          "children": [
                                                            {
                                                              "type": "ElementAccessExpression",
                                                              "label": "matrix[i]",
                                                              "start_token": 221,
                                                              "end_token": 224,
                                                              "children": [
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "matrix",
                                                                  "start_token": 221,
                                                                  "end_token": 221,
                                                                  "children": []
                                                                },
                                                                {
                                                                  "type": "Identifier",
                                                                  "label": "i",
                                                                  "start_token": 223,
                                                                  "end_token": 223,
                                                                  "children": []
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "type": "FirstLiteralToken",
                                                              "label": "1",
                                                              "start_token": 226,
                                                              "end_token": 226,
                                                              "children": []
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "type": "AsteriskToken",
                                                          "label": "*",
                                                          "start_token": 228,
                                                          "end_token": 228,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "ElementAccessExpression",
                                                          "label": "xyz[1]",
                                                          "start_token": 229,
                                                          "end_token": 232,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "xyz",
                                                              "start_token": 229,
                                                              "end_token": 229,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "FirstLiteralToken",
                                                              "label": "1",
                                                              "start_token": 231,
                                                              "end_token": 231,
                                                              "children": []
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "PlusToken",
                                                  "label": "+",
                                                  "start_token": 233,
                                                  "end_token": 233,
                                                  "children": []
                                                },
                                                {
                                                  "type": "BinaryExpression",
                                                  "label": "matrix[i][2] * xyz[2]",
                                                  "start_token": 234,
                                                  "end_token": 245,
                                                  "children": [
                                                    {
                                                      "type": "ElementAccessExpression",
                                                      "label": "matrix[i][2]",
                                                      "start_token": 234,
                                                      "end_token": 240,
                                                      "children": [
                                                        {
                                                          "type": "ElementAccessExpression",
                                                          "label": "matrix[i]",
                                                          "start_token": 234,
                                                          "end_token": 237,
                                                          "children": [
                                                            {
                                                              "type": "Identifier",
                                                              "label": "matrix",
                                                              "start_token": 234,
                                                              "end_token": 234,
                                                              "children": []
                                                            },
                                                            {
                                                              "type": "Identifier",
                                                              "label": "i",
                                                              "start_token": 236,
                                                              "end_token": 236,
                                                              "children": []
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "type": "FirstLiteralToken",
                                                          "label": "2",
                                                          "start_token": 239,
                                                          "end_token": 239,
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "AsteriskToken",
                                                      "label": "*",
                                                      "start_token": 241,
                                                      "end_token": 241,
                                                      "children": []
                                                    },
                                                    {
                                                      "type": "ElementAccessExpression",
                                                      "label": "xyz[2]",
                                                      "start_token": 242,
                                                      "end_token": 245,
                                                      "children": [
                                                        {
                                                          "type": "Identifier",
                                                          "label": "xyz",
                                                          "start_token": 242,
                                                          "end_token": 242,
                                                          "children": []
                                                        },
                                                        {
                                                          "type": "FirstLiteralToken",
                                                          "label": "2",
                                                          "start_token": 244,
                                                          "end_token": 244,
                                                          "children": []
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "type": "AsteriskToken",
                                      "label": "*",
                                      "start_token": 248,
                                      "end_token": 248,
                                      "children": []
                                    },
                                    {
                                      "type": "FirstLiteralToken",
                                      "label": "255",
                                      "start_token": 249,
                                      "end_token": 249,
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "ReturnStatement",
              "label": "return {\n    r: rgb[0],\n    g: rgb[1],\n    b: rgb[2],\n  }",
              "start_token": 252,
              "end_token": 275,
              "children": [
                {
                  "type": "ObjectLiteralExpression",
                  "label": "{\n    r: rgb[0],\n    g: rgb[1],\n    b: rgb[2],\n  }",
                  "start_token": 253,
                  "end_token": 275,
                  "children": [
                    {
                      "type": "PropertyAssignment",
                      "label": "r: rgb[0]",
                      "start_token": 254,
                      "end_token": 259,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "r",
                          "start_token": 254,
                          "end_token": 254,
                          "children": []
                        },
                        {
                          "type": "ElementAccessExpression",
                          "label": "rgb[0]",
                          "start_token": 256,
                          "end_token": 259,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "rgb",
                              "start_token": 256,
                              "end_token": 256,
                              "children": []
                            },
                            {
                              "type": "FirstLiteralToken",
                              "label": "0",
                              "start_token": 258,
                              "end_token": 258,
                              "children": []
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "PropertyAssignment",
                      "label": "g: rgb[1]",
                      "start_token": 261,
                      "end_token": 266,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "g",
                          "start_token": 261,
                          "end_token": 261,
                          "children": []
                        },
                        {
                          "type": "ElementAccessExpression",
                          "label": "rgb[1]",
                          "start_token": 263,
                          "end_token": 266,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "rgb",
                              "start_token": 263,
                              "end_token": 263,
                              "children": []
                            },
                            {
                              "type": "FirstLiteralToken",
                              "label": "1",
                              "start_token": 265,
                              "end_token": 265,
                              "children": []
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "PropertyAssignment",
                      "label": "b: rgb[2]",
                      "start_token": 268,
                      "end_token": 273,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "b",
                          "start_token": 268,
                          "end_token": 268,
                          "children": []
                        },
                        {
                          "type": "ElementAccessExpression",
                          "label": "rgb[2]",
                          "start_token": 270,
                          "end_token": 273,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "rgb",
                              "start_token": 270,
                              "end_token": 270,
                              "children": []
                            },
                            {
                              "type": "FirstLiteralToken",
                              "label": "2",
                              "start_token": 272,
                              "end_token": 272,
                              "children": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FunctionDeclaration",
      "label": "export function toXYZ ({ r, g, b }: RGB): XYZ {\n  const xyz: XYZ = [0, 0, 0]\n  const transform = srgbReverseTransform\n  const matrix = srgbReverseMatrix\n  // Rescale from [0, 255] to [0, 1] then adjust sRGB gamma to linear RGB\n  r = transform(r / 255)\n  g = transform(g / 255)\n  b = transform(b / 255)\n  // Matrix color space transform\n  for (let i = 0; i < 3; ++i) {\n    xyz[i] = matrix[i][0] * r + matrix[i][1] * g + matrix[i][2] * b\n  }\n  return xyz\n}",
      "start_token": 277,
      "end_token": 393,
      "children": [
        {
          "type": "ExportKeyword",
          "label": "export",
          "start_token": 277,
          "end_token": 277,
          "children": []
        },
        {
          "type": "Identifier",
          "label": "toXYZ",
          "start_token": 279,
          "end_token": 279,
          "children": []
        },
        {
          "type": "Parameter",
          "label": "{ r, g, b }: RGB",
          "start_token": 281,
          "end_token": 289,
          "children": [
            {
              "type": "ObjectBindingPattern",
              "label": "{ r, g, b }",
              "start_token": 281,
              "end_token": 287,
              "children": [
                {
                  "type": "BindingElement",
                  "label": "r",
                  "start_token": 282,
                  "end_token": 282,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "r",
                      "start_token": 282,
                      "end_token": 282,
                      "children": []
                    }
                  ]
                },
                {
                  "type": "BindingElement",
                  "label": "g",
                  "start_token": 284,
                  "end_token": 284,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "g",
                      "start_token": 284,
                      "end_token": 284,
                      "children": []
                    }
                  ]
                },
                {
                  "type": "BindingElement",
                  "label": "b",
                  "start_token": 286,
                  "end_token": 286,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "b",
                      "start_token": 286,
                      "end_token": 286,
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "type": "TypeReference",
              "label": "RGB",
              "start_token": 289,
              "end_token": 289,
              "children": [
                {
                  "type": "Identifier",
                  "label": "RGB",
                  "start_token": 289,
                  "end_token": 289,
                  "children": []
                }
              ]
            }
          ]
        },
        {
          "type": "TypeReference",
          "label": "XYZ",
          "start_token": 292,
          "end_token": 292,
          "children": [
            {
              "type": "Identifier",
              "label": "XYZ",
              "start_token": 292,
              "end_token": 292,
              "children": []
            }
          ]
        },
        {
          "type": "Block",
          "label": "{\n  const xyz: XYZ = [0, 0, 0]\n  const transform = srgbReverseTransform\n  const matrix = srgbReverseMatrix\n  // Rescale from [0, 255] to [0, 1] then adjust sRGB gamma to linear RGB\n  r = transform(r / 255)\n  g = transform(g / 255)\n  b = transform(b / 255)\n  // Matrix color space transform\n  for (let i = 0; i < 3; ++i) {\n    xyz[i] = matrix[i][0] * r + matrix[i][1] * g + matrix[i][2] * b\n  }\n  return xyz\n}",
          "start_token": 293,
          "end_token": 393,
          "children": [
            {
              "type": "FirstStatement",
              "label": "const xyz: XYZ = [0, 0, 0]",
              "start_token": 294,
              "end_token": 305,
              "children": [
                {
                  "type": "VariableDeclarationList",
                  "label": "const xyz: XYZ = [0, 0, 0]",
                  "start_token": 294,
                  "end_token": 305,
                  "children": [
                    {
                      "type": "VariableDeclaration",
                      "label": "xyz: XYZ = [0, 0, 0]",
                      "start_token": 295,
                      "end_token": 305,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "xyz",
                          "start_token": 295,
                          "end_token": 295,
                          "children": []
                        },
                        {
                          "type": "TypeReference",
                          "label": "XYZ",
                          "start_token": 297,
                          "end_token": 297,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "XYZ",
                              "start_token": 297,
                              "end_token": 297,
                              "children": []
                            }
                          ]
                        },
                        {
                          "type": "ArrayLiteralExpression",
                          "label": "[0, 0, 0]",
                          "start_token": 299,
                          "end_token": 305,
                          "children": [
                            {
                              "type": "FirstLiteralToken",
                              "label": "0",
                              "start_token": 300,
                              "end_token": 300,
                              "children": []
                            },
                            {
                              "type": "FirstLiteralToken",
                              "label": "0",
                              "start_token": 302,
                              "end_token": 302,
                              "children": []
                            },
                            {
                              "type": "FirstLiteralToken",
                              "label": "0",
                              "start_token": 304,
                              "end_token": 304,
                              "children": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "FirstStatement",
              "label": "const transform = srgbReverseTransform",
              "start_token": 306,
              "end_token": 309,
              "children": [
                {
                  "type": "VariableDeclarationList",
                  "label": "const transform = srgbReverseTransform",
                  "start_token": 306,
                  "end_token": 309,
                  "children": [
                    {
                      "type": "VariableDeclaration",
                      "label": "transform = srgbReverseTransform",
                      "start_token": 307,
                      "end_token": 309,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "transform",
                          "start_token": 307,
                          "end_token": 307,
                          "children": []
                        },
                        {
                          "type": "Identifier",
                          "label": "srgbReverseTransform",
                          "start_token": 309,
                          "end_token": 309,
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "FirstStatement",
              "label": "const matrix = srgbReverseMatrix",
              "start_token": 310,
              "end_token": 313,
              "children": [
                {
                  "type": "VariableDeclarationList",
                  "label": "const matrix = srgbReverseMatrix",
                  "start_token": 310,
                  "end_token": 313,
                  "children": [
                    {
                      "type": "VariableDeclaration",
                      "label": "matrix = srgbReverseMatrix",
                      "start_token": 311,
                      "end_token": 313,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "matrix",
                          "start_token": 311,
                          "end_token": 311,
                          "children": []
                        },
                        {
                          "type": "Identifier",
                          "label": "srgbReverseMatrix",
                          "start_token": 313,
                          "end_token": 313,
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "ExpressionStatement",
              "label": "r = transform(r / 255)",
              "start_token": 315,
              "end_token": 322,
              "children": [
                {
                  "type": "BinaryExpression",
                  "label": "r = transform(r / 255)",
                  "start_token": 315,
                  "end_token": 322,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "r",
                      "start_token": 315,
                      "end_token": 315,
                      "children": []
                    },
                    {
                      "type": "FirstAssignment",
                      "label": "=",
                      "start_token": 316,
                      "end_token": 316,
                      "children": []
                    },
                    {
                      "type": "CallExpression",
                      "label": "transform(r / 255)",
                      "start_token": 317,
                      "end_token": 322,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "transform",
                          "start_token": 317,
                          "end_token": 317,
                          "children": []
                        },
                        {
                          "type": "BinaryExpression",
                          "label": "r / 255",
                          "start_token": 319,
                          "end_token": 321,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "r",
                              "start_token": 319,
                              "end_token": 319,
                              "children": []
                            },
                            {
                              "type": "SlashToken",
                              "label": "/",
                              "start_token": 320,
                              "end_token": 320,
                              "children": []
                            },
                            {
                              "type": "FirstLiteralToken",
                              "label": "255",
                              "start_token": 321,
                              "end_token": 321,
                              "children": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "ExpressionStatement",
              "label": "g = transform(g / 255)",
              "start_token": 323,
              "end_token": 330,
              "children": [
                {
                  "type": "BinaryExpression",
                  "label": "g = transform(g / 255)",
                  "start_token": 323,
                  "end_token": 330,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "g",
                      "start_token": 323,
                      "end_token": 323,
                      "children": []
                    },
                    {
                      "type": "FirstAssignment",
                      "label": "=",
                      "start_token": 324,
                      "end_token": 324,
                      "children": []
                    },
                    {
                      "type": "CallExpression",
                      "label": "transform(g / 255)",
                      "start_token": 325,
                      "end_token": 330,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "transform",
                          "start_token": 325,
                          "end_token": 325,
                          "children": []
                        },
                        {
                          "type": "BinaryExpression",
                          "label": "g / 255",
                          "start_token": 327,
                          "end_token": 329,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "g",
                              "start_token": 327,
                              "end_token": 327,
                              "children": []
                            },
                            {
                              "type": "SlashToken",
                              "label": "/",
                              "start_token": 328,
                              "end_token": 328,
                              "children": []
                            },
                            {
                              "type": "FirstLiteralToken",
                              "label": "255",
                              "start_token": 329,
                              "end_token": 329,
                              "children": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "ExpressionStatement",
              "label": "b = transform(b / 255)",
              "start_token": 331,
              "end_token": 338,
              "children": [
                {
                  "type": "BinaryExpression",
                  "label": "b = transform(b / 255)",
                  "start_token": 331,
                  "end_token": 338,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "b",
                      "start_token": 331,
                      "end_token": 331,
                      "children": []
                    },
                    {
                      "type": "FirstAssignment",
                      "label": "=",
                      "start_token": 332,
                      "end_token": 332,
                      "children": []
                    },
                    {
                      "type": "CallExpression",
                      "label": "transform(b / 255)",
                      "start_token": 333,
                      "end_token": 338,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "transform",
                          "start_token": 333,
                          "end_token": 333,
                          "children": []
                        },
                        {
                          "type": "BinaryExpression",
                          "label": "b / 255",
                          "start_token": 335,
                          "end_token": 337,
                          "children": [
                            {
                              "type": "Identifier",
                              "label": "b",
                              "start_token": 335,
                              "end_token": 335,
                              "children": []
                            },
                            {
                              "type": "SlashToken",
                              "label": "/",
                              "start_token": 336,
                              "end_token": 336,
                              "children": []
                            },
                            {
                              "type": "FirstLiteralToken",
                              "label": "255",
                              "start_token": 337,
                              "end_token": 337,
                              "children": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "ForStatement",
              "label": "for (let i = 0; i < 3; ++i) {\n    xyz[i] = matrix[i][0] * r + matrix[i][1] * g + matrix[i][2] * b\n  }",
              "start_token": 340,
              "end_token": 390,
              "children": [
                {
                  "type": "VariableDeclarationList",
                  "label": "let i = 0",
                  "start_token": 342,
                  "end_token": 345,
                  "children": [
                    {
                      "type": "VariableDeclaration",
                      "label": "i = 0",
                      "start_token": 343,
                      "end_token": 345,
                      "children": [
                        {
                          "type": "Identifier",
                          "label": "i",
                          "start_token": 343,
                          "end_token": 343,
                          "children": []
                        },
                        {
                          "type": "FirstLiteralToken",
                          "label": "0",
                          "start_token": 345,
                          "end_token": 345,
                          "children": []
                        }
                      ]
                    }
                  ]
                },
                {
                  "type": "BinaryExpression",
                  "label": "i < 3",
                  "start_token": 347,
                  "end_token": 349,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "i",
                      "start_token": 347,
                      "end_token": 347,
                      "children": []
                    },
                    {
                      "type": "FirstBinaryOperator",
                      "label": "<",
                      "start_token": 348,
                      "end_token": 348,
                      "children": []
                    },
                    {
                      "type": "FirstLiteralToken",
                      "label": "3",
                      "start_token": 349,
                      "end_token": 349,
                      "children": []
                    }
                  ]
                },
                {
                  "type": "PrefixUnaryExpression",
                  "label": "++i",
                  "start_token": 351,
                  "end_token": 353,
                  "children": [
                    {
                      "type": "Identifier",
                      "label": "i",
                      "start_token": 353,
                      "end_token": 353,
                      "children": []
                    }
                  ]
                },
                {
                  "type": "Block",
                  "label": "{\n    xyz[i] = matrix[i][0] * r + matrix[i][1] * g + matrix[i][2] * b\n  }",
                  "start_token": 355,
                  "end_token": 390,
                  "children": [
                    {
                      "type": "ExpressionStatement",
                      "label": "xyz[i] = matrix[i][0] * r + matrix[i][1] * g + matrix[i][2] * b",
                      "start_token": 356,
                      "end_token": 389,
                      "children": [
                        {
                          "type": "BinaryExpression",
                          "label": "xyz[i] = matrix[i][0] * r + matrix[i][1] * g + matrix[i][2] * b",
                          "start_token": 356,
                          "end_token": 389,
                          "children": [
                            {
                              "type": "ElementAccessExpression",
                              "label": "xyz[i]",
                              "start_token": 356,
                              "end_token": 359,
                              "children": [
                                {
                                  "type": "Identifier",
                                  "label": "xyz",
                                  "start_token": 356,
                                  "end_token": 356,
                                  "children": []
                                },
                                {
                                  "type": "Identifier",
                                  "label": "i",
                                  "start_token": 358,
                                  "end_token": 358,
                                  "children": []
                                }
                              ]
                            },
                            {
                              "type": "FirstAssignment",
                              "label": "=",
                              "start_token": 360,
                              "end_token": 360,
                              "children": []
                            },
                            {
                              "type": "BinaryExpression",
                              "label": "matrix[i][0] * r + matrix[i][1] * g + matrix[i][2] * b",
                              "start_token": 361,
                              "end_token": 389,
                              "children": [
                                {
                                  "type": "BinaryExpression",
                                  "label": "matrix[i][0] * r + matrix[i][1] * g",
                                  "start_token": 361,
                                  "end_token": 379,
                                  "children": [
                                    {
                                      "type": "BinaryExpression",
                                      "label": "matrix[i][0] * r",
                                      "start_token": 361,
                                      "end_token": 369,
                                      "children": [
                                        {
                                          "type": "ElementAccessExpression",
                                          "label": "matrix[i][0]",
                                          "start_token": 361,
                                          "end_token": 367,
                                          "children": [
                                            {
                                              "type": "ElementAccessExpression",
                                              "label": "matrix[i]",
                                              "start_token": 361,
                                              "end_token": 364,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "matrix",
                                                  "start_token": 361,
                                                  "end_token": 361,
                                                  "children": []
                                                },
                                                {
                                                  "type": "Identifier",
                                                  "label": "i",
                                                  "start_token": 363,
                                                  "end_token": 363,
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "type": "FirstLiteralToken",
                                              "label": "0",
                                              "start_token": 366,
                                              "end_token": 366,
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "type": "AsteriskToken",
                                          "label": "*",
                                          "start_token": 368,
                                          "end_token": 368,
                                          "children": []
                                        },
                                        {
                                          "type": "Identifier",
                                          "label": "r",
                                          "start_token": 369,
                                          "end_token": 369,
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "type": "PlusToken",
                                      "label": "+",
                                      "start_token": 370,
                                      "end_token": 370,
                                      "children": []
                                    },
                                    {
                                      "type": "BinaryExpression",
                                      "label": "matrix[i][1] * g",
                                      "start_token": 371,
                                      "end_token": 379,
                                      "children": [
                                        {
                                          "type": "ElementAccessExpression",
                                          "label": "matrix[i][1]",
                                          "start_token": 371,
                                          "end_token": 377,
                                          "children": [
                                            {
                                              "type": "ElementAccessExpression",
                                              "label": "matrix[i]",
                                              "start_token": 371,
                                              "end_token": 374,
                                              "children": [
                                                {
                                                  "type": "Identifier",
                                                  "label": "matrix",
                                                  "start_token": 371,
                                                  "end_token": 371,
                                                  "children": []
                                                },
                                                {
                                                  "type": "Identifier",
                                                  "label": "i",
                                                  "start_token": 373,
                                                  "end_token": 373,
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "type": "FirstLiteralToken",
                                              "label": "1",
                                              "start_token": 376,
                                              "end_token": 376,
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "type": "AsteriskToken",
                                          "label": "*",
                                          "start_token": 378,
                                          "end_token": 378,
                                          "children": []
                                        },
                                        {
                                          "type": "Identifier",
                                          "label": "g",
                                          "start_token": 379,
                                          "end_token": 379,
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "PlusToken",
                                  "label": "+",
                                  "start_token": 380,
                                  "end_token": 380,
                                  "children": []
                                },
                                {
                                  "type": "BinaryExpression",
                                  "label": "matrix[i][2] * b",
                                  "start_token": 381,
                                  "end_token": 389,
                                  "children": [
                                    {
                                      "type": "ElementAccessExpression",
                                      "label": "matrix[i][2]",
                                      "start_token": 381,
                                      "end_token": 387,
                                      "children": [
                                        {
                                          "type": "ElementAccessExpression",
                                          "label": "matrix[i]",
                                          "start_token": 381,
                                          "end_token": 384,
                                          "children": [
                                            {
                                              "type": "Identifier",
                                              "label": "matrix",
                                              "start_token": 381,
                                              "end_token": 381,
                                              "children": []
                                            },
                                            {
                                              "type": "Identifier",
                                              "label": "i",
                                              "start_token": 383,
                                              "end_token": 383,
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "type": "FirstLiteralToken",
                                          "label": "2",
                                          "start_token": 386,
                                          "end_token": 386,
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "type": "AsteriskToken",
                                      "label": "*",
                                      "start_token": 388,
                                      "end_token": 388,
                                      "children": []
                                    },
                                    {
                                      "type": "Identifier",
                                      "label": "b",
                                      "start_token": 389,
                                      "end_token": 389,
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "ReturnStatement",
              "label": "return xyz",
              "start_token": 391,
              "end_token": 392,
              "children": [
                {
                  "type": "Identifier",
                  "label": "xyz",
                  "start_token": 392,
                  "end_token": 392,
                  "children": []
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "EndOfFileToken",
      "label": "",
      "start_token": -1,
      "end_token": -1,
      "children": []
    }
  ]
}