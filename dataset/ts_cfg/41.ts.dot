digraph "41.ts" {
subgraph "cluster_@ts_files/41.ts: %dflt.[static]%dflt()" {
  label="@ts_files/41.ts: %dflt.[static]%dflt()";
  Node33210 [label="id:0
      this = this: @ts_files/41.ts: %dflt
      TAG = 'GroupDataImpl'
      return"];
}
subgraph "cluster_@ts_files/41.ts: GroupDataImpl.setSelectType(number)" {
  label="@ts_files/41.ts: GroupDataImpl.setSelectType(number)";
  Node48750 [label="id:0
      selectType = parameter0: number
      this = this: @ts_files/41.ts: GroupDataImpl
      this.<@ts_files/41.ts: GroupDataImpl.selectType> = selectType
      return"];
}
subgraph "cluster_@ts_files/41.ts: GroupDataImpl.setAlbumId(string)" {
  label="@ts_files/41.ts: GroupDataImpl.setAlbumId(string)";
  Node45330 [label="id:0
      id = parameter0: string
      this = this: @ts_files/41.ts: GroupDataImpl
      %0 = 'setAlbumId: ' + id
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %0)
      this.<@ts_files/41.ts: GroupDataImpl.albumId> = id
      return"];
}
subgraph "cluster_@ts_files/41.ts: GroupDataImpl.setDeviceId(string)" {
  label="@ts_files/41.ts: GroupDataImpl.setDeviceId(string)";
  Node46280 [label="id:0
      id = parameter0: string
      this = this: @ts_files/41.ts: GroupDataImpl
      %0 = 'setDeviceId: ' + id
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %0)
      this.<@ts_files/41.ts: GroupDataImpl.deviceId> = id
      return"];
}
subgraph "cluster_@ts_files/41.ts: GroupDataImpl.setAlbumType(number)" {
  label="@ts_files/41.ts: GroupDataImpl.setAlbumType(number)";
  Node47640 [label="id:0
      albumType = parameter0: number
      this = this: @ts_files/41.ts: GroupDataImpl
      %0 = 'setAlbumType: ' + albumType
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %0)
      this.<@ts_files/41.ts: GroupDataImpl.albumType> = albumType
      return"];
}
subgraph "cluster_@ts_files/41.ts: GroupDataImpl.setAlbumSubtype(number)" {
  label="@ts_files/41.ts: GroupDataImpl.setAlbumSubtype(number)";
  Node50940 [label="id:0
      albumSubType = parameter0: number
      this = this: @ts_files/41.ts: GroupDataImpl
      %0 = 'setAlbumSubtype: ' + albumSubType
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %0)
      this.<@ts_files/41.ts: GroupDataImpl.albumSubType> = albumSubType
      return"];
}
subgraph "cluster_@ts_files/41.ts: GroupDataImpl.setAlbumName(string)" {
  label="@ts_files/41.ts: GroupDataImpl.setAlbumName(string)";
  Node47450 [label="id:0
      name = parameter0: string
      this = this: @ts_files/41.ts: GroupDataImpl
      %0 = 'setAlbumName: ' + name
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %0)
      this.<@ts_files/41.ts: GroupDataImpl.albumName> = name
      return"];
}
subgraph "cluster_@ts_files/41.ts: GroupDataImpl.reloadGroupItemData(boolean)" {
  label="@ts_files/41.ts: GroupDataImpl.reloadGroupItemData(boolean)";
  Node55370 [label="id:0
      isGrid = parameter0: boolean
      this = this: @ts_files/41.ts: GroupDataImpl
      if isGrid != false"];
  Node55371 [label="id:1
      %0 = instanceinvoke this.<@ts_files/41.ts: GroupDataImpl.reloadGridGroupItemData()>()
      return %0"];
  Node55372 [label="id:2
      %1 = instanceinvoke this.<@ts_files/41.ts: GroupDataImpl.reloadBrowserGroupItemData()>()
      return %1"];
  Node55370 -> Node55371;
  Node55370 -> Node55372;
}
subgraph "cluster_@ts_files/41.ts: GroupDataImpl.reloadBrowserGroupItemData()" {
  label="@ts_files/41.ts: GroupDataImpl.reloadBrowserGroupItemData()";
  Node55410 [label="id:0
      this = this: @ts_files/41.ts: GroupDataImpl
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'reloadBrowserGroupItemData')
      %0 = newarray (any)[0]
      groupDataItem = %0
      %1 = this.<@ts_files/41.ts: GroupDataImpl.albumName>
      %2 = this.<@ts_files/41.ts: GroupDataImpl.albumType>
      %3 = this.<@ts_files/41.ts: GroupDataImpl.albumSubType>
      mediaFileAssets = await instanceinvoke this.<@ts_files/41.ts: GroupDataImpl.getMediaItemFileAssets(string, number, number)>(%1, %2, %3)
      %4 = this.<@ts_files/41.ts: GroupDataImpl.albumId>
      %5 = MediaConstants.<@%unk/%unk: .ALBUM_ID_FAVOR>
      if %4 === %5
      i = 0"];
  Node55411 [label="id:1
      %6 = mediaFileAssets.<@%unk/%unk: .length>
      if i < %6"];
  Node55412 [label="id:2
      %7 = new @%unk/%unk: FavorUserFileDataItem
      %8 = newarray (any)[0]
      instanceinvoke %7.<@%unk/%unk: FavorUserFileDataItem.constructor()>('', %8, i)
      favorMediaItem = %7
      %9 = mediaFileAssets.<@%unk/%unk: .i>
      %10 = %9.<@%unk/%unk: .uri>
      %11 = instanceinvoke userFileDataItemCache.<@%unk/%unk: .hasKey()>(%10)
      if %11 != 0"];
  Node55413 [label="id:3
      %12 = mediaFileAssets.<@%unk/%unk: .i>
      %13 = %12.<@%unk/%unk: .uri>
      %14 = instanceinvoke userFileDataItemCache.<@%unk/%unk: .get()>(%13)
      %15 = %14.<@%unk/%unk: .favouriteStatus>
      favorMediaItem.<@%unk/%unk: FavorUserFileDataItem.favouriteStatus> = %15
      %16 = mediaFileAssets.<@%unk/%unk: .i>
      %17 = %16.<@%unk/%unk: .uri>
      %18 = instanceinvoke userFileDataItemCache.<@%unk/%unk: .get()>(%17)
      %19 = %18.<@%unk/%unk: .orientation>
      favorMediaItem.<@%unk/%unk: FavorUserFileDataItem.orientation> = %19"];
  Node55414 [label="id:4
      %20 = mediaFileAssets.<@%unk/%unk: .i>
      instanceinvoke favorMediaItem.<@%unk/%unk: .update()>(%20)
      instanceinvoke groupDataItem.<@%unk/%unk: .push()>(favorMediaItem)
      i = i + 1"];
  Node55415 [label="id:5
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'reload finish')
      return groupDataItem"];
  Node55416 [label="id:6
      %21 = this.<@ts_files/41.ts: GroupDataImpl.albumId>
      %22 = MediaConstants.<@%unk/%unk: .ALBUM_ID_RECYCLE>
      if %21 === %22
      i = 0
      i = 0"];
  Node55417 [label="id:7
      %23 = mediaFileAssets.<@%unk/%unk: .length>
      if i < %23"];
  Node55418 [label="id:8
      %24 = new @%unk/%unk: TrashUserFileDataItem
      %25 = newarray (any)[0]
      instanceinvoke %24.<@%unk/%unk: TrashUserFileDataItem.constructor()>('', %25, i)
      trashMediaItem = %24
      %26 = mediaFileAssets.<@%unk/%unk: .i>
      %27 = %26.<@%unk/%unk: .uri>
      %28 = instanceinvoke userFileDataItemCache.<@%unk/%unk: .hasKey()>(%27)
      if %28 != 0"];
  Node55419 [label="id:9
      %29 = mediaFileAssets.<@%unk/%unk: .i>
      %30 = %29.<@%unk/%unk: .uri>
      %31 = instanceinvoke userFileDataItemCache.<@%unk/%unk: .get()>(%30)
      %32 = %31.<@%unk/%unk: .favouriteStatus>
      trashMediaItem.<@%unk/%unk: TrashUserFileDataItem.favouriteStatus> = %32
      %33 = mediaFileAssets.<@%unk/%unk: .i>
      %34 = %33.<@%unk/%unk: .uri>
      %35 = instanceinvoke userFileDataItemCache.<@%unk/%unk: .get()>(%34)
      %36 = %35.<@%unk/%unk: .orientation>
      trashMediaItem.<@%unk/%unk: TrashUserFileDataItem.orientation> = %36"];
  Node554110 [label="id:10
      %37 = mediaFileAssets.<@%unk/%unk: .i>
      instanceinvoke trashMediaItem.<@%unk/%unk: .update()>(%37)
      instanceinvoke groupDataItem.<@%unk/%unk: .push()>(trashMediaItem)
      i = i + 1"];
  Node554111 [label="id:11
      %38 = mediaFileAssets.<@%unk/%unk: .length>
      if i < %38"];
  Node554112 [label="id:12
      %39 = new @%unk/%unk: UserFileDataItem
      %40 = newarray (any)[0]
      %41 = this.<@ts_files/41.ts: GroupDataImpl.deviceId>
      instanceinvoke %39.<@%unk/%unk: UserFileDataItem.constructor()>('', %40, %41, i)
      mediaItem = %39
      %42 = mediaFileAssets.<@%unk/%unk: .i>
      %43 = %42.<@%unk/%unk: .uri>
      %44 = instanceinvoke userFileDataItemCache.<@%unk/%unk: .hasKey()>(%43)
      if %44 != 0"];
  Node554113 [label="id:13
      %45 = mediaFileAssets.<@%unk/%unk: .i>
      %46 = %45.<@%unk/%unk: .uri>
      mediaItem = instanceinvoke userFileDataItemCache.<@%unk/%unk: .get()>(%46)"];
  Node554114 [label="id:14
      %47 = mediaFileAssets.<@%unk/%unk: .i>
      %48 = %47.<@%unk/%unk: .uri>
      instanceinvoke userFileDataItemCache.<@%unk/%unk: .set()>(%48, mediaItem)"];
  Node554115 [label="id:15
      %49 = mediaFileAssets.<@%unk/%unk: .i>
      instanceinvoke mediaItem.<@%unk/%unk: .update()>(%49)
      instanceinvoke groupDataItem.<@%unk/%unk: .push()>(mediaItem)
      i = i + 1"];
  Node55410 -> Node55411;
  Node55410 -> Node55416;
  Node55411 -> Node55412;
  Node55411 -> Node55415;
  Node55412 -> Node55413;
  Node55412 -> Node55414;
  Node55413 -> Node55414;
  Node55414 -> Node55411;
  Node55416 -> Node55417;
  Node55416 -> Node554111;
  Node55417 -> Node55418;
  Node55417 -> Node55415;
  Node55418 -> Node55419;
  Node55418 -> Node554110;
  Node55419 -> Node554110;
  Node554110 -> Node55417;
  Node554111 -> Node554112;
  Node554111 -> Node55415;
  Node554112 -> Node554113;
  Node554112 -> Node554114;
  Node554113 -> Node554115;
  Node554114 -> Node554115;
  Node554115 -> Node554111;
}
subgraph "cluster_@ts_files/41.ts: GroupDataImpl.reloadGridGroupItemData()" {
  label="@ts_files/41.ts: GroupDataImpl.reloadGridGroupItemData()";
  Node51910 [label="id:0
      this = this: @ts_files/41.ts: GroupDataImpl
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'reloadGridGroupItemData')
      %0 = newarray (any)[0]
      groupDataItem = %0
      %1 = this.<@ts_files/41.ts: GroupDataImpl.albumName>
      %2 = this.<@ts_files/41.ts: GroupDataImpl.albumType>
      %3 = this.<@ts_files/41.ts: GroupDataImpl.albumSubType>
      mediaFileAssets = await instanceinvoke this.<@ts_files/41.ts: GroupDataImpl.getMediaItemFileAssets(string, number, number)>(%1, %2, %3)
      %4 = this.<@ts_files/41.ts: GroupDataImpl.albumId>
      %5 = MediaConstants.<@%unk/%unk: .ALBUM_ID_FAVOR>
      if %4 === %5
      i = 0"];
  Node51911 [label="id:1
      %6 = mediaFileAssets.<@%unk/%unk: .length>
      if i < %6"];
  Node51912 [label="id:2
      %7 = new @%unk/%unk: FavorUserFileDataItem
      %8 = newarray (any)[0]
      instanceinvoke %7.<@%unk/%unk: FavorUserFileDataItem.constructor()>('', %8, i)
      item = %7
      %9 = mediaFileAssets.<@%unk/%unk: .i>
      %10 = %9.<@%unk/%unk: .uri>
      %11 = instanceinvoke userFileDataItemCache.<@%unk/%unk: .hasKey()>(%10)
      if %11 != 0"];
  Node51913 [label="id:3
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'hasKey')
      %12 = mediaFileAssets.<@%unk/%unk: .i>
      %13 = %12.<@%unk/%unk: .uri>
      item = instanceinvoke userFileDataItemCache.<@%unk/%unk: .get()>(%13)"];
  Node51914 [label="id:4
      %14 = mediaFileAssets.<@%unk/%unk: .i>
      %15 = %14.<@%unk/%unk: .uri>
      instanceinvoke userFileDataItemCache.<@%unk/%unk: .set()>(%15, item)"];
  Node51915 [label="id:5
      %16 = mediaFileAssets.<@%unk/%unk: .i>
      instanceinvoke item.<@%unk/%unk: .update()>(%16)
      instanceinvoke groupDataItem.<@%unk/%unk: .push()>(item)
      i = i + 1"];
  Node51916 [label="id:6
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'reload finish')
      return groupDataItem"];
  Node51917 [label="id:7
      %17 = this.<@ts_files/41.ts: GroupDataImpl.albumId>
      %18 = MediaConstants.<@%unk/%unk: .ALBUM_ID_RECYCLE>
      if %17 === %18
      i = 0
      i = 0"];
  Node51918 [label="id:8
      %19 = mediaFileAssets.<@%unk/%unk: .length>
      if i < %19"];
  Node51919 [label="id:9
      %20 = new @%unk/%unk: TrashUserFileDataItem
      %21 = newarray (any)[0]
      instanceinvoke %20.<@%unk/%unk: TrashUserFileDataItem.constructor()>('', %21, i)
      item = %20
      %22 = mediaFileAssets.<@%unk/%unk: .i>
      %23 = %22.<@%unk/%unk: .uri>
      %24 = instanceinvoke trashUserFileDataItemCache.<@%unk/%unk: .hasKey()>(%23)
      if %24 != 0"];
  Node519110 [label="id:10
      %25 = mediaFileAssets.<@%unk/%unk: .i>
      %26 = %25.<@%unk/%unk: .uri>
      item = instanceinvoke trashUserFileDataItemCache.<@%unk/%unk: .get()>(%26)"];
  Node519111 [label="id:11
      %27 = mediaFileAssets.<@%unk/%unk: .i>
      %28 = %27.<@%unk/%unk: .uri>
      instanceinvoke trashUserFileDataItemCache.<@%unk/%unk: .set()>(%28, item)"];
  Node519112 [label="id:12
      %29 = mediaFileAssets.<@%unk/%unk: .i>
      instanceinvoke item.<@%unk/%unk: .update()>(%29)
      instanceinvoke groupDataItem.<@%unk/%unk: .push()>(item)
      i = i + 1"];
  Node519113 [label="id:13
      %30 = mediaFileAssets.<@%unk/%unk: .length>
      if i < %30"];
  Node519114 [label="id:14
      %31 = new @%unk/%unk: UserFileDataItem
      %32 = newarray (any)[0]
      %33 = this.<@ts_files/41.ts: GroupDataImpl.deviceId>
      instanceinvoke %31.<@%unk/%unk: UserFileDataItem.constructor()>('', %32, %33, i)
      item = %31
      %34 = mediaFileAssets.<@%unk/%unk: .i>
      %35 = %34.<@%unk/%unk: .uri>
      %36 = instanceinvoke userFileDataItemCache.<@%unk/%unk: .hasKey()>(%35)
      if %36 != 0"];
  Node519115 [label="id:15
      %37 = mediaFileAssets.<@%unk/%unk: .i>
      %38 = %37.<@%unk/%unk: .uri>
      item = instanceinvoke userFileDataItemCache.<@%unk/%unk: .get()>(%38)"];
  Node519116 [label="id:16
      %39 = mediaFileAssets.<@%unk/%unk: .i>
      %40 = %39.<@%unk/%unk: .uri>
      instanceinvoke userFileDataItemCache.<@%unk/%unk: .set()>(%40, item)"];
  Node519117 [label="id:17
      %41 = mediaFileAssets.<@%unk/%unk: .i>
      instanceinvoke item.<@%unk/%unk: .update()>(%41)
      instanceinvoke groupDataItem.<@%unk/%unk: .push()>(item)
      i = i + 1"];
  Node51910 -> Node51911;
  Node51910 -> Node51917;
  Node51911 -> Node51912;
  Node51911 -> Node51916;
  Node51912 -> Node51913;
  Node51912 -> Node51914;
  Node51913 -> Node51915;
  Node51914 -> Node51915;
  Node51915 -> Node51911;
  Node51917 -> Node51918;
  Node51917 -> Node519113;
  Node51918 -> Node51919;
  Node51918 -> Node51916;
  Node51919 -> Node519110;
  Node51919 -> Node519111;
  Node519110 -> Node519112;
  Node519111 -> Node519112;
  Node519112 -> Node51918;
  Node519113 -> Node519114;
  Node519113 -> Node51916;
  Node519114 -> Node519115;
  Node519114 -> Node519116;
  Node519115 -> Node519117;
  Node519116 -> Node519117;
  Node519117 -> Node519113;
}
subgraph "cluster_@ts_files/41.ts: GroupDataImpl.getMediaItemFileAssets(string, number, number)" {
  label="@ts_files/41.ts: GroupDataImpl.getMediaItemFileAssets(string, number, number)";
  Node71910 [label="id:0
      albumName = parameter0: string
      albumType = parameter1: number
      albumSubType = parameter2: number
      this = this: @ts_files/41.ts: GroupDataImpl
      %0 = new @%unk/%unk: dataSharePredicates.DataSharePredicates
      instanceinvoke %0.<@%unk/%unk: dataSharePredicates.DataSharePredicates.constructor()>()
      predicates = %0
      %1 = photoAccessHelper.<@%unk/%unk: .AlbumKeys>
      %2 = %1.<@%unk/%unk: .ALBUM_NAME>
      instanceinvoke predicates.<@%unk/%unk: .equalTo()>(%2, albumName)
      %3 = new @ts_files/41.ts: %AC$GroupDataImpl$getMediaItemFileAssets$0
      instanceinvoke %3.<@ts_files/41.ts: %AC$GroupDataImpl$getMediaItemFileAssets$0.constructor()>()
      fetchOption = %3
      %4 = 'albumName:' + albumName
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %4)
      %5 = MediaConstants.<@%unk/%unk: .ALBUM_TYPE_ALL>
      if albumType === %5"];
  Node71911 [label="id:1
      return await instanceinvoke userFileModel.<@%unk/%unk: .getAllMediaItems()>()"];
  Node71912 [label="id:2
      %6 = MediaConstants.<@%unk/%unk: .ABSTRACT_ALBUM_TYPE_MOVING_PHOTO>
      if albumType === %6"];
  Node71913 [label="id:3
      return await instanceinvoke userFileModel.<@%unk/%unk: .getAllMovingPhotoItems()>()"];
  Node71914 [label="id:4
      %7 = new @%unk/%unk: dataSharePredicates.DataSharePredicates
      instanceinvoke %7.<@%unk/%unk: dataSharePredicates.DataSharePredicates.constructor()>()
      emptyPredicates = %7
      %8 = photoAccessHelper.<@%unk/%unk: .PhotoKeys>
      %9 = %8.<@%unk/%unk: .DATE_ADDED>
      instanceinvoke emptyPredicates.<@%unk/%unk: .orderByDesc()>(%9)
      %10 = new @ts_files/41.ts: %AC$GroupDataImpl$getMediaItemFileAssets$1
      instanceinvoke %10.<@ts_files/41.ts: %AC$GroupDataImpl$getMediaItemFileAssets$1.constructor()>()
      emptyFetchOption = %10
      return await instanceinvoke userFileModel.<@%unk/%unk: .getAllMediaItemsByType()>(albumType, albumSubType, fetchOption, emptyFetchOption)"];
  Node71910 -> Node71911;
  Node71910 -> Node71912;
  Node71912 -> Node71913;
  Node71912 -> Node71914;
}
subgraph "cluster_@ts_files/41.ts: GroupDataImpl.getCount()" {
  label="@ts_files/41.ts: GroupDataImpl.getCount()";
  Node37090 [label="id:0
      this = this: @ts_files/41.ts: GroupDataImpl
      contentWidth = instanceinvoke screenManager.<@%unk/%unk: .getWinWidth()>()
      %0 = Constants.<@%unk/%unk: .GRID_IMAGE_SIZE>
      %1 = staticinvoke <@%unk/%unk: .px2vp()>(%0)
      %2 = Constants.<@%unk/%unk: .GRID_MAX_SIZE_RATIO>
      maxThumbWidth = %1 * %2
      %3 = Constants.<@%unk/%unk: .GRID_MIN_COUNT>
      %4 = Constants.<@%unk/%unk: .GRID_GUTTER>
      %5 = contentWidth + %4
      %6 = Constants.<@%unk/%unk: .GRID_GUTTER>
      %7 = maxThumbWidth + %6
      %8 = %5 / %7
      %9 = instanceinvoke Math.<@%unk/%unk: .ceil()>(%8)
      columns = instanceinvoke Math.<@%unk/%unk: .max()>(%3, %9)
      %10 = instanceinvoke screenManager.<@%unk/%unk: .getWinHeight()>()
      %11 = Constants.<@%unk/%unk: .ACTION_BAR_HEIGHT>
      %12 = %10 - %11
      %13 = instanceinvoke screenManager.<@%unk/%unk: .getNaviBarHeight()>()
      contentHeight = %12 - %13
      %14 = Constants.<@%unk/%unk: .GRID_GUTTER>
      %15 = contentHeight + %14
      %16 = Constants.<@%unk/%unk: .GRID_GUTTER>
      %17 = maxThumbWidth + %16
      %18 = %15 / %17
      %19 = instanceinvoke Math.<@%unk/%unk: .ceil()>(%18)
      rows = %19 + 4
      %20 = columns * rows
      return %20"];
}
}
