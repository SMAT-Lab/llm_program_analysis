digraph "67.ts" {
subgraph "cluster_@ts_files/67.ts: %dflt.[static]%dflt()" {
  label="@ts_files/67.ts: %dflt.[static]%dflt()";
  Node33290 [label="id:0
      this = this: @ts_files/67.ts: %dflt
      TAG = 'UserFileModel'
      %0 = new @ts_files/67.ts: UserFileModel
      instanceinvoke %0.<@ts_files/67.ts: UserFileModel.constructor()>()
      userFileModel = staticinvoke <@%unk/%unk: .stashOrGetObject()>(%0, TAG)
      return"];
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.constructor()" {
  label="@ts_files/67.ts: UserFileModel.constructor()";
  Node40890 [label="id:0
      this = this: @ts_files/67.ts: UserFileModel
      instanceinvoke this.<@ts_files/67.ts: UserFileModel.%instInit()>()
      return"];
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.onCreate(unknown)" {
  label="@ts_files/67.ts: UserFileModel.onCreate(unknown)";
  Node44680 [label="id:0
      context = parameter0: unknown
      this = this: @ts_files/67.ts: UserFileModel
      %0 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      if %0 == undefined"];
  Node44681 [label="id:1
      %1 = instanceinvoke photoAccessHelper.<@%unk/%unk: .getPhotoAccessHelper()>(context)
      this.<@ts_files/67.ts: UserFileModel.userFileMgr> = %1"];
  Node44682 [label="id:2
      return"];
  Node44680 -> Node44681;
  Node44680 -> Node44682;
  Node44681 -> Node44682;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.getUserFileMgr()" {
  label="@ts_files/67.ts: UserFileModel.getUserFileMgr()";
  Node42800 [label="id:0
      this = this: @ts_files/67.ts: UserFileModel
      %0 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      return %0"];
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.createOne(string, string)" {
  label="@ts_files/67.ts: UserFileModel.createOne(string, string)";
  Node51870 [label="id:0
      displayName = parameter0: string
      albumUri = parameter1: string
      this = this: @ts_files/67.ts: UserFileModel
      %0 = 'createOne displayName:' + displayName
      %1 = %0 + ' albumUri: '
      %2 = %1 + albumUri
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %2)
      %3 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      fileAsset = await instanceinvoke %3.<@%unk/%unk: .createAsset()>(displayName, albumUri)
      album = await instanceinvoke this.<@ts_files/67.ts: UserFileModel.getUserAlbumItemByUri(string)>(albumUri)
      %4 = newarray (unknown)[1]
      %4[0] = fileAsset
      %5 = await instanceinvoke album.<@%unk/%unk: .addAssets()>(%4)
      return fileAsset"];
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.getUserAlbumItemByUri(string)" {
  label="@ts_files/67.ts: UserFileModel.getUserAlbumItemByUri(string)";
  Node56520 [label="id:0
      uri = parameter0: string
      this = this: @ts_files/67.ts: UserFileModel
      fetchResult = null
      album = null
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'getUserAlbumItemByUri')
      %0 = new @%unk/%unk: dataSharePredicates.DataSharePredicates
      instanceinvoke %0.<@%unk/%unk: dataSharePredicates.DataSharePredicates.constructor()>()
      predicates = %0
      %1 = photoAccessHelper.<@%unk/%unk: .AlbumKeys>
      %2 = %1.<@%unk/%unk: .URI>
      instanceinvoke predicates.<@%unk/%unk: .equalTo()>(%2, uri)
      %3 = new @ts_files/67.ts: %AC$UserFileModel$getUserAlbumItemByUri$0
      instanceinvoke %3.<@ts_files/67.ts: %AC$UserFileModel$getUserAlbumItemByUri$0.constructor()>()
      fetchOptions = %3
      %4 = photoAccessHelper.<@%unk/%unk: .AlbumType>
      %5 = %4.<@%unk/%unk: .USER>
      %6 = photoAccessHelper.<@%unk/%unk: .AlbumSubtype>
      %7 = %6.<@%unk/%unk: .USER_GENERIC>
      %8 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      fetchResult = await instanceinvoke %8.<@%unk/%unk: .getAlbums()>(%5, %7, fetchOptions)
      %9 = instanceinvoke fetchResult.<@%unk/%unk: .getCount()>()
      %10 = 'get Album fetchResult, count: ' + %9
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %10)
      %11 = instanceinvoke fetchResult.<@%unk/%unk: .getCount()>()
      if %11 > 0"];
  Node56521 [label="id:1
      album = instanceinvoke fetchResult.<@%unk/%unk: .getFirstObject()>()"];
  Node56522 [label="id:2"];
  Node56523 [label="id:3
      err = caughtexception: unknown
      %12 = 'get Album fetchResult failed with err: ' + err
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %12)"];
  Node56524 [label="id:4
      if fetchResult != null"];
  Node56525 [label="id:5
      instanceinvoke fetchResult.<@%unk/%unk: .close()>()"];
  Node56526 [label="id:6
      return album"];
  Node56520 -> Node56521;
  Node56520 -> Node56522;
  Node56521 -> Node56522;
  Node56522 -> Node56524;
  Node56524 -> Node56525;
  Node56524 -> Node56526;
  Node56525 -> Node56526;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.copyOne(photoAccessHelper.PhotoAsset, photoAccessHelper.PhotoAsset)" {
  label="@ts_files/67.ts: UserFileModel.copyOne(photoAccessHelper.PhotoAsset, photoAccessHelper.PhotoAsset)";
  Node93480 [label="id:0
      source = parameter0: photoAccessHelper.PhotoAsset
      target = parameter1: photoAccessHelper.PhotoAsset
      this = this: @ts_files/67.ts: UserFileModel
      %0 = source.<@%unk/%unk: .uri>
      %1 = 'copy start: src:' + %0
      %2 = %1 + ' target: '
      %3 = target.<@%unk/%unk: .uri>
      %4 = %2 + %3
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %4)
      fd = await instanceinvoke this.<@ts_files/67.ts: UserFileModel.openAsset(string, photoAccessHelper.PhotoAsset)>('R', source)
      if fd <= 0"];
  Node93481 [label="id:1
      %5 = new @%unk/%unk: Error
      instanceinvoke %5.<@%unk/%unk: Error.constructor()>('fd is invalid')
      throw %5"];
  Node93482 [label="id:2
      targetFd = await instanceinvoke this.<@ts_files/67.ts: UserFileModel.openAsset(string, photoAccessHelper.PhotoAsset)>('RW', target)
      if targetFd <= 0"];
  Node93483 [label="id:3
      %6 = new @%unk/%unk: Error
      instanceinvoke %6.<@%unk/%unk: Error.constructor()>('targetFd is invalid')
      throw %6"];
  Node93484 [label="id:4
      %7 = await instanceinvoke fileIO.<@%unk/%unk: .copyFile()>(fd, targetFd)
      %8 = await instanceinvoke this.<@ts_files/67.ts: UserFileModel.closeAsset(number, photoAccessHelper.PhotoAsset)>(fd, source)
      %9 = await instanceinvoke this.<@ts_files/67.ts: UserFileModel.closeAsset(number, photoAccessHelper.PhotoAsset)>(targetFd, target)
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, 'copy end')
      return"];
  Node93480 -> Node93481;
  Node93480 -> Node93482;
  Node93481 -> Node93482;
  Node93482 -> Node93483;
  Node93482 -> Node93484;
  Node93483 -> Node93484;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.deleteOne(string)" {
  label="@ts_files/67.ts: UserFileModel.deleteOne(string)";
  Node44470 [label="id:0
      uri = parameter0: string
      this = this: @ts_files/67.ts: UserFileModel
      %0 = 'deleteAsset uri: ' + uri
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, %0)
      %1 = newarray (string)[1]
      %1[0] = uri
      %2 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      %3 = await instanceinvoke %2.<@%unk/%unk: .deleteAssets()>(%1)"];
  Node44471 [label="id:1
      err = caughtexception: unknown
      %4 = 'deleteOne with error: ' + err
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %4)"];
  Node44472 [label="id:2
      return"];
  Node44470 -> Node44472;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.recover(photoAccessHelper.PhotoAsset)" {
  label="@ts_files/67.ts: UserFileModel.recover(photoAccessHelper.PhotoAsset)";
  Node64610 [label="id:0
      fileAsset = parameter0: photoAccessHelper.PhotoAsset
      this = this: @ts_files/67.ts: UserFileModel
      albumFetchResult = null
      %0 = fileAsset.<@%unk/%unk: .displayName>
      %1 = 'recoverPhotoAssetsDemoPromise:' + %0
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, %1)
      %2 = photoAccessHelper.<@%unk/%unk: .AlbumType>
      %3 = %2.<@%unk/%unk: .SYSTEM>
      %4 = photoAccessHelper.<@%unk/%unk: .AlbumSubtype>
      %5 = %4.<@%unk/%unk: .TRASH>
      %6 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      albumFetchResult = await instanceinvoke %6.<@%unk/%unk: .getAlbums()>(%3, %5)
      album = await instanceinvoke albumFetchResult.<@%unk/%unk: .getFirstObject()>()
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, 'album  get')
      %7 = newarray (photoAccessHelper.PhotoAsset)[1]
      %7[0] = fileAsset
      %8 = instanceinvoke album.<@%unk/%unk: .recoverAssets()>(%7)
      %9 = instanceinvoke %8.<@%unk/%unk: .then()>(%AM1$recover)
      instanceinvoke %9.<@%unk/%unk: .catch()>(%AM0$recover)"];
  Node64611 [label="id:1"];
  Node64612 [label="id:2
      err = caughtexception: unknown
      %10 = 'recoverPhotoAssetsDemoPromise failed with error: ' + err
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %10)"];
  Node64613 [label="id:3
      if albumFetchResult != null"];
  Node64614 [label="id:4
      instanceinvoke albumFetchResult.<@%unk/%unk: .close()>()"];
  Node64615 [label="id:5
      return"];
  Node64610 -> Node64611;
  Node64611 -> Node64613;
  Node64613 -> Node64614;
  Node64613 -> Node64615;
  Node64614 -> Node64615;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.permanentDelete(photoAccessHelper.PhotoAsset)" {
  label="@ts_files/67.ts: UserFileModel.permanentDelete(photoAccessHelper.PhotoAsset)";
  Node72680 [label="id:0
      fileAsset = parameter0: photoAccessHelper.PhotoAsset
      this = this: @ts_files/67.ts: UserFileModel
      albumFetchResult = null
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, 'permanentDelete')
      %0 = photoAccessHelper.<@%unk/%unk: .AlbumType>
      %1 = %0.<@ts_files/67.ts: UserFileModel.SYSTEM>
      %2 = photoAccessHelper.<@%unk/%unk: .AlbumSubtype>
      %3 = %2.<@%unk/%unk: .TRASH>
      %4 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      albumFetchResult = await instanceinvoke %4.<@%unk/%unk: .getAlbums()>(%1, %3)
      album = await instanceinvoke albumFetchResult.<@%unk/%unk: .getFirstObject()>()
      %5 = newarray (photoAccessHelper.PhotoAsset)[1]
      %5[0] = fileAsset
      %6 = instanceinvoke album.<@%unk/%unk: .deleteAssets()>(%5)
      %7 = instanceinvoke %6.<@%unk/%unk: .then()>(%AM3$permanentDelete)
      instanceinvoke %7.<@%unk/%unk: .catch()>(%AM2$permanentDelete)"];
  Node72681 [label="id:1"];
  Node72682 [label="id:2
      err = caughtexception: unknown
      %8 = 'permanentDelete failed with error: ' + err
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %8)"];
  Node72683 [label="id:3
      if albumFetchResult != null"];
  Node72684 [label="id:4
      instanceinvoke albumFetchResult.<@%unk/%unk: .close()>()"];
  Node72685 [label="id:5
      return"];
  Node72680 -> Node72681;
  Node72681 -> Node72683;
  Node72683 -> Node72684;
  Node72683 -> Node72685;
  Node72684 -> Node72685;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.createAlbum(string)" {
  label="@ts_files/67.ts: UserFileModel.createAlbum(string)";
  Node46550 [label="id:0
      albumName = parameter0: string
      this = this: @ts_files/67.ts: UserFileModel
      newAlbum = undefined
      %0 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      album = await instanceinvoke %0.<@%unk/%unk: .createAlbum()>(albumName)
      %1 = new @%unk/%unk: SimpleAlbumDataItem
      %2 = MediaConstants.<@%unk/%unk: .ALBUM_ID_USER>
      %3 = album.<@%unk/%unk: .albumUri>
      %4 = MediaConstants.<@%unk/%unk: .ALBUM_TYPE_USER>
      %5 = MediaConstants.<@%unk/%unk: .ALBUM_SUBTYPE_USER_GENERIC>
      instanceinvoke %1.<@%unk/%unk: SimpleAlbumDataItem.constructor()>(%2, albumName, %3, '', '', %4, %5)
      newAlbum = %1"];
  Node46551 [label="id:1
      return newAlbum"];
  Node46552 [label="id:2
      err = caughtexception: unknown
      %6 = 'createAlbum failed with error: ' + err
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %6)"];
  Node46550 -> Node46551;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.deleteAlbum(string)" {
  label="@ts_files/67.ts: UserFileModel.deleteAlbum(string)";
  Node46540 [label="id:0
      albumName = parameter0: string
      this = this: @ts_files/67.ts: UserFileModel
      fetchResult = null
      %0 = new @%unk/%unk: dataSharePredicates.DataSharePredicates
      instanceinvoke %0.<@%unk/%unk: dataSharePredicates.DataSharePredicates.constructor()>()
      predicates = %0
      %1 = photoAccessHelper.<@%unk/%unk: .AlbumKeys>
      %2 = %1.<@%unk/%unk: .ALBUM_NAME>
      instanceinvoke predicates.<@%unk/%unk: .equalTo()>(%2, albumName)
      %3 = new @ts_files/67.ts: %AC$UserFileModel$deleteAlbum$1
      instanceinvoke %3.<@ts_files/67.ts: %AC$UserFileModel$deleteAlbum$1.constructor()>()
      fetchOptions = %3
      %4 = photoAccessHelper.<@%unk/%unk: .AlbumType>
      %5 = %4.<@%unk/%unk: .USER>
      %6 = photoAccessHelper.<@%unk/%unk: .AlbumSubtype>
      %7 = %6.<@%unk/%unk: .USER_GENERIC>
      %8 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      fetchResult = await instanceinvoke %8.<@%unk/%unk: .getAlbums()>(%5, %7, fetchOptions)
      i = 0"];
  Node46541 [label="id:1
      %9 = instanceinvoke fetchResult.<@%unk/%unk: .getCount()>()
      if i < %9"];
  Node46542 [label="id:2
      albumAsset = await instanceinvoke fetchResult.<@%unk/%unk: .getObjectByPosition()>(i)
      %10 = albumAsset.<@%unk/%unk: .albumUri>
      %11 = 'deleteAlbum albumUri' + %10
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %11)
      %12 = albumAsset.<@%unk/%unk: .albumName>
      %13 = 'deleteAlbum albumName' + %12
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %13)
      %14 = newarray (unknown)[1]
      %14[0] = albumAsset
      %15 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      %16 = instanceinvoke %15.<@%unk/%unk: .deleteAlbums()>(%14)
      %17 = instanceinvoke %16.<@%unk/%unk: .then()>(%AM5$deleteAlbum)
      instanceinvoke %17.<@%unk/%unk: .catch()>(%AM4$deleteAlbum)
      i = i + 1"];
  Node46543 [label="id:3"];
  Node46544 [label="id:4
      err = caughtexception: unknown
      %18 = 'deletePhotoAlbumsPromise failed with error: ' + err
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %18)"];
  Node46545 [label="id:5
      if fetchResult != null"];
  Node46546 [label="id:6
      instanceinvoke fetchResult.<@%unk/%unk: .close()>()"];
  Node46547 [label="id:7
      return"];
  Node46540 -> Node46541;
  Node46541 -> Node46542;
  Node46541 -> Node46543;
  Node46542 -> Node46541;
  Node46543 -> Node46545;
  Node46545 -> Node46546;
  Node46545 -> Node46547;
  Node46546 -> Node46547;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.deleteAll(photoAccessHelper.FetchOptions)" {
  label="@ts_files/67.ts: UserFileModel.deleteAll(photoAccessHelper.FetchOptions)";
  Node68150 [label="id:0
      fetchOption = parameter0: photoAccessHelper.FetchOptions
      this = this: @ts_files/67.ts: UserFileModel
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'deleteAll')
      fetchFileResult = null
      %0 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      fetchFileResult = await instanceinvoke %0.<@%unk/%unk: .getAssets()>(fetchOption)
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, 'deleteAll getPhotoAssets')
      deleteAllGetAllObject = staticinvoke <@%unk/%unk: .hiSysEventDataQueryTimedOut()>('deleteAllGetAllObject')
      fileAssets = await instanceinvoke fetchFileResult.<@%unk/%unk: .getAllObject()>()
      staticinvoke <@%unk/%unk: .clearTimeout()>(deleteAllGetAllObject)
      i = 0"];
  Node68151 [label="id:1
      %1 = fileAssets.<@%unk/%unk: .length>
      if i < %1"];
  Node68152 [label="id:2
      %2 = fileAssets[i]
      %3 = %2.<@%unk/%unk: .uri>
      %4 = await instanceinvoke this.<@ts_files/67.ts: UserFileModel.deleteOne(string)>(%3)
      i = i + 1"];
  Node68153 [label="id:3
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, 'deleteAll getFirstObject')"];
  Node68154 [label="id:4"];
  Node68155 [label="id:5
      err = caughtexception: unknown
      %5 = instanceinvoke JSON.<@%unk/%unk: .stringify()>(err)
      %6 = 'deleteAll error:' + %5
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %6)"];
  Node68156 [label="id:6
      if fetchFileResult != null"];
  Node68157 [label="id:7
      instanceinvoke fetchFileResult.<@%unk/%unk: .close()>()"];
  Node68158 [label="id:8
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, 'deleteAll finish')
      return"];
  Node68150 -> Node68151;
  Node68151 -> Node68152;
  Node68151 -> Node68153;
  Node68152 -> Node68151;
  Node68153 -> Node68154;
  Node68154 -> Node68156;
  Node68156 -> Node68157;
  Node68156 -> Node68158;
  Node68157 -> Node68158;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.getAllMediaItems()" {
  label="@ts_files/67.ts: UserFileModel.getAllMediaItems()";
  Node44620 [label="id:0
      this = this: @ts_files/67.ts: UserFileModel
      %0 = newarray (any)[0]
      fileAssets = %0
      photoFetchResult = null
      %1 = new @%unk/%unk: dataSharePredicates.DataSharePredicates
      instanceinvoke %1.<@%unk/%unk: dataSharePredicates.DataSharePredicates.constructor()>()
      predicates = %1
      %2 = photoAccessHelper.<@%unk/%unk: .PhotoKeys>
      %3 = %2.<@%unk/%unk: .DATE_ADDED>
      instanceinvoke predicates.<@%unk/%unk: .orderByDesc()>(%3)
      %4 = new @ts_files/67.ts: %AC$UserFileModel$getAllMediaItems$2
      instanceinvoke %4.<@ts_files/67.ts: %AC$UserFileModel$getAllMediaItems$2.constructor()>()
      emptyFetchOption = %4
      %5 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      photoFetchResult = await instanceinvoke %5.<@%unk/%unk: .getAssets()>(emptyFetchOption)
      %6 = instanceinvoke photoFetchResult.<@%unk/%unk: .getCount()>()
      %7 = 'getAllMediaItems count: ' + %6
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %7)
      i = 0"];
  Node44621 [label="id:1
      %8 = instanceinvoke photoFetchResult.<@%unk/%unk: .getCount()>()
      if i < %8"];
  Node44622 [label="id:2
      instanceinvoke fileAssets.<@%unk/%unk: .push()>(await instanceinvoke photoFetchResult.<@%unk/%unk: .getObjectByPosition()>(i))
      i = i + 1"];
  Node44623 [label="id:3"];
  Node44624 [label="id:4
      err = caughtexception: unknown
      %9 = 'getAllMediaItems failed with err: ' + err
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %9)"];
  Node44625 [label="id:5
      if photoFetchResult != null"];
  Node44626 [label="id:6
      instanceinvoke photoFetchResult.<@%unk/%unk: .close()>()"];
  Node44627 [label="id:7
      return fileAssets"];
  Node44620 -> Node44621;
  Node44621 -> Node44622;
  Node44621 -> Node44623;
  Node44622 -> Node44621;
  Node44623 -> Node44625;
  Node44625 -> Node44626;
  Node44625 -> Node44627;
  Node44626 -> Node44627;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.getAllMovingPhotoItems()" {
  label="@ts_files/67.ts: UserFileModel.getAllMovingPhotoItems()";
  Node51280 [label="id:0
      this = this: @ts_files/67.ts: UserFileModel
      %0 = newarray (any)[0]
      fileAssets = %0
      photoFetchResult = null
      %1 = new @%unk/%unk: dataSharePredicates.DataSharePredicates
      instanceinvoke %1.<@%unk/%unk: dataSharePredicates.DataSharePredicates.constructor()>()
      predicates = %1
      %2 = MediaConstants.<@%unk/%unk: .PHOTO_SUBTYPE>
      %3 = MediaConstants.<@%unk/%unk: .MOVING_PHOTO>
      instanceinvoke predicates.<@%unk/%unk: .equalTo()>(%2, %3)
      %4 = photoAccessHelper.<@%unk/%unk: .PhotoKeys>
      %5 = %4.<@%unk/%unk: .DATE_ADDED>
      instanceinvoke predicates.<@%unk/%unk: .orderByDesc()>(%5)
      %6 = new @ts_files/67.ts: %AC$UserFileModel$getAllMovingPhotoItems$3
      instanceinvoke %6.<@ts_files/67.ts: %AC$UserFileModel$getAllMovingPhotoItems$3.constructor()>()
      fetchOptions = %6
      %7 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      photoFetchResult = await instanceinvoke %7.<@%unk/%unk: .getAssets()>(fetchOptions)
      %8 = instanceinvoke photoFetchResult.<@%unk/%unk: .getCount()>()
      %9 = 'getAllMovingPhotoItems count: ' + %8
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %9)
      i = 0"];
  Node51281 [label="id:1
      %10 = instanceinvoke photoFetchResult.<@%unk/%unk: .getCount()>()
      if i < %10"];
  Node51282 [label="id:2
      instanceinvoke fileAssets.<@%unk/%unk: .push()>(await instanceinvoke photoFetchResult.<@%unk/%unk: .getObjectByPosition()>(i))
      i = i + 1"];
  Node51283 [label="id:3"];
  Node51284 [label="id:4
      err = caughtexception: unknown
      %11 = 'getAllMovingPhotoItems failed with err: ' + err
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %11)"];
  Node51285 [label="id:5
      if photoFetchResult != null"];
  Node51286 [label="id:6
      instanceinvoke photoFetchResult.<@%unk/%unk: .close()>()"];
  Node51287 [label="id:7
      return fileAssets"];
  Node51280 -> Node51281;
  Node51281 -> Node51282;
  Node51281 -> Node51283;
  Node51282 -> Node51281;
  Node51283 -> Node51285;
  Node51285 -> Node51286;
  Node51285 -> Node51287;
  Node51286 -> Node51287;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.getAllMediaItemsByType(number, number, unknown, unknown)" {
  label="@ts_files/67.ts: UserFileModel.getAllMediaItemsByType(number, number, unknown, unknown)";
  Node81610 [label="id:0
      type = parameter0: number
      subType = parameter1: number
      albumFetchOption = parameter2: unknown
      fileFetchOption = parameter3: unknown
      this = this: @ts_files/67.ts: UserFileModel
      %0 = newarray (any)[0]
      fileAssets = %0
      fetchResult = null
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'getAllMediaItemsByUserFile')
      %1 = 'type:' + type
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %1)
      %2 = 'subType:' + subType
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %2)
      %3 = photoAccessHelper.<@%unk/%unk: .AlbumType>
      %4 = %3.<@%unk/%unk: .USER>
      %5 = type === %4
      %6 = albumFetchOption != null
      %7 = %5 && %6
      if %7 != false"];
  Node81611 [label="id:1
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'albumFetchOption ！= null')
      %8 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      fetchResult = await instanceinvoke %8.<@%unk/%unk: .getAlbums()>(type, subType, albumFetchOption)"];
  Node81612 [label="id:2
      %9 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      fetchResult = await instanceinvoke %9.<@%unk/%unk: .getAlbums()>(type, subType)"];
  Node81613 [label="id:3
      %10 = instanceinvoke fetchResult.<@%unk/%unk: .getCount()>()
      %11 = 'get Album fetchResult, count: ' + %10
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %11)
      i = 0"];
  Node81614 [label="id:4
      %12 = instanceinvoke fetchResult.<@%unk/%unk: .getCount()>()
      if i < %12"];
  Node81615 [label="id:5
      albumAsset = await instanceinvoke fetchResult.<@%unk/%unk: .getObjectByPosition()>(i)
      photoFetchResult = null
      photoFetchResult = await instanceinvoke albumAsset.<@%unk/%unk: .getAssets()>(fileFetchOption)
      i = 0"];
  Node81616 [label="id:6
      %13 = instanceinvoke photoFetchResult.<@%unk/%unk: .getCount()>()
      if i < %13"];
  Node81617 [label="id:7
      photoAsset = await instanceinvoke photoFetchResult.<@%unk/%unk: .getObjectByPosition()>(i)
      instanceinvoke fileAssets.<@%unk/%unk: .push()>(photoAsset)
      %14 = photoAsset.<@%unk/%unk: .displayName>
      %15 = 'getPhotoAssets successfully, file displayName: ' + %14
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %15)
      i = i + 1"];
  Node81618 [label="id:8"];
  Node81619 [label="id:9
      err = caughtexception: unknown
      %16 = 'get Album getPhotoAssets failed with err: ' + err
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %16)"];
  Node816110 [label="id:10
      if photoFetchResult != null"];
  Node816111 [label="id:11
      instanceinvoke photoFetchResult.<@%unk/%unk: .close()>()"];
  Node816112 [label="id:12"];
  Node816113 [label="id:13
      err = caughtexception: unknown
      %17 = 'get Album fetchResult failed with err: ' + err
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %17)"];
  Node816114 [label="id:14
      if fetchResult != null"];
  Node816115 [label="id:15
      instanceinvoke fetchResult.<@%unk/%unk: .close()>()"];
  Node816116 [label="id:16
      %18 = fileAssets.<@%unk/%unk: .length>
      %19 = 'fileAssets: ' + %18
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %19)
      return fileAssets"];
  Node816117 [label="id:17
      i = i + 1"];
  Node81610 -> Node81611;
  Node81610 -> Node81612;
  Node81611 -> Node81613;
  Node81612 -> Node81613;
  Node81613 -> Node81614;
  Node81614 -> Node81615;
  Node81614 -> Node816112;
  Node81615 -> Node81616;
  Node81616 -> Node81617;
  Node81616 -> Node81618;
  Node81617 -> Node81616;
  Node81618 -> Node816110;
  Node816110 -> Node816111;
  Node816110 -> Node816117;
  Node816111 -> Node816117;
  Node816112 -> Node816114;
  Node816114 -> Node816115;
  Node816114 -> Node816116;
  Node816115 -> Node816116;
  Node816117 -> Node81614;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.getMediaItemByUriFromTrash(string)" {
  label="@ts_files/67.ts: UserFileModel.getMediaItemByUriFromTrash(string)";
  Node61380 [label="id:0
      uri = parameter0: string
      this = this: @ts_files/67.ts: UserFileModel
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'getMediaItemByUriFromTrash')
      %0 = 'uri:' + uri
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %0)
      albumFetchResult = null
      fileAsset = null
      %1 = photoAccessHelper.<@%unk/%unk: .AlbumType>
      %2 = %1.<@%unk/%unk: .SYSTEM>
      %3 = photoAccessHelper.<@%unk/%unk: .AlbumSubtype>
      %4 = %3.<@%unk/%unk: .TRASH>
      %5 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      albumFetchResult = await instanceinvoke %5.<@%unk/%unk: .getAlbums()>(%2, %4)
      albumAsset = await instanceinvoke albumFetchResult.<@%unk/%unk: .getFirstObject()>()
      photoFetchResult = null
      %6 = new @%unk/%unk: dataSharePredicates.DataSharePredicates
      instanceinvoke %6.<@%unk/%unk: dataSharePredicates.DataSharePredicates.constructor()>()
      predicates = %6
      %7 = new @ts_files/67.ts: %AC$UserFileModel$getMediaItemByUriFromTrash$4
      instanceinvoke %7.<@ts_files/67.ts: %AC$UserFileModel$getMediaItemByUriFromTrash$4.constructor()>()
      emptyFetchOption = %7
      photoFetchResult = await instanceinvoke albumAsset.<@%unk/%unk: .getAssets()>(emptyFetchOption)
      i = 0"];
  Node61381 [label="id:1
      %8 = instanceinvoke photoFetchResult.<@%unk/%unk: .getCount()>()
      if i < %8"];
  Node61382 [label="id:2
      photoAsset = await instanceinvoke photoFetchResult.<@%unk/%unk: .getObjectByPosition()>(i)
      %9 = photoAsset.<@%unk/%unk: .uri>
      if %9 === uri
      i = i + 1"];
  Node61383 [label="id:3
      fileAsset = photoAsset
      %10 = photoAsset.<@%unk/%unk: .displayName>
      %11 = 'getMediaItemByUriFromTrash success: ' + %10
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %11)"];
  Node61384 [label="id:4"];
  Node61385 [label="id:5
      err = caughtexception: unknown
      %12 = 'getMediaItemByUriFromTrash getPhotoAssets failed with err: ' + err
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %12)"];
  Node61386 [label="id:6
      if photoFetchResult != null"];
  Node61387 [label="id:7
      instanceinvoke photoFetchResult.<@%unk/%unk: .close()>()"];
  Node61388 [label="id:8"];
  Node61389 [label="id:9
      err = caughtexception: unknown
      %13 = 'getMediaItemByUriFromTrash failed with error: ' + err
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %13)"];
  Node613810 [label="id:10
      if albumFetchResult != null"];
  Node613811 [label="id:11
      instanceinvoke albumFetchResult.<@%unk/%unk: .close()>()"];
  Node613812 [label="id:12
      return fileAsset"];
  Node61380 -> Node61381;
  Node61381 -> Node61382;
  Node61381 -> Node61384;
  Node61382 -> Node61383;
  Node61382 -> Node61381;
  Node61383 -> Node61384;
  Node61384 -> Node61386;
  Node61386 -> Node61387;
  Node61386 -> Node61388;
  Node61387 -> Node61388;
  Node61388 -> Node613810;
  Node613810 -> Node613811;
  Node613810 -> Node613812;
  Node613811 -> Node613812;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.getMediaItemByUri(string)" {
  label="@ts_files/67.ts: UserFileModel.getMediaItemByUri(string)";
  Node52200 [label="id:0
      uri = parameter0: string
      this = this: @ts_files/67.ts: UserFileModel
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'getMediaItemByUri')
      %0 = 'uri:' + uri
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %0)
      %1 = new @%unk/%unk: dataSharePredicates.DataSharePredicates
      instanceinvoke %1.<@%unk/%unk: dataSharePredicates.DataSharePredicates.constructor()>()
      predicates = %1
      %2 = photoAccessHelper.<@%unk/%unk: .PhotoKeys>
      %3 = %2.<@%unk/%unk: .URI>
      instanceinvoke predicates.<@%unk/%unk: .equalTo()>(%3, uri)
      %4 = new @ts_files/67.ts: %AC$UserFileModel$getMediaItemByUri$5
      instanceinvoke %4.<@ts_files/67.ts: %AC$UserFileModel$getMediaItemByUri$5.constructor()>()
      fetchOptions = %4
      fileAsset = null
      fetchResult = null
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'fetchResult start')
      %5 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      fetchResult = await instanceinvoke %5.<@%unk/%unk: .getAssets()>(fetchOptions)
      %6 = instanceinvoke fetchResult.<@%unk/%unk: .getCount()>()
      %7 = 'fetchResult count ' + %6
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %7)
      fileAsset = await instanceinvoke fetchResult.<@%unk/%unk: .getFirstObject()>()
      %8 = fileAsset.<@%unk/%unk: .displayName>
      %9 = 'fileAsset ' + %8
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %9)"];
  Node52201 [label="id:1"];
  Node52202 [label="id:2
      err = caughtexception: unknown
      %10 = 'getMediaItemByUri failed, message = ' + err
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %10)"];
  Node52203 [label="id:3
      if fetchResult != null"];
  Node52204 [label="id:4
      instanceinvoke fetchResult.<@%unk/%unk: .close()>()"];
  Node52205 [label="id:5
      return fileAsset"];
  Node52200 -> Node52201;
  Node52201 -> Node52203;
  Node52203 -> Node52204;
  Node52203 -> Node52205;
  Node52204 -> Node52205;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.getMediaItemCountsByDisplayName(string)" {
  label="@ts_files/67.ts: UserFileModel.getMediaItemCountsByDisplayName(string)";
  Node66630 [label="id:0
      displayName = parameter0: string
      this = this: @ts_files/67.ts: UserFileModel
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'getMediaItemCountsByDisplayName')
      count = 0
      fetchFileResult = null
      %0 = new @%unk/%unk: dataSharePredicates.DataSharePredicates
      instanceinvoke %0.<@%unk/%unk: dataSharePredicates.DataSharePredicates.constructor()>()
      predicates = %0
      %1 = photoAccessHelper.<@%unk/%unk: .PhotoKeys>
      %2 = %1.<@%unk/%unk: .DISPLAY_NAME>
      instanceinvoke predicates.<@%unk/%unk: .equalTo()>(%2, displayName)
      %3 = new @ts_files/67.ts: %AC$UserFileModel$getMediaItemCountsByDisplayName$6
      instanceinvoke %3.<@ts_files/67.ts: %AC$UserFileModel$getMediaItemCountsByDisplayName$6.constructor()>()
      fetchOptions = %3
      %4 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      fetchFileResult = await instanceinvoke %4.<@%unk/%unk: .getAssets()>(fetchOptions)
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, 'getMediaItemCountsByDisplayName getPhotoAssets')
      count = await instanceinvoke fetchFileResult.<@%unk/%unk: .getCount()>()"];
  Node66631 [label="id:1"];
  Node66632 [label="id:2
      err = caughtexception: unknown
      %5 = instanceinvoke JSON.<@%unk/%unk: .stringify()>(err)
      %6 = 'getMediaItemCountsByDisplayName error:' + %5
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %6)"];
  Node66633 [label="id:3
      if fetchFileResult != null"];
  Node66634 [label="id:4
      instanceinvoke fetchFileResult.<@%unk/%unk: .close()>()"];
  Node66635 [label="id:5
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, 'getMediaItemCountsByDisplayName finish')
      return count"];
  Node66630 -> Node66631;
  Node66631 -> Node66633;
  Node66633 -> Node66634;
  Node66633 -> Node66635;
  Node66634 -> Node66635;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.getUserAlbumCountByName(string)" {
  label="@ts_files/67.ts: UserFileModel.getUserAlbumCountByName(string)";
  Node58550 [label="id:0
      albumName = parameter0: string
      this = this: @ts_files/67.ts: UserFileModel
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'getUserAlbumCountByName')
      %0 = 'album_name：' + albumName
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %0)
      count = 0
      systemAlbums = await staticinvoke <@%unk/%unk: .getSystemAlbumDisplayName()>()
      %1 = instanceinvoke systemAlbums.<@%unk/%unk: .indexOf()>(albumName)
      if %1 >= 0"];
  Node58551 [label="id:1
      return 1"];
  Node58552 [label="id:2
      fetchResult = null
      %2 = new @%unk/%unk: dataSharePredicates.DataSharePredicates
      instanceinvoke %2.<@%unk/%unk: dataSharePredicates.DataSharePredicates.constructor()>()
      predicates = %2
      %3 = photoAccessHelper.<@%unk/%unk: .AlbumKeys>
      %4 = %3.<@%unk/%unk: .ALBUM_NAME>
      instanceinvoke predicates.<@%unk/%unk: .equalTo()>(%4, albumName)
      %5 = new @ts_files/67.ts: %AC$UserFileModel$getUserAlbumCountByName$7
      instanceinvoke %5.<@ts_files/67.ts: %AC$UserFileModel$getUserAlbumCountByName$7.constructor()>()
      fetchOptions = %5
      %6 = photoAccessHelper.<@%unk/%unk: .AlbumType>
      %7 = %6.<@%unk/%unk: .USER>
      %8 = photoAccessHelper.<@%unk/%unk: .AlbumSubtype>
      %9 = %8.<@%unk/%unk: .USER_GENERIC>
      %10 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      fetchResult = await instanceinvoke %10.<@%unk/%unk: .getAlbums()>(%7, %9, fetchOptions)
      %11 = instanceinvoke fetchResult.<@%unk/%unk: .getCount()>()
      %12 = 'fetchResult' + %11
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %12)
      count = instanceinvoke fetchResult.<@%unk/%unk: .getCount()>()"];
  Node58553 [label="id:3"];
  Node58554 [label="id:4
      err = caughtexception: unknown
      %13 = instanceinvoke JSON.<@%unk/%unk: .stringify()>(err)
      %14 = 'getUserAlbumCountByName error:' + %13
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %14)"];
  Node58555 [label="id:5
      if fetchResult != null"];
  Node58556 [label="id:6
      instanceinvoke fetchResult.<@%unk/%unk: .close()>()"];
  Node58557 [label="id:7
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, 'getUserAlbumCountByName finish')
      return count"];
  Node58550 -> Node58551;
  Node58550 -> Node58552;
  Node58552 -> Node58553;
  Node58553 -> Node58555;
  Node58555 -> Node58556;
  Node58555 -> Node58557;
  Node58556 -> Node58557;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.getActivePeers()" {
  label="@ts_files/67.ts: UserFileModel.getActivePeers()";
  Node43020 [label="id:0
      this = this: @ts_files/67.ts: UserFileModel
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'getActivePeers')
      %0 = newarray (any)[0]
      peers = %0
      getActivePeers = staticinvoke <@%unk/%unk: .hiSysEventDataQueryTimedOut()>('getActivePeers')
      %1 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      peers = await instanceinvoke %1.<@%unk/%unk: .getActivePeers()>()
      staticinvoke <@%unk/%unk: .clearTimeout()>(getActivePeers)"];
  Node43021 [label="id:1
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, 'getActivePeers finish')
      return peers"];
  Node43022 [label="id:2
      err = caughtexception: unknown
      %2 = instanceinvoke JSON.<@%unk/%unk: .stringify()>(err)
      %3 = 'getActivePeers error:' + %2
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %3)"];
  Node43020 -> Node43021;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.getUserAlbumByName(string)" {
  label="@ts_files/67.ts: UserFileModel.getUserAlbumByName(string)";
  Node53340 [label="id:0
      albumName = parameter0: string
      this = this: @ts_files/67.ts: UserFileModel
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'getUserAlbumByName')
      %0 = 'album_name' + albumName
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %0)
      fetchResult = null
      album = null
      %1 = new @%unk/%unk: dataSharePredicates.DataSharePredicates
      instanceinvoke %1.<@%unk/%unk: dataSharePredicates.DataSharePredicates.constructor()>()
      predicates = %1
      %2 = photoAccessHelper.<@%unk/%unk: .AlbumKeys>
      %3 = %2.<@%unk/%unk: .ALBUM_NAME>
      instanceinvoke predicates.<@%unk/%unk: .equalTo()>(%3, albumName)
      %4 = new @ts_files/67.ts: %AC$UserFileModel$getUserAlbumByName$8
      instanceinvoke %4.<@ts_files/67.ts: %AC$UserFileModel$getUserAlbumByName$8.constructor()>()
      fetchOptions = %4
      %5 = photoAccessHelper.<@%unk/%unk: .AlbumType>
      %6 = %5.<@%unk/%unk: .USER>
      %7 = photoAccessHelper.<@%unk/%unk: .AlbumSubtype>
      %8 = %7.<@%unk/%unk: .USER_GENERIC>
      %9 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      fetchResult = await instanceinvoke %9.<@%unk/%unk: .getAlbums()>(%6, %8, fetchOptions)
      %10 = instanceinvoke fetchResult.<@%unk/%unk: .getCount()>()
      %11 = 'fetchResult' + %10
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %11)
      %12 = instanceinvoke fetchResult.<@%unk/%unk: .getCount()>()
      if %12 > 0"];
  Node53341 [label="id:1
      album = instanceinvoke fetchResult.<@%unk/%unk: .getFirstObject()>()"];
  Node53342 [label="id:2"];
  Node53343 [label="id:3
      err = caughtexception: unknown
      %13 = instanceinvoke JSON.<@%unk/%unk: .stringify()>(err)
      %14 = 'getUserAlbumByName error:' + %13
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %14)"];
  Node53344 [label="id:4
      if fetchResult != null"];
  Node53345 [label="id:5
      instanceinvoke fetchResult.<@%unk/%unk: .close()>()"];
  Node53346 [label="id:6
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, 'getUserAlbumByName finish')
      return album"];
  Node53340 -> Node53341;
  Node53340 -> Node53342;
  Node53341 -> Node53342;
  Node53342 -> Node53344;
  Node53344 -> Node53345;
  Node53344 -> Node53346;
  Node53345 -> Node53346;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.getAlbums(photoAccessHelper.FetchOptions)" {
  label="@ts_files/67.ts: UserFileModel.getAlbums(photoAccessHelper.FetchOptions)";
  Node68390 [label="id:0
      fetchOption = parameter0: photoAccessHelper.FetchOptions
      this = this: @ts_files/67.ts: UserFileModel
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'getAlbums')
      %0 = newarray (any)[0]
      albums = %0
      %1 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      albums = await instanceinvoke %1.<@%unk/%unk: .getAlbums()>(fetchOption)
      %2 = instanceinvoke albums.<@%unk/%unk: .getCounts()>()
      %3 = 'getAlbums albums ' + %2
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %3)"];
  Node68391 [label="id:1
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, 'getAlbums finish')
      return albums"];
  Node68392 [label="id:2
      err = caughtexception: unknown
      %4 = instanceinvoke JSON.<@%unk/%unk: .stringify()>(err)
      %5 = 'getAlbums error:' + %4
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %5)"];
  Node68390 -> Node68391;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.openAsset(string, photoAccessHelper.PhotoAsset)" {
  label="@ts_files/67.ts: UserFileModel.openAsset(string, photoAccessHelper.PhotoAsset)";
  Node73880 [label="id:0
      mode = parameter0: string
      fileAsset = parameter1: photoAccessHelper.PhotoAsset
      this = this: @ts_files/67.ts: UserFileModel
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, 'openAsset start')
      fd = await instanceinvoke fileAsset.<@%unk/%unk: .open()>(mode)
      %0 = 'openAsset end. fd: ' + fd
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %0)
      if fd <= 0"];
  Node73881 [label="id:1
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'openAsset Fail')"];
  Node73882 [label="id:2
      return fd"];
  Node73880 -> Node73881;
  Node73880 -> Node73882;
  Node73881 -> Node73882;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.closeAsset(number, photoAccessHelper.PhotoAsset)" {
  label="@ts_files/67.ts: UserFileModel.closeAsset(number, photoAccessHelper.PhotoAsset)";
  Node74740 [label="id:0
      fd = parameter0: number
      fileAsset = parameter1: photoAccessHelper.PhotoAsset
      this = this: @ts_files/67.ts: UserFileModel
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, 'closeAsset start')
      %0 = await instanceinvoke fileAsset.<@%unk/%unk: .close()>(fd)
      return"];
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.addPhotoToAlbumByUserFileMgr(string, string)" {
  label="@ts_files/67.ts: UserFileModel.addPhotoToAlbumByUserFileMgr(string, string)";
  Node70600 [label="id:0
      albumUri = parameter0: string
      uri = parameter1: string
      this = this: @ts_files/67.ts: UserFileModel
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'addPhotoAssetsDemoPromise')
      %0 = 'albumUri' + albumUri
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %0)
      %1 = 'mediaItem.uri' + uri
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %1)
      album = await instanceinvoke this.<@ts_files/67.ts: UserFileModel.getUserAlbumItemByUri(string)>(albumUri)
      %2 = new @%unk/%unk: dataSharePredicates.DataSharePredicates
      instanceinvoke %2.<@%unk/%unk: dataSharePredicates.DataSharePredicates.constructor()>()
      predicates = %2
      %3 = photoAccessHelper.<@%unk/%unk: .PhotoKeys>
      %4 = %3.<@%unk/%unk: .URI>
      instanceinvoke predicates.<@%unk/%unk: .equalTo()>(%4, uri)
      %5 = new @ts_files/67.ts: %AC$UserFileModel$addPhotoToAlbumByUserFileMgr$9
      instanceinvoke %5.<@ts_files/67.ts: %AC$UserFileModel$addPhotoToAlbumByUserFileMgr$9.constructor()>()
      fetchOptions = %5
      %6 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      instanceinvoke %6.<@%unk/%unk: .getAssets()>(fetchOptions, %AM6$addPhotoToAlbumByUserFileMgr)"];
  Node70601 [label="id:1
      err = caughtexception: unknown
      %7 = 'addPhotoAssetsDemoPromise failed with error: ' + err
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %7)"];
  Node70602 [label="id:2
      return"];
  Node70600 -> Node70602;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.%AM0$recover(unknown)" {
  label="@ts_files/67.ts: UserFileModel.%AM0$recover(unknown)";
  Node46720 [label="id:0
      err = parameter0: unknown
      this = this: @ts_files/67.ts: UserFileModel
      %0 = 'album recoverPhotoAssets failed with error: ' + err
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %0)
      return"];
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.%AM1$recover()" {
  label="@ts_files/67.ts: UserFileModel.%AM1$recover()";
  Node38890 [label="id:0
      this = this: @ts_files/67.ts: UserFileModel
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, 'album recoverPhotoAssets successfully')
      return"];
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.%AM2$permanentDelete(unknown)" {
  label="@ts_files/67.ts: UserFileModel.%AM2$permanentDelete(unknown)";
  Node54810 [label="id:0
      err = parameter0: unknown
      this = this: @ts_files/67.ts: UserFileModel
      %0 = 'album deletePhotoAssets failed with error: ' + err
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %0)
      return"];
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.%AM3$permanentDelete()" {
  label="@ts_files/67.ts: UserFileModel.%AM3$permanentDelete()";
  Node46980 [label="id:0
      this = this: @ts_files/67.ts: UserFileModel
      instanceinvoke Log.<@%unk/%unk: .debug()>('album deletePhotoAssets successfully')
      return"];
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.%AM4$deleteAlbum(unknown)" {
  label="@ts_files/67.ts: UserFileModel.%AM4$deleteAlbum(unknown)";
  Node50420 [label="id:0
      err = parameter0: unknown
      this = this: @ts_files/67.ts: UserFileModel
      %0 = 'deletePhotoAlbumsPromise failed with err: ' + err
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %0)
      return"];
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.%AM5$deleteAlbum()" {
  label="@ts_files/67.ts: UserFileModel.%AM5$deleteAlbum()";
  Node42590 [label="id:0
      this = this: @ts_files/67.ts: UserFileModel
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'deletePhotoAlbumsPromise successfully')
      return"];
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.%AM7$%AM6$addPhotoToAlbumByUserFileMgr(unknown)" {
  label="@ts_files/67.ts: UserFileModel.%AM7$%AM6$addPhotoToAlbumByUserFileMgr(unknown)";
  Node69810 [label="id:0
      err = parameter0: unknown
      this = this: @ts_files/67.ts: UserFileModel
      %0 = 'album addPhotoAssets failed with error: ' + err
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %0)
      return"];
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.%AM8$%AM6$addPhotoToAlbumByUserFileMgr()" {
  label="@ts_files/67.ts: UserFileModel.%AM8$%AM6$addPhotoToAlbumByUserFileMgr()";
  Node61980 [label="id:0
      this = this: @ts_files/67.ts: UserFileModel
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'album addPhotoAssets successfully')
      return"];
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.%AM6$addPhotoToAlbumByUserFileMgr(unknown, unknown)" {
  label="@ts_files/67.ts: UserFileModel.%AM6$addPhotoToAlbumByUserFileMgr(unknown, unknown)";
  Node75710 [label="id:0
      err = parameter0: unknown
      fetchResult = parameter1: unknown
      this = this: @ts_files/67.ts: UserFileModel
      if fetchResult != undefined"];
  Node75711 [label="id:1
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'fetchResult success')
      fileAsset = await instanceinvoke fetchResult.<@%unk/%unk: .getFirstObject()>()
      if fileAsset != undefined"];
  Node75712 [label="id:2
      %0 = fileAsset.<@%unk/%unk: .displayName>
      %1 = 'addPhotoToAlbumByUserFileMgr photo displayName : ' + %0
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %1)
      %2 = newarray (unknown)[1]
      %2[0] = fileAsset
      %3 = instanceinvoke album.<@%unk/%unk: .addAssets()>(%2)
      %4 = instanceinvoke %3.<@%unk/%unk: .then()>(%AM8$%AM6$addPhotoToAlbumByUserFileMgr)
      instanceinvoke %4.<@%unk/%unk: .catch()>(%AM7$%AM6$addPhotoToAlbumByUserFileMgr)"];
  Node75713 [label="id:3
      instanceinvoke fetchResult.<@%unk/%unk: .close()>()"];
  Node75714 [label="id:4
      %5 = 'fetchResult fail' + err
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %5)"];
  Node75715 [label="id:5
      return"];
  Node75710 -> Node75711;
  Node75710 -> Node75714;
  Node75711 -> Node75712;
  Node75711 -> Node75713;
  Node75712 -> Node75713;
  Node75713 -> Node75715;
  Node75714 -> Node75715;
}
}
