digraph "67.ts" {
subgraph "cluster_@ts_files/67.ts: %dflt.[static]%dflt()" {
  label="@ts_files/67.ts: %dflt.[static]%dflt()";
  Node33290 [label="id:0
      this = this: @ts_files/67.ts: %dflt
      TAG = 'UserFileModel'
      %0 = new @ts_files/67.ts: UserFileModel
      instanceinvoke %0.<@ts_files/67.ts: UserFileModel.constructor()>()
      userFileModel = staticinvoke <@%unk/%unk: .stashOrGetObject()>(%0, TAG)
      return"];
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.constructor()" {
  label="@ts_files/67.ts: UserFileModel.constructor()";
  Node40890 [label="id:0
      this = this: @ts_files/67.ts: UserFileModel
      instanceinvoke this.<@ts_files/67.ts: UserFileModel.%instInit()>()
      return"];
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.onCreate(unknown)" {
  label="@ts_files/67.ts: UserFileModel.onCreate(unknown)";
  Node44680 [label="id:0
      context = parameter0: unknown
      this = this: @ts_files/67.ts: UserFileModel
      %0 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      if %0 == undefined"];
  Node44681 [label="id:1
      %1 = instanceinvoke photoAccessHelper.<@%unk/%unk: .getPhotoAccessHelper()>(context)
      this.<@ts_files/67.ts: UserFileModel.userFileMgr> = %1"];
  Node44682 [label="id:2
      return"];
  Node44680 -> Node44681;
  Node44680 -> Node44682;
  Node44681 -> Node44682;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.getUserFileMgr()" {
  label="@ts_files/67.ts: UserFileModel.getUserFileMgr()";
  Node42800 [label="id:0
      this = this: @ts_files/67.ts: UserFileModel
      %0 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      return %0"];
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.createOne(string, string)" {
  label="@ts_files/67.ts: UserFileModel.createOne(string, string)";
  Node51870 [label="id:0
      displayName = parameter0: string
      albumUri = parameter1: string
      this = this: @ts_files/67.ts: UserFileModel
      %0 = 'createOne displayName:' + displayName
      %1 = %0 + ' albumUri: '
      %2 = %1 + albumUri
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %2)
      %3 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      %4 = instanceinvoke %3.<@%unk/%unk: .createAsset()>(displayName, albumUri)
      fileAsset = await %4
      %5 = instanceinvoke this.<@ts_files/67.ts: UserFileModel.getUserAlbumItemByUri(string)>(albumUri)
      album = await %5
      %6 = newarray (unknown)[1]
      %6[0] = fileAsset
      %7 = instanceinvoke album.<@%unk/%unk: .addAssets()>(%6)
      %8 = await %7
      return fileAsset"];
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.getUserAlbumItemByUri(string)" {
  label="@ts_files/67.ts: UserFileModel.getUserAlbumItemByUri(string)";
  Node56520 [label="id:0
      uri = parameter0: string
      this = this: @ts_files/67.ts: UserFileModel
      fetchResult = null
      album = null"];
  Node56521 [label="id:1
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'getUserAlbumItemByUri')
      %0 = new @%unk/%unk: dataSharePredicates.DataSharePredicates
      instanceinvoke %0.<@%unk/%unk: dataSharePredicates.DataSharePredicates.constructor()>()
      predicates = %0
      %1 = photoAccessHelper.<@%unk/%unk: .AlbumKeys>
      %2 = %1.<@%unk/%unk: .URI>
      instanceinvoke predicates.<@%unk/%unk: .equalTo()>(%2, uri)
      %3 = new @ts_files/67.ts: %AC$UserFileModel$getUserAlbumItemByUri$0
      instanceinvoke %3.<@ts_files/67.ts: %AC$UserFileModel$getUserAlbumItemByUri$0.constructor()>()
      fetchOptions = %3
      %4 = photoAccessHelper.<@%unk/%unk: .AlbumType>
      %5 = %4.<@%unk/%unk: .USER>
      %6 = photoAccessHelper.<@%unk/%unk: .AlbumSubtype>
      %7 = %6.<@%unk/%unk: .USER_GENERIC>
      %8 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      %9 = instanceinvoke %8.<@%unk/%unk: .getAlbums()>(%5, %7, fetchOptions)
      fetchResult = await %9
      %10 = instanceinvoke fetchResult.<@%unk/%unk: .getCount()>()
      %11 = 'get Album fetchResult, count: ' + %10
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %11)
      %12 = instanceinvoke fetchResult.<@%unk/%unk: .getCount()>()
      if %12 > 0"];
  Node56522 [label="id:2
      album = instanceinvoke fetchResult.<@%unk/%unk: .getFirstObject()>()"];
  Node56523 [label="id:3
      if fetchResult != null"];
  Node56524 [label="id:4
      instanceinvoke fetchResult.<@%unk/%unk: .close()>()"];
  Node56525 [label="id:5
      return album"];
  Node56526 [label="id:6
      err = caughtexception: unknown
      %13 = 'get Album fetchResult failed with err: ' + err
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %13)"];
  Node56527 [label="id:7
      %14 = caughtexception: unknown
      if fetchResult != null"];
  Node56528 [label="id:8
      instanceinvoke fetchResult.<@%unk/%unk: .close()>()"];
  Node56529 [label="id:9
      return album
      throw %14"];
  Node56520 -> Node56521;
  Node56521 -> Node56522;
  Node56521 -> Node56523;
  Node56522 -> Node56523;
  Node56522 -> Node56526[style="dotted"];
  Node56523 -> Node56524;
  Node56523 -> Node56525;
  Node56524 -> Node56525;
  Node56526 -> Node56523;
  Node56526 -> Node56527[style="dotted"];
  Node56527 -> Node56528;
  Node56527 -> Node56529;
  Node56528 -> Node56529;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.copyOne(photoAccessHelper.PhotoAsset, photoAccessHelper.PhotoAsset)" {
  label="@ts_files/67.ts: UserFileModel.copyOne(photoAccessHelper.PhotoAsset, photoAccessHelper.PhotoAsset)";
  Node93480 [label="id:0
      source = parameter0: photoAccessHelper.PhotoAsset
      target = parameter1: photoAccessHelper.PhotoAsset
      this = this: @ts_files/67.ts: UserFileModel
      %0 = source.<@%unk/%unk: .uri>
      %1 = 'copy start: src:' + %0
      %2 = %1 + ' target: '
      %3 = target.<@%unk/%unk: .uri>
      %4 = %2 + %3
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %4)
      %5 = instanceinvoke this.<@ts_files/67.ts: UserFileModel.openAsset(string, photoAccessHelper.PhotoAsset)>('R', source)
      fd = await %5
      if fd <= 0"];
  Node93481 [label="id:1
      %6 = new @%unk/%unk: Error
      instanceinvoke %6.<@%unk/%unk: Error.constructor()>('fd is invalid')
      throw %6"];
  Node93482 [label="id:2
      %7 = instanceinvoke this.<@ts_files/67.ts: UserFileModel.openAsset(string, photoAccessHelper.PhotoAsset)>('RW', target)
      targetFd = await %7
      if targetFd <= 0"];
  Node93483 [label="id:3
      %8 = new @%unk/%unk: Error
      instanceinvoke %8.<@%unk/%unk: Error.constructor()>('targetFd is invalid')
      throw %8"];
  Node93484 [label="id:4
      %9 = instanceinvoke fileIO.<@%unk/%unk: .copyFile()>(fd, targetFd)
      %10 = await %9
      %11 = instanceinvoke this.<@ts_files/67.ts: UserFileModel.closeAsset(number, photoAccessHelper.PhotoAsset)>(fd, source)
      %12 = await %11
      %13 = instanceinvoke this.<@ts_files/67.ts: UserFileModel.closeAsset(number, photoAccessHelper.PhotoAsset)>(targetFd, target)
      %14 = await %13
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, 'copy end')
      return"];
  Node93480 -> Node93481;
  Node93480 -> Node93482;
  Node93481 -> Node93482;
  Node93482 -> Node93483;
  Node93482 -> Node93484;
  Node93483 -> Node93484;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.deleteOne(string)" {
  label="@ts_files/67.ts: UserFileModel.deleteOne(string)";
  Node44470 [label="id:0
      uri = parameter0: string
      this = this: @ts_files/67.ts: UserFileModel
      %0 = 'deleteAsset uri: ' + uri
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, %0)"];
  Node44471 [label="id:1
      %1 = newarray (string)[1]
      %1[0] = uri
      %2 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      %3 = instanceinvoke %2.<@%unk/%unk: .deleteAssets()>(%1)
      %4 = await %3"];
  Node44472 [label="id:2
      err = caughtexception: unknown
      %5 = 'deleteOne with error: ' + err
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %5)"];
  Node44473 [label="id:3
      return"];
  Node44470 -> Node44471;
  Node44471 -> Node44473;
  Node44471 -> Node44472[style="dotted"];
  Node44472 -> Node44473;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.recover(photoAccessHelper.PhotoAsset)" {
  label="@ts_files/67.ts: UserFileModel.recover(photoAccessHelper.PhotoAsset)";
  Node64610 [label="id:0
      fileAsset = parameter0: photoAccessHelper.PhotoAsset
      this = this: @ts_files/67.ts: UserFileModel
      albumFetchResult = null"];
  Node64611 [label="id:1
      %0 = fileAsset.<@%unk/%unk: .displayName>
      %1 = 'recoverPhotoAssetsDemoPromise:' + %0
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, %1)
      %2 = photoAccessHelper.<@%unk/%unk: .AlbumType>
      %3 = %2.<@%unk/%unk: .SYSTEM>
      %4 = photoAccessHelper.<@%unk/%unk: .AlbumSubtype>
      %5 = %4.<@%unk/%unk: .TRASH>
      %6 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      %7 = instanceinvoke %6.<@%unk/%unk: .getAlbums()>(%3, %5)
      albumFetchResult = await %7
      %8 = instanceinvoke albumFetchResult.<@%unk/%unk: .getFirstObject()>()
      album = await %8
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, 'album  get')
      %9 = newarray (photoAccessHelper.PhotoAsset)[1]
      %9[0] = fileAsset
      %10 = instanceinvoke album.<@%unk/%unk: .recoverAssets()>(%9)
      %11 = instanceinvoke %10.<@%unk/%unk: .then()>(%AM1$recover)
      instanceinvoke %11.<@%unk/%unk: .catch()>(%AM0$recover)"];
  Node64612 [label="id:2
      err = caughtexception: unknown
      %12 = 'recoverPhotoAssetsDemoPromise failed with error: ' + err
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %12)"];
  Node64613 [label="id:3
      if albumFetchResult != null"];
  Node64614 [label="id:4
      instanceinvoke albumFetchResult.<@%unk/%unk: .close()>()"];
  Node64615 [label="id:5
      return"];
  Node64616 [label="id:6
      %13 = caughtexception: unknown
      if albumFetchResult != null"];
  Node64617 [label="id:7
      instanceinvoke albumFetchResult.<@%unk/%unk: .close()>()"];
  Node64618 [label="id:8
      return
      throw %13"];
  Node64610 -> Node64611;
  Node64611 -> Node64613;
  Node64611 -> Node64612[style="dotted"];
  Node64612 -> Node64613;
  Node64612 -> Node64616[style="dotted"];
  Node64613 -> Node64614;
  Node64613 -> Node64615;
  Node64614 -> Node64615;
  Node64616 -> Node64617;
  Node64616 -> Node64618;
  Node64617 -> Node64618;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.permanentDelete(photoAccessHelper.PhotoAsset)" {
  label="@ts_files/67.ts: UserFileModel.permanentDelete(photoAccessHelper.PhotoAsset)";
  Node72680 [label="id:0
      fileAsset = parameter0: photoAccessHelper.PhotoAsset
      this = this: @ts_files/67.ts: UserFileModel
      albumFetchResult = null"];
  Node72681 [label="id:1
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, 'permanentDelete')
      %0 = photoAccessHelper.<@%unk/%unk: .AlbumType>
      %1 = %0.<@ts_files/67.ts: UserFileModel.SYSTEM>
      %2 = photoAccessHelper.<@%unk/%unk: .AlbumSubtype>
      %3 = %2.<@%unk/%unk: .TRASH>
      %4 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      %5 = instanceinvoke %4.<@%unk/%unk: .getAlbums()>(%1, %3)
      albumFetchResult = await %5
      %6 = instanceinvoke albumFetchResult.<@%unk/%unk: .getFirstObject()>()
      album = await %6
      %7 = newarray (photoAccessHelper.PhotoAsset)[1]
      %7[0] = fileAsset
      %8 = instanceinvoke album.<@%unk/%unk: .deleteAssets()>(%7)
      %9 = instanceinvoke %8.<@%unk/%unk: .then()>(%AM3$permanentDelete)
      instanceinvoke %9.<@%unk/%unk: .catch()>(%AM2$permanentDelete)"];
  Node72682 [label="id:2
      err = caughtexception: unknown
      %10 = 'permanentDelete failed with error: ' + err
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %10)"];
  Node72683 [label="id:3
      if albumFetchResult != null"];
  Node72684 [label="id:4
      instanceinvoke albumFetchResult.<@%unk/%unk: .close()>()"];
  Node72685 [label="id:5
      return"];
  Node72686 [label="id:6
      %11 = caughtexception: unknown
      if albumFetchResult != null"];
  Node72687 [label="id:7
      instanceinvoke albumFetchResult.<@%unk/%unk: .close()>()"];
  Node72688 [label="id:8
      return
      throw %11"];
  Node72680 -> Node72681;
  Node72681 -> Node72683;
  Node72681 -> Node72682[style="dotted"];
  Node72682 -> Node72683;
  Node72682 -> Node72686[style="dotted"];
  Node72683 -> Node72684;
  Node72683 -> Node72685;
  Node72684 -> Node72685;
  Node72686 -> Node72687;
  Node72686 -> Node72688;
  Node72687 -> Node72688;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.createAlbum(string)" {
  label="@ts_files/67.ts: UserFileModel.createAlbum(string)";
  Node46550 [label="id:0
      albumName = parameter0: string
      this = this: @ts_files/67.ts: UserFileModel
      newAlbum = undefined"];
  Node46551 [label="id:1
      %0 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      %1 = instanceinvoke %0.<@%unk/%unk: .createAlbum()>(albumName)
      album = await %1
      %2 = new @%unk/%unk: SimpleAlbumDataItem
      %3 = MediaConstants.<@%unk/%unk: .ALBUM_ID_USER>
      %4 = album.<@%unk/%unk: .albumUri>
      %5 = MediaConstants.<@%unk/%unk: .ALBUM_TYPE_USER>
      %6 = MediaConstants.<@%unk/%unk: .ALBUM_SUBTYPE_USER_GENERIC>
      instanceinvoke %2.<@%unk/%unk: SimpleAlbumDataItem.constructor()>(%3, albumName, %4, '', '', %5, %6)
      newAlbum = %2"];
  Node46552 [label="id:2
      err = caughtexception: unknown
      %7 = 'createAlbum failed with error: ' + err
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %7)"];
  Node46553 [label="id:3
      return newAlbum"];
  Node46550 -> Node46551;
  Node46551 -> Node46553;
  Node46551 -> Node46552[style="dotted"];
  Node46552 -> Node46553;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.deleteAlbum(string)" {
  label="@ts_files/67.ts: UserFileModel.deleteAlbum(string)";
  Node46540 [label="id:0
      albumName = parameter0: string
      this = this: @ts_files/67.ts: UserFileModel
      fetchResult = null"];
  Node46541 [label="id:1
      %0 = new @%unk/%unk: dataSharePredicates.DataSharePredicates
      instanceinvoke %0.<@%unk/%unk: dataSharePredicates.DataSharePredicates.constructor()>()
      predicates = %0
      %1 = photoAccessHelper.<@%unk/%unk: .AlbumKeys>
      %2 = %1.<@%unk/%unk: .ALBUM_NAME>
      instanceinvoke predicates.<@%unk/%unk: .equalTo()>(%2, albumName)
      %3 = new @ts_files/67.ts: %AC$UserFileModel$deleteAlbum$1
      instanceinvoke %3.<@ts_files/67.ts: %AC$UserFileModel$deleteAlbum$1.constructor()>()
      fetchOptions = %3
      %4 = photoAccessHelper.<@%unk/%unk: .AlbumType>
      %5 = %4.<@%unk/%unk: .USER>
      %6 = photoAccessHelper.<@%unk/%unk: .AlbumSubtype>
      %7 = %6.<@%unk/%unk: .USER_GENERIC>
      %8 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      %9 = instanceinvoke %8.<@%unk/%unk: .getAlbums()>(%5, %7, fetchOptions)
      fetchResult = await %9
      i = 0"];
  Node46542 [label="id:2
      %10 = instanceinvoke fetchResult.<@%unk/%unk: .getCount()>()
      if i < %10"];
  Node46543 [label="id:3
      %11 = instanceinvoke fetchResult.<@%unk/%unk: .getObjectByPosition()>(i)
      albumAsset = await %11
      %12 = albumAsset.<@%unk/%unk: .albumUri>
      %13 = 'deleteAlbum albumUri' + %12
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %13)
      %14 = albumAsset.<@%unk/%unk: .albumName>
      %15 = 'deleteAlbum albumName' + %14
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %15)
      %16 = newarray (unknown)[1]
      %16[0] = albumAsset
      %17 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      %18 = instanceinvoke %17.<@%unk/%unk: .deleteAlbums()>(%16)
      %19 = instanceinvoke %18.<@%unk/%unk: .then()>(%AM5$deleteAlbum)
      instanceinvoke %19.<@%unk/%unk: .catch()>(%AM4$deleteAlbum)
      i = i + 1"];
  Node46544 [label="id:4
      if fetchResult != null"];
  Node46545 [label="id:5
      instanceinvoke fetchResult.<@%unk/%unk: .close()>()"];
  Node46546 [label="id:6
      err = caughtexception: unknown
      %20 = 'deletePhotoAlbumsPromise failed with error: ' + err
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %20)"];
  Node46547 [label="id:7
      return"];
  Node46548 [label="id:8
      %21 = caughtexception: unknown
      if fetchResult != null"];
  Node46549 [label="id:9
      instanceinvoke fetchResult.<@%unk/%unk: .close()>()"];
  Node465410 [label="id:10
      return
      throw %21"];
  Node46540 -> Node46541;
  Node46541 -> Node46542;
  Node46542 -> Node46543;
  Node46542 -> Node46544;
  Node46543 -> Node46542;
  Node46544 -> Node46545;
  Node46544 -> Node46547;
  Node46545 -> Node46547;
  Node46546 -> Node46544;
  Node46546 -> Node46548[style="dotted"];
  Node46548 -> Node46549;
  Node46548 -> Node465410;
  Node46549 -> Node465410;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.deleteAll(photoAccessHelper.FetchOptions)" {
  label="@ts_files/67.ts: UserFileModel.deleteAll(photoAccessHelper.FetchOptions)";
  Node68150 [label="id:0
      fetchOption = parameter0: photoAccessHelper.FetchOptions
      this = this: @ts_files/67.ts: UserFileModel
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'deleteAll')
      fetchFileResult = null"];
  Node68151 [label="id:1
      %0 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      %1 = instanceinvoke %0.<@%unk/%unk: .getAssets()>(fetchOption)
      fetchFileResult = await %1
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, 'deleteAll getPhotoAssets')
      deleteAllGetAllObject = staticinvoke <@%unk/%unk: .hiSysEventDataQueryTimedOut()>('deleteAllGetAllObject')
      %2 = instanceinvoke fetchFileResult.<@%unk/%unk: .getAllObject()>()
      fileAssets = await %2
      staticinvoke <@%unk/%unk: .clearTimeout()>(deleteAllGetAllObject)
      i = 0"];
  Node68152 [label="id:2
      %3 = fileAssets.<@%unk/%unk: .length>
      if i < %3"];
  Node68153 [label="id:3
      %4 = fileAssets[i]
      %5 = %4.<@%unk/%unk: .uri>
      %6 = instanceinvoke this.<@ts_files/67.ts: UserFileModel.deleteOne(string)>(%5)
      %7 = await %6
      i = i + 1"];
  Node68154 [label="id:4
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, 'deleteAll getFirstObject')"];
  Node68155 [label="id:5
      err = caughtexception: unknown
      %8 = instanceinvoke JSON.<@%unk/%unk: .stringify()>(err)
      %9 = 'deleteAll error:' + %8
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %9)"];
  Node68156 [label="id:6
      if fetchFileResult != null"];
  Node68157 [label="id:7
      instanceinvoke fetchFileResult.<@%unk/%unk: .close()>()"];
  Node68158 [label="id:8
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, 'deleteAll finish')
      return"];
  Node68159 [label="id:9
      %10 = caughtexception: unknown
      if fetchFileResult != null"];
  Node681510 [label="id:10
      instanceinvoke fetchFileResult.<@%unk/%unk: .close()>()"];
  Node681511 [label="id:11
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, 'deleteAll finish')
      return
      throw %10"];
  Node68150 -> Node68151;
  Node68151 -> Node68152;
  Node68152 -> Node68153;
  Node68152 -> Node68154;
  Node68153 -> Node68152;
  Node68154 -> Node68156;
  Node68154 -> Node68155[style="dotted"];
  Node68155 -> Node68156;
  Node68155 -> Node68159[style="dotted"];
  Node68156 -> Node68157;
  Node68156 -> Node68158;
  Node68157 -> Node68158;
  Node68159 -> Node681510;
  Node68159 -> Node681511;
  Node681510 -> Node681511;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.getAllMediaItems()" {
  label="@ts_files/67.ts: UserFileModel.getAllMediaItems()";
  Node44620 [label="id:0
      this = this: @ts_files/67.ts: UserFileModel
      %0 = newarray (any)[0]
      fileAssets = %0
      photoFetchResult = null"];
  Node44621 [label="id:1
      %1 = new @%unk/%unk: dataSharePredicates.DataSharePredicates
      instanceinvoke %1.<@%unk/%unk: dataSharePredicates.DataSharePredicates.constructor()>()
      predicates = %1
      %2 = photoAccessHelper.<@%unk/%unk: .PhotoKeys>
      %3 = %2.<@%unk/%unk: .DATE_ADDED>
      instanceinvoke predicates.<@%unk/%unk: .orderByDesc()>(%3)
      %4 = new @ts_files/67.ts: %AC$UserFileModel$getAllMediaItems$2
      instanceinvoke %4.<@ts_files/67.ts: %AC$UserFileModel$getAllMediaItems$2.constructor()>()
      emptyFetchOption = %4
      %5 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      %6 = instanceinvoke %5.<@%unk/%unk: .getAssets()>(emptyFetchOption)
      photoFetchResult = await %6
      %7 = instanceinvoke photoFetchResult.<@%unk/%unk: .getCount()>()
      %8 = 'getAllMediaItems count: ' + %7
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %8)
      i = 0"];
  Node44622 [label="id:2
      %9 = instanceinvoke photoFetchResult.<@%unk/%unk: .getCount()>()
      if i < %9"];
  Node44623 [label="id:3
      %10 = instanceinvoke photoFetchResult.<@%unk/%unk: .getObjectByPosition()>(i)
      instanceinvoke fileAssets.<@%unk/%unk: .push()>(await %10)
      i = i + 1"];
  Node44624 [label="id:4
      if photoFetchResult != null"];
  Node44625 [label="id:5
      instanceinvoke photoFetchResult.<@%unk/%unk: .close()>()"];
  Node44626 [label="id:6
      return fileAssets"];
  Node44627 [label="id:7
      err = caughtexception: unknown
      %11 = 'getAllMediaItems failed with err: ' + err
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %11)"];
  Node44628 [label="id:8
      %12 = caughtexception: unknown
      if photoFetchResult != null"];
  Node44629 [label="id:9
      instanceinvoke photoFetchResult.<@%unk/%unk: .close()>()"];
  Node446210 [label="id:10
      return fileAssets
      throw %12"];
  Node44620 -> Node44621;
  Node44621 -> Node44622;
  Node44622 -> Node44623;
  Node44622 -> Node44624;
  Node44623 -> Node44622;
  Node44624 -> Node44625;
  Node44624 -> Node44626;
  Node44625 -> Node44626;
  Node44627 -> Node44624;
  Node44627 -> Node44628[style="dotted"];
  Node44628 -> Node44629;
  Node44628 -> Node446210;
  Node44629 -> Node446210;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.getAllMovingPhotoItems()" {
  label="@ts_files/67.ts: UserFileModel.getAllMovingPhotoItems()";
  Node51280 [label="id:0
      this = this: @ts_files/67.ts: UserFileModel
      %0 = newarray (any)[0]
      fileAssets = %0
      photoFetchResult = null"];
  Node51281 [label="id:1
      %1 = new @%unk/%unk: dataSharePredicates.DataSharePredicates
      instanceinvoke %1.<@%unk/%unk: dataSharePredicates.DataSharePredicates.constructor()>()
      predicates = %1
      %2 = MediaConstants.<@%unk/%unk: .PHOTO_SUBTYPE>
      %3 = MediaConstants.<@%unk/%unk: .MOVING_PHOTO>
      instanceinvoke predicates.<@%unk/%unk: .equalTo()>(%2, %3)
      %4 = photoAccessHelper.<@%unk/%unk: .PhotoKeys>
      %5 = %4.<@%unk/%unk: .DATE_ADDED>
      instanceinvoke predicates.<@%unk/%unk: .orderByDesc()>(%5)
      %6 = new @ts_files/67.ts: %AC$UserFileModel$getAllMovingPhotoItems$3
      instanceinvoke %6.<@ts_files/67.ts: %AC$UserFileModel$getAllMovingPhotoItems$3.constructor()>()
      fetchOptions = %6
      %7 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      %8 = instanceinvoke %7.<@%unk/%unk: .getAssets()>(fetchOptions)
      photoFetchResult = await %8
      %9 = instanceinvoke photoFetchResult.<@%unk/%unk: .getCount()>()
      %10 = 'getAllMovingPhotoItems count: ' + %9
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %10)
      i = 0"];
  Node51282 [label="id:2
      %11 = instanceinvoke photoFetchResult.<@%unk/%unk: .getCount()>()
      if i < %11"];
  Node51283 [label="id:3
      %12 = instanceinvoke photoFetchResult.<@%unk/%unk: .getObjectByPosition()>(i)
      instanceinvoke fileAssets.<@%unk/%unk: .push()>(await %12)
      i = i + 1"];
  Node51284 [label="id:4
      if photoFetchResult != null"];
  Node51285 [label="id:5
      instanceinvoke photoFetchResult.<@%unk/%unk: .close()>()"];
  Node51286 [label="id:6
      return fileAssets"];
  Node51287 [label="id:7
      err = caughtexception: unknown
      %13 = 'getAllMovingPhotoItems failed with err: ' + err
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %13)"];
  Node51288 [label="id:8
      %14 = caughtexception: unknown
      if photoFetchResult != null"];
  Node51289 [label="id:9
      instanceinvoke photoFetchResult.<@%unk/%unk: .close()>()"];
  Node512810 [label="id:10
      return fileAssets
      throw %14"];
  Node51280 -> Node51281;
  Node51281 -> Node51282;
  Node51282 -> Node51283;
  Node51282 -> Node51284;
  Node51283 -> Node51282;
  Node51284 -> Node51285;
  Node51284 -> Node51286;
  Node51285 -> Node51286;
  Node51287 -> Node51284;
  Node51287 -> Node51288[style="dotted"];
  Node51288 -> Node51289;
  Node51288 -> Node512810;
  Node51289 -> Node512810;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.getAllMediaItemsByType(number, number, unknown, unknown)" {
  label="@ts_files/67.ts: UserFileModel.getAllMediaItemsByType(number, number, unknown, unknown)";
  Node81610 [label="id:0
      type = parameter0: number
      subType = parameter1: number
      albumFetchOption = parameter2: unknown
      fileFetchOption = parameter3: unknown
      this = this: @ts_files/67.ts: UserFileModel
      %0 = newarray (any)[0]
      fileAssets = %0
      fetchResult = null"];
  Node81611 [label="id:1
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'getAllMediaItemsByUserFile')
      %1 = 'type:' + type
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %1)
      %2 = 'subType:' + subType
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %2)
      %3 = photoAccessHelper.<@%unk/%unk: .AlbumType>
      %4 = %3.<@%unk/%unk: .USER>
      %5 = type === %4
      %6 = albumFetchOption != null
      %7 = %5 && %6
      if %7 != false"];
  Node81612 [label="id:2
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'albumFetchOption ！= null')
      %8 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      %9 = instanceinvoke %8.<@%unk/%unk: .getAlbums()>(type, subType, albumFetchOption)
      fetchResult = await %9"];
  Node81613 [label="id:3
      %10 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      %11 = instanceinvoke %10.<@%unk/%unk: .getAlbums()>(type, subType)
      fetchResult = await %11"];
  Node81614 [label="id:4
      %12 = instanceinvoke fetchResult.<@%unk/%unk: .getCount()>()
      %13 = 'get Album fetchResult, count: ' + %12
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %13)
      i = 0"];
  Node81615 [label="id:5
      %14 = instanceinvoke fetchResult.<@%unk/%unk: .getCount()>()
      if i < %14"];
  Node81616 [label="id:6
      %15 = instanceinvoke fetchResult.<@%unk/%unk: .getObjectByPosition()>(i)
      albumAsset = await %15
      photoFetchResult = null"];
  Node81617 [label="id:7
      %16 = instanceinvoke albumAsset.<@%unk/%unk: .getAssets()>(fileFetchOption)
      photoFetchResult = await %16
      i = 0"];
  Node81618 [label="id:8
      %17 = instanceinvoke photoFetchResult.<@%unk/%unk: .getCount()>()
      if i < %17"];
  Node81619 [label="id:9
      %18 = instanceinvoke photoFetchResult.<@%unk/%unk: .getObjectByPosition()>(i)
      photoAsset = await %18
      instanceinvoke fileAssets.<@%unk/%unk: .push()>(photoAsset)
      %19 = photoAsset.<@%unk/%unk: .displayName>
      %20 = 'getPhotoAssets successfully, file displayName: ' + %19
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %20)
      i = i + 1"];
  Node816110 [label="id:10
      if photoFetchResult != null"];
  Node816111 [label="id:11
      instanceinvoke photoFetchResult.<@%unk/%unk: .close()>()"];
  Node816112 [label="id:12
      err = caughtexception: unknown
      %21 = 'get Album getPhotoAssets failed with err: ' + err
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %21)"];
  Node816113 [label="id:13
      if fetchResult != null"];
  Node816114 [label="id:14
      instanceinvoke fetchResult.<@%unk/%unk: .close()>()"];
  Node816115 [label="id:15
      %22 = fileAssets.<@%unk/%unk: .length>
      %23 = 'fileAssets: ' + %22
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %23)
      return fileAssets"];
  Node816116 [label="id:16
      err = caughtexception: unknown
      %24 = 'get Album fetchResult failed with err: ' + err
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %24)"];
  Node816117 [label="id:17
      i = i + 1"];
  Node816118 [label="id:18
      %25 = caughtexception: unknown
      if fetchResult != null"];
  Node816119 [label="id:19
      instanceinvoke fetchResult.<@%unk/%unk: .close()>()"];
  Node816120 [label="id:20
      %22 = fileAssets.<@%unk/%unk: .length>
      %23 = 'fileAssets: ' + %22
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %23)
      return fileAssets
      throw %25"];
  Node816121 [label="id:21
      %26 = caughtexception: unknown
      if photoFetchResult != null"];
  Node816122 [label="id:22
      instanceinvoke photoFetchResult.<@%unk/%unk: .close()>()"];
  Node816123 [label="id:23
      i = i + 1
      throw %26"];
  Node81610 -> Node81611;
  Node81611 -> Node81612;
  Node81611 -> Node81613;
  Node81612 -> Node81614;
  Node81613 -> Node81614;
  Node81614 -> Node81615;
  Node81615 -> Node81616;
  Node81615 -> Node816113;
  Node81616 -> Node81617;
  Node81617 -> Node81618;
  Node81618 -> Node81619;
  Node81618 -> Node816110;
  Node81619 -> Node81618;
  Node816110 -> Node816111;
  Node816110 -> Node816117;
  Node816111 -> Node816117;
  Node816112 -> Node816110;
  Node816112 -> Node816121[style="dotted"];
  Node816113 -> Node816114;
  Node816113 -> Node816115;
  Node816114 -> Node816115;
  Node816116 -> Node816113;
  Node816116 -> Node816118[style="dotted"];
  Node816117 -> Node81615;
  Node816118 -> Node816119;
  Node816118 -> Node816120;
  Node816119 -> Node816120;
  Node816121 -> Node816122;
  Node816121 -> Node816123;
  Node816122 -> Node816123;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.getMediaItemByUriFromTrash(string)" {
  label="@ts_files/67.ts: UserFileModel.getMediaItemByUriFromTrash(string)";
  Node61380 [label="id:0
      uri = parameter0: string
      this = this: @ts_files/67.ts: UserFileModel
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'getMediaItemByUriFromTrash')
      %0 = 'uri:' + uri
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %0)
      albumFetchResult = null
      fileAsset = null"];
  Node61381 [label="id:1
      %1 = photoAccessHelper.<@%unk/%unk: .AlbumType>
      %2 = %1.<@%unk/%unk: .SYSTEM>
      %3 = photoAccessHelper.<@%unk/%unk: .AlbumSubtype>
      %4 = %3.<@%unk/%unk: .TRASH>
      %5 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      %6 = instanceinvoke %5.<@%unk/%unk: .getAlbums()>(%2, %4)
      albumFetchResult = await %6
      %7 = instanceinvoke albumFetchResult.<@%unk/%unk: .getFirstObject()>()
      albumAsset = await %7
      photoFetchResult = null"];
  Node61382 [label="id:2
      %8 = new @%unk/%unk: dataSharePredicates.DataSharePredicates
      instanceinvoke %8.<@%unk/%unk: dataSharePredicates.DataSharePredicates.constructor()>()
      predicates = %8
      %9 = new @ts_files/67.ts: %AC$UserFileModel$getMediaItemByUriFromTrash$4
      instanceinvoke %9.<@ts_files/67.ts: %AC$UserFileModel$getMediaItemByUriFromTrash$4.constructor()>()
      emptyFetchOption = %9
      %10 = instanceinvoke albumAsset.<@%unk/%unk: .getAssets()>(emptyFetchOption)
      photoFetchResult = await %10
      i = 0"];
  Node61383 [label="id:3
      %11 = instanceinvoke photoFetchResult.<@%unk/%unk: .getCount()>()
      if i < %11"];
  Node61384 [label="id:4
      %12 = instanceinvoke photoFetchResult.<@%unk/%unk: .getObjectByPosition()>(i)
      photoAsset = await %12
      %13 = photoAsset.<@%unk/%unk: .uri>
      if %13 === uri
      i = i + 1"];
  Node61385 [label="id:5
      fileAsset = photoAsset
      %14 = photoAsset.<@%unk/%unk: .displayName>
      %15 = 'getMediaItemByUriFromTrash success: ' + %14
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %15)"];
  Node61386 [label="id:6
      if photoFetchResult != null"];
  Node61387 [label="id:7
      instanceinvoke photoFetchResult.<@%unk/%unk: .close()>()"];
  Node61388 [label="id:8
      if albumFetchResult != null"];
  Node61389 [label="id:9
      instanceinvoke albumFetchResult.<@%unk/%unk: .close()>()"];
  Node613810 [label="id:10
      return fileAsset"];
  Node613811 [label="id:11
      err = caughtexception: unknown
      %16 = 'getMediaItemByUriFromTrash getPhotoAssets failed with err: ' + err
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %16)"];
  Node613812 [label="id:12
      err = caughtexception: unknown
      %17 = 'getMediaItemByUriFromTrash failed with error: ' + err
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %17)"];
  Node613813 [label="id:13
      %18 = caughtexception: unknown
      if albumFetchResult != null"];
  Node613814 [label="id:14
      instanceinvoke albumFetchResult.<@%unk/%unk: .close()>()"];
  Node613815 [label="id:15
      return fileAsset
      throw %18"];
  Node613816 [label="id:16
      %19 = caughtexception: unknown
      if photoFetchResult != null"];
  Node613817 [label="id:17
      instanceinvoke photoFetchResult.<@%unk/%unk: .close()>()"];
  Node613818 [label="id:18
      if albumFetchResult != null"];
  Node613819 [label="id:19
      instanceinvoke albumFetchResult.<@%unk/%unk: .close()>()"];
  Node613820 [label="id:20
      return fileAsset
      throw %19"];
  Node61380 -> Node61381;
  Node61381 -> Node61382;
  Node61382 -> Node61383;
  Node61383 -> Node61384;
  Node61383 -> Node61386;
  Node61384 -> Node61385;
  Node61384 -> Node61383;
  Node61385 -> Node61386;
  Node61385 -> Node613811[style="dotted"];
  Node61386 -> Node61387;
  Node61386 -> Node61388;
  Node61387 -> Node61388;
  Node61387 -> Node613812[style="dotted"];
  Node61388 -> Node61389;
  Node61388 -> Node613810;
  Node61389 -> Node613810;
  Node613811 -> Node61386;
  Node613811 -> Node613816[style="dotted"];
  Node613812 -> Node61388;
  Node613812 -> Node613813[style="dotted"];
  Node613813 -> Node613814;
  Node613813 -> Node613815;
  Node613814 -> Node613815;
  Node613816 -> Node613817;
  Node613816 -> Node613818;
  Node613817 -> Node613818;
  Node613818 -> Node613819;
  Node613818 -> Node613820;
  Node613819 -> Node613820;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.getMediaItemByUri(string)" {
  label="@ts_files/67.ts: UserFileModel.getMediaItemByUri(string)";
  Node52200 [label="id:0
      uri = parameter0: string
      this = this: @ts_files/67.ts: UserFileModel
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'getMediaItemByUri')
      %0 = 'uri:' + uri
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %0)
      %1 = new @%unk/%unk: dataSharePredicates.DataSharePredicates
      instanceinvoke %1.<@%unk/%unk: dataSharePredicates.DataSharePredicates.constructor()>()
      predicates = %1
      %2 = photoAccessHelper.<@%unk/%unk: .PhotoKeys>
      %3 = %2.<@%unk/%unk: .URI>
      instanceinvoke predicates.<@%unk/%unk: .equalTo()>(%3, uri)
      %4 = new @ts_files/67.ts: %AC$UserFileModel$getMediaItemByUri$5
      instanceinvoke %4.<@ts_files/67.ts: %AC$UserFileModel$getMediaItemByUri$5.constructor()>()
      fetchOptions = %4
      fileAsset = null
      fetchResult = null"];
  Node52201 [label="id:1
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'fetchResult start')
      %5 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      %6 = instanceinvoke %5.<@%unk/%unk: .getAssets()>(fetchOptions)
      fetchResult = await %6
      %7 = instanceinvoke fetchResult.<@%unk/%unk: .getCount()>()
      %8 = 'fetchResult count ' + %7
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %8)
      %9 = instanceinvoke fetchResult.<@%unk/%unk: .getFirstObject()>()
      fileAsset = await %9
      %10 = fileAsset.<@%unk/%unk: .displayName>
      %11 = 'fileAsset ' + %10
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %11)"];
  Node52202 [label="id:2
      err = caughtexception: unknown
      %12 = 'getMediaItemByUri failed, message = ' + err
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %12)"];
  Node52203 [label="id:3
      if fetchResult != null"];
  Node52204 [label="id:4
      instanceinvoke fetchResult.<@%unk/%unk: .close()>()"];
  Node52205 [label="id:5
      return fileAsset"];
  Node52206 [label="id:6
      %13 = caughtexception: unknown
      if fetchResult != null"];
  Node52207 [label="id:7
      instanceinvoke fetchResult.<@%unk/%unk: .close()>()"];
  Node52208 [label="id:8
      return fileAsset
      throw %13"];
  Node52200 -> Node52201;
  Node52201 -> Node52203;
  Node52201 -> Node52202[style="dotted"];
  Node52202 -> Node52203;
  Node52202 -> Node52206[style="dotted"];
  Node52203 -> Node52204;
  Node52203 -> Node52205;
  Node52204 -> Node52205;
  Node52206 -> Node52207;
  Node52206 -> Node52208;
  Node52207 -> Node52208;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.getMediaItemCountsByDisplayName(string)" {
  label="@ts_files/67.ts: UserFileModel.getMediaItemCountsByDisplayName(string)";
  Node66630 [label="id:0
      displayName = parameter0: string
      this = this: @ts_files/67.ts: UserFileModel
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'getMediaItemCountsByDisplayName')
      count = 0
      fetchFileResult = null
      %0 = new @%unk/%unk: dataSharePredicates.DataSharePredicates
      instanceinvoke %0.<@%unk/%unk: dataSharePredicates.DataSharePredicates.constructor()>()
      predicates = %0
      %1 = photoAccessHelper.<@%unk/%unk: .PhotoKeys>
      %2 = %1.<@%unk/%unk: .DISPLAY_NAME>
      instanceinvoke predicates.<@%unk/%unk: .equalTo()>(%2, displayName)
      %3 = new @ts_files/67.ts: %AC$UserFileModel$getMediaItemCountsByDisplayName$6
      instanceinvoke %3.<@ts_files/67.ts: %AC$UserFileModel$getMediaItemCountsByDisplayName$6.constructor()>()
      fetchOptions = %3"];
  Node66631 [label="id:1
      %4 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      %5 = instanceinvoke %4.<@%unk/%unk: .getAssets()>(fetchOptions)
      fetchFileResult = await %5
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, 'getMediaItemCountsByDisplayName getPhotoAssets')
      %6 = instanceinvoke fetchFileResult.<@%unk/%unk: .getCount()>()
      count = await %6"];
  Node66632 [label="id:2
      err = caughtexception: unknown
      %7 = instanceinvoke JSON.<@%unk/%unk: .stringify()>(err)
      %8 = 'getMediaItemCountsByDisplayName error:' + %7
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %8)"];
  Node66633 [label="id:3
      if fetchFileResult != null"];
  Node66634 [label="id:4
      instanceinvoke fetchFileResult.<@%unk/%unk: .close()>()"];
  Node66635 [label="id:5
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, 'getMediaItemCountsByDisplayName finish')
      return count"];
  Node66636 [label="id:6
      %9 = caughtexception: unknown
      if fetchFileResult != null"];
  Node66637 [label="id:7
      instanceinvoke fetchFileResult.<@%unk/%unk: .close()>()"];
  Node66638 [label="id:8
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, 'getMediaItemCountsByDisplayName finish')
      return count
      throw %9"];
  Node66630 -> Node66631;
  Node66631 -> Node66633;
  Node66631 -> Node66632[style="dotted"];
  Node66632 -> Node66633;
  Node66632 -> Node66636[style="dotted"];
  Node66633 -> Node66634;
  Node66633 -> Node66635;
  Node66634 -> Node66635;
  Node66636 -> Node66637;
  Node66636 -> Node66638;
  Node66637 -> Node66638;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.getUserAlbumCountByName(string)" {
  label="@ts_files/67.ts: UserFileModel.getUserAlbumCountByName(string)";
  Node58550 [label="id:0
      albumName = parameter0: string
      this = this: @ts_files/67.ts: UserFileModel
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'getUserAlbumCountByName')
      %0 = 'album_name：' + albumName
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %0)
      count = 0
      %1 = staticinvoke <@%unk/%unk: .getSystemAlbumDisplayName()>()
      systemAlbums = await %1
      %2 = instanceinvoke systemAlbums.<@%unk/%unk: .indexOf()>(albumName)
      if %2 >= 0"];
  Node58551 [label="id:1
      return 1"];
  Node58552 [label="id:2
      fetchResult = null"];
  Node58553 [label="id:3
      %3 = new @%unk/%unk: dataSharePredicates.DataSharePredicates
      instanceinvoke %3.<@%unk/%unk: dataSharePredicates.DataSharePredicates.constructor()>()
      predicates = %3
      %4 = photoAccessHelper.<@%unk/%unk: .AlbumKeys>
      %5 = %4.<@%unk/%unk: .ALBUM_NAME>
      instanceinvoke predicates.<@%unk/%unk: .equalTo()>(%5, albumName)
      %6 = new @ts_files/67.ts: %AC$UserFileModel$getUserAlbumCountByName$7
      instanceinvoke %6.<@ts_files/67.ts: %AC$UserFileModel$getUserAlbumCountByName$7.constructor()>()
      fetchOptions = %6
      %7 = photoAccessHelper.<@%unk/%unk: .AlbumType>
      %8 = %7.<@%unk/%unk: .USER>
      %9 = photoAccessHelper.<@%unk/%unk: .AlbumSubtype>
      %10 = %9.<@%unk/%unk: .USER_GENERIC>
      %11 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      %12 = instanceinvoke %11.<@%unk/%unk: .getAlbums()>(%8, %10, fetchOptions)
      fetchResult = await %12
      %13 = instanceinvoke fetchResult.<@%unk/%unk: .getCount()>()
      %14 = 'fetchResult' + %13
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %14)
      count = instanceinvoke fetchResult.<@%unk/%unk: .getCount()>()"];
  Node58554 [label="id:4
      err = caughtexception: unknown
      %15 = instanceinvoke JSON.<@%unk/%unk: .stringify()>(err)
      %16 = 'getUserAlbumCountByName error:' + %15
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %16)"];
  Node58555 [label="id:5
      if fetchResult != null"];
  Node58556 [label="id:6
      instanceinvoke fetchResult.<@%unk/%unk: .close()>()"];
  Node58557 [label="id:7
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, 'getUserAlbumCountByName finish')
      return count"];
  Node58558 [label="id:8
      %17 = caughtexception: unknown
      if fetchResult != null"];
  Node58559 [label="id:9
      instanceinvoke fetchResult.<@%unk/%unk: .close()>()"];
  Node585510 [label="id:10
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, 'getUserAlbumCountByName finish')
      return count
      throw %17"];
  Node58550 -> Node58551;
  Node58550 -> Node58552;
  Node58552 -> Node58553;
  Node58553 -> Node58555;
  Node58553 -> Node58554[style="dotted"];
  Node58554 -> Node58555;
  Node58554 -> Node58558[style="dotted"];
  Node58555 -> Node58556;
  Node58555 -> Node58557;
  Node58556 -> Node58557;
  Node58558 -> Node58559;
  Node58558 -> Node585510;
  Node58559 -> Node585510;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.getActivePeers()" {
  label="@ts_files/67.ts: UserFileModel.getActivePeers()";
  Node43020 [label="id:0
      this = this: @ts_files/67.ts: UserFileModel
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'getActivePeers')
      %0 = newarray (any)[0]
      peers = %0"];
  Node43021 [label="id:1
      getActivePeers = staticinvoke <@%unk/%unk: .hiSysEventDataQueryTimedOut()>('getActivePeers')
      %1 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      %2 = instanceinvoke %1.<@%unk/%unk: .getActivePeers()>()
      peers = await %2
      staticinvoke <@%unk/%unk: .clearTimeout()>(getActivePeers)"];
  Node43022 [label="id:2
      err = caughtexception: unknown
      %3 = instanceinvoke JSON.<@%unk/%unk: .stringify()>(err)
      %4 = 'getActivePeers error:' + %3
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %4)"];
  Node43023 [label="id:3
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, 'getActivePeers finish')
      return peers"];
  Node43020 -> Node43021;
  Node43021 -> Node43023;
  Node43021 -> Node43022[style="dotted"];
  Node43022 -> Node43023;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.getUserAlbumByName(string)" {
  label="@ts_files/67.ts: UserFileModel.getUserAlbumByName(string)";
  Node53340 [label="id:0
      albumName = parameter0: string
      this = this: @ts_files/67.ts: UserFileModel
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'getUserAlbumByName')
      %0 = 'album_name' + albumName
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %0)
      fetchResult = null
      album = null"];
  Node53341 [label="id:1
      %1 = new @%unk/%unk: dataSharePredicates.DataSharePredicates
      instanceinvoke %1.<@%unk/%unk: dataSharePredicates.DataSharePredicates.constructor()>()
      predicates = %1
      %2 = photoAccessHelper.<@%unk/%unk: .AlbumKeys>
      %3 = %2.<@%unk/%unk: .ALBUM_NAME>
      instanceinvoke predicates.<@%unk/%unk: .equalTo()>(%3, albumName)
      %4 = new @ts_files/67.ts: %AC$UserFileModel$getUserAlbumByName$8
      instanceinvoke %4.<@ts_files/67.ts: %AC$UserFileModel$getUserAlbumByName$8.constructor()>()
      fetchOptions = %4
      %5 = photoAccessHelper.<@%unk/%unk: .AlbumType>
      %6 = %5.<@%unk/%unk: .USER>
      %7 = photoAccessHelper.<@%unk/%unk: .AlbumSubtype>
      %8 = %7.<@%unk/%unk: .USER_GENERIC>
      %9 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      %10 = instanceinvoke %9.<@%unk/%unk: .getAlbums()>(%6, %8, fetchOptions)
      fetchResult = await %10
      %11 = instanceinvoke fetchResult.<@%unk/%unk: .getCount()>()
      %12 = 'fetchResult' + %11
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %12)
      %13 = instanceinvoke fetchResult.<@%unk/%unk: .getCount()>()
      if %13 > 0"];
  Node53342 [label="id:2
      album = instanceinvoke fetchResult.<@%unk/%unk: .getFirstObject()>()"];
  Node53343 [label="id:3
      if fetchResult != null"];
  Node53344 [label="id:4
      instanceinvoke fetchResult.<@%unk/%unk: .close()>()"];
  Node53345 [label="id:5
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, 'getUserAlbumByName finish')
      return album"];
  Node53346 [label="id:6
      err = caughtexception: unknown
      %14 = instanceinvoke JSON.<@%unk/%unk: .stringify()>(err)
      %15 = 'getUserAlbumByName error:' + %14
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %15)"];
  Node53347 [label="id:7
      %16 = caughtexception: unknown
      if fetchResult != null"];
  Node53348 [label="id:8
      instanceinvoke fetchResult.<@%unk/%unk: .close()>()"];
  Node53349 [label="id:9
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, 'getUserAlbumByName finish')
      return album
      throw %16"];
  Node53340 -> Node53341;
  Node53341 -> Node53342;
  Node53341 -> Node53343;
  Node53342 -> Node53343;
  Node53342 -> Node53346[style="dotted"];
  Node53343 -> Node53344;
  Node53343 -> Node53345;
  Node53344 -> Node53345;
  Node53346 -> Node53343;
  Node53346 -> Node53347[style="dotted"];
  Node53347 -> Node53348;
  Node53347 -> Node53349;
  Node53348 -> Node53349;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.getAlbums(photoAccessHelper.FetchOptions)" {
  label="@ts_files/67.ts: UserFileModel.getAlbums(photoAccessHelper.FetchOptions)";
  Node68390 [label="id:0
      fetchOption = parameter0: photoAccessHelper.FetchOptions
      this = this: @ts_files/67.ts: UserFileModel
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'getAlbums')
      %0 = newarray (any)[0]
      albums = %0"];
  Node68391 [label="id:1
      %1 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      %2 = instanceinvoke %1.<@%unk/%unk: .getAlbums()>(fetchOption)
      albums = await %2
      %3 = instanceinvoke albums.<@%unk/%unk: .getCounts()>()
      %4 = 'getAlbums albums ' + %3
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %4)"];
  Node68392 [label="id:2
      err = caughtexception: unknown
      %5 = instanceinvoke JSON.<@%unk/%unk: .stringify()>(err)
      %6 = 'getAlbums error:' + %5
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %6)"];
  Node68393 [label="id:3
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, 'getAlbums finish')
      return albums"];
  Node68390 -> Node68391;
  Node68391 -> Node68393;
  Node68391 -> Node68392[style="dotted"];
  Node68392 -> Node68393;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.openAsset(string, photoAccessHelper.PhotoAsset)" {
  label="@ts_files/67.ts: UserFileModel.openAsset(string, photoAccessHelper.PhotoAsset)";
  Node73880 [label="id:0
      mode = parameter0: string
      fileAsset = parameter1: photoAccessHelper.PhotoAsset
      this = this: @ts_files/67.ts: UserFileModel
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, 'openAsset start')
      %0 = instanceinvoke fileAsset.<@%unk/%unk: .open()>(mode)
      fd = await %0
      %1 = 'openAsset end. fd: ' + fd
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %1)
      if fd <= 0"];
  Node73881 [label="id:1
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'openAsset Fail')"];
  Node73882 [label="id:2
      return fd"];
  Node73880 -> Node73881;
  Node73880 -> Node73882;
  Node73881 -> Node73882;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.closeAsset(number, photoAccessHelper.PhotoAsset)" {
  label="@ts_files/67.ts: UserFileModel.closeAsset(number, photoAccessHelper.PhotoAsset)";
  Node74740 [label="id:0
      fd = parameter0: number
      fileAsset = parameter1: photoAccessHelper.PhotoAsset
      this = this: @ts_files/67.ts: UserFileModel
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, 'closeAsset start')
      %0 = instanceinvoke fileAsset.<@%unk/%unk: .close()>(fd)
      %1 = await %0
      return"];
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.addPhotoToAlbumByUserFileMgr(string, string)" {
  label="@ts_files/67.ts: UserFileModel.addPhotoToAlbumByUserFileMgr(string, string)";
  Node70600 [label="id:0
      albumUri = parameter0: string
      uri = parameter1: string
      this = this: @ts_files/67.ts: UserFileModel
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'addPhotoAssetsDemoPromise')
      %0 = 'albumUri' + albumUri
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %0)
      %1 = 'mediaItem.uri' + uri
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %1)"];
  Node70601 [label="id:1
      %2 = instanceinvoke this.<@ts_files/67.ts: UserFileModel.getUserAlbumItemByUri(string)>(albumUri)
      album = await %2
      %3 = new @%unk/%unk: dataSharePredicates.DataSharePredicates
      instanceinvoke %3.<@%unk/%unk: dataSharePredicates.DataSharePredicates.constructor()>()
      predicates = %3
      %4 = photoAccessHelper.<@%unk/%unk: .PhotoKeys>
      %5 = %4.<@%unk/%unk: .URI>
      instanceinvoke predicates.<@%unk/%unk: .equalTo()>(%5, uri)
      %6 = new @ts_files/67.ts: %AC$UserFileModel$addPhotoToAlbumByUserFileMgr$9
      instanceinvoke %6.<@ts_files/67.ts: %AC$UserFileModel$addPhotoToAlbumByUserFileMgr$9.constructor()>()
      fetchOptions = %6
      %7 = this.<@ts_files/67.ts: UserFileModel.userFileMgr>
      instanceinvoke %7.<@%unk/%unk: .getAssets()>(fetchOptions, %AM6$addPhotoToAlbumByUserFileMgr)"];
  Node70602 [label="id:2
      err = caughtexception: unknown
      %8 = 'addPhotoAssetsDemoPromise failed with error: ' + err
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %8)"];
  Node70603 [label="id:3
      return"];
  Node70600 -> Node70601;
  Node70601 -> Node70603;
  Node70601 -> Node70602[style="dotted"];
  Node70602 -> Node70603;
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.%AM0$recover(unknown)" {
  label="@ts_files/67.ts: UserFileModel.%AM0$recover(unknown)";
  Node46720 [label="id:0
      err = parameter0: unknown
      this = this: @ts_files/67.ts: UserFileModel
      %0 = 'album recoverPhotoAssets failed with error: ' + err
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %0)
      return"];
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.%AM1$recover()" {
  label="@ts_files/67.ts: UserFileModel.%AM1$recover()";
  Node38890 [label="id:0
      this = this: @ts_files/67.ts: UserFileModel
      instanceinvoke Log.<@%unk/%unk: .debug()>(TAG, 'album recoverPhotoAssets successfully')
      return"];
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.%AM2$permanentDelete(unknown)" {
  label="@ts_files/67.ts: UserFileModel.%AM2$permanentDelete(unknown)";
  Node54810 [label="id:0
      err = parameter0: unknown
      this = this: @ts_files/67.ts: UserFileModel
      %0 = 'album deletePhotoAssets failed with error: ' + err
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %0)
      return"];
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.%AM3$permanentDelete()" {
  label="@ts_files/67.ts: UserFileModel.%AM3$permanentDelete()";
  Node46980 [label="id:0
      this = this: @ts_files/67.ts: UserFileModel
      instanceinvoke Log.<@%unk/%unk: .debug()>('album deletePhotoAssets successfully')
      return"];
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.%AM4$deleteAlbum(unknown)" {
  label="@ts_files/67.ts: UserFileModel.%AM4$deleteAlbum(unknown)";
  Node50420 [label="id:0
      err = parameter0: unknown
      this = this: @ts_files/67.ts: UserFileModel
      %0 = 'deletePhotoAlbumsPromise failed with err: ' + err
      instanceinvoke Log.<@%unk/%unk: .error()>(TAG, %0)
      return"];
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.%AM5$deleteAlbum()" {
  label="@ts_files/67.ts: UserFileModel.%AM5$deleteAlbum()";
  Node42590 [label="id:0
      this = this: @ts_files/67.ts: UserFileModel
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'deletePhotoAlbumsPromise successfully')
      return"];
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.%AM7$%AM6$addPhotoToAlbumByUserFileMgr(unknown)" {
  label="@ts_files/67.ts: UserFileModel.%AM7$%AM6$addPhotoToAlbumByUserFileMgr(unknown)";
  Node69810 [label="id:0
      err = parameter0: unknown
      this = this: @ts_files/67.ts: UserFileModel
      %0 = 'album addPhotoAssets failed with error: ' + err
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %0)
      return"];
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.%AM8$%AM6$addPhotoToAlbumByUserFileMgr()" {
  label="@ts_files/67.ts: UserFileModel.%AM8$%AM6$addPhotoToAlbumByUserFileMgr()";
  Node61980 [label="id:0
      this = this: @ts_files/67.ts: UserFileModel
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'album addPhotoAssets successfully')
      return"];
}
subgraph "cluster_@ts_files/67.ts: UserFileModel.%AM6$addPhotoToAlbumByUserFileMgr([album], unknown, unknown)" {
  label="@ts_files/67.ts: UserFileModel.%AM6$addPhotoToAlbumByUserFileMgr([album], unknown, unknown)";
  Node83600 [label="id:0
      %closures0 = parameter0: [album]
      err = parameter1: unknown
      fetchResult = parameter2: unknown
      album = %closures0.album
      this = this: @ts_files/67.ts: UserFileModel
      if fetchResult != undefined"];
  Node83601 [label="id:1
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, 'fetchResult success')
      %0 = instanceinvoke fetchResult.<@%unk/%unk: .getFirstObject()>()
      fileAsset = await %0
      if fileAsset != undefined"];
  Node83602 [label="id:2
      %1 = fileAsset.<@ts_files/67.ts: UserFileModel.displayName>
      %2 = 'addPhotoToAlbumByUserFileMgr photo displayName : ' + %1
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %2)
      %3 = newarray (unknown)[1]
      %3[0] = fileAsset
      %4 = instanceinvoke album.<@%unk/%unk: .addAssets()>(%3)
      %5 = instanceinvoke %4.<@%unk/%unk: .then()>(%AM8$%AM6$addPhotoToAlbumByUserFileMgr)
      instanceinvoke %5.<@%unk/%unk: .catch()>(%AM7$%AM6$addPhotoToAlbumByUserFileMgr)"];
  Node83603 [label="id:3
      instanceinvoke fetchResult.<@%unk/%unk: .close()>()"];
  Node83604 [label="id:4
      %6 = 'fetchResult fail' + err
      instanceinvoke Log.<@%unk/%unk: .info()>(TAG, %6)"];
  Node83605 [label="id:5
      return"];
  Node83600 -> Node83601;
  Node83600 -> Node83604;
  Node83601 -> Node83602;
  Node83601 -> Node83603;
  Node83602 -> Node83603;
  Node83603 -> Node83605;
  Node83604 -> Node83605;
}
}
