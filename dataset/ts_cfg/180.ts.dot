digraph "180.ts" {
subgraph "cluster_@ts_files/180.ts: %dflt.[static]%dflt()" {
  label="@ts_files/180.ts: %dflt.[static]%dflt()";
  Node33730 [label="id:0
      this = this: @ts_files/180.ts: %dflt
      %0 = new @%unk/%unk: DebugLogger
      instanceinvoke %0.<@%unk/%unk: DebugLogger.constructor()>('indexeddb')
      logger = %0
      return"];
}
subgraph "cluster_@ts_files/180.ts: DataStruct.constructor(string, Schema)" {
  label="@ts_files/180.ts: DataStruct.constructor(string, Schema)";
  Node51920 [label="id:0
      instanceinvoke this.<@ts_files/180.ts: DataStruct.%instInit()>()
      databaseName = parameter0: string
      schema = parameter1: Schema
      this = this: @ts_files/180.ts: DataStruct
      %0 = instanceinvoke Object.<@%unk/%unk: .entries()>(schema)
      %1 = instanceinvoke %0.<@%unk/%unk: .iterator()>()"];
  Node51921 [label="id:1
      %2 = instanceinvoke %1.<@%unk/%unk: .next()>()
      %3 = %2.<@ES2015/BuiltinClass: IteratorResult.done>
      if %3 == true"];
  Node51922 [label="id:2
      %9 = typeInfo.<@%unk/%unk: .type>
      if %9 === 'String'"];
  Node51923 [label="id:3
      %10 = new @%unk/%unk: StringInvertedIndex
      instanceinvoke %10.<@%unk/%unk: StringInvertedIndex.constructor()>(key)
      %11 = this.<@ts_files/180.ts: DataStruct.invertedIndex>
      instanceinvoke %11.<@%unk/%unk: .set()>(key, %10)"];
  Node51924 [label="id:4
      %12 = typeInfo.<@%unk/%unk: .type>
      if %12 === 'Integer'"];
  Node51925 [label="id:5
      %13 = new @%unk/%unk: IntegerInvertedIndex
      instanceinvoke %13.<@%unk/%unk: IntegerInvertedIndex.constructor()>(key)
      %14 = this.<@ts_files/180.ts: DataStruct.invertedIndex>
      instanceinvoke %14.<@%unk/%unk: .set()>(key, %13)"];
  Node51926 [label="id:6
      %15 = typeInfo.<@%unk/%unk: .type>
      if %15 === 'FullText'"];
  Node51927 [label="id:7
      %16 = new @%unk/%unk: FullTextInvertedIndex
      instanceinvoke %16.<@%unk/%unk: FullTextInvertedIndex.constructor()>(key)
      %17 = this.<@ts_files/180.ts: DataStruct.invertedIndex>
      instanceinvoke %17.<@%unk/%unk: .set()>(key, %16)"];
  Node51928 [label="id:8
      if type === 'Boolean'"];
  Node51929 [label="id:9
      %18 = new @%unk/%unk: BooleanInvertedIndex
      instanceinvoke %18.<@%unk/%unk: BooleanInvertedIndex.constructor()>(key)
      %19 = this.<@ts_files/180.ts: DataStruct.invertedIndex>
      instanceinvoke %19.<@%unk/%unk: .set()>(key, %18)"];
  Node519210 [label="id:10
      %20 = new @%unk/%unk: Error
      %21 = 'Field type '' + type
      %22 = %21 + '' not supported'
      instanceinvoke %20.<@%unk/%unk: Error.constructor()>(%22)
      throw %20"];
  Node519211 [label="id:11
      return"];
  Node519212 [label="id:12
      %4 = %2.<@ES2015/BuiltinClass: IteratorResult.value>
      %5 = <string>%4
      key = %5[0]
      type = %5[1]
      if typeof type === 'string'"];
  Node519213 [label="id:13
      %6 = new @ts_files/180.ts: %AC$DataStruct$constructor$10
      instanceinvoke %6.<@ts_files/180.ts: %AC$DataStruct$constructor$10.constructor()>()"];
  Node519214 [label="id:14
      typeInfo = type"];
  Node519215 [label="id:15
      %8 = typeInfo.<@%unk/%unk: .index>
      if %8 === false"];
  Node51920 -> Node51921;
  Node51921 -> Node519211;
  Node51921 -> Node519212;
  Node51922 -> Node51923;
  Node51922 -> Node51924;
  Node51923 -> Node51921;
  Node51924 -> Node51925;
  Node51924 -> Node51926;
  Node51925 -> Node51921;
  Node51926 -> Node51927;
  Node51926 -> Node51928;
  Node51927 -> Node51921;
  Node51928 -> Node51929;
  Node51928 -> Node519210;
  Node51929 -> Node51921;
  Node519210 -> Node51921;
  Node519212 -> Node519214;
  Node519212 -> Node519213;
  Node519213 -> Node519215;
  Node519214 -> Node519215;
  Node519215 -> Node51921;
  Node519215 -> Node51922;
}
subgraph "cluster_@ts_files/180.ts: DataStruct.insert(DataStructRWTransaction, Document)" {
  label="@ts_files/180.ts: DataStruct.insert(DataStructRWTransaction, Document)";
  Node65560 [label="id:0
      trx = parameter0: DataStructRWTransaction
      document = parameter1: Document
      this = this: @ts_files/180.ts: DataStruct
      %0 = document.<@%unk/%unk: .id>
      %1 = instanceinvoke trx.<@%unk/%unk: .objectStore()>('records')
      %2 = instanceinvoke %1.<@%unk/%unk: .index()>('id')
      %3 = instanceinvoke %2.<@%unk/%unk: .get()>(%0)
      exists = await %3
      if exists != 0"];
  Node65561 [label="id:1
      %4 = new @%unk/%unk: Error
      instanceinvoke %4.<@%unk/%unk: Error.constructor()>('Document already exists')
      throw %4"];
  Node65562 [label="id:2
      %5 = new @%unk/%unk: Map
      instanceinvoke %5.<@%unk/%unk: Map.constructor()>()
      dataMap = %5
      %6 = document.<@%unk/%unk: .fields>
      %7 = instanceinvoke %6.<@%unk/%unk: .iterator()>()"];
  Node65563 [label="id:3
      %8 = instanceinvoke %7.<@%unk/%unk: .next()>()
      %9 = %8.<@ES2015/BuiltinClass: IteratorResult.done>
      if %9 == true"];
  Node65564 [label="id:4
      %10 = %8.<@ES2015/BuiltinClass: IteratorResult.value>
      %11 = <string>%10
      key = %11[0]
      values = %11[1]
      %12 = this.<@ts_files/180.ts: DataStruct.schema>
      %13 = <string>key
      type = %12.<@%unk/%unk: .%13>
      %14 = !type
      if %14 != 0"];
  Node65565 [label="id:5
      instanceinvoke dataMap.<@%unk/%unk: .set()>(key, values)"];
  Node65566 [label="id:6
      %18 = new @ts_files/180.ts: %AC$DataStruct$insert$12
      instanceinvoke %18.<@ts_files/180.ts: %AC$DataStruct$insert$12.constructor()>()
      %19 = instanceinvoke trx.<@%unk/%unk: .objectStore()>('records')
      %20 = instanceinvoke %19.<@%unk/%unk: .add()>(%18)
      nid = await %20
      %21 = document.<@%unk/%unk: .fields>
      %22 = instanceinvoke %21.<@%unk/%unk: .iterator()>()"];
  Node65567 [label="id:7
      %23 = instanceinvoke %22.<@%unk/%unk: .next()>()
      %24 = %23.<@ES2015/BuiltinClass: IteratorResult.done>
      if %24 == true"];
  Node65568 [label="id:8
      %25 = %23.<@ES2015/BuiltinClass: IteratorResult.value>
      %26 = <string>%25
      key = %26[0]
      values = %26[1]
      %27 = <string>key
      %28 = this.<@ts_files/180.ts: DataStruct.invertedIndex>
      iidx = instanceinvoke %28.<@%unk/%unk: .get()>(%27)
      %29 = !iidx
      if %29 != 0"];
  Node65569 [label="id:9
      %30 = instanceinvoke iidx.<@%unk/%unk: .insert()>(trx, nid, values)
      %31 = await %30"];
  Node655610 [label="id:10
      return"];
  Node655611 [label="id:11
      if typeof type === 'string'"];
  Node655612 [label="id:12
      %15 = new @ts_files/180.ts: %AC$DataStruct$insert$11
      instanceinvoke %15.<@ts_files/180.ts: %AC$DataStruct$insert$11.constructor()>()"];
  Node655613 [label="id:13
      typeInfo = type"];
  Node655614 [label="id:14
      %17 = typeInfo.<@%unk/%unk: .store>
      if %17 !== false"];
  Node65560 -> Node65561;
  Node65560 -> Node65562;
  Node65561 -> Node65562;
  Node65562 -> Node65563;
  Node65563 -> Node65564;
  Node65563 -> Node65566;
  Node65564 -> Node65563;
  Node65564 -> Node655611;
  Node65565 -> Node65563;
  Node65566 -> Node65567;
  Node65567 -> Node65568;
  Node65567 -> Node655610;
  Node65568 -> Node65567;
  Node65568 -> Node65569;
  Node65569 -> Node65567;
  Node655611 -> Node655613;
  Node655611 -> Node655612;
  Node655612 -> Node655614;
  Node655613 -> Node655614;
  Node655614 -> Node65565;
  Node655614 -> Node65563;
}
subgraph "cluster_@ts_files/180.ts: DataStruct.delete(DataStructRWTransaction, string)" {
  label="@ts_files/180.ts: DataStruct.delete(DataStructRWTransaction, string)";
  Node63540 [label="id:0
      trx = parameter0: DataStructRWTransaction
      id = parameter1: string
      this = this: @ts_files/180.ts: DataStruct
      %0 = instanceinvoke trx.<@%unk/%unk: .objectStore()>('records')
      %1 = instanceinvoke %0.<@%unk/%unk: .index()>('id')
      %2 = instanceinvoke %1.<@%unk/%unk: .getKey()>(id)
      nid = await %2
      if nid != 0"];
  Node63541 [label="id:1
      %3 = instanceinvoke trx.<@%unk/%unk: .objectStore()>('records')
      %4 = instanceinvoke %3.<@%unk/%unk: .delete()>(nid)
      %5 = await %4"];
  Node63542 [label="id:2
      %6 = instanceinvoke trx.<@%unk/%unk: .objectStore()>('invertedIndex')
      %7 = instanceinvoke %6.<@%unk/%unk: .index()>('nid')
      %8 = instanceinvoke %7.<@%unk/%unk: .getAllKeys()>(nid)
      indexIds = await %8
      %9 = instanceinvoke indexIds.<@%unk/%unk: .iterator()>()"];
  Node63543 [label="id:3
      %10 = instanceinvoke %9.<@%unk/%unk: .next()>()
      %11 = %10.<@ES2015/BuiltinClass: IteratorResult.done>
      if %11 == true"];
  Node63544 [label="id:4
      %12 = %10.<@ES2015/BuiltinClass: IteratorResult.value>
      indexId = <string>%12
      %13 = instanceinvoke trx.<@%unk/%unk: .objectStore()>('invertedIndex')
      %14 = instanceinvoke %13.<@%unk/%unk: .delete()>(indexId)
      %15 = await %14"];
  Node63545 [label="id:5
      return"];
  Node63540 -> Node63541;
  Node63540 -> Node63542;
  Node63541 -> Node63542;
  Node63542 -> Node63543;
  Node63543 -> Node63544;
  Node63543 -> Node63545;
  Node63544 -> Node63543;
}
subgraph "cluster_@ts_files/180.ts: DataStruct.batchWrite(DataStructRWTransaction, string[], Document[])" {
  label="@ts_files/180.ts: DataStruct.batchWrite(DataStructRWTransaction, string[], Document[])";
  Node80390 [label="id:0
      trx = parameter0: DataStructRWTransaction
      deletes = parameter1: string[]
      inserts = parameter2: Document[]
      this = this: @ts_files/180.ts: DataStruct
      startTime = instanceinvoke performance.<@%unk/%unk: .now()>()
      %0 = instanceinvoke deletes.<@%unk/%unk: .iterator()>()"];
  Node80391 [label="id:1
      %1 = instanceinvoke %0.<@%unk/%unk: .next()>()
      %2 = %1.<@ES2015/BuiltinClass: IteratorResult.done>
      if %2 == true"];
  Node80392 [label="id:2
      %3 = %1.<@ES2015/BuiltinClass: IteratorResult.value>
      del = <string>%3
      %4 = instanceinvoke this.<@ts_files/180.ts: DataStruct.delete(DataStructRWTransaction, string)>(trx, del)
      %5 = await %4"];
  Node80393 [label="id:3
      %7 = instanceinvoke %6.<@%unk/%unk: .next()>()
      %8 = %7.<@ES2015/BuiltinClass: IteratorResult.done>
      if %8 == true"];
  Node80394 [label="id:4
      %9 = %7.<@ES2015/BuiltinClass: IteratorResult.value>
      inst = <string>%9
      %10 = instanceinvoke this.<@ts_files/180.ts: DataStruct.insert(DataStructRWTransaction, Document)>(trx, inst)
      %11 = await %10"];
  Node80395 [label="id:5
      endTime = instanceinvoke performance.<@%unk/%unk: .now()>()
      %12 = BUILD_CONFIG.<@%unk/%unk: .debug>
      if %12 != 0"];
  Node80396 [label="id:6
      %13 = this.<@ts_files/180.ts: DataStruct.databaseName>
      %14 = '[IndexedDB Indexer] Batch Write (' + %13
      %15 = %14 + ')'
      %16 = new @ts_files/180.ts: %AC$DataStruct$batchWrite$13
      instanceinvoke %16.<@ts_files/180.ts: %AC$DataStruct$batchWrite$13.constructor()>()
      instanceinvoke performance.<@%unk/%unk: .measure()>(%15, %16)"];
  Node80397 [label="id:7
      %17 = this.<@ts_files/180.ts: DataStruct.databaseName>
      %18 = '[indexer ' + %17
      %19 = %18 + '] batchWrite'
      %20 = endTime - startTime
      instanceinvoke logger.<@%unk/%unk: .debug()>(%19, %20, 'ms')"];
  Node80398 [label="id:8
      return"];
  Node80399 [label="id:9
      %6 = instanceinvoke inserts.<@%unk/%unk: .iterator()>()"];
  Node803910 [label="id:10
      %21 = caughtexception: unknown
      endTime = instanceinvoke performance.<@%unk/%unk: .now()>()
      %12 = BUILD_CONFIG.<@%unk/%unk: .debug>
      if %12 != 0"];
  Node803911 [label="id:11
      %13 = this.<@ts_files/180.ts: DataStruct.databaseName>
      %14 = '[IndexedDB Indexer] Batch Write (' + %13
      %15 = %14 + ')'
      %16 = new @ts_files/180.ts: %AC$DataStruct$batchWrite$13
      instanceinvoke %16.<@ts_files/180.ts: %AC$DataStruct$batchWrite$13.constructor()>()
      instanceinvoke performance.<@%unk/%unk: .measure()>(%15, %16)"];
  Node803912 [label="id:12
      %17 = this.<@ts_files/180.ts: DataStruct.databaseName>
      %18 = '[indexer ' + %17
      %19 = %18 + '] batchWrite'
      %20 = endTime - startTime
      instanceinvoke logger.<@%unk/%unk: .debug()>(%19, %20, 'ms')
      throw %21"];
  Node80390 -> Node80391;
  Node80391 -> Node80392;
  Node80391 -> Node80399;
  Node80392 -> Node80391;
  Node80393 -> Node80394;
  Node80393 -> Node80395;
  Node80394 -> Node80393;
  Node80395 -> Node80396;
  Node80395 -> Node80397;
  Node80396 -> Node80397;
  Node80397 -> Node80398;
  Node80399 -> Node80393;
  Node803910 -> Node803911;
  Node803910 -> Node803912;
  Node803911 -> Node803912;
}
subgraph "cluster_@ts_files/180.ts: DataStruct.matchAll(DataStructROTransaction)" {
  label="@ts_files/180.ts: DataStruct.matchAll(DataStructROTransaction)";
  Node57860 [label="id:0
      trx = parameter0: DataStructROTransaction
      this = this: @ts_files/180.ts: DataStruct
      %0 = instanceinvoke trx.<@%unk/%unk: .objectStore()>('records')
      %1 = instanceinvoke %0.<@%unk/%unk: .getAllKeys()>()
      allNids = await %1
      %2 = new @%unk/%unk: Match
      instanceinvoke %2.<@%unk/%unk: Match.constructor()>()
      match = %2
      %3 = instanceinvoke allNids.<@%unk/%unk: .iterator()>()"];
  Node57861 [label="id:1
      %4 = instanceinvoke %3.<@%unk/%unk: .next()>()
      %5 = %4.<@ES2015/BuiltinClass: IteratorResult.done>
      if %5 == true"];
  Node57862 [label="id:2
      %6 = %4.<@ES2015/BuiltinClass: IteratorResult.value>
      nid = <unknown>%6
      instanceinvoke match.<@%unk/%unk: .addScore()>(nid, 1)"];
  Node57863 [label="id:3
      return match"];
  Node57860 -> Node57861;
  Node57861 -> Node57862;
  Node57861 -> Node57863;
  Node57862 -> Node57861;
}
subgraph "cluster_@ts_files/180.ts: DataStruct.queryRaw(DataStructROTransaction, Query<any>)" {
  label="@ts_files/180.ts: DataStruct.queryRaw(DataStructROTransaction, Query<any>)";
  Node69040 [label="id:0
      trx = parameter0: DataStructROTransaction
      query = parameter1: Query<any>
      this = this: @ts_files/180.ts: DataStruct
      %0 = query.<@%unk/%unk: .type>
      if %0 === 'match'"];
  Node69041 [label="id:1
      %1 = query.<@%unk/%unk: .field>
      %2 = <string>%1
      %3 = this.<@ts_files/180.ts: DataStruct.invertedIndex>
      iidx = instanceinvoke %3.<@%unk/%unk: .get()>(%2)
      %4 = !iidx
      if %4 != 0"];
  Node69042 [label="id:2
      %5 = new @%unk/%unk: Match
      instanceinvoke %5.<@%unk/%unk: Match.constructor()>()
      return %5"];
  Node69043 [label="id:3
      %6 = query.<@%unk/%unk: .match>
      %7 = instanceinvoke iidx.<@%unk/%unk: .match()>(trx, %6)
      return await %7"];
  Node69044 [label="id:4
      %8 = query.<@%unk/%unk: .type>
      if %8 === 'boolean'"];
  Node69045 [label="id:5
      %9 = newarray (any)[0]
      weights = %9
      %10 = query.<@%unk/%unk: .queries>
      %11 = instanceinvoke %10.<@%unk/%unk: .iterator()>()"];
  Node69046 [label="id:6
      %12 = instanceinvoke %11.<@%unk/%unk: .next()>()
      %13 = %12.<@ES2015/BuiltinClass: IteratorResult.done>
      if %13 == true"];
  Node69047 [label="id:7
      %14 = %12.<@ES2015/BuiltinClass: IteratorResult.value>
      q = <unknown>%14
      %15 = instanceinvoke this.<@ts_files/180.ts: DataStruct.queryRaw(DataStructROTransaction, Query<any>)>(trx, q)
      instanceinvoke weights.<@%unk/%unk: .push()>(await %15)"];
  Node69048 [label="id:8
      %16 = query.<@%unk/%unk: .occur>
      if %16 === 'must'"];
  Node69049 [label="id:9
      %17 = instanceinvoke weights.<@%unk/%unk: .reduce()>(%AM0$queryRaw)
      return %17"];
  Node690410 [label="id:10
      %18 = query.<@%unk/%unk: .occur>
      if %18 === 'must_not'"];
  Node690411 [label="id:11
      total = instanceinvoke weights.<@%unk/%unk: .reduce()>(%AM1$queryRaw)
      %19 = instanceinvoke this.<@ts_files/180.ts: DataStruct.matchAll(DataStructROTransaction)>(trx)
      %20 = await %19
      %21 = instanceinvoke %20.<@%unk/%unk: .exclude()>(total)
      return %21"];
  Node690412 [label="id:12
      %22 = query.<@%unk/%unk: .occur>
      if %22 === 'should'"];
  Node690413 [label="id:13
      %23 = instanceinvoke weights.<@%unk/%unk: .reduce()>(%AM2$queryRaw)
      return %23"];
  Node690414 [label="id:14
      %24 = new @%unk/%unk: Error
      %25 = query.<@%unk/%unk: .type>
      %26 = 'Query type '' + %25
      %27 = %26 + '' not supported'
      instanceinvoke %24.<@%unk/%unk: Error.constructor()>(%27)
      throw %24
      return"];
  Node690415 [label="id:15
      %28 = query.<@%unk/%unk: .type>
      if %28 === 'all'"];
  Node690416 [label="id:16
      %29 = instanceinvoke this.<@ts_files/180.ts: DataStruct.matchAll(DataStructROTransaction)>(trx)
      return await %29"];
  Node690417 [label="id:17
      %30 = query.<@%unk/%unk: .type>
      if %30 === 'boost'"];
  Node690418 [label="id:18
      %31 = query.<@%unk/%unk: .boost>
      %32 = query.<@%unk/%unk: .query>
      %33 = instanceinvoke this.<@ts_files/180.ts: DataStruct.queryRaw(DataStructROTransaction, Query<any>)>(trx, %32)
      %34 = await %33
      %35 = instanceinvoke %34.<@%unk/%unk: .boost()>(%31)
      return %35"];
  Node690419 [label="id:19
      %36 = query.<@%unk/%unk: .type>
      if %36 === 'exists'"];
  Node690420 [label="id:20
      %37 = query.<@%unk/%unk: .field>
      %38 = <string>%37
      %39 = this.<@ts_files/180.ts: DataStruct.invertedIndex>
      iidx = instanceinvoke %39.<@%unk/%unk: .get()>(%38)
      %40 = !iidx
      if %40 != 0"];
  Node690421 [label="id:21
      %41 = new @%unk/%unk: Match
      instanceinvoke %41.<@%unk/%unk: Match.constructor()>()
      return %41"];
  Node690422 [label="id:22
      %42 = instanceinvoke iidx.<@%unk/%unk: .all()>(trx)
      return await %42"];
  Node69040 -> Node69041;
  Node69040 -> Node69044;
  Node69041 -> Node69042;
  Node69041 -> Node69043;
  Node69044 -> Node69045;
  Node69044 -> Node690415;
  Node69045 -> Node69046;
  Node69046 -> Node69047;
  Node69046 -> Node69048;
  Node69047 -> Node69046;
  Node69048 -> Node69049;
  Node69048 -> Node690410;
  Node690410 -> Node690411;
  Node690410 -> Node690412;
  Node690412 -> Node690413;
  Node690412 -> Node690414;
  Node690415 -> Node690416;
  Node690415 -> Node690417;
  Node690417 -> Node690418;
  Node690417 -> Node690419;
  Node690419 -> Node690420;
  Node690419 -> Node690414;
  Node690420 -> Node690421;
  Node690420 -> Node690422;
}
subgraph "cluster_@ts_files/180.ts: DataStruct.clear(DataStructRWTransaction)" {
  label="@ts_files/180.ts: DataStruct.clear(DataStructRWTransaction)";
  Node55070 [label="id:0
      trx = parameter0: DataStructRWTransaction
      this = this: @ts_files/180.ts: DataStruct
      %0 = instanceinvoke trx.<@%unk/%unk: .objectStore()>('records')
      %1 = instanceinvoke %0.<@%unk/%unk: .clear()>()
      %2 = await %1
      %3 = instanceinvoke trx.<@%unk/%unk: .objectStore()>('invertedIndex')
      %4 = instanceinvoke %3.<@%unk/%unk: .clear()>()
      %5 = await %4
      %6 = instanceinvoke trx.<@%unk/%unk: .objectStore()>('kvMetadata')
      %7 = instanceinvoke %6.<@%unk/%unk: .clear()>()
      %8 = await %7
      return"];
}
subgraph "cluster_@ts_files/180.ts: DataStruct.search(DataStructROTransaction, Query<any>, SearchOptions<any>)" {
  label="@ts_files/180.ts: DataStruct.search(DataStructROTransaction, Query<any>, SearchOptions<any>)";
  Node85420 [label="id:0
      trx = parameter0: DataStructROTransaction
      query = parameter1: Query<any>
      options = parameter2: SearchOptions<any>
      this = this: @ts_files/180.ts: DataStruct
      startTime = instanceinvoke performance.<@%unk/%unk: .now()>()"];
  Node85421 [label="id:1
      %0 = new @ts_files/180.ts: %AC$DataStruct$search$14
      instanceinvoke %0.<@ts_files/180.ts: %AC$DataStruct$search$14.constructor()>()
      pagination = %0
      %1 = instanceinvoke this.<@ts_files/180.ts: DataStruct.queryRaw(DataStructROTransaction, Query<any>)>(trx, query)
      match = await %1
      %2 = pagination.<@ts_files/180.ts: %AC$DataStruct$search$14.skip>
      %3 = pagination.<@ts_files/180.ts: %AC$DataStruct$search$14.skip>
      %4 = pagination.<@ts_files/180.ts: %AC$DataStruct$search$14.limit>
      %5 = %3 + %4
      %6 = instanceinvoke match.<@%unk/%unk: .toArray()>()
      nids = instanceinvoke %6.<@%unk/%unk: .slice()>(%2, %5)
      %7 = newarray (any)[0]
      nodes = %7
      %8 = instanceinvoke nids.<@%unk/%unk: .iterator()>()"];
  Node85422 [label="id:2
      %9 = instanceinvoke %8.<@%unk/%unk: .next()>()
      %10 = %9.<@ES2015/BuiltinClass: IteratorResult.done>
      if %10 == true"];
  Node85423 [label="id:3
      %11 = %9.<@ES2015/BuiltinClass: IteratorResult.value>
      nid = <unknown>%11
      %12 = instanceinvoke trx.<@%unk/%unk: .objectStore()>('records')
      %13 = instanceinvoke %12.<@%unk/%unk: .get()>(nid)
      record = await %13
      %14 = !record
      if %14 != 0"];
  Node85424 [label="id:4
      %15 = instanceinvoke this.<@ts_files/180.ts: DataStruct.resultNode(@ts_files/180.ts: %AC$9, SearchOptions<any>, Match, number)>(record, options, match, nid)
      instanceinvoke nodes.<@%unk/%unk: .push()>(%15)"];
  Node85425 [label="id:5
      %16 = new @ts_files/180.ts: %AC$DataStruct$search$15
      instanceinvoke %16.<@ts_files/180.ts: %AC$DataStruct$search$15.constructor()>()
      return %16"];
  Node85426 [label="id:6
      endTime = instanceinvoke performance.<@%unk/%unk: .now()>()
      %17 = BUILD_CONFIG.<@%unk/%unk: .debug>
      if %17 != 0"];
  Node85427 [label="id:7
      %18 = this.<@ts_files/180.ts: DataStruct.databaseName>
      %19 = '[IndexedDB Indexer] Search (' + %18
      %20 = %19 + ')'
      %21 = new @ts_files/180.ts: %AC$DataStruct$search$17
      instanceinvoke %21.<@ts_files/180.ts: %AC$DataStruct$search$17.constructor()>()
      instanceinvoke performance.<@%unk/%unk: .measure()>(%20, %21)"];
  Node85428 [label="id:8
      %22 = this.<@ts_files/180.ts: DataStruct.databaseName>
      %23 = '[indexer ' + %22
      %24 = %23 + '] search'
      %25 = endTime - startTime
      instanceinvoke logger.<@%unk/%unk: .debug()>(%24, %25, 'ms', query)"];
  Node85429 [label="id:9
      return"];
  Node854210 [label="id:10
      %26 = caughtexception: unknown
      endTime = instanceinvoke performance.<@%unk/%unk: .now()>()
      %17 = BUILD_CONFIG.<@%unk/%unk: .debug>
      if %17 != 0"];
  Node854211 [label="id:11
      %18 = this.<@ts_files/180.ts: DataStruct.databaseName>
      %19 = '[IndexedDB Indexer] Search (' + %18
      %20 = %19 + ')'
      %21 = new @ts_files/180.ts: %AC$DataStruct$search$17
      instanceinvoke %21.<@ts_files/180.ts: %AC$DataStruct$search$17.constructor()>()
      instanceinvoke performance.<@%unk/%unk: .measure()>(%20, %21)"];
  Node854212 [label="id:12
      %22 = this.<@ts_files/180.ts: DataStruct.databaseName>
      %23 = '[indexer ' + %22
      %24 = %23 + '] search'
      %25 = endTime - startTime
      instanceinvoke logger.<@%unk/%unk: .debug()>(%24, %25, 'ms', query)
      throw %26"];
  Node85420 -> Node85421;
  Node85421 -> Node85422;
  Node85422 -> Node85423;
  Node85422 -> Node85425;
  Node85423 -> Node85422;
  Node85423 -> Node85424;
  Node85424 -> Node85422;
  Node85426 -> Node85427;
  Node85426 -> Node85428;
  Node85427 -> Node85428;
  Node85428 -> Node85429;
  Node854210 -> Node854211;
  Node854210 -> Node854212;
  Node854211 -> Node854212;
}
subgraph "cluster_@ts_files/180.ts: DataStruct.aggregate(DataStructROTransaction, Query<any>, string, AggregateOptions<any>)" {
  label="@ts_files/180.ts: DataStruct.aggregate(DataStructROTransaction, Query<any>, string, AggregateOptions<any>)";
  Node98910 [label="id:0
      trx = parameter0: DataStructROTransaction
      query = parameter1: Query<any>
      field = parameter2: string
      options = parameter3: AggregateOptions<any>
      this = this: @ts_files/180.ts: DataStruct
      startTime = instanceinvoke performance.<@%unk/%unk: .now()>()"];
  Node98911 [label="id:1
      %8 = instanceinvoke %7.<@%unk/%unk: .next()>()
      %9 = %8.<@ES2015/BuiltinClass: IteratorResult.done>
      if %9 == true"];
  Node98912 [label="id:2
      %10 = %8.<@ES2015/BuiltinClass: IteratorResult.value>
      nid = <unknown>%10
      %11 = instanceinvoke trx.<@%unk/%unk: .objectStore()>('records')
      %12 = instanceinvoke %11.<@%unk/%unk: .get()>(nid)
      record = await %12
      %13 = !record
      if %13 != 0"];
  Node98913 [label="id:3
      %14 = record.<@%unk/%unk: .data>
      values = instanceinvoke %14.<@%unk/%unk: .get()>(field)
      %15 = newarray (any)[0]
      %16 = values ?? %15
      %17 = instanceinvoke %16.<@%unk/%unk: .iterator()>()"];
  Node98914 [label="id:4
      %18 = instanceinvoke %17.<@%unk/%unk: .next()>()
      %19 = %18.<@ES2015/BuiltinClass: IteratorResult.done>
      if %19 == true"];
  Node98915 [label="id:5
      %20 = %18.<@ES2015/BuiltinClass: IteratorResult.value>
      value = <any>%20
      bucket = undefined
      bucketIndex = instanceinvoke buckets.<@%unk/%unk: .findIndex()>(%AM3$aggregate)
      %21 = -1
      if bucketIndex === %21"];
  Node98916 [label="id:6
      %22 = new @ts_files/180.ts: %AC$DataStruct$aggregate$23
      instanceinvoke %22.<@ts_files/180.ts: %AC$DataStruct$aggregate$23.constructor()>()
      bucket = %22
      instanceinvoke buckets.<@%unk/%unk: .push()>(bucket)
      %23 = buckets.<@%unk/%unk: .length>
      bucketIndex = %23 - 1"];
  Node98917 [label="id:7
      bucket = buckets[bucketIndex]"];
  Node98918 [label="id:8
      %24 = pagination.<@ts_files/180.ts: %AC$DataStruct$aggregate$19.skip>
      %25 = bucketIndex >= %24
      %26 = pagination.<@ts_files/180.ts: %AC$DataStruct$aggregate$19.skip>
      %27 = pagination.<@ts_files/180.ts: %AC$DataStruct$aggregate$19.limit>
      %28 = %26 + %27
      %29 = bucketIndex < %28
      %30 = %25 && %29
      if %30 != false"];
  Node98919 [label="id:9
      %31 = bucket.<@ts_files/180.ts: %AC$DataStruct$aggregate$23.nids>
      instanceinvoke %31.<@%unk/%unk: .push()>(nid)
      %32 = bucket.<@ts_files/180.ts: %AC$DataStruct$aggregate$23.nids>
      %33 = %32.<@%unk/%unk: .length>
      %34 = %33 - 1
      %35 = hitPagination.<@%unk/%unk: .skip>
      %36 = %34 >= %35
      %37 = bucket.<@ts_files/180.ts: %AC$DataStruct$aggregate$23.nids>
      %38 = %37.<@%unk/%unk: .length>
      %39 = %38 - 1
      %40 = hitPagination.<@%unk/%unk: .skip>
      %41 = hitPagination.<@%unk/%unk: .limit>
      %42 = %40 + %41
      %43 = %39 < %42
      %44 = %36 && %43
      if %44 != false"];
  Node989110 [label="id:10
      %45 = options.<@%unk/%unk: .hits>
      %46 = new @ts_files/180.ts: %AC$DataStruct$aggregate$24
      instanceinvoke %46.<@ts_files/180.ts: %AC$DataStruct$aggregate$24.constructor()>()
      %47 = %45 ?? %46
      %48 = instanceinvoke this.<@ts_files/180.ts: DataStruct.resultNode(@ts_files/180.ts: %AC$9, SearchOptions<any>, Match, number)>(record, %47, match, nid)
      %49 = bucket.<@ts_files/180.ts: %AC$DataStruct$aggregate$23.hits>
      instanceinvoke %49.<@%unk/%unk: .push()>(%48)"];
  Node989111 [label="id:11
      %50 = new @ts_files/180.ts: %AC$DataStruct$aggregate$25
      instanceinvoke %50.<@ts_files/180.ts: %AC$DataStruct$aggregate$25.constructor()>()
      return %50"];
  Node989112 [label="id:12
      endTime = instanceinvoke performance.<@%unk/%unk: .now()>()
      %51 = BUILD_CONFIG.<@%unk/%unk: .debug>
      if %51 != 0"];
  Node989113 [label="id:13
      %52 = this.<@ts_files/180.ts: DataStruct.databaseName>
      %53 = '[IndexedDB Indexer] Aggregate (' + %52
      %54 = %53 + ')'
      %55 = new @ts_files/180.ts: %AC$DataStruct$aggregate$30
      instanceinvoke %55.<@ts_files/180.ts: %AC$DataStruct$aggregate$30.constructor()>()
      instanceinvoke performance.<@%unk/%unk: .measure()>(%54, %55)"];
  Node989114 [label="id:14
      %56 = this.<@ts_files/180.ts: DataStruct.databaseName>
      %57 = '[indexer ' + %56
      %58 = %57 + '] aggregate'
      %59 = endTime - startTime
      instanceinvoke logger.<@%unk/%unk: .debug()>(%58, %59, 'ms')"];
  Node989115 [label="id:15
      return"];
  Node989116 [label="id:16
      %0 = new @ts_files/180.ts: %AC$DataStruct$aggregate$19
      instanceinvoke %0.<@ts_files/180.ts: %AC$DataStruct$aggregate$19.constructor()>()
      pagination = %0
      %1 = options.<@%unk/%unk: .hits>
      if %1 != 0"];
  Node989117 [label="id:17
      %2 = new @ts_files/180.ts: %AC$DataStruct$aggregate$20
      instanceinvoke %2.<@ts_files/180.ts: %AC$DataStruct$aggregate$20.constructor()>()"];
  Node989118 [label="id:18
      %4 = new @ts_files/180.ts: %AC$DataStruct$aggregate$21
      instanceinvoke %4.<@ts_files/180.ts: %AC$DataStruct$aggregate$21.constructor()>()"];
  Node989119 [label="id:19
      %5 = instanceinvoke this.<@ts_files/180.ts: DataStruct.queryRaw(DataStructROTransaction, Query<any>)>(trx, query)
      match = await %5
      nids = instanceinvoke match.<@%unk/%unk: .toArray()>()
      %6 = newarray (any)[0]
      buckets = %6
      %7 = instanceinvoke nids.<@%unk/%unk: .iterator()>()"];
  Node989120 [label="id:20
      %60 = caughtexception: unknown
      endTime = instanceinvoke performance.<@%unk/%unk: .now()>()
      %51 = BUILD_CONFIG.<@%unk/%unk: .debug>
      if %51 != 0"];
  Node989121 [label="id:21
      %52 = this.<@ts_files/180.ts: DataStruct.databaseName>
      %53 = '[IndexedDB Indexer] Aggregate (' + %52
      %54 = %53 + ')'
      %55 = new @ts_files/180.ts: %AC$DataStruct$aggregate$30
      instanceinvoke %55.<@ts_files/180.ts: %AC$DataStruct$aggregate$30.constructor()>()
      instanceinvoke performance.<@%unk/%unk: .measure()>(%54, %55)"];
  Node989122 [label="id:22
      %56 = this.<@ts_files/180.ts: DataStruct.databaseName>
      %57 = '[indexer ' + %56
      %58 = %57 + '] aggregate'
      %59 = endTime - startTime
      instanceinvoke logger.<@%unk/%unk: .debug()>(%58, %59, 'ms')
      throw %60"];
  Node98910 -> Node989116;
  Node98911 -> Node98912;
  Node98911 -> Node989111;
  Node98912 -> Node98911;
  Node98912 -> Node98913;
  Node98913 -> Node98914;
  Node98914 -> Node98915;
  Node98914 -> Node98911;
  Node98915 -> Node98916;
  Node98915 -> Node98917;
  Node98916 -> Node98918;
  Node98917 -> Node98918;
  Node98918 -> Node98919;
  Node98918 -> Node98914;
  Node98919 -> Node989110;
  Node98919 -> Node98914;
  Node989110 -> Node98914;
  Node989112 -> Node989113;
  Node989112 -> Node989114;
  Node989113 -> Node989114;
  Node989114 -> Node989115;
  Node989116 -> Node989117;
  Node989116 -> Node989118;
  Node989117 -> Node989119;
  Node989118 -> Node989119;
  Node989119 -> Node98911;
  Node989120 -> Node989121;
  Node989120 -> Node989122;
  Node989121 -> Node989122;
}
subgraph "cluster_@ts_files/180.ts: DataStruct.getAll(DataStructROTransaction, string[])" {
  label="@ts_files/180.ts: DataStruct.getAll(DataStructROTransaction, string[])";
  Node65040 [label="id:0
      trx = parameter0: DataStructROTransaction
      ids = parameter1: string[]
      this = this: @ts_files/180.ts: DataStruct
      %0 = newarray (any)[0]
      docs = %0
      if ids != 0
      %1 = instanceinvoke ids.<@%unk/%unk: .iterator()>()"];
  Node65041 [label="id:1
      %2 = instanceinvoke %1.<@%unk/%unk: .next()>()
      %3 = %2.<@ES2015/BuiltinClass: IteratorResult.done>
      if %3 == true"];
  Node65042 [label="id:2
      %4 = %2.<@ES2015/BuiltinClass: IteratorResult.value>
      id = <string>%4
      %5 = instanceinvoke trx.<@%unk/%unk: .objectStore()>('records')
      %6 = instanceinvoke %5.<@%unk/%unk: .index()>('id')
      %7 = instanceinvoke %6.<@%unk/%unk: .get()>(id)
      record = await %7
      if record != 0"];
  Node65043 [label="id:3
      %8 = record.<@%unk/%unk: .id>
      %9 = record.<@%unk/%unk: .data>
      %10 = instanceinvoke Document.<@%unk/%unk: .from()>(%8, %9)
      instanceinvoke docs.<@%unk/%unk: .push()>(%10)"];
  Node65044 [label="id:4
      return docs"];
  Node65045 [label="id:5
      %11 = instanceinvoke trx.<@%unk/%unk: .objectStore()>('records')
      %12 = instanceinvoke %11.<@%unk/%unk: .getAll()>()
      records = await %12
      %13 = instanceinvoke records.<@%unk/%unk: .iterator()>()"];
  Node65046 [label="id:6
      %14 = instanceinvoke %13.<@%unk/%unk: .next()>()
      %15 = %14.<@ES2015/BuiltinClass: IteratorResult.done>
      if %15 == true"];
  Node65047 [label="id:7
      %16 = %14.<@ES2015/BuiltinClass: IteratorResult.value>
      record = <string>%16
      %17 = record.<@%unk/%unk: .id>
      %18 = record.<@%unk/%unk: .data>
      %19 = instanceinvoke Document.<@%unk/%unk: .from()>(%17, %18)
      instanceinvoke docs.<@%unk/%unk: .push()>(%19)"];
  Node65040 -> Node65041;
  Node65040 -> Node65045;
  Node65041 -> Node65042;
  Node65041 -> Node65044;
  Node65042 -> Node65043;
  Node65042 -> Node65041;
  Node65043 -> Node65041;
  Node65045 -> Node65046;
  Node65046 -> Node65047;
  Node65046 -> Node65044;
  Node65047 -> Node65046;
}
subgraph "cluster_@ts_files/180.ts: DataStruct.has(DataStructROTransaction, string)" {
  label="@ts_files/180.ts: DataStruct.has(DataStructROTransaction, string)";
  Node60350 [label="id:0
      trx = parameter0: DataStructROTransaction
      id = parameter1: string
      this = this: @ts_files/180.ts: DataStruct
      %0 = instanceinvoke trx.<@%unk/%unk: .objectStore()>('records')
      %1 = instanceinvoke %0.<@%unk/%unk: .index()>('id')
      %2 = instanceinvoke %1.<@%unk/%unk: .getKey()>(id)
      nid = await %2
      %3 = nid !== undefined
      return %3"];
}
subgraph "cluster_@ts_files/180.ts: DataStruct.readonly()" {
  label="@ts_files/180.ts: DataStruct.readonly()";
  Node35000 [label="id:0
      this = this: @ts_files/180.ts: DataStruct
      %0 = instanceinvoke this.<@ts_files/180.ts: DataStruct.ensureInitialized()>()
      %1 = await %0
      %2 = newarray (string)[3]
      %2[0] = 'records'
      %2[1] = 'invertedIndex'
      %2[2] = 'kvMetadata'
      %3 = new @ts_files/180.ts: %AC$DataStruct$readonly$32
      instanceinvoke %3.<@ts_files/180.ts: %AC$DataStruct$readonly$32.constructor()>()
      %4 = this.<@ts_files/180.ts: DataStruct.database>
      %5 = instanceinvoke %4.<@%unk/%unk: .transaction()>(%2, 'readonly', %3)
      return %5"];
}
subgraph "cluster_@ts_files/180.ts: DataStruct.readwrite()" {
  label="@ts_files/180.ts: DataStruct.readwrite()";
  Node36050 [label="id:0
      this = this: @ts_files/180.ts: DataStruct
      %0 = instanceinvoke this.<@ts_files/180.ts: DataStruct.ensureInitialized()>()
      %1 = await %0
      %2 = newarray (string)[3]
      %2[0] = 'records'
      %2[1] = 'invertedIndex'
      %2[2] = 'kvMetadata'
      %3 = new @ts_files/180.ts: %AC$DataStruct$readwrite$33
      instanceinvoke %3.<@ts_files/180.ts: %AC$DataStruct$readwrite$33.constructor()>()
      %4 = this.<@ts_files/180.ts: DataStruct.database>
      %5 = instanceinvoke %4.<@%unk/%unk: .transaction()>(%2, 'readwrite', %3)
      return %5"];
}
subgraph "cluster_@ts_files/180.ts: DataStruct.ensureInitialized()" {
  label="@ts_files/180.ts: DataStruct.ensureInitialized()";
  Node44380 [label="id:0
      this = this: @ts_files/180.ts: DataStruct
      %0 = this.<@ts_files/180.ts: DataStruct.database>
      if %0 != 0"];
  Node44381 [label="id:1
      return"];
  Node44382 [label="id:2
      %1 = instanceinvoke this.<@ts_files/180.ts: DataStruct.initialize()>()
      this.<@ts_files/180.ts: DataStruct.initializePromise> = this.<@ts_files/180.ts: DataStruct.initializePromise> ?? %1
      %2 = this.<@ts_files/180.ts: DataStruct.initializePromise>
      %3 = await %2
      return"];
  Node44380 -> Node44381;
  Node44380 -> Node44382;
}
subgraph "cluster_@ts_files/180.ts: DataStruct.initialize()" {
  label="@ts_files/180.ts: DataStruct.initialize()";
  Node37120 [label="id:0
      this = this: @ts_files/180.ts: DataStruct
      %0 = this.<@ts_files/180.ts: DataStruct.databaseName>
      %1 = new @ts_files/180.ts: %AC$DataStruct$initialize$34
      instanceinvoke %1.<@ts_files/180.ts: %AC$DataStruct$initialize$34.constructor()>()
      %2 = staticinvoke <@%unk/%unk: .openDB()>(%0, 1, %1)
      this.<@ts_files/180.ts: DataStruct.database> = await %2
      return"];
}
subgraph "cluster_@ts_files/180.ts: DataStruct.resultNode(@ts_files/180.ts: %AC$9, SearchOptions<any>, Match, number)" {
  label="@ts_files/180.ts: DataStruct.resultNode(@ts_files/180.ts: %AC$9, SearchOptions<any>, Match, number)";
  Node86150 [label="id:0
      record = parameter0: @ts_files/180.ts: %AC$9
      options = parameter1: SearchOptions<any>
      match = parameter2: Match
      nid = parameter3: number
      this = this: @ts_files/180.ts: DataStruct
      %0 = new @ts_files/180.ts: %AC$DataStruct$resultNode$41
      instanceinvoke %0.<@ts_files/180.ts: %AC$DataStruct$resultNode$41.constructor()>()
      node = <@ts_files/180.ts: %AC$DataStruct$resultNode$41>%0
      %1 = options.<@%unk/%unk: .fields>
      if %1 != 0"];
  Node86151 [label="id:1
      %2 = new @ts_files/180.ts: %AC$DataStruct$resultNode$42
      instanceinvoke %2.<@ts_files/180.ts: %AC$DataStruct$resultNode$42.constructor()>()
      fields = <@ts_files/180.ts: %AC$DataStruct$resultNode$42>%2
      %3 = options.<@%unk/%unk: .fields>
      %4 = <string[]>%3
      %5 = instanceinvoke %4.<@%unk/%unk: .iterator()>()"];
  Node86152 [label="id:2
      %6 = instanceinvoke %5.<@%unk/%unk: .next()>()
      %7 = %6.<@ES2015/BuiltinClass: IteratorResult.done>
      if %7 == true"];
  Node86153 [label="id:3
      %8 = %6.<@ES2015/BuiltinClass: IteratorResult.value>
      field = <string>%8
      %9 = record.<@ts_files/180.ts: %AC$9.data>
      %10 = instanceinvoke %9.<@%unk/%unk: .get()>(field)
      %11 = newarray (string)[1]
      %11[0] = ''
      %12 = %10 ?? %11
      fields.<@ts_files/180.ts: %AC$DataStruct$resultNode$42.field> = %12
      %13 = fields.<@ts_files/180.ts: %AC$DataStruct$resultNode$42.field>
      %14 = %13.<@%unk/%unk: .length>
      if %14 === 1"];
  Node86154 [label="id:4
      %15 = fields.<@ts_files/180.ts: %AC$DataStruct$resultNode$42.field>
      %16 = %15.<@%unk/%unk: .0>
      fields.<@ts_files/180.ts: %AC$DataStruct$resultNode$42.field> = %16"];
  Node86155 [label="id:5
      node.<@%unk/%unk: .fields> = fields"];
  Node86156 [label="id:6
      %17 = match && nid
      %18 = options.<@%unk/%unk: .highlights>
      %19 = %17 && %18
      if %19 != false"];
  Node86157 [label="id:7
      %20 = new @ts_files/180.ts: %AC$DataStruct$resultNode$43
      instanceinvoke %20.<@ts_files/180.ts: %AC$DataStruct$resultNode$43.constructor()>()
      highlights = <@ts_files/180.ts: %AC$DataStruct$resultNode$43>%20
      %21 = options.<@%unk/%unk: .highlights>
      %22 = instanceinvoke %21.<@%unk/%unk: .iterator()>()"];
  Node86158 [label="id:8
      %23 = instanceinvoke %22.<@%unk/%unk: .next()>()
      %24 = %23.<@ES2015/BuiltinClass: IteratorResult.done>
      if %24 == true"];
  Node86159 [label="id:9
      %25 = %23.<@ES2015/BuiltinClass: IteratorResult.value>
      %26 = <string>%25
      field = %26.<@%unk/%unk: .field>
      before = %26.<@%unk/%unk: .before>
      end = %26.<@%unk/%unk: .end>
      highlightValues = instanceinvoke match.<@%unk/%unk: .getHighlighters()>(nid, field)
      if highlightValues != 0"];
  Node861510 [label="id:10
      %27 = record.<@ts_files/180.ts: %AC$9.data>
      %28 = instanceinvoke %27.<@%unk/%unk: .get()>(field)
      %29 = newarray (any)[0]
      rawValues = %28 ?? %29
      %30 = instanceinvoke Array.<@%unk/%unk: .from()>(highlightValues)
      %31 = instanceinvoke %30.<@%unk/%unk: .map()>(%AM4$resultNode)
      %32 = instanceinvoke %31.<@%unk/%unk: .filter()>(Boolean)
      highlights.<@ts_files/180.ts: %AC$DataStruct$resultNode$43.field> = %32"];
  Node861511 [label="id:11
      node.<@%unk/%unk: .highlights> = highlights"];
  Node861512 [label="id:12
      return node"];
  Node86150 -> Node86151;
  Node86150 -> Node86156;
  Node86151 -> Node86152;
  Node86152 -> Node86153;
  Node86152 -> Node86155;
  Node86153 -> Node86154;
  Node86153 -> Node86152;
  Node86154 -> Node86152;
  Node86155 -> Node86156;
  Node86156 -> Node86157;
  Node86156 -> Node861512;
  Node86157 -> Node86158;
  Node86158 -> Node86159;
  Node86158 -> Node861511;
  Node86159 -> Node861510;
  Node86159 -> Node86158;
  Node861510 -> Node86158;
  Node861511 -> Node861512;
}
subgraph "cluster_@ts_files/180.ts: DataStruct.%AM0$queryRaw(unknown, unknown)" {
  label="@ts_files/180.ts: DataStruct.%AM0$queryRaw(unknown, unknown)";
  Node54090 [label="id:0
      acc = parameter0: unknown
      w = parameter1: unknown
      this = this: @ts_files/180.ts: DataStruct
      %0 = instanceinvoke acc.<@%unk/%unk: .and()>(w)
      return %0"];
}
subgraph "cluster_@ts_files/180.ts: DataStruct.%AM1$queryRaw(unknown, unknown)" {
  label="@ts_files/180.ts: DataStruct.%AM1$queryRaw(unknown, unknown)";
  Node54100 [label="id:0
      acc = parameter0: unknown
      w = parameter1: unknown
      this = this: @ts_files/180.ts: DataStruct
      %0 = instanceinvoke acc.<@%unk/%unk: .and()>(w)
      return %0"];
}
subgraph "cluster_@ts_files/180.ts: DataStruct.%AM2$queryRaw(unknown, unknown)" {
  label="@ts_files/180.ts: DataStruct.%AM2$queryRaw(unknown, unknown)";
  Node54110 [label="id:0
      acc = parameter0: unknown
      w = parameter1: unknown
      this = this: @ts_files/180.ts: DataStruct
      %0 = instanceinvoke acc.<@%unk/%unk: .or()>(w)
      return %0"];
}
subgraph "cluster_@ts_files/180.ts: DataStruct.%AM3$aggregate([value], unknown)" {
  label="@ts_files/180.ts: DataStruct.%AM3$aggregate([value], unknown)";
  Node54240 [label="id:0
      %closures0 = parameter0: [value]
      b = parameter1: unknown
      value = %closures0.value
      this = this: @ts_files/180.ts: DataStruct
      %0 = b.<@%unk/%unk: .key>
      %1 = %0 === value
      return %1"];
}
subgraph "cluster_@ts_files/180.ts: DataStruct.%AM4$resultNode([rawValues, before, end], unknown)" {
  label="@ts_files/180.ts: DataStruct.%AM4$resultNode([rawValues, before, end], unknown)";
  Node70540 [label="id:0
      %closures0 = parameter0: [rawValues, before, end]
      ArrayBindingPattern = parameter1: unknown
      rawValues = %closures0.rawValues
      before = %closures0.before
      end = %closures0.end
      this = this: @ts_files/180.ts: DataStruct
      raw = rawValues['index']
      if raw != 0"];
  Node70541 [label="id:1
      %0 = new @ts_files/180.ts: %AC$DataStruct$%AM4$resultNode$44
      instanceinvoke %0.<@ts_files/180.ts: %AC$DataStruct$%AM4$resultNode$44.constructor()>()
      %1 = staticinvoke <@%unk/%unk: .highlighter()>(raw, before, end, ranges, %0)
      %2 = %1 ?? ''
      return %2"];
  Node70542 [label="id:2
      return ''"];
  Node70540 -> Node70541;
  Node70540 -> Node70542;
}
subgraph "cluster_@ts_files/180.ts: %AC$DataStruct$aggregate$25.%AM0$%instInit(unknown)" {
  label="@ts_files/180.ts: %AC$DataStruct$aggregate$25.%AM0$%instInit(unknown)";
  Node58870 [label="id:0
      bucket = parameter0: unknown
      this = this: @ts_files/180.ts: DataStruct
      %0 = new @ts_files/180.ts: %AC$%AC$DataStruct$aggregate$25$%AM0$%instInit$26
      instanceinvoke %0.<@ts_files/180.ts: %AC$%AC$DataStruct$aggregate$25$%AM0$%instInit$26.constructor()>()
      result = <@ts_files/180.ts: %AC$%AC$DataStruct$aggregate$25$%AM0$%instInit$26>%0
      %1 = options.<@%unk/%unk: .hits>
      if %1 != 0"];
  Node58871 [label="id:1
      %3 = new @ts_files/180.ts: %AC$%AC$DataStruct$aggregate$25$%AM0$%instInit$27
      instanceinvoke %3.<@ts_files/180.ts: %AC$%AC$DataStruct$aggregate$25$%AM0$%instInit$27.constructor()>()
      %4 = <@ts_files/180.ts: %AC$%AC$DataStruct$aggregate$25$%AM0$%instInit$27>%3
      %2 = <@ts_files/180.ts: %AC$%AC$DataStruct$aggregate$25$%AM0$%instInit$26>result
      %2.<@%unk/%unk: .hits> = %4"];
  Node58872 [label="id:2
      return result"];
  Node58870 -> Node58871;
  Node58870 -> Node58872;
  Node58871 -> Node58872;
}
subgraph "cluster_@ts_files/180.ts: %AC$DataStruct$initialize$34.upgrade(unknown)" {
  label="@ts_files/180.ts: %AC$DataStruct$initialize$34.upgrade(unknown)";
  Node56200 [label="id:0
      database = parameter0: unknown
      this = this: @ts_files/180.ts: DataStruct
      %0 = new @ts_files/180.ts: %AC$%AC$DataStruct$initialize$34$upgrade$35
      instanceinvoke %0.<@ts_files/180.ts: %AC$%AC$DataStruct$initialize$34$upgrade$35.constructor()>()
      instanceinvoke database.<@%unk/%unk: .createObjectStore()>('kvMetadata', %0)
      %1 = new @ts_files/180.ts: %AC$%AC$DataStruct$initialize$34$upgrade$36
      instanceinvoke %1.<@ts_files/180.ts: %AC$%AC$DataStruct$initialize$34$upgrade$36.constructor()>()
      recordsStore = instanceinvoke database.<@%unk/%unk: .createObjectStore()>('records', %1)
      %2 = new @ts_files/180.ts: %AC$%AC$DataStruct$initialize$34$upgrade$37
      instanceinvoke %2.<@ts_files/180.ts: %AC$%AC$DataStruct$initialize$34$upgrade$37.constructor()>()
      instanceinvoke recordsStore.<@%unk/%unk: .createIndex()>('id', 'id', %2)
      %3 = new @ts_files/180.ts: %AC$%AC$DataStruct$initialize$34$upgrade$38
      instanceinvoke %3.<@ts_files/180.ts: %AC$%AC$DataStruct$initialize$34$upgrade$38.constructor()>()
      invertedIndexStore = instanceinvoke database.<@%unk/%unk: .createObjectStore()>('invertedIndex', %3)
      %4 = new @ts_files/180.ts: %AC$%AC$DataStruct$initialize$34$upgrade$39
      instanceinvoke %4.<@ts_files/180.ts: %AC$%AC$DataStruct$initialize$34$upgrade$39.constructor()>()
      instanceinvoke invertedIndexStore.<@%unk/%unk: .createIndex()>('key', 'key', %4)
      %5 = new @ts_files/180.ts: %AC$%AC$DataStruct$initialize$34$upgrade$40
      instanceinvoke %5.<@ts_files/180.ts: %AC$%AC$DataStruct$initialize$34$upgrade$40.constructor()>()
      instanceinvoke invertedIndexStore.<@%unk/%unk: .createIndex()>('nid', 'nid', %5)
      return"];
}
}
