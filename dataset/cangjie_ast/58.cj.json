{
    "type": "sourceFile",
    "label": "package opds_cj\n\nimport net.http.ServerBuilder\n// import std.log.*\nimport opds_cj.router.NaiveDistributor\nimport opds_cj.path.pathLoad\n// import opds_cj.macros.*\n\n// @include(\"./lib/sqlite/sqlite3.h\")\n\nmain() {\n    let router = NaiveDistributor()\n\n    for ((k, v) in pathLoad().paths) {\n        router.register(k, v)\n        println(\"registered ${k}\")\n    }\n\n    let server = ServerBuilder().addr(\"0.0.0.0\").port(8080).distributor(router).build()\n\n    println(\"run at http://127.0.0.1:8080\")\n    // server.logger.level = DEBUG\n    server.serve()\n}\n",
    "start_token": 0,
    "end_token": 11,
    "children": [
        {
            "type": "packageHeader",
            "label": "package opds_cj",
            "start_token": 0,
            "end_token": 1,
            "children": [
                {
                    "type": "PACKAGE",
                    "label": "package",
                    "start_token": 0,
                    "end_token": 0,
                    "children": []
                },
                {
                    "type": "packageNameIdentifier",
                    "label": "opds_cj",
                    "start_token": 1,
                    "end_token": 1,
                    "children": [
                        {
                            "type": "identifier",
                            "label": "opds_cj",
                            "start_token": 1,
                            "end_token": 1,
                            "children": []
                        }
                    ]
                }
            ]
        },
        {
            "type": "importList",
            "label": "import net.http.ServerBuilder",
            "start_token": 4,
            "end_token": 9,
            "children": [
                {
                    "type": "IMPORT",
                    "label": "import",
                    "start_token": 4,
                    "end_token": 4,
                    "children": []
                },
                {
                    "type": "importContent",
                    "label": "net.http.ServerBuilder",
                    "start_token": 5,
                    "end_token": 9,
                    "children": [
                        {
                            "type": "importSpecified",
                            "label": "net.http.ServerBuilder",
                            "start_token": 5,
                            "end_token": 9,
                            "children": [
                                {
                                    "type": "identifier",
                                    "label": "net",
                                    "start_token": 5,
                                    "end_token": 5,
                                    "children": []
                                },
                                {
                                    "type": "identifier",
                                    "label": "http",
                                    "start_token": 7,
                                    "end_token": 7,
                                    "children": []
                                },
                                {
                                    "type": "identifier",
                                    "label": "ServerBuilder",
                                    "start_token": 9,
                                    "end_token": 9,
                                    "children": []
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "comment",
            "label": "// import std.log.*",
            "start_token": 11,
            "end_token": 11,
            "children": []
        },
        {
            "type": "importList",
            "label": "import opds_cj.router.NaiveDistributor",
            "start_token": 11,
            "end_token": 11,
            "children": [
                {
                    "type": "IMPORT",
                    "label": "import",
                    "start_token": 11,
                    "end_token": 11,
                    "children": []
                },
                {
                    "type": "importContent",
                    "label": "opds_cj.router.NaiveDistributor",
                    "start_token": 11,
                    "end_token": 11,
                    "children": [
                        {
                            "type": "importSpecified",
                            "label": "opds_cj.router.NaiveDistributor",
                            "start_token": 11,
                            "end_token": 11,
                            "children": [
                                {
                                    "type": "identifier",
                                    "label": "opds_cj",
                                    "start_token": 11,
                                    "end_token": 11,
                                    "children": []
                                },
                                {
                                    "type": "identifier",
                                    "label": "router",
                                    "start_token": 11,
                                    "end_token": 11,
                                    "children": []
                                },
                                {
                                    "type": "identifier",
                                    "label": "NaiveDistributor",
                                    "start_token": 11,
                                    "end_token": 11,
                                    "children": []
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "importList",
            "label": "import opds_cj.path.pathLoad",
            "start_token": 11,
            "end_token": 11,
            "children": [
                {
                    "type": "IMPORT",
                    "label": "import",
                    "start_token": 11,
                    "end_token": 11,
                    "children": []
                },
                {
                    "type": "importContent",
                    "label": "opds_cj.path.pathLoad",
                    "start_token": 11,
                    "end_token": 11,
                    "children": [
                        {
                            "type": "importSpecified",
                            "label": "opds_cj.path.pathLoad",
                            "start_token": 11,
                            "end_token": 11,
                            "children": [
                                {
                                    "type": "identifier",
                                    "label": "opds_cj",
                                    "start_token": 11,
                                    "end_token": 11,
                                    "children": []
                                },
                                {
                                    "type": "identifier",
                                    "label": "path",
                                    "start_token": 11,
                                    "end_token": 11,
                                    "children": []
                                },
                                {
                                    "type": "identifier",
                                    "label": "pathLoad",
                                    "start_token": 11,
                                    "end_token": 11,
                                    "children": []
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "comment",
            "label": "// import opds_cj.macros.*",
            "start_token": 11,
            "end_token": 11,
            "children": []
        },
        {
            "type": "comment",
            "label": "// @include(\"./lib/sqlite/sqlite3.h\")",
            "start_token": 11,
            "end_token": 11,
            "children": []
        },
        {
            "type": "mainDefinition",
            "label": "main() {\n    let router = NaiveDistributor()\n\n    for ((k, v) in pathLoad().paths) {\n        router.register(k, v)\n        println(\"registered ${k}\")\n    }\n\n    let server = ServerBuilder().addr(\"0.0.0.0\").port(8080).distributor(router).build()\n\n    println(\"run at http://127.0.0.1:8080\")\n    // server.logger.level = DEBUG\n    server.serve()\n}",
            "start_token": 11,
            "end_token": 11,
            "children": [
                {
                    "type": "MAIN",
                    "label": "main",
                    "start_token": 11,
                    "end_token": 11,
                    "children": []
                },
                {
                    "type": "functionParameters",
                    "label": "()",
                    "start_token": 11,
                    "end_token": 11,
                    "children": []
                },
                {
                    "type": "block",
                    "label": "{\n    let router = NaiveDistributor()\n\n    for ((k, v) in pathLoad().paths) {\n        router.register(k, v)\n        println(\"registered ${k}\")\n    }\n\n    let server = ServerBuilder().addr(\"0.0.0.0\").port(8080).distributor(router).build()\n\n    println(\"run at http://127.0.0.1:8080\")\n    // server.logger.level = DEBUG\n    server.serve()\n}",
                    "start_token": 11,
                    "end_token": 11,
                    "children": [
                        {
                            "type": "variableDeclaration",
                            "label": "let router = NaiveDistributor()",
                            "start_token": 11,
                            "end_token": 11,
                            "children": [
                                {
                                    "type": "LET",
                                    "label": "let",
                                    "start_token": 11,
                                    "end_token": 11,
                                    "children": []
                                },
                                {
                                    "type": "varBindingPattern",
                                    "label": "router",
                                    "start_token": 11,
                                    "end_token": 11,
                                    "children": []
                                },
                                {
                                    "type": "callExpression",
                                    "label": "NaiveDistributor()",
                                    "start_token": 11,
                                    "end_token": 11,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "NaiveDistributor",
                                            "start_token": 11,
                                            "end_token": 11,
                                            "children": []
                                        },
                                        {
                                            "type": "argumentList",
                                            "label": "()",
                                            "start_token": 11,
                                            "end_token": 11,
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "forInExpression",
                            "label": "for ((k, v) in pathLoad().paths) {\n        router.register(k, v)\n        println(\"registered ${k}\")\n    }",
                            "start_token": 11,
                            "end_token": 11,
                            "children": [
                                {
                                    "type": "FOR",
                                    "label": "for",
                                    "start_token": 11,
                                    "end_token": 11,
                                    "children": []
                                },
                                {
                                    "type": "tuplePattern",
                                    "label": "(k, v)",
                                    "start_token": 11,
                                    "end_token": 11,
                                    "children": [
                                        {
                                            "type": "varBindingPattern",
                                            "label": "k",
                                            "start_token": 11,
                                            "end_token": 11,
                                            "children": []
                                        },
                                        {
                                            "type": "varBindingPattern",
                                            "label": "v",
                                            "start_token": 11,
                                            "end_token": 11,
                                            "children": []
                                        }
                                    ]
                                },
                                {
                                    "type": "IN",
                                    "label": "in",
                                    "start_token": 11,
                                    "end_token": 11,
                                    "children": []
                                },
                                {
                                    "type": "fieldExpression",
                                    "label": "pathLoad().paths",
                                    "start_token": 11,
                                    "end_token": 11,
                                    "children": [
                                        {
                                            "type": "callExpression",
                                            "label": "pathLoad()",
                                            "start_token": 11,
                                            "end_token": 11,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "pathLoad",
                                                    "start_token": 11,
                                                    "end_token": 11,
                                                    "children": []
                                                },
                                                {
                                                    "type": "argumentList",
                                                    "label": "()",
                                                    "start_token": 11,
                                                    "end_token": 11,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "paths",
                                            "start_token": 11,
                                            "end_token": 11,
                                            "children": []
                                        }
                                    ]
                                },
                                {
                                    "type": "block",
                                    "label": " {\n        router.register(k, v)\n        println(\"registered ${k}\")\n    }",
                                    "start_token": 11,
                                    "end_token": 11,
                                    "children": [
                                        {
                                            "type": "callExpression",
                                            "label": "router.register(k, v)",
                                            "start_token": 11,
                                            "end_token": 11,
                                            "children": [
                                                {
                                                    "type": "fieldExpression",
                                                    "label": "router.register",
                                                    "start_token": 11,
                                                    "end_token": 11,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "router",
                                                            "start_token": 11,
                                                            "end_token": 11,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "register",
                                                            "start_token": 11,
                                                            "end_token": 11,
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argumentList",
                                                    "label": "(k, v)",
                                                    "start_token": 11,
                                                    "end_token": 11,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "k",
                                                            "start_token": 11,
                                                            "end_token": 11,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "v",
                                                            "start_token": 11,
                                                            "end_token": 11,
                                                            "children": []
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "callExpression",
                                            "label": "println(\"registered ${k}\")",
                                            "start_token": 11,
                                            "end_token": 11,
                                            "children": [
                                                {
                                                    "type": "builtinFunction",
                                                    "label": "println",
                                                    "start_token": 11,
                                                    "end_token": 11,
                                                    "children": []
                                                },
                                                {
                                                    "type": "argumentList",
                                                    "label": "(\"registered ${k}\")",
                                                    "start_token": 11,
                                                    "end_token": 11,
                                                    "children": [
                                                        {
                                                            "type": "stringLiteral",
                                                            "label": "\"registered ${k}\"",
                                                            "start_token": 11,
                                                            "end_token": 11,
                                                            "children": [
                                                                {
                                                                    "type": "lineStringLiteral",
                                                                    "label": "\"registered ${k}\"",
                                                                    "start_token": 11,
                                                                    "end_token": 11,
                                                                    "children": [
                                                                        {
                                                                            "type": "quoteOpen",
                                                                            "label": "\"",
                                                                            "start_token": 11,
                                                                            "end_token": 11,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "lineStringContent",
                                                                            "label": "registered ",
                                                                            "start_token": 11,
                                                                            "end_token": 11,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "lineStringExpression",
                                                                            "label": "${k}",
                                                                            "start_token": 11,
                                                                            "end_token": 11,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "k",
                                                                                    "start_token": 11,
                                                                                    "end_token": 11,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "quoteClose",
                                                                            "label": "\"",
                                                                            "start_token": 11,
                                                                            "end_token": 11,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "variableDeclaration",
                            "label": "let server = ServerBuilder().addr(\"0.0.0.0\").port(8080).distributor(router).build()",
                            "start_token": 11,
                            "end_token": 11,
                            "children": [
                                {
                                    "type": "LET",
                                    "label": "let",
                                    "start_token": 11,
                                    "end_token": 11,
                                    "children": []
                                },
                                {
                                    "type": "varBindingPattern",
                                    "label": "server",
                                    "start_token": 11,
                                    "end_token": 11,
                                    "children": []
                                },
                                {
                                    "type": "callExpression",
                                    "label": "ServerBuilder().addr(\"0.0.0.0\").port(8080).distributor(router).build()",
                                    "start_token": 11,
                                    "end_token": 11,
                                    "children": [
                                        {
                                            "type": "fieldExpression",
                                            "label": "ServerBuilder().addr(\"0.0.0.0\").port(8080).distributor(router).build",
                                            "start_token": 11,
                                            "end_token": 11,
                                            "children": [
                                                {
                                                    "type": "callExpression",
                                                    "label": "ServerBuilder().addr(\"0.0.0.0\").port(8080).distributor(router)",
                                                    "start_token": 11,
                                                    "end_token": 11,
                                                    "children": [
                                                        {
                                                            "type": "fieldExpression",
                                                            "label": "ServerBuilder().addr(\"0.0.0.0\").port(8080).distributor",
                                                            "start_token": 11,
                                                            "end_token": 11,
                                                            "children": [
                                                                {
                                                                    "type": "callExpression",
                                                                    "label": "ServerBuilder().addr(\"0.0.0.0\").port(8080)",
                                                                    "start_token": 11,
                                                                    "end_token": 11,
                                                                    "children": [
                                                                        {
                                                                            "type": "fieldExpression",
                                                                            "label": "ServerBuilder().addr(\"0.0.0.0\").port",
                                                                            "start_token": 11,
                                                                            "end_token": 11,
                                                                            "children": [
                                                                                {
                                                                                    "type": "callExpression",
                                                                                    "label": "ServerBuilder().addr(\"0.0.0.0\")",
                                                                                    "start_token": 11,
                                                                                    "end_token": 11,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "fieldExpression",
                                                                                            "label": "ServerBuilder().addr",
                                                                                            "start_token": 11,
                                                                                            "end_token": 11,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "callExpression",
                                                                                                    "label": "ServerBuilder()",
                                                                                                    "start_token": 11,
                                                                                                    "end_token": 11,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "label": "ServerBuilder",
                                                                                                            "start_token": 11,
                                                                                                            "end_token": 11,
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "argumentList",
                                                                                                            "label": "()",
                                                                                                            "start_token": 11,
                                                                                                            "end_token": 11,
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "addr",
                                                                                                    "start_token": 11,
                                                                                                    "end_token": 11,
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "argumentList",
                                                                                            "label": "(\"0.0.0.0\")",
                                                                                            "start_token": 11,
                                                                                            "end_token": 11,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "stringLiteral",
                                                                                                    "label": "\"0.0.0.0\"",
                                                                                                    "start_token": 11,
                                                                                                    "end_token": 11,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "lineStringLiteral",
                                                                                                            "label": "\"0.0.0.0\"",
                                                                                                            "start_token": 11,
                                                                                                            "end_token": 11,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "quoteOpen",
                                                                                                                    "label": "\"",
                                                                                                                    "start_token": 11,
                                                                                                                    "end_token": 11,
                                                                                                                    "children": []
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "lineStringContent",
                                                                                                                    "label": "0.0.0.0",
                                                                                                                    "start_token": 11,
                                                                                                                    "end_token": 11,
                                                                                                                    "children": []
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "quoteClose",
                                                                                                                    "label": "\"",
                                                                                                                    "start_token": 11,
                                                                                                                    "end_token": 11,
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "port",
                                                                                    "start_token": 11,
                                                                                    "end_token": 11,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "argumentList",
                                                                            "label": "(8080)",
                                                                            "start_token": 11,
                                                                            "end_token": 11,
                                                                            "children": [
                                                                                {
                                                                                    "type": "integerLiteral",
                                                                                    "label": "8080",
                                                                                    "start_token": 11,
                                                                                    "end_token": 11,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "distributor",
                                                                    "start_token": 11,
                                                                    "end_token": 11,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "argumentList",
                                                            "label": "(router)",
                                                            "start_token": 11,
                                                            "end_token": 11,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "router",
                                                                    "start_token": 11,
                                                                    "end_token": 11,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "build",
                                                    "start_token": 11,
                                                    "end_token": 11,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "argumentList",
                                            "label": "()",
                                            "start_token": 11,
                                            "end_token": 11,
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "callExpression",
                            "label": "println(\"run at http://127.0.0.1:8080\")",
                            "start_token": 11,
                            "end_token": 11,
                            "children": [
                                {
                                    "type": "builtinFunction",
                                    "label": "println",
                                    "start_token": 11,
                                    "end_token": 11,
                                    "children": []
                                },
                                {
                                    "type": "argumentList",
                                    "label": "(\"run at http://127.0.0.1:8080\")",
                                    "start_token": 11,
                                    "end_token": 11,
                                    "children": [
                                        {
                                            "type": "stringLiteral",
                                            "label": "\"run at http://127.0.0.1:8080\"",
                                            "start_token": 11,
                                            "end_token": 11,
                                            "children": [
                                                {
                                                    "type": "lineStringLiteral",
                                                    "label": "\"run at http://127.0.0.1:8080\"",
                                                    "start_token": 11,
                                                    "end_token": 11,
                                                    "children": [
                                                        {
                                                            "type": "quoteOpen",
                                                            "label": "\"",
                                                            "start_token": 11,
                                                            "end_token": 11,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "lineStringContent",
                                                            "label": "run at http://127.0.0.1:8080",
                                                            "start_token": 11,
                                                            "end_token": 11,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "quoteClose",
                                                            "label": "\"",
                                                            "start_token": 11,
                                                            "end_token": 11,
                                                            "children": []
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "comment",
                            "label": "// server.logger.level = DEBUG",
                            "start_token": 11,
                            "end_token": 11,
                            "children": []
                        },
                        {
                            "type": "callExpression",
                            "label": "server.serve()",
                            "start_token": 11,
                            "end_token": 11,
                            "children": [
                                {
                                    "type": "fieldExpression",
                                    "label": "server.serve",
                                    "start_token": 11,
                                    "end_token": 11,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "server",
                                            "start_token": 11,
                                            "end_token": 11,
                                            "children": []
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "serve",
                                            "start_token": 11,
                                            "end_token": 11,
                                            "children": []
                                        }
                                    ]
                                },
                                {
                                    "type": "argumentList",
                                    "label": "()",
                                    "start_token": 11,
                                    "end_token": 11,
                                    "children": []
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ]
}