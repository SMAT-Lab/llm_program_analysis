{
    "type": "sourceFile",
    "label": "package droplet.droplet\npublic class AnimatedGifEncoder {\n    private static let TAG:String = \"AnimatedGifEncoder\";\n    // The minimum % of an images pixels that must be transparent for us to set a transparent index\n    // automatically.\n    private static let  MIN_TRANSPARENT_PERCENTAGE:Float64 = 4.0;\n    private var width:Int32 = 0; // image size\n    private var height:Int32 = 0;\n    private var fixedWidth:Int32 = 0;   // set by setSize()\n    private var fixedHeight:Int32 = 0;\n    private var transparent:UInt32 = Color.TRANSPARENT  //= null; // transparent color if given\n    private var transIndex:Int32 = 0; // transparent index in color table\n    private var repeat:Int32 = -1; // no repeat\n    private var delay:Int32 = 0; // frame delay (hundredths)\n    private var started:Bool = false; // ready to output frames\n    private var outFile:File;\n    private var image:Bitmap = Bitmap(); // current frame\n    private var pixels:Array<UInt8> = Array<UInt8>(); // BGR byte array from frame\n    private var indexedPixels:Array<UInt8> =  Array<UInt8>(); // converted frame indexed to palette\n    private var colorDepth:Int32 = 0; // number of bit planes\n    private var colorTab:Array<UInt8> =  Array<UInt8>(); // RGB palette\n    private var usedEntry:Array<Bool> = Array<Bool>(256,item:false); // active palette entries\n    private var palSize:Int32 = 7; // color table size (bits-1)\n    private var dispose:Int32 = -1; // disposal code (-1 = use default)\n    private var closeStream:Bool = false; // close stream when finished\n    private var firstFrame:Bool = true;\n    private var sizeSet:Bool = false; // if false, get size from first frame\n    private var sample:Int32 = 10; // default sample interval for quantizer\n    private var hasTransparentPixels:Bool=false;\n    public init(ifile:File ) {\n        outFile = ifile\n        if(outFile.canWrite()){\n            started = true;\n        }else{\n            started = false\n        }\n   }\n    public init(file:String){\n        outFile=File(file, OpenOption.CreateOrTruncate(false))\n        try {\n            if(outFile.canWrite()){\n                writeHeadMark()\n                started = true;\n            }else{\n                outFile.close()\n                started = false\n            }\n        } catch (e:IOException) {\n            started = false\n        }\n    }\n    func isOpened():Bool{\n        return started && outFile.canWrite()\n    }\n    func writeHeadMark(){\n        try {\n            writeString(\"GIF89a\"); // header\n        } catch (e:IOException) {\n            print(\"Error Exception:@{e}\")\n            started = false\n        }\n    }\n    func setDelay( ms:Int32) {\n        delay = Int32(round(Float64(ms) / 10.0))\n    }\n    func setDispose(code:Int32) {\n        if (code >= 0) {\n            dispose = code;\n        }\n    }\n    func setRepeat(iter:Int32) {\n        if (iter >= 0) {\n            repeat = iter;\n        }\n    }\n    func setTransparent(color:UInt32) {\n        transparent = color;\n    }\n    func addFrame(im:Bitmap):Bool {\n        return addFrame(im, 0, 0);\n    }\n    func addFrame(  im:Bitmap,  x:Int32,  y:Int32):Bool {\n        if ((im.width==0) || !started) {\n            return false;\n        }\n        var ok:Bool = true;\n        try {\n            if (sizeSet) {\n                setFrameSize(fixedWidth, fixedHeight);\n            } else {\n                setFrameSize(im.getWidth(), im.getHeight());\n            }\n            image = Bitmap(im);\n            getImagePixels(); // convert to correct format if necessary\n            analyzePixels(); // build color table & map pixels\n            if (firstFrame) {\n                writeLSD(); // logical screen descriptor\n                writePalette(); // global color table\n                if (repeat >= 0) {\n                    // use NS app extension to indicate reps\n                    writeNetscapeExt();\n                }\n            }\n            writeGraphicCtrlExt(); // write graphic control extension\n            writeImageDesc(x, y); // image descriptor\n            if (!firstFrame) {\n                writePalette(); // local color table\n            }\n            writePixels(); // encode and write pixel data\n            firstFrame = false;\n        } catch (e:IOException) {\n            print(\"func addFrame() Exception:${e}\")\n            ok = false;\n        }\n        return ok;\n    }\n     func finish():Bool {\n        if (!started){\n            return false;\n        }\n        var ok:Bool = true;\n        started = false;\n        try {\n            outFile.write(0x3b); // GIF trailer\n            outFile.flush();\n            outFile.close();\n        } catch (e:IOException) {\n            print(\"func finish() Exception:${e}\")\n            ok = false;\n        }\n        // reset for subsequent use\n        transIndex = 0;\n        image = Bitmap();\n        pixels =Array<UInt8>();\n        indexedPixels = Array<UInt8>();\n        colorTab = Array<UInt8>();\n        closeStream = false;\n        firstFrame = true;\n        return ok;\n    }\n     func setFrameRate(fps:Float32) {\n        if (abs(fps - 0.0)>0.001) {\n            delay = Int32(round(Float32(100.0) / fps))\n        }\n    }\n     func setQuality(quality:Int32) {\n        if (quality < 1){\n            sample = 1;\n        }else{\n            sample = quality;\n        }\n    }\n     func setSize(w:Int32, h:Int32) {\n        if (started) {\n            return;\n        }\n        fixedWidth = w;\n        fixedHeight = h;\n        if (fixedWidth < 1) {\n            fixedWidth = 320;\n        }\n        if (fixedHeight < 1) {\n            fixedHeight = 240;\n        }\n        sizeSet = true;\n    }\n    private func setFrameSize(w:Int32, h:Int32) {\n        width = w;\n        height = h;\n    }\n    private func analyzePixels() {\n        var len:Int32 = Int32(pixels.size)\n        var nPix:Int32 = len / 3;\n        indexedPixels = Array<UInt8>(Int64(nPix),item:0)\n        var nq:NeuQuant = NeuQuant(pixels, len, sample);\n        // initialize quantizer\n        // 300ms\n        colorTab = nq.process(); // create reduced palette\n        // convert map from BGR to RGB\n        var i:Int64=0\n        while(i < colorTab.size){\n            var temp:UInt8 = colorTab[i];\n            colorTab[i] = colorTab[i + 2];\n            colorTab[i + 2] = temp;\n            usedEntry[i / 3] = false;\n            i += 3\n        }\n        // map image pixels to new palette\n        var k:Int64 = 0;\n        // 70ms\n        for ( i in 0..nPix) {\n            var index:Int32 = nq.map(Int32(pixels[k] & 0xff), Int32(pixels[k+1] & 0xff), Int32(pixels[k+2] & 0xff));\n            k +=3\n            usedEntry[Int64(index)] = true;\n            indexedPixels[Int64(i)] =UInt8(index)\n        }\n        pixels = Array<UInt8>()\n        colorDepth = 8;\n        palSize = 7;\n        // get closest match to transparent color if specified\n        if (transparent != Color.TRANSPARENT) {\n            transIndex = findClosest(transparent);\n        } else if (hasTransparentPixels) {\n            transIndex = findClosest(Color.TRANSPARENT);\n        }\n    }\n    private func findClosest(color:UInt32):Int32 {\n        if (colorTab.size==0){\n            return -1;\n        }\n        var r:UInt32 = Color.red(color);\n        var g:UInt32 = Color.green(color);\n        var b:UInt32 = Color.blue(color);\n        var minpos:Int32 = 0;\n        var dmin:Int32 = 256 * 256 * 256;\n        var len:Int32 = Int32(colorTab.size)\n        var i:Int64=0\n        while(i < Int64(len)) {\n            var dr:Int32 = Int32(r) - Int32(colorTab[i] & 0xff)\n            i++\n            var dg:Int32 = Int32(g) - Int32(colorTab[i] & 0xff)\n            i++\n            var db:Int32 = Int32(b) - Int32(colorTab[i] & 0xff)\n            var d:Int32 = dr * dr + dg * dg + db * db;\n            var index:Int64 = i / 3;\n            if (usedEntry[index] && (d < dmin)) {\n                dmin = d;\n                minpos = Int32(index);\n            }\n            i++;\n        }\n        return minpos;\n    }\n    private func getImagePixels() {\n        var w:Int32 = image.getWidth();\n        var h:Int32 = image.getHeight();\n        if ((w != width) || (h != height)) {\n            // create new image with right size/format\n            var temp:Bitmap = Bitmap.createBitmap(width, height, Bitmap_Config.ARGB_8888);\n            image = Bitmap.createBitmap(width, height, Bitmap_Config.ARGB_8888);\n            w = image.getWidth();\n            h = image.getHeight();\n        }\n        var pixelsInt:Array<UInt32> = Array<UInt32>(Int64(w * h) ,item:0)\n        image.getPixels(pixelsInt, 0, w, w, h);\n        pixels = Array<UInt8>(Int64(pixelsInt.size * 3), item:0)\n        var pixelsIndex:Int64 = 0;\n        hasTransparentPixels = false;\n        var totalTransparentPixels:Int32 = 0;\n        for (pixel in pixelsInt) {\n            if (pixel == Color.TRANSPARENT) {\n                totalTransparentPixels++;\n            }\n            pixels[pixelsIndex] = UInt8(pixel & 0xFF);\n            pixelsIndex++\n            pixels[pixelsIndex] = UInt8((pixel >> 8) & 0xFF);\n            pixelsIndex++\n            pixels[pixelsIndex] = UInt8((pixel >> 16) & 0xFF);\n            pixelsIndex++\n        }\n        var transparentPercentage:Float64 = 100.0 * Float64(totalTransparentPixels) / Float64(pixelsInt.size)\n        // Assume images with greater where more than n% of the pixels are transparent actually have\n        // transparency. See issue #214.\n        hasTransparentPixels = transparentPercentage > MIN_TRANSPARENT_PERCENTAGE;\n    }\n    private func writeGraphicCtrlExt() {\n        outFile.write(0x21); // extension introducer\n        outFile.write(0xf9); // GCE label\n        outFile.write(4); // data block size\n        var transpcj:Int32\n        var dispcj:Int32\n        if (transparent == Color.TRANSPARENT && !hasTransparentPixels) {\n            transpcj = 0;\n            dispcj = 0; // dispose = no action\n        } else {\n            transpcj = 1;\n            dispcj = 2; // force clear if using transparent color\n        }\n        if (dispose >= 0) {\n            dispcj = dispose & 7; // user override\n        }\n        dispcj <<= 2;\n        // packed fields\n        outFile.write(UInt8(0 | // 1:3 reserved\n                dispcj | // 4:6 disposal\n                0 | // 7 user input - 0 = none\n                transpcj)); // 8 transparency flag\n        writeShort(delay); // delay x 1/100 sec\n        outFile.write(UInt8(transIndex)); // transparent color index\n        outFile.write(0); // block terminator\n    }\n    private func writeImageDesc(x:Int32, y:Int32) {\n        outFile.write(0x2c); // image separator\n        writeShort(x); // image position\n        writeShort(y);\n        writeShort(width); // image size\n        writeShort(height);\n        // packed fields\n        if (firstFrame) {\n            // no LCT - GCT is used for first (or only) frame\n            outFile.write(0);\n        } else {\n            // specify normal LCT\n            // 1 local color table 1=yes 2 interlace - 0=no  3 sorted - 0=no 4-5 reserved\n            outFile.write(UInt8(0x80) | UInt8(0) |UInt8(0) | UInt8(0) | UInt8(palSize)); // 6-8 size of color table\n        }\n    }\n    private func writeLSD() {\n        // logical screen size\n        writeShort(width);\n        writeShort(height);\n        // packed fields\n        let t: UInt8 = UInt8(0x80 | // 1 : global color table flag = 1 (gct used)\n                0x70 | // 2-4 : color resolution = 7\n                0x00 | // 5 : gct sort flag = 0\n                palSize);\n        outFile.write(Array<UInt8>(1, item: t)); // 6-8 : gct size\n        outFile.write(Array<UInt8>(1,item:0)); // background color index\n        outFile.write(Array<UInt8>(1,item:0)); // pixel aspect ratio - assume 1:1\n    }\n    private func writeNetscapeExt() {\n        outFile.write(Array<UInt8>(1, item: 0x21)); // extension introducer\n        outFile.write(0xff); // app extension label\n        outFile.write(11); // block size\n        writeString(\"NETSCAPE\" + \"2.0\"); // app id + auth code\n        outFile.write(3); // sub-block size\n        outFile.write(1); // loop sub-block id\n        writeShort(repeat); // loop count (extra iterations, 0=repeat forever)\n        outFile.write(0); // block terminator\n    }\n    private func writePalette() {\n        outFile.write(colorTab);\n        var n:Int32 = (3 * 256) - Int32(colorTab.size)\n        for (i  in 0..n) {\n            outFile.write(Array<UInt8>(1, item: 0));\n        }\n    }\n    private func writePixels() {\n        var encoder:LZWEncoder = LZWEncoder(width, height, indexedPixels, colorDepth);\n        encoder.encode(outFile);\n    }\n    private func writeShort(value:Int32){\n        var temp:Array<UInt8> = [UInt8(value & 0xff),UInt8((value >> 8) & 0xff)]\n        outFile.write(temp);\n    }\n    private func writeString(s:String) {\n        var bytes1=s.toArray()\n        for (i in 0..s.size) {\n            outFile.write(Array<UInt8>(1, item: bytes1[i]));\n        }\n    }\n}",
    "start_token": 0,
    "end_token": 20,
    "children": [
        {
            "type": "packageHeader",
            "label": "package droplet.droplet",
            "start_token": 0,
            "end_token": 3,
            "children": [
                {
                    "type": "PACKAGE",
                    "label": "package",
                    "start_token": 0,
                    "end_token": 0,
                    "children": []
                },
                {
                    "type": "packageNameIdentifier",
                    "label": "droplet.droplet",
                    "start_token": 1,
                    "end_token": 3,
                    "children": [
                        {
                            "type": "identifier",
                            "label": "droplet",
                            "start_token": 1,
                            "end_token": 1,
                            "children": []
                        },
                        {
                            "type": "identifier",
                            "label": "droplet",
                            "start_token": 3,
                            "end_token": 3,
                            "children": []
                        }
                    ]
                }
            ]
        },
        {
            "type": "classDefinition",
            "label": "public class AnimatedGifEncoder {\n    private static let TAG:String = \"AnimatedGifEncoder\";\n    // The minimum % of an images pixels that must be transparent for us to set a transparent index\n    // automatically.\n    private static let  MIN_TRANSPARENT_PERCENTAGE:Float64 = 4.0;\n    private var width:Int32 = 0; // image size\n    private var height:Int32 = 0;\n    private var fixedWidth:Int32 = 0;   // set by setSize()\n    private var fixedHeight:Int32 = 0;\n    private var transparent:UInt32 = Color.TRANSPARENT  //= null; // transparent color if given\n    private var transIndex:Int32 = 0; // transparent index in color table\n    private var repeat:Int32 = -1; // no repeat\n    private var delay:Int32 = 0; // frame delay (hundredths)\n    private var started:Bool = false; // ready to output frames\n    private var outFile:File;\n    private var image:Bitmap = Bitmap(); // current frame\n    private var pixels:Array<UInt8> = Array<UInt8>(); // BGR byte array from frame\n    private var indexedPixels:Array<UInt8> =  Array<UInt8>(); // converted frame indexed to palette\n    private var colorDepth:Int32 = 0; // number of bit planes\n    private var colorTab:Array<UInt8> =  Array<UInt8>(); // RGB palette\n    private var usedEntry:Array<Bool> = Array<Bool>(256,item:false); // active palette entries\n    private var palSize:Int32 = 7; // color table size (bits-1)\n    private var dispose:Int32 = -1; // disposal code (-1 = use default)\n    private var closeStream:Bool = false; // close stream when finished\n    private var firstFrame:Bool = true;\n    private var sizeSet:Bool = false; // if false, get size from first frame\n    private var sample:Int32 = 10; // default sample interval for quantizer\n    private var hasTransparentPixels:Bool=false;\n    public init(ifile:File ) {\n        outFile = ifile\n        if(outFile.canWrite()){\n            started = true;\n        }else{\n            started = false\n        }\n   }\n    public init(file:String){\n        outFile=File(file, OpenOption.CreateOrTruncate(false))\n        try {\n            if(outFile.canWrite()){\n                writeHeadMark()\n                started = true;\n            }else{\n                outFile.close()\n                started = false\n            }\n        } catch (e:IOException) {\n            started = false\n        }\n    }\n    func isOpened():Bool{\n        return started && outFile.canWrite()\n    }\n    func writeHeadMark(){\n        try {\n            writeString(\"GIF89a\"); // header\n        } catch (e:IOException) {\n            print(\"Error Exception:@{e}\")\n            started = false\n        }\n    }\n    func setDelay( ms:Int32) {\n        delay = Int32(round(Float64(ms) / 10.0))\n    }\n    func setDispose(code:Int32) {\n        if (code >= 0) {\n            dispose = code;\n        }\n    }\n    func setRepeat(iter:Int32) {\n        if (iter >= 0) {\n            repeat = iter;\n        }\n    }\n    func setTransparent(color:UInt32) {\n        transparent = color;\n    }\n    func addFrame(im:Bitmap):Bool {\n        return addFrame(im, 0, 0);\n    }\n    func addFrame(  im:Bitmap,  x:Int32,  y:Int32):Bool {\n        if ((im.width==0) || !started) {\n            return false;\n        }\n        var ok:Bool = true;\n        try {\n            if (sizeSet) {\n                setFrameSize(fixedWidth, fixedHeight);\n            } else {\n                setFrameSize(im.getWidth(), im.getHeight());\n            }\n            image = Bitmap(im);\n            getImagePixels(); // convert to correct format if necessary\n            analyzePixels(); // build color table & map pixels\n            if (firstFrame) {\n                writeLSD(); // logical screen descriptor\n                writePalette(); // global color table\n                if (repeat >= 0) {\n                    // use NS app extension to indicate reps\n                    writeNetscapeExt();\n                }\n            }\n            writeGraphicCtrlExt(); // write graphic control extension\n            writeImageDesc(x, y); // image descriptor\n            if (!firstFrame) {\n                writePalette(); // local color table\n            }\n            writePixels(); // encode and write pixel data\n            firstFrame = false;\n        } catch (e:IOException) {\n            print(\"func addFrame() Exception:${e}\")\n            ok = false;\n        }\n        return ok;\n    }\n     func finish():Bool {\n        if (!started){\n            return false;\n        }\n        var ok:Bool = true;\n        started = false;\n        try {\n            outFile.write(0x3b); // GIF trailer\n            outFile.flush();\n            outFile.close();\n        } catch (e:IOException) {\n            print(\"func finish() Exception:${e}\")\n            ok = false;\n        }\n        // reset for subsequent use\n        transIndex = 0;\n        image = Bitmap();\n        pixels =Array<UInt8>();\n        indexedPixels = Array<UInt8>();\n        colorTab = Array<UInt8>();\n        closeStream = false;\n        firstFrame = true;\n        return ok;\n    }\n     func setFrameRate(fps:Float32) {\n        if (abs(fps - 0.0)>0.001) {\n            delay = Int32(round(Float32(100.0) / fps))\n        }\n    }\n     func setQuality(quality:Int32) {\n        if (quality < 1){\n            sample = 1;\n        }else{\n            sample = quality;\n        }\n    }\n     func setSize(w:Int32, h:Int32) {\n        if (started) {\n            return;\n        }\n        fixedWidth = w;\n        fixedHeight = h;\n        if (fixedWidth < 1) {\n            fixedWidth = 320;\n        }\n        if (fixedHeight < 1) {\n            fixedHeight = 240;\n        }\n        sizeSet = true;\n    }\n    private func setFrameSize(w:Int32, h:Int32) {\n        width = w;\n        height = h;\n    }\n    private func analyzePixels() {\n        var len:Int32 = Int32(pixels.size)\n        var nPix:Int32 = len / 3;\n        indexedPixels = Array<UInt8>(Int64(nPix),item:0)\n        var nq:NeuQuant = NeuQuant(pixels, len, sample);\n        // initialize quantizer\n        // 300ms\n        colorTab = nq.process(); // create reduced palette\n        // convert map from BGR to RGB\n        var i:Int64=0\n        while(i < colorTab.size){\n            var temp:UInt8 = colorTab[i];\n            colorTab[i] = colorTab[i + 2];\n            colorTab[i + 2] = temp;\n            usedEntry[i / 3] = false;\n            i += 3\n        }\n        // map image pixels to new palette\n        var k:Int64 = 0;\n        // 70ms\n        for ( i in 0..nPix) {\n            var index:Int32 = nq.map(Int32(pixels[k] & 0xff), Int32(pixels[k+1] & 0xff), Int32(pixels[k+2] & 0xff));\n            k +=3\n            usedEntry[Int64(index)] = true;\n            indexedPixels[Int64(i)] =UInt8(index)\n        }\n        pixels = Array<UInt8>()\n        colorDepth = 8;\n        palSize = 7;\n        // get closest match to transparent color if specified\n        if (transparent != Color.TRANSPARENT) {\n            transIndex = findClosest(transparent);\n        } else if (hasTransparentPixels) {\n            transIndex = findClosest(Color.TRANSPARENT);\n        }\n    }\n    private func findClosest(color:UInt32):Int32 {\n        if (colorTab.size==0){\n            return -1;\n        }\n        var r:UInt32 = Color.red(color);\n        var g:UInt32 = Color.green(color);\n        var b:UInt32 = Color.blue(color);\n        var minpos:Int32 = 0;\n        var dmin:Int32 = 256 * 256 * 256;\n        var len:Int32 = Int32(colorTab.size)\n        var i:Int64=0\n        while(i < Int64(len)) {\n            var dr:Int32 = Int32(r) - Int32(colorTab[i] & 0xff)\n            i++\n            var dg:Int32 = Int32(g) - Int32(colorTab[i] & 0xff)\n            i++\n            var db:Int32 = Int32(b) - Int32(colorTab[i] & 0xff)\n            var d:Int32 = dr * dr + dg * dg + db * db;\n            var index:Int64 = i / 3;\n            if (usedEntry[index] && (d < dmin)) {\n                dmin = d;\n                minpos = Int32(index);\n            }\n            i++;\n        }\n        return minpos;\n    }\n    private func getImagePixels() {\n        var w:Int32 = image.getWidth();\n        var h:Int32 = image.getHeight();\n        if ((w != width) || (h != height)) {\n            // create new image with right size/format\n            var temp:Bitmap = Bitmap.createBitmap(width, height, Bitmap_Config.ARGB_8888);\n            image = Bitmap.createBitmap(width, height, Bitmap_Config.ARGB_8888);\n            w = image.getWidth();\n            h = image.getHeight();\n        }\n        var pixelsInt:Array<UInt32> = Array<UInt32>(Int64(w * h) ,item:0)\n        image.getPixels(pixelsInt, 0, w, w, h);\n        pixels = Array<UInt8>(Int64(pixelsInt.size * 3), item:0)\n        var pixelsIndex:Int64 = 0;\n        hasTransparentPixels = false;\n        var totalTransparentPixels:Int32 = 0;\n        for (pixel in pixelsInt) {\n            if (pixel == Color.TRANSPARENT) {\n                totalTransparentPixels++;\n            }\n            pixels[pixelsIndex] = UInt8(pixel & 0xFF);\n            pixelsIndex++\n            pixels[pixelsIndex] = UInt8((pixel >> 8) & 0xFF);\n            pixelsIndex++\n            pixels[pixelsIndex] = UInt8((pixel >> 16) & 0xFF);\n            pixelsIndex++\n        }\n        var transparentPercentage:Float64 = 100.0 * Float64(totalTransparentPixels) / Float64(pixelsInt.size)\n        // Assume images with greater where more than n% of the pixels are transparent actually have\n        // transparency. See issue #214.\n        hasTransparentPixels = transparentPercentage > MIN_TRANSPARENT_PERCENTAGE;\n    }\n    private func writeGraphicCtrlExt() {\n        outFile.write(0x21); // extension introducer\n        outFile.write(0xf9); // GCE label\n        outFile.write(4); // data block size\n        var transpcj:Int32\n        var dispcj:Int32\n        if (transparent == Color.TRANSPARENT && !hasTransparentPixels) {\n            transpcj = 0;\n            dispcj = 0; // dispose = no action\n        } else {\n            transpcj = 1;\n            dispcj = 2; // force clear if using transparent color\n        }\n        if (dispose >= 0) {\n            dispcj = dispose & 7; // user override\n        }\n        dispcj <<= 2;\n        // packed fields\n        outFile.write(UInt8(0 | // 1:3 reserved\n                dispcj | // 4:6 disposal\n                0 | // 7 user input - 0 = none\n                transpcj)); // 8 transparency flag\n        writeShort(delay); // delay x 1/100 sec\n        outFile.write(UInt8(transIndex)); // transparent color index\n        outFile.write(0); // block terminator\n    }\n    private func writeImageDesc(x:Int32, y:Int32) {\n        outFile.write(0x2c); // image separator\n        writeShort(x); // image position\n        writeShort(y);\n        writeShort(width); // image size\n        writeShort(height);\n        // packed fields\n        if (firstFrame) {\n            // no LCT - GCT is used for first (or only) frame\n            outFile.write(0);\n        } else {\n            // specify normal LCT\n            // 1 local color table 1=yes 2 interlace - 0=no  3 sorted - 0=no 4-5 reserved\n            outFile.write(UInt8(0x80) | UInt8(0) |UInt8(0) | UInt8(0) | UInt8(palSize)); // 6-8 size of color table\n        }\n    }\n    private func writeLSD() {\n        // logical screen size\n        writeShort(width);\n        writeShort(height);\n        // packed fields\n        let t: UInt8 = UInt8(0x80 | // 1 : global color table flag = 1 (gct used)\n                0x70 | // 2-4 : color resolution = 7\n                0x00 | // 5 : gct sort flag = 0\n                palSize);\n        outFile.write(Array<UInt8>(1, item: t)); // 6-8 : gct size\n        outFile.write(Array<UInt8>(1,item:0)); // background color index\n        outFile.write(Array<UInt8>(1,item:0)); // pixel aspect ratio - assume 1:1\n    }\n    private func writeNetscapeExt() {\n        outFile.write(Array<UInt8>(1, item: 0x21)); // extension introducer\n        outFile.write(0xff); // app extension label\n        outFile.write(11); // block size\n        writeString(\"NETSCAPE\" + \"2.0\"); // app id + auth code\n        outFile.write(3); // sub-block size\n        outFile.write(1); // loop sub-block id\n        writeShort(repeat); // loop count (extra iterations, 0=repeat forever)\n        outFile.write(0); // block terminator\n    }\n    private func writePalette() {\n        outFile.write(colorTab);\n        var n:Int32 = (3 * 256) - Int32(colorTab.size)\n        for (i  in 0..n) {\n            outFile.write(Array<UInt8>(1, item: 0));\n        }\n    }\n    private func writePixels() {\n        var encoder:LZWEncoder = LZWEncoder(width, height, indexedPixels, colorDepth);\n        encoder.encode(outFile);\n    }\n    private func writeShort(value:Int32){\n        var temp:Array<UInt8> = [UInt8(value & 0xff),UInt8((value >> 8) & 0xff)]\n        outFile.write(temp);\n    }\n    private func writeString(s:String) {\n        var bytes1=s.toArray()\n        for (i in 0..s.size) {\n            outFile.write(Array<UInt8>(1, item: bytes1[i]));\n        }\n    }\n}",
            "start_token": 5,
            "end_token": 20,
            "children": [
                {
                    "type": "modifiers",
                    "label": "public",
                    "start_token": 5,
                    "end_token": 5,
                    "children": [
                        {
                            "type": "PUBLIC",
                            "label": "public",
                            "start_token": 5,
                            "end_token": 5,
                            "children": []
                        }
                    ]
                },
                {
                    "type": "CLASS",
                    "label": "class",
                    "start_token": 6,
                    "end_token": 6,
                    "children": []
                },
                {
                    "type": "identifier",
                    "label": "AnimatedGifEncoder",
                    "start_token": 7,
                    "end_token": 7,
                    "children": []
                },
                {
                    "type": "body",
                    "label": "{\n    private static let TAG:String = \"AnimatedGifEncoder\";\n    // The minimum % of an images pixels that must be transparent for us to set a transparent index\n    // automatically.\n    private static let  MIN_TRANSPARENT_PERCENTAGE:Float64 = 4.0;\n    private var width:Int32 = 0; // image size\n    private var height:Int32 = 0;\n    private var fixedWidth:Int32 = 0;   // set by setSize()\n    private var fixedHeight:Int32 = 0;\n    private var transparent:UInt32 = Color.TRANSPARENT  //= null; // transparent color if given\n    private var transIndex:Int32 = 0; // transparent index in color table\n    private var repeat:Int32 = -1; // no repeat\n    private var delay:Int32 = 0; // frame delay (hundredths)\n    private var started:Bool = false; // ready to output frames\n    private var outFile:File;\n    private var image:Bitmap = Bitmap(); // current frame\n    private var pixels:Array<UInt8> = Array<UInt8>(); // BGR byte array from frame\n    private var indexedPixels:Array<UInt8> =  Array<UInt8>(); // converted frame indexed to palette\n    private var colorDepth:Int32 = 0; // number of bit planes\n    private var colorTab:Array<UInt8> =  Array<UInt8>(); // RGB palette\n    private var usedEntry:Array<Bool> = Array<Bool>(256,item:false); // active palette entries\n    private var palSize:Int32 = 7; // color table size (bits-1)\n    private var dispose:Int32 = -1; // disposal code (-1 = use default)\n    private var closeStream:Bool = false; // close stream when finished\n    private var firstFrame:Bool = true;\n    private var sizeSet:Bool = false; // if false, get size from first frame\n    private var sample:Int32 = 10; // default sample interval for quantizer\n    private var hasTransparentPixels:Bool=false;\n    public init(ifile:File ) {\n        outFile = ifile\n        if(outFile.canWrite()){\n            started = true;\n        }else{\n            started = false\n        }\n   }\n    public init(file:String){\n        outFile=File(file, OpenOption.CreateOrTruncate(false))\n        try {\n            if(outFile.canWrite()){\n                writeHeadMark()\n                started = true;\n            }else{\n                outFile.close()\n                started = false\n            }\n        } catch (e:IOException) {\n            started = false\n        }\n    }\n    func isOpened():Bool{\n        return started && outFile.canWrite()\n    }\n    func writeHeadMark(){\n        try {\n            writeString(\"GIF89a\"); // header\n        } catch (e:IOException) {\n            print(\"Error Exception:@{e}\")\n            started = false\n        }\n    }\n    func setDelay( ms:Int32) {\n        delay = Int32(round(Float64(ms) / 10.0))\n    }\n    func setDispose(code:Int32) {\n        if (code >= 0) {\n            dispose = code;\n        }\n    }\n    func setRepeat(iter:Int32) {\n        if (iter >= 0) {\n            repeat = iter;\n        }\n    }\n    func setTransparent(color:UInt32) {\n        transparent = color;\n    }\n    func addFrame(im:Bitmap):Bool {\n        return addFrame(im, 0, 0);\n    }\n    func addFrame(  im:Bitmap,  x:Int32,  y:Int32):Bool {\n        if ((im.width==0) || !started) {\n            return false;\n        }\n        var ok:Bool = true;\n        try {\n            if (sizeSet) {\n                setFrameSize(fixedWidth, fixedHeight);\n            } else {\n                setFrameSize(im.getWidth(), im.getHeight());\n            }\n            image = Bitmap(im);\n            getImagePixels(); // convert to correct format if necessary\n            analyzePixels(); // build color table & map pixels\n            if (firstFrame) {\n                writeLSD(); // logical screen descriptor\n                writePalette(); // global color table\n                if (repeat >= 0) {\n                    // use NS app extension to indicate reps\n                    writeNetscapeExt();\n                }\n            }\n            writeGraphicCtrlExt(); // write graphic control extension\n            writeImageDesc(x, y); // image descriptor\n            if (!firstFrame) {\n                writePalette(); // local color table\n            }\n            writePixels(); // encode and write pixel data\n            firstFrame = false;\n        } catch (e:IOException) {\n            print(\"func addFrame() Exception:${e}\")\n            ok = false;\n        }\n        return ok;\n    }\n     func finish():Bool {\n        if (!started){\n            return false;\n        }\n        var ok:Bool = true;\n        started = false;\n        try {\n            outFile.write(0x3b); // GIF trailer\n            outFile.flush();\n            outFile.close();\n        } catch (e:IOException) {\n            print(\"func finish() Exception:${e}\")\n            ok = false;\n        }\n        // reset for subsequent use\n        transIndex = 0;\n        image = Bitmap();\n        pixels =Array<UInt8>();\n        indexedPixels = Array<UInt8>();\n        colorTab = Array<UInt8>();\n        closeStream = false;\n        firstFrame = true;\n        return ok;\n    }\n     func setFrameRate(fps:Float32) {\n        if (abs(fps - 0.0)>0.001) {\n            delay = Int32(round(Float32(100.0) / fps))\n        }\n    }\n     func setQuality(quality:Int32) {\n        if (quality < 1){\n            sample = 1;\n        }else{\n            sample = quality;\n        }\n    }\n     func setSize(w:Int32, h:Int32) {\n        if (started) {\n            return;\n        }\n        fixedWidth = w;\n        fixedHeight = h;\n        if (fixedWidth < 1) {\n            fixedWidth = 320;\n        }\n        if (fixedHeight < 1) {\n            fixedHeight = 240;\n        }\n        sizeSet = true;\n    }\n    private func setFrameSize(w:Int32, h:Int32) {\n        width = w;\n        height = h;\n    }\n    private func analyzePixels() {\n        var len:Int32 = Int32(pixels.size)\n        var nPix:Int32 = len / 3;\n        indexedPixels = Array<UInt8>(Int64(nPix),item:0)\n        var nq:NeuQuant = NeuQuant(pixels, len, sample);\n        // initialize quantizer\n        // 300ms\n        colorTab = nq.process(); // create reduced palette\n        // convert map from BGR to RGB\n        var i:Int64=0\n        while(i < colorTab.size){\n            var temp:UInt8 = colorTab[i];\n            colorTab[i] = colorTab[i + 2];\n            colorTab[i + 2] = temp;\n            usedEntry[i / 3] = false;\n            i += 3\n        }\n        // map image pixels to new palette\n        var k:Int64 = 0;\n        // 70ms\n        for ( i in 0..nPix) {\n            var index:Int32 = nq.map(Int32(pixels[k] & 0xff), Int32(pixels[k+1] & 0xff), Int32(pixels[k+2] & 0xff));\n            k +=3\n            usedEntry[Int64(index)] = true;\n            indexedPixels[Int64(i)] =UInt8(index)\n        }\n        pixels = Array<UInt8>()\n        colorDepth = 8;\n        palSize = 7;\n        // get closest match to transparent color if specified\n        if (transparent != Color.TRANSPARENT) {\n            transIndex = findClosest(transparent);\n        } else if (hasTransparentPixels) {\n            transIndex = findClosest(Color.TRANSPARENT);\n        }\n    }\n    private func findClosest(color:UInt32):Int32 {\n        if (colorTab.size==0){\n            return -1;\n        }\n        var r:UInt32 = Color.red(color);\n        var g:UInt32 = Color.green(color);\n        var b:UInt32 = Color.blue(color);\n        var minpos:Int32 = 0;\n        var dmin:Int32 = 256 * 256 * 256;\n        var len:Int32 = Int32(colorTab.size)\n        var i:Int64=0\n        while(i < Int64(len)) {\n            var dr:Int32 = Int32(r) - Int32(colorTab[i] & 0xff)\n            i++\n            var dg:Int32 = Int32(g) - Int32(colorTab[i] & 0xff)\n            i++\n            var db:Int32 = Int32(b) - Int32(colorTab[i] & 0xff)\n            var d:Int32 = dr * dr + dg * dg + db * db;\n            var index:Int64 = i / 3;\n            if (usedEntry[index] && (d < dmin)) {\n                dmin = d;\n                minpos = Int32(index);\n            }\n            i++;\n        }\n        return minpos;\n    }\n    private func getImagePixels() {\n        var w:Int32 = image.getWidth();\n        var h:Int32 = image.getHeight();\n        if ((w != width) || (h != height)) {\n            // create new image with right size/format\n            var temp:Bitmap = Bitmap.createBitmap(width, height, Bitmap_Config.ARGB_8888);\n            image = Bitmap.createBitmap(width, height, Bitmap_Config.ARGB_8888);\n            w = image.getWidth();\n            h = image.getHeight();\n        }\n        var pixelsInt:Array<UInt32> = Array<UInt32>(Int64(w * h) ,item:0)\n        image.getPixels(pixelsInt, 0, w, w, h);\n        pixels = Array<UInt8>(Int64(pixelsInt.size * 3), item:0)\n        var pixelsIndex:Int64 = 0;\n        hasTransparentPixels = false;\n        var totalTransparentPixels:Int32 = 0;\n        for (pixel in pixelsInt) {\n            if (pixel == Color.TRANSPARENT) {\n                totalTransparentPixels++;\n            }\n            pixels[pixelsIndex] = UInt8(pixel & 0xFF);\n            pixelsIndex++\n            pixels[pixelsIndex] = UInt8((pixel >> 8) & 0xFF);\n            pixelsIndex++\n            pixels[pixelsIndex] = UInt8((pixel >> 16) & 0xFF);\n            pixelsIndex++\n        }\n        var transparentPercentage:Float64 = 100.0 * Float64(totalTransparentPixels) / Float64(pixelsInt.size)\n        // Assume images with greater where more than n% of the pixels are transparent actually have\n        // transparency. See issue #214.\n        hasTransparentPixels = transparentPercentage > MIN_TRANSPARENT_PERCENTAGE;\n    }\n    private func writeGraphicCtrlExt() {\n        outFile.write(0x21); // extension introducer\n        outFile.write(0xf9); // GCE label\n        outFile.write(4); // data block size\n        var transpcj:Int32\n        var dispcj:Int32\n        if (transparent == Color.TRANSPARENT && !hasTransparentPixels) {\n            transpcj = 0;\n            dispcj = 0; // dispose = no action\n        } else {\n            transpcj = 1;\n            dispcj = 2; // force clear if using transparent color\n        }\n        if (dispose >= 0) {\n            dispcj = dispose & 7; // user override\n        }\n        dispcj <<= 2;\n        // packed fields\n        outFile.write(UInt8(0 | // 1:3 reserved\n                dispcj | // 4:6 disposal\n                0 | // 7 user input - 0 = none\n                transpcj)); // 8 transparency flag\n        writeShort(delay); // delay x 1/100 sec\n        outFile.write(UInt8(transIndex)); // transparent color index\n        outFile.write(0); // block terminator\n    }\n    private func writeImageDesc(x:Int32, y:Int32) {\n        outFile.write(0x2c); // image separator\n        writeShort(x); // image position\n        writeShort(y);\n        writeShort(width); // image size\n        writeShort(height);\n        // packed fields\n        if (firstFrame) {\n            // no LCT - GCT is used for first (or only) frame\n            outFile.write(0);\n        } else {\n            // specify normal LCT\n            // 1 local color table 1=yes 2 interlace - 0=no  3 sorted - 0=no 4-5 reserved\n            outFile.write(UInt8(0x80) | UInt8(0) |UInt8(0) | UInt8(0) | UInt8(palSize)); // 6-8 size of color table\n        }\n    }\n    private func writeLSD() {\n        // logical screen size\n        writeShort(width);\n        writeShort(height);\n        // packed fields\n        let t: UInt8 = UInt8(0x80 | // 1 : global color table flag = 1 (gct used)\n                0x70 | // 2-4 : color resolution = 7\n                0x00 | // 5 : gct sort flag = 0\n                palSize);\n        outFile.write(Array<UInt8>(1, item: t)); // 6-8 : gct size\n        outFile.write(Array<UInt8>(1,item:0)); // background color index\n        outFile.write(Array<UInt8>(1,item:0)); // pixel aspect ratio - assume 1:1\n    }\n    private func writeNetscapeExt() {\n        outFile.write(Array<UInt8>(1, item: 0x21)); // extension introducer\n        outFile.write(0xff); // app extension label\n        outFile.write(11); // block size\n        writeString(\"NETSCAPE\" + \"2.0\"); // app id + auth code\n        outFile.write(3); // sub-block size\n        outFile.write(1); // loop sub-block id\n        writeShort(repeat); // loop count (extra iterations, 0=repeat forever)\n        outFile.write(0); // block terminator\n    }\n    private func writePalette() {\n        outFile.write(colorTab);\n        var n:Int32 = (3 * 256) - Int32(colorTab.size)\n        for (i  in 0..n) {\n            outFile.write(Array<UInt8>(1, item: 0));\n        }\n    }\n    private func writePixels() {\n        var encoder:LZWEncoder = LZWEncoder(width, height, indexedPixels, colorDepth);\n        encoder.encode(outFile);\n    }\n    private func writeShort(value:Int32){\n        var temp:Array<UInt8> = [UInt8(value & 0xff),UInt8((value >> 8) & 0xff)]\n        outFile.write(temp);\n    }\n    private func writeString(s:String) {\n        var bytes1=s.toArray()\n        for (i in 0..s.size) {\n            outFile.write(Array<UInt8>(1, item: bytes1[i]));\n        }\n    }\n}",
                    "start_token": 8,
                    "end_token": 20,
                    "children": [
                        {
                            "type": "memberDeclaration",
                            "label": "private static let TAG:String = \"AnimatedGifEncoder\";",
                            "start_token": 10,
                            "end_token": 18,
                            "children": [
                                {
                                    "type": "variableDeclaration",
                                    "label": "private static let TAG:String = \"AnimatedGifEncoder\"",
                                    "start_token": 10,
                                    "end_token": 17,
                                    "children": [
                                        {
                                            "type": "variableModifiers",
                                            "label": "private static",
                                            "start_token": 10,
                                            "end_token": 11,
                                            "children": [
                                                {
                                                    "type": "PRIVATE",
                                                    "label": "private",
                                                    "start_token": 10,
                                                    "end_token": 10,
                                                    "children": []
                                                },
                                                {
                                                    "type": "STATIC",
                                                    "label": "static",
                                                    "start_token": 11,
                                                    "end_token": 11,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "LET",
                                            "label": " let",
                                            "start_token": -1,
                                            "end_token": 12,
                                            "children": []
                                        },
                                        {
                                            "type": "varBindingPattern",
                                            "label": "TAG",
                                            "start_token": 13,
                                            "end_token": 13,
                                            "children": []
                                        },
                                        {
                                            "type": "charLangTypes",
                                            "label": "String",
                                            "start_token": 15,
                                            "end_token": 15,
                                            "children": []
                                        },
                                        {
                                            "type": "stringLiteral",
                                            "label": "\"AnimatedGifEncoder\"",
                                            "start_token": 17,
                                            "end_token": 17,
                                            "children": [
                                                {
                                                    "type": "lineStringLiteral",
                                                    "label": "\"AnimatedGifEncoder\"",
                                                    "start_token": 17,
                                                    "end_token": 17,
                                                    "children": [
                                                        {
                                                            "type": "quoteOpen",
                                                            "label": "\"",
                                                            "start_token": 17,
                                                            "end_token": 17,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "lineStringContent",
                                                            "label": "AnimatedGifEncoder",
                                                            "start_token": 17,
                                                            "end_token": 17,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "quoteClose",
                                                            "label": "\"",
                                                            "start_token": 17,
                                                            "end_token": 17,
                                                            "children": []
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "comment",
                            "label": "// The minimum % of an images pixels that must be transparent for us to set a transparent index",
                            "start_token": 20,
                            "end_token": 20,
                            "children": []
                        },
                        {
                            "type": "comment",
                            "label": "// automatically.",
                            "start_token": 20,
                            "end_token": 20,
                            "children": []
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "private static let  MIN_TRANSPARENT_PERCENTAGE:Float64 = 4.0;",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "variableDeclaration",
                                    "label": "private static let  MIN_TRANSPARENT_PERCENTAGE:Float64 = 4.0",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "variableModifiers",
                                            "label": "private static",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PRIVATE",
                                                    "label": "private",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "STATIC",
                                                    "label": "static",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "LET",
                                            "label": " let",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "varBindingPattern",
                                            "label": "MIN_TRANSPARENT_PERCENTAGE",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "charLangTypes",
                                            "label": "Float64",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "floatLiteral",
                                            "label": "4.0",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "private var width:Int32 = 0;",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "variableDeclaration",
                                    "label": "private var width:Int32 = 0",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "variableModifiers",
                                            "label": "private",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PRIVATE",
                                                    "label": "private",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "VAR",
                                            "label": "var",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "varBindingPattern",
                                            "label": "width",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "charLangTypes",
                                            "label": "Int32",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "integerLiteral",
                                            "label": "0",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "comment",
                            "label": "// image size",
                            "start_token": 20,
                            "end_token": 20,
                            "children": []
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "private var height:Int32 = 0;",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "variableDeclaration",
                                    "label": "private var height:Int32 = 0",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "variableModifiers",
                                            "label": "private",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PRIVATE",
                                                    "label": "private",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "VAR",
                                            "label": "var",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "varBindingPattern",
                                            "label": "height",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "charLangTypes",
                                            "label": "Int32",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "integerLiteral",
                                            "label": "0",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "private var fixedWidth:Int32 = 0;",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "variableDeclaration",
                                    "label": "private var fixedWidth:Int32 = 0",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "variableModifiers",
                                            "label": "private",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PRIVATE",
                                                    "label": "private",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "VAR",
                                            "label": "var",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "varBindingPattern",
                                            "label": "fixedWidth",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "charLangTypes",
                                            "label": "Int32",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "integerLiteral",
                                            "label": "0",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "comment",
                            "label": "// set by setSize()",
                            "start_token": 20,
                            "end_token": 20,
                            "children": []
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "private var fixedHeight:Int32 = 0;",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "variableDeclaration",
                                    "label": "private var fixedHeight:Int32 = 0",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "variableModifiers",
                                            "label": "private",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PRIVATE",
                                                    "label": "private",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "VAR",
                                            "label": "var",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "varBindingPattern",
                                            "label": "fixedHeight",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "charLangTypes",
                                            "label": "Int32",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "integerLiteral",
                                            "label": "0",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "private var transparent:UInt32 = Color.TRANSPARENT",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "variableDeclaration",
                                    "label": "private var transparent:UInt32 = Color.TRANSPARENT",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "variableModifiers",
                                            "label": "private",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PRIVATE",
                                                    "label": "private",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "VAR",
                                            "label": "var",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "varBindingPattern",
                                            "label": "transparent",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "charLangTypes",
                                            "label": "UInt32",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "fieldExpression",
                                            "label": "Color.TRANSPARENT",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "Color",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "TRANSPARENT",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "comment",
                            "label": "//= null; // transparent color if given",
                            "start_token": 20,
                            "end_token": 20,
                            "children": []
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "private var transIndex:Int32 = 0;",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "variableDeclaration",
                                    "label": "private var transIndex:Int32 = 0",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "variableModifiers",
                                            "label": "private",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PRIVATE",
                                                    "label": "private",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "VAR",
                                            "label": "var",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "varBindingPattern",
                                            "label": "transIndex",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "charLangTypes",
                                            "label": "Int32",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "integerLiteral",
                                            "label": "0",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "comment",
                            "label": "// transparent index in color table",
                            "start_token": 20,
                            "end_token": 20,
                            "children": []
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "private var repeat:Int32 = -1;",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "variableDeclaration",
                                    "label": "private var repeat:Int32 = -1",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "variableModifiers",
                                            "label": "private",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PRIVATE",
                                                    "label": "private",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "VAR",
                                            "label": "var",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "varBindingPattern",
                                            "label": "repeat",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "charLangTypes",
                                            "label": "Int32",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "unaryExpression",
                                            "label": "-1",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "integerLiteral",
                                                    "label": "1",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "comment",
                            "label": "// no repeat",
                            "start_token": 20,
                            "end_token": 20,
                            "children": []
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "private var delay:Int32 = 0;",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "variableDeclaration",
                                    "label": "private var delay:Int32 = 0",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "variableModifiers",
                                            "label": "private",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PRIVATE",
                                                    "label": "private",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "VAR",
                                            "label": "var",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "varBindingPattern",
                                            "label": "delay",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "charLangTypes",
                                            "label": "Int32",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "integerLiteral",
                                            "label": "0",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "comment",
                            "label": "// frame delay (hundredths)",
                            "start_token": 20,
                            "end_token": 20,
                            "children": []
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "private var started:Bool = false;",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "variableDeclaration",
                                    "label": "private var started:Bool = false",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "variableModifiers",
                                            "label": "private",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PRIVATE",
                                                    "label": "private",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "VAR",
                                            "label": "var",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "varBindingPattern",
                                            "label": "started",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "charLangTypes",
                                            "label": "Bool",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "BOOLEAN",
                                                    "label": "Bool",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "booleanLiteral",
                                            "label": "false",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "FALSE",
                                                    "label": "false",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "comment",
                            "label": "// ready to output frames",
                            "start_token": 20,
                            "end_token": 20,
                            "children": []
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "private var outFile:File;",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "variableDeclaration",
                                    "label": "private var outFile:File",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "variableModifiers",
                                            "label": "private",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PRIVATE",
                                                    "label": "private",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "VAR",
                                            "label": "var",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "varBindingPattern",
                                            "label": "outFile",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "userType",
                                            "label": "File",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "File",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "private var image:Bitmap = Bitmap();",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "variableDeclaration",
                                    "label": "private var image:Bitmap = Bitmap()",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "variableModifiers",
                                            "label": "private",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PRIVATE",
                                                    "label": "private",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "VAR",
                                            "label": "var",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "varBindingPattern",
                                            "label": "image",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "userType",
                                            "label": "Bitmap",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "Bitmap",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "callExpression",
                                            "label": "Bitmap()",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "Bitmap",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "argumentList",
                                                    "label": "()",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "comment",
                            "label": "// current frame",
                            "start_token": 20,
                            "end_token": 20,
                            "children": []
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "private var pixels:Array<UInt8> = Array<UInt8>();",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "variableDeclaration",
                                    "label": "private var pixels:Array<UInt8> = Array<UInt8>()",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "variableModifiers",
                                            "label": "private",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PRIVATE",
                                                    "label": "private",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "VAR",
                                            "label": "var",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "varBindingPattern",
                                            "label": "pixels",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "userType",
                                            "label": "Array<UInt8>",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "Array",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "typeArguments",
                                                    "label": "<UInt8>",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "charLangTypes",
                                                            "label": "UInt8",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "callExpression",
                                            "label": "Array<UInt8>()",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "genericsType",
                                                    "label": "Array<UInt8>",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "typeIdentifier",
                                                            "label": "Array",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "typeArguments",
                                                            "label": "<UInt8>",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "charLangTypes",
                                                                    "label": "UInt8",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argumentList",
                                                    "label": "()",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "comment",
                            "label": "// BGR byte array from frame",
                            "start_token": 20,
                            "end_token": 20,
                            "children": []
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "private var indexedPixels:Array<UInt8> =  Array<UInt8>();",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "variableDeclaration",
                                    "label": "private var indexedPixels:Array<UInt8> =  Array<UInt8>()",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "variableModifiers",
                                            "label": "private",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PRIVATE",
                                                    "label": "private",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "VAR",
                                            "label": "var",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "varBindingPattern",
                                            "label": "indexedPixels",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "userType",
                                            "label": "Array<UInt8>",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "Array",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "typeArguments",
                                                    "label": "<UInt8>",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "charLangTypes",
                                                            "label": "UInt8",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "callExpression",
                                            "label": "Array<UInt8>()",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "genericsType",
                                                    "label": "Array<UInt8>",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "typeIdentifier",
                                                            "label": "Array",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "typeArguments",
                                                            "label": "<UInt8>",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "charLangTypes",
                                                                    "label": "UInt8",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argumentList",
                                                    "label": "()",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "comment",
                            "label": "// converted frame indexed to palette",
                            "start_token": 20,
                            "end_token": 20,
                            "children": []
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "private var colorDepth:Int32 = 0;",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "variableDeclaration",
                                    "label": "private var colorDepth:Int32 = 0",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "variableModifiers",
                                            "label": "private",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PRIVATE",
                                                    "label": "private",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "VAR",
                                            "label": "var",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "varBindingPattern",
                                            "label": "colorDepth",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "charLangTypes",
                                            "label": "Int32",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "integerLiteral",
                                            "label": "0",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "comment",
                            "label": "// number of bit planes",
                            "start_token": 20,
                            "end_token": 20,
                            "children": []
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "private var colorTab:Array<UInt8> =  Array<UInt8>();",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "variableDeclaration",
                                    "label": "private var colorTab:Array<UInt8> =  Array<UInt8>()",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "variableModifiers",
                                            "label": "private",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PRIVATE",
                                                    "label": "private",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "VAR",
                                            "label": "var",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "varBindingPattern",
                                            "label": "colorTab",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "userType",
                                            "label": "Array<UInt8>",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "Array",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "typeArguments",
                                                    "label": "<UInt8>",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "charLangTypes",
                                                            "label": "UInt8",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "callExpression",
                                            "label": "Array<UInt8>()",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "genericsType",
                                                    "label": "Array<UInt8>",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "typeIdentifier",
                                                            "label": "Array",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "typeArguments",
                                                            "label": "<UInt8>",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "charLangTypes",
                                                                    "label": "UInt8",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argumentList",
                                                    "label": "()",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "comment",
                            "label": "// RGB palette",
                            "start_token": 20,
                            "end_token": 20,
                            "children": []
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "private var usedEntry:Array<Bool> = Array<Bool>(256,item:false);",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "variableDeclaration",
                                    "label": "private var usedEntry:Array<Bool> = Array<Bool>(256,item:false)",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "variableModifiers",
                                            "label": "private",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PRIVATE",
                                                    "label": "private",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "VAR",
                                            "label": "var",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "varBindingPattern",
                                            "label": "usedEntry",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "userType",
                                            "label": "Array<Bool>",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "Array",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "typeArguments",
                                                    "label": "<Bool>",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "charLangTypes",
                                                            "label": "Bool",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "BOOLEAN",
                                                                    "label": "Bool",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "callExpression",
                                            "label": "Array<Bool>(256,item:false)",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "genericsType",
                                                    "label": "Array<Bool>",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "typeIdentifier",
                                                            "label": "Array",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "typeArguments",
                                                            "label": "<Bool>",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "charLangTypes",
                                                                    "label": "Bool",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "BOOLEAN",
                                                                            "label": "Bool",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argumentList",
                                                    "label": "(256,item:false)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "integerLiteral",
                                                            "label": "256",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "item",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "booleanLiteral",
                                                            "label": "false",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "FALSE",
                                                                    "label": "false",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "comment",
                            "label": "// active palette entries",
                            "start_token": 20,
                            "end_token": 20,
                            "children": []
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "private var palSize:Int32 = 7;",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "variableDeclaration",
                                    "label": "private var palSize:Int32 = 7",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "variableModifiers",
                                            "label": "private",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PRIVATE",
                                                    "label": "private",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "VAR",
                                            "label": "var",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "varBindingPattern",
                                            "label": "palSize",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "charLangTypes",
                                            "label": "Int32",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "integerLiteral",
                                            "label": "7",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "comment",
                            "label": "// color table size (bits-1)",
                            "start_token": 20,
                            "end_token": 20,
                            "children": []
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "private var dispose:Int32 = -1;",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "variableDeclaration",
                                    "label": "private var dispose:Int32 = -1",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "variableModifiers",
                                            "label": "private",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PRIVATE",
                                                    "label": "private",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "VAR",
                                            "label": "var",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "varBindingPattern",
                                            "label": "dispose",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "charLangTypes",
                                            "label": "Int32",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "unaryExpression",
                                            "label": "-1",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "integerLiteral",
                                                    "label": "1",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "comment",
                            "label": "// disposal code (-1 = use default)",
                            "start_token": 20,
                            "end_token": 20,
                            "children": []
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "private var closeStream:Bool = false;",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "variableDeclaration",
                                    "label": "private var closeStream:Bool = false",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "variableModifiers",
                                            "label": "private",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PRIVATE",
                                                    "label": "private",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "VAR",
                                            "label": "var",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "varBindingPattern",
                                            "label": "closeStream",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "charLangTypes",
                                            "label": "Bool",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "BOOLEAN",
                                                    "label": "Bool",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "booleanLiteral",
                                            "label": "false",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "FALSE",
                                                    "label": "false",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "comment",
                            "label": "// close stream when finished",
                            "start_token": 20,
                            "end_token": 20,
                            "children": []
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "private var firstFrame:Bool = true;",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "variableDeclaration",
                                    "label": "private var firstFrame:Bool = true",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "variableModifiers",
                                            "label": "private",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PRIVATE",
                                                    "label": "private",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "VAR",
                                            "label": "var",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "varBindingPattern",
                                            "label": "firstFrame",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "charLangTypes",
                                            "label": "Bool",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "BOOLEAN",
                                                    "label": "Bool",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "booleanLiteral",
                                            "label": "true",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "TRUE",
                                                    "label": "true",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "private var sizeSet:Bool = false;",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "variableDeclaration",
                                    "label": "private var sizeSet:Bool = false",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "variableModifiers",
                                            "label": "private",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PRIVATE",
                                                    "label": "private",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "VAR",
                                            "label": "var",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "varBindingPattern",
                                            "label": "sizeSet",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "charLangTypes",
                                            "label": "Bool",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "BOOLEAN",
                                                    "label": "Bool",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "booleanLiteral",
                                            "label": "false",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "FALSE",
                                                    "label": "false",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "comment",
                            "label": "// if false, get size from first frame",
                            "start_token": 20,
                            "end_token": 20,
                            "children": []
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "private var sample:Int32 = 10;",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "variableDeclaration",
                                    "label": "private var sample:Int32 = 10",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "variableModifiers",
                                            "label": "private",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PRIVATE",
                                                    "label": "private",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "VAR",
                                            "label": "var",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "varBindingPattern",
                                            "label": "sample",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "charLangTypes",
                                            "label": "Int32",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "integerLiteral",
                                            "label": "10",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "comment",
                            "label": "// default sample interval for quantizer",
                            "start_token": 20,
                            "end_token": 20,
                            "children": []
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "private var hasTransparentPixels:Bool=false;",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "variableDeclaration",
                                    "label": "private var hasTransparentPixels:Bool=false",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "variableModifiers",
                                            "label": "private",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PRIVATE",
                                                    "label": "private",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "VAR",
                                            "label": "var",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "varBindingPattern",
                                            "label": "hasTransparentPixels",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "charLangTypes",
                                            "label": "Bool",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "BOOLEAN",
                                                    "label": "Bool",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "booleanLiteral",
                                            "label": "false",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "FALSE",
                                                    "label": "false",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "public init(ifile:File ) {\n        outFile = ifile\n        if(outFile.canWrite()){\n            started = true;\n        }else{\n            started = false\n        }\n   }",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "initialize",
                                    "label": "public init(ifile:File ) {\n        outFile = ifile\n        if(outFile.canWrite()){\n            started = true;\n        }else{\n            started = false\n        }\n   }",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "modifiers",
                                            "label": "public",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PUBLIC",
                                                    "label": "public",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "INIT",
                                            "label": "init",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "functionParameters",
                                            "label": "(ifile:File )",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "parameterList",
                                                    "label": "ifile:File",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "parameter",
                                                            "label": "ifile:File",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "ifile",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "userType",
                                                                    "label": "File",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "File",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "block",
                                            "label": "{\n        outFile = ifile\n        if(outFile.canWrite()){\n            started = true;\n        }else{\n            started = false\n        }\n   }",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "assignmentExpression",
                                                    "label": "outFile = ifile",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "outFile",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "ifile",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "ifExpression",
                                                    "label": "if(outFile.canWrite()){\n            started = true;\n        }else{\n            started = false\n        }",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "IF",
                                                            "label": "if",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "callExpression",
                                                            "label": "outFile.canWrite()",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "fieldExpression",
                                                                    "label": "outFile.canWrite",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "outFile",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "canWrite",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "argumentList",
                                                                    "label": "()",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "block",
                                                            "label": "{\n            started = true;\n        }",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "assignmentExpression",
                                                                    "label": "started = true",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "started",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "booleanLiteral",
                                                                            "label": "true",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "TRUE",
                                                                                    "label": "true",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "ELSE",
                                                            "label": "else",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "block",
                                                            "label": "{\n            started = false\n        }",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "assignmentExpression",
                                                                    "label": "started = false",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "started",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "booleanLiteral",
                                                                            "label": "false",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "FALSE",
                                                                                    "label": "false",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "public init(file:String){\n        outFile=File(file, OpenOption.CreateOrTruncate(false))\n        try {\n            if(outFile.canWrite()){\n                writeHeadMark()\n                started = true;\n            }else{\n                outFile.close()\n                started = false\n            }\n        } catch (e:IOException) {\n            started = false\n        }\n    }",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "initialize",
                                    "label": "public init(file:String){\n        outFile=File(file, OpenOption.CreateOrTruncate(false))\n        try {\n            if(outFile.canWrite()){\n                writeHeadMark()\n                started = true;\n            }else{\n                outFile.close()\n                started = false\n            }\n        } catch (e:IOException) {\n            started = false\n        }\n    }",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "modifiers",
                                            "label": "public",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PUBLIC",
                                                    "label": "public",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "INIT",
                                            "label": "init",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "functionParameters",
                                            "label": "(file:String)",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "parameterList",
                                                    "label": "file:String",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "parameter",
                                                            "label": "file:String",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "file",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "charLangTypes",
                                                                    "label": "String",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "block",
                                            "label": "{\n        outFile=File(file, OpenOption.CreateOrTruncate(false))\n        try {\n            if(outFile.canWrite()){\n                writeHeadMark()\n                started = true;\n            }else{\n                outFile.close()\n                started = false\n            }\n        } catch (e:IOException) {\n            started = false\n        }\n    }",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "assignmentExpression",
                                                    "label": "outFile=File(file, OpenOption.CreateOrTruncate(false))",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "outFile",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "callExpression",
                                                            "label": "File(file, OpenOption.CreateOrTruncate(false))",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "File",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "argumentList",
                                                                    "label": "(file, OpenOption.CreateOrTruncate(false))",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "file",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "callExpression",
                                                                            "label": "OpenOption.CreateOrTruncate(false)",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "fieldExpression",
                                                                                    "label": "OpenOption.CreateOrTruncate",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "OpenOption",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "CreateOrTruncate",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "argumentList",
                                                                                    "label": "(false)",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "booleanLiteral",
                                                                                            "label": "false",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "FALSE",
                                                                                                    "label": "false",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "tryExpression",
                                                    "label": "try {\n            if(outFile.canWrite()){\n                writeHeadMark()\n                started = true;\n            }else{\n                outFile.close()\n                started = false\n            }\n        } catch (e:IOException) {\n            started = false\n        }",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "TRY",
                                                            "label": "try",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "block",
                                                            "label": " {\n            if(outFile.canWrite()){\n                writeHeadMark()\n                started = true;\n            }else{\n                outFile.close()\n                started = false\n            }\n        }",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "ifExpression",
                                                                    "label": "if(outFile.canWrite()){\n                writeHeadMark()\n                started = true;\n            }else{\n                outFile.close()\n                started = false\n            }",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "IF",
                                                                            "label": "if",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "callExpression",
                                                                            "label": "outFile.canWrite()",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "fieldExpression",
                                                                                    "label": "outFile.canWrite",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "outFile",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "canWrite",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "argumentList",
                                                                                    "label": "()",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "block",
                                                                            "label": "{\n                writeHeadMark()\n                started = true;\n            }",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "callExpression",
                                                                                    "label": "writeHeadMark()",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "writeHeadMark",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "argumentList",
                                                                                            "label": "()",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "assignmentExpression",
                                                                                    "label": "started = true",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "started",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "booleanLiteral",
                                                                                            "label": "true",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "TRUE",
                                                                                                    "label": "true",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "ELSE",
                                                                            "label": "else",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "block",
                                                                            "label": "{\n                outFile.close()\n                started = false\n            }",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "callExpression",
                                                                                    "label": "outFile.close()",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "fieldExpression",
                                                                                            "label": "outFile.close",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "outFile",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "close",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "argumentList",
                                                                                            "label": "()",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "assignmentExpression",
                                                                                    "label": "started = false",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "started",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "booleanLiteral",
                                                                                            "label": "false",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "FALSE",
                                                                                                    "label": "false",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "CATCH",
                                                            "label": "catch",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "exceptionTypePattern",
                                                            "label": "e:IOException",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "e",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "userType",
                                                                    "label": "IOException",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "IOException",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "block",
                                                            "label": " {\n            started = false\n        }",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "assignmentExpression",
                                                                    "label": "started = false",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "started",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "booleanLiteral",
                                                                            "label": "false",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "FALSE",
                                                                                    "label": "false",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "func isOpened():Bool{\n        return started && outFile.canWrite()\n    }",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "functionDefinition",
                                    "label": "func isOpened():Bool{\n        return started && outFile.canWrite()\n    }",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "FUNC",
                                            "label": "func",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "isOpened",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "functionParameters",
                                            "label": "()",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "charLangTypes",
                                            "label": "Bool",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "BOOLEAN",
                                                    "label": "Bool",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "block",
                                            "label": "{\n        return started && outFile.canWrite()\n    }",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "returnExpression",
                                                    "label": "return started && outFile.canWrite()",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "RETURN",
                                                            "label": "return",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "binaryExpression",
                                                            "label": "started && outFile.canWrite()",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "started",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "callExpression",
                                                                    "label": "outFile.canWrite()",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "fieldExpression",
                                                                            "label": "outFile.canWrite",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "outFile",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "canWrite",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "argumentList",
                                                                            "label": "()",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "func writeHeadMark(){\n        try {\n            writeString(\"GIF89a\"); // header\n        } catch (e:IOException) {\n            print(\"Error Exception:@{e}\")\n            started = false\n        }\n    }",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "functionDefinition",
                                    "label": "func writeHeadMark(){\n        try {\n            writeString(\"GIF89a\"); // header\n        } catch (e:IOException) {\n            print(\"Error Exception:@{e}\")\n            started = false\n        }\n    }",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "FUNC",
                                            "label": "func",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "writeHeadMark",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "functionParameters",
                                            "label": "()",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "block",
                                            "label": "{\n        try {\n            writeString(\"GIF89a\"); // header\n        } catch (e:IOException) {\n            print(\"Error Exception:@{e}\")\n            started = false\n        }\n    }",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "tryExpression",
                                                    "label": "try {\n            writeString(\"GIF89a\"); // header\n        } catch (e:IOException) {\n            print(\"Error Exception:@{e}\")\n            started = false\n        }",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "TRY",
                                                            "label": "try",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "block",
                                                            "label": " {\n            writeString(\"GIF89a\"); // header\n        }",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "callExpression",
                                                                    "label": "writeString(\"GIF89a\")",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "writeString",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "argumentList",
                                                                            "label": "(\"GIF89a\")",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "stringLiteral",
                                                                                    "label": "\"GIF89a\"",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "lineStringLiteral",
                                                                                            "label": "\"GIF89a\"",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "quoteOpen",
                                                                                                    "label": "\"",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "lineStringContent",
                                                                                                    "label": "GIF89a",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "quoteClose",
                                                                                                    "label": "\"",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "comment",
                                                                    "label": "// header",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "CATCH",
                                                            "label": "catch",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "exceptionTypePattern",
                                                            "label": "e:IOException",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "e",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "userType",
                                                                    "label": "IOException",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "IOException",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "block",
                                                            "label": " {\n            print(\"Error Exception:@{e}\")\n            started = false\n        }",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "callExpression",
                                                                    "label": "print(\"Error Exception:@{e}\")",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "builtinFunction",
                                                                            "label": "print",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "argumentList",
                                                                            "label": "(\"Error Exception:@{e}\")",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "stringLiteral",
                                                                                    "label": "\"Error Exception:@{e}\"",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "lineStringLiteral",
                                                                                            "label": "\"Error Exception:@{e}\"",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "quoteOpen",
                                                                                                    "label": "\"",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "lineStringContent",
                                                                                                    "label": "Error Exception:@{e}",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "quoteClose",
                                                                                                    "label": "\"",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "assignmentExpression",
                                                                    "label": "started = false",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "started",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "booleanLiteral",
                                                                            "label": "false",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "FALSE",
                                                                                    "label": "false",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "func setDelay( ms:Int32) {\n        delay = Int32(round(Float64(ms) / 10.0))\n    }",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "functionDefinition",
                                    "label": "func setDelay( ms:Int32) {\n        delay = Int32(round(Float64(ms) / 10.0))\n    }",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "FUNC",
                                            "label": "func",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "setDelay",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "functionParameters",
                                            "label": "( ms:Int32)",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "parameterList",
                                                    "label": "ms:Int32",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "parameter",
                                                            "label": "ms:Int32",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "ms",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "charLangTypes",
                                                                    "label": "Int32",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "block",
                                            "label": "{\n        delay = Int32(round(Float64(ms) / 10.0))\n    }",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "assignmentExpression",
                                                    "label": "delay = Int32(round(Float64(ms) / 10.0))",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "delay",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "callExpression",
                                                            "label": "Int32(round(Float64(ms) / 10.0))",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "Int32",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "argumentList",
                                                                    "label": "(round(Float64(ms) / 10.0))",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "callExpression",
                                                                            "label": "round(Float64(ms) / 10.0)",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "round",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "argumentList",
                                                                                    "label": "(Float64(ms) / 10.0)",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "binaryExpression",
                                                                                            "label": "Float64(ms) / 10.0",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "callExpression",
                                                                                                    "label": "Float64(ms)",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "label": "Float64",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "argumentList",
                                                                                                            "label": "(ms)",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "ms",
                                                                                                                    "start_token": 20,
                                                                                                                    "end_token": 20,
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        }
                                                                                                    ]
                                                                                                },
                                                                                                {
                                                                                                    "type": "floatLiteral",
                                                                                                    "label": "10.0",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "func setDispose(code:Int32) {\n        if (code >= 0) {\n            dispose = code;\n        }\n    }",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "functionDefinition",
                                    "label": "func setDispose(code:Int32) {\n        if (code >= 0) {\n            dispose = code;\n        }\n    }",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "FUNC",
                                            "label": "func",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "setDispose",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "functionParameters",
                                            "label": "(code:Int32)",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "parameterList",
                                                    "label": "code:Int32",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "parameter",
                                                            "label": "code:Int32",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "code",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "charLangTypes",
                                                                    "label": "Int32",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "block",
                                            "label": "{\n        if (code >= 0) {\n            dispose = code;\n        }\n    }",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "ifExpression",
                                                    "label": "if (code >= 0) {\n            dispose = code;\n        }",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "IF",
                                                            "label": "if",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "binaryExpression",
                                                            "label": "code >= 0",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "code",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "integerLiteral",
                                                                    "label": "0",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "block",
                                                            "label": " {\n            dispose = code;\n        }",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "assignmentExpression",
                                                                    "label": "dispose = code",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "dispose",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "code",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "func setRepeat(iter:Int32) {\n        if (iter >= 0) {\n            repeat = iter;\n        }\n    }",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "functionDefinition",
                                    "label": "func setRepeat(iter:Int32) {\n        if (iter >= 0) {\n            repeat = iter;\n        }\n    }",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "FUNC",
                                            "label": "func",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "setRepeat",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "functionParameters",
                                            "label": "(iter:Int32)",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "parameterList",
                                                    "label": "iter:Int32",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "parameter",
                                                            "label": "iter:Int32",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "iter",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "charLangTypes",
                                                                    "label": "Int32",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "block",
                                            "label": "{\n        if (iter >= 0) {\n            repeat = iter;\n        }\n    }",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "ifExpression",
                                                    "label": "if (iter >= 0) {\n            repeat = iter;\n        }",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "IF",
                                                            "label": "if",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "binaryExpression",
                                                            "label": "iter >= 0",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "iter",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "integerLiteral",
                                                                    "label": "0",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "block",
                                                            "label": " {\n            repeat = iter;\n        }",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "assignmentExpression",
                                                                    "label": "repeat = iter",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "repeat",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "iter",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "func setTransparent(color:UInt32) {\n        transparent = color;\n    }",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "functionDefinition",
                                    "label": "func setTransparent(color:UInt32) {\n        transparent = color;\n    }",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "FUNC",
                                            "label": "func",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "setTransparent",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "functionParameters",
                                            "label": "(color:UInt32)",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "parameterList",
                                                    "label": "color:UInt32",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "parameter",
                                                            "label": "color:UInt32",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "color",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "charLangTypes",
                                                                    "label": "UInt32",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "block",
                                            "label": "{\n        transparent = color;\n    }",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "assignmentExpression",
                                                    "label": "transparent = color",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "transparent",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "color",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "func addFrame(im:Bitmap):Bool {\n        return addFrame(im, 0, 0);\n    }",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "functionDefinition",
                                    "label": "func addFrame(im:Bitmap):Bool {\n        return addFrame(im, 0, 0);\n    }",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "FUNC",
                                            "label": "func",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "addFrame",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "functionParameters",
                                            "label": "(im:Bitmap)",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "parameterList",
                                                    "label": "im:Bitmap",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "parameter",
                                                            "label": "im:Bitmap",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "im",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "userType",
                                                                    "label": "Bitmap",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "Bitmap",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "charLangTypes",
                                            "label": "Bool",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "BOOLEAN",
                                                    "label": "Bool",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "block",
                                            "label": "{\n        return addFrame(im, 0, 0);\n    }",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "returnExpression",
                                                    "label": "return addFrame(im, 0, 0)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "RETURN",
                                                            "label": "return",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "callExpression",
                                                            "label": "addFrame(im, 0, 0)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "addFrame",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "argumentList",
                                                                    "label": "(im, 0, 0)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "im",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "integerLiteral",
                                                                            "label": "0",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "integerLiteral",
                                                                            "label": "0",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "func addFrame(  im:Bitmap,  x:Int32,  y:Int32):Bool {\n        if ((im.width==0) || !started) {\n            return false;\n        }\n        var ok:Bool = true;\n        try {\n            if (sizeSet) {\n                setFrameSize(fixedWidth, fixedHeight);\n            } else {\n                setFrameSize(im.getWidth(), im.getHeight());\n            }\n            image = Bitmap(im);\n            getImagePixels(); // convert to correct format if necessary\n            analyzePixels(); // build color table & map pixels\n            if (firstFrame) {\n                writeLSD(); // logical screen descriptor\n                writePalette(); // global color table\n                if (repeat >= 0) {\n                    // use NS app extension to indicate reps\n                    writeNetscapeExt();\n                }\n            }\n            writeGraphicCtrlExt(); // write graphic control extension\n            writeImageDesc(x, y); // image descriptor\n            if (!firstFrame) {\n                writePalette(); // local color table\n            }\n            writePixels(); // encode and write pixel data\n            firstFrame = false;\n        } catch (e:IOException) {\n            print(\"func addFrame() Exception:${e}\")\n            ok = false;\n        }\n        return ok;\n    }",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "functionDefinition",
                                    "label": "func addFrame(  im:Bitmap,  x:Int32,  y:Int32):Bool {\n        if ((im.width==0) || !started) {\n            return false;\n        }\n        var ok:Bool = true;\n        try {\n            if (sizeSet) {\n                setFrameSize(fixedWidth, fixedHeight);\n            } else {\n                setFrameSize(im.getWidth(), im.getHeight());\n            }\n            image = Bitmap(im);\n            getImagePixels(); // convert to correct format if necessary\n            analyzePixels(); // build color table & map pixels\n            if (firstFrame) {\n                writeLSD(); // logical screen descriptor\n                writePalette(); // global color table\n                if (repeat >= 0) {\n                    // use NS app extension to indicate reps\n                    writeNetscapeExt();\n                }\n            }\n            writeGraphicCtrlExt(); // write graphic control extension\n            writeImageDesc(x, y); // image descriptor\n            if (!firstFrame) {\n                writePalette(); // local color table\n            }\n            writePixels(); // encode and write pixel data\n            firstFrame = false;\n        } catch (e:IOException) {\n            print(\"func addFrame() Exception:${e}\")\n            ok = false;\n        }\n        return ok;\n    }",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "FUNC",
                                            "label": "func",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "addFrame",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "functionParameters",
                                            "label": "(  im:Bitmap,  x:Int32,  y:Int32)",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "parameterList",
                                                    "label": "im:Bitmap,  x:Int32,  y:Int32",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "parameter",
                                                            "label": "im:Bitmap",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "im",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "userType",
                                                                    "label": "Bitmap",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "Bitmap",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "parameter",
                                                            "label": "x:Int32",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "x",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "charLangTypes",
                                                                    "label": "Int32",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "parameter",
                                                            "label": "y:Int32",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "y",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "charLangTypes",
                                                                    "label": "Int32",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "charLangTypes",
                                            "label": "Bool",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "BOOLEAN",
                                                    "label": "Bool",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "block",
                                            "label": "{\n        if ((im.width==0) || !started) {\n            return false;\n        }\n        var ok:Bool = true;\n        try {\n            if (sizeSet) {\n                setFrameSize(fixedWidth, fixedHeight);\n            } else {\n                setFrameSize(im.getWidth(), im.getHeight());\n            }\n            image = Bitmap(im);\n            getImagePixels(); // convert to correct format if necessary\n            analyzePixels(); // build color table & map pixels\n            if (firstFrame) {\n                writeLSD(); // logical screen descriptor\n                writePalette(); // global color table\n                if (repeat >= 0) {\n                    // use NS app extension to indicate reps\n                    writeNetscapeExt();\n                }\n            }\n            writeGraphicCtrlExt(); // write graphic control extension\n            writeImageDesc(x, y); // image descriptor\n            if (!firstFrame) {\n                writePalette(); // local color table\n            }\n            writePixels(); // encode and write pixel data\n            firstFrame = false;\n        } catch (e:IOException) {\n            print(\"func addFrame() Exception:${e}\")\n            ok = false;\n        }\n        return ok;\n    }",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "ifExpression",
                                                    "label": "if ((im.width==0) || !started) {\n            return false;\n        }",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "IF",
                                                            "label": "if",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "binaryExpression",
                                                            "label": "(im.width==0) || !started",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "parenthesizedExpression",
                                                                    "label": "(im.width==0)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "binaryExpression",
                                                                            "label": "im.width==0",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "fieldExpression",
                                                                                    "label": "im.width",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "im",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "width",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "integerLiteral",
                                                                                    "label": "0",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "unaryExpression",
                                                                    "label": "!started",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "started",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "block",
                                                            "label": " {\n            return false;\n        }",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "returnExpression",
                                                                    "label": "return false",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "RETURN",
                                                                            "label": "return",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "booleanLiteral",
                                                                            "label": "false",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "FALSE",
                                                                                    "label": "false",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "variableDeclaration",
                                                    "label": "var ok:Bool = true",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "VAR",
                                                            "label": "var",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "varBindingPattern",
                                                            "label": "ok",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "charLangTypes",
                                                            "label": "Bool",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "BOOLEAN",
                                                                    "label": "Bool",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "booleanLiteral",
                                                            "label": "true",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "TRUE",
                                                                    "label": "true",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "tryExpression",
                                                    "label": "try {\n            if (sizeSet) {\n                setFrameSize(fixedWidth, fixedHeight);\n            } else {\n                setFrameSize(im.getWidth(), im.getHeight());\n            }\n            image = Bitmap(im);\n            getImagePixels(); // convert to correct format if necessary\n            analyzePixels(); // build color table & map pixels\n            if (firstFrame) {\n                writeLSD(); // logical screen descriptor\n                writePalette(); // global color table\n                if (repeat >= 0) {\n                    // use NS app extension to indicate reps\n                    writeNetscapeExt();\n                }\n            }\n            writeGraphicCtrlExt(); // write graphic control extension\n            writeImageDesc(x, y); // image descriptor\n            if (!firstFrame) {\n                writePalette(); // local color table\n            }\n            writePixels(); // encode and write pixel data\n            firstFrame = false;\n        } catch (e:IOException) {\n            print(\"func addFrame() Exception:${e}\")\n            ok = false;\n        }",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "TRY",
                                                            "label": "try",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "block",
                                                            "label": " {\n            if (sizeSet) {\n                setFrameSize(fixedWidth, fixedHeight);\n            } else {\n                setFrameSize(im.getWidth(), im.getHeight());\n            }\n            image = Bitmap(im);\n            getImagePixels(); // convert to correct format if necessary\n            analyzePixels(); // build color table & map pixels\n            if (firstFrame) {\n                writeLSD(); // logical screen descriptor\n                writePalette(); // global color table\n                if (repeat >= 0) {\n                    // use NS app extension to indicate reps\n                    writeNetscapeExt();\n                }\n            }\n            writeGraphicCtrlExt(); // write graphic control extension\n            writeImageDesc(x, y); // image descriptor\n            if (!firstFrame) {\n                writePalette(); // local color table\n            }\n            writePixels(); // encode and write pixel data\n            firstFrame = false;\n        }",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "ifExpression",
                                                                    "label": "if (sizeSet) {\n                setFrameSize(fixedWidth, fixedHeight);\n            } else {\n                setFrameSize(im.getWidth(), im.getHeight());\n            }",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "IF",
                                                                            "label": "if",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "sizeSet",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "block",
                                                                            "label": " {\n                setFrameSize(fixedWidth, fixedHeight);\n            }",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "callExpression",
                                                                                    "label": "setFrameSize(fixedWidth, fixedHeight)",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "setFrameSize",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "argumentList",
                                                                                            "label": "(fixedWidth, fixedHeight)",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "fixedWidth",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "fixedHeight",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "ELSE",
                                                                            "label": "else",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "block",
                                                                            "label": " {\n                setFrameSize(im.getWidth(), im.getHeight());\n            }",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "callExpression",
                                                                                    "label": "setFrameSize(im.getWidth(), im.getHeight())",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "setFrameSize",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "argumentList",
                                                                                            "label": "(im.getWidth(), im.getHeight())",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "callExpression",
                                                                                                    "label": "im.getWidth()",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "fieldExpression",
                                                                                                            "label": "im.getWidth",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "im",
                                                                                                                    "start_token": 20,
                                                                                                                    "end_token": 20,
                                                                                                                    "children": []
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "getWidth",
                                                                                                                    "start_token": 20,
                                                                                                                    "end_token": 20,
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "argumentList",
                                                                                                            "label": "()",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                },
                                                                                                {
                                                                                                    "type": "callExpression",
                                                                                                    "label": "im.getHeight()",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "fieldExpression",
                                                                                                            "label": "im.getHeight",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "im",
                                                                                                                    "start_token": 20,
                                                                                                                    "end_token": 20,
                                                                                                                    "children": []
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "getHeight",
                                                                                                                    "start_token": 20,
                                                                                                                    "end_token": 20,
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "argumentList",
                                                                                                            "label": "()",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "assignmentExpression",
                                                                    "label": "image = Bitmap(im)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "image",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "callExpression",
                                                                            "label": "Bitmap(im)",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "Bitmap",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "argumentList",
                                                                                    "label": "(im)",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "im",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "callExpression",
                                                                    "label": "getImagePixels()",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "getImagePixels",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "argumentList",
                                                                            "label": "()",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "comment",
                                                                    "label": "// convert to correct format if necessary",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "callExpression",
                                                                    "label": "analyzePixels()",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "analyzePixels",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "argumentList",
                                                                            "label": "()",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "comment",
                                                                    "label": "// build color table & map pixels",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "ifExpression",
                                                                    "label": "if (firstFrame) {\n                writeLSD(); // logical screen descriptor\n                writePalette(); // global color table\n                if (repeat >= 0) {\n                    // use NS app extension to indicate reps\n                    writeNetscapeExt();\n                }\n            }",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "IF",
                                                                            "label": "if",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "firstFrame",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "block",
                                                                            "label": " {\n                writeLSD(); // logical screen descriptor\n                writePalette(); // global color table\n                if (repeat >= 0) {\n                    // use NS app extension to indicate reps\n                    writeNetscapeExt();\n                }\n            }",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "callExpression",
                                                                                    "label": "writeLSD()",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "writeLSD",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "argumentList",
                                                                                            "label": "()",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "comment",
                                                                                    "label": "// logical screen descriptor",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "callExpression",
                                                                                    "label": "writePalette()",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "writePalette",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "argumentList",
                                                                                            "label": "()",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "comment",
                                                                                    "label": "// global color table",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "ifExpression",
                                                                                    "label": "if (repeat >= 0) {\n                    // use NS app extension to indicate reps\n                    writeNetscapeExt();\n                }",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "IF",
                                                                                            "label": "if",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "binaryExpression",
                                                                                            "label": "repeat >= 0",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "repeat",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "integerLiteral",
                                                                                                    "label": "0",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "block",
                                                                                            "label": " {\n                    // use NS app extension to indicate reps\n                    writeNetscapeExt();\n                }",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "comment",
                                                                                                    "label": "// use NS app extension to indicate reps",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "callExpression",
                                                                                                    "label": "writeNetscapeExt()",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "label": "writeNetscapeExt",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "argumentList",
                                                                                                            "label": "()",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "callExpression",
                                                                    "label": "writeGraphicCtrlExt()",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "writeGraphicCtrlExt",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "argumentList",
                                                                            "label": "()",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "comment",
                                                                    "label": "// write graphic control extension",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "callExpression",
                                                                    "label": "writeImageDesc(x, y)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "writeImageDesc",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "argumentList",
                                                                            "label": "(x, y)",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "x",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "y",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "comment",
                                                                    "label": "// image descriptor",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "ifExpression",
                                                                    "label": "if (!firstFrame) {\n                writePalette(); // local color table\n            }",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "IF",
                                                                            "label": "if",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "unaryExpression",
                                                                            "label": "!firstFrame",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "firstFrame",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "block",
                                                                            "label": " {\n                writePalette(); // local color table\n            }",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "callExpression",
                                                                                    "label": "writePalette()",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "writePalette",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "argumentList",
                                                                                            "label": "()",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "comment",
                                                                                    "label": "// local color table",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "callExpression",
                                                                    "label": "writePixels()",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "writePixels",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "argumentList",
                                                                            "label": "()",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "comment",
                                                                    "label": "// encode and write pixel data",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "assignmentExpression",
                                                                    "label": "firstFrame = false",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "firstFrame",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "booleanLiteral",
                                                                            "label": "false",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "FALSE",
                                                                                    "label": "false",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "CATCH",
                                                            "label": "catch",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "exceptionTypePattern",
                                                            "label": "e:IOException",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "e",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "userType",
                                                                    "label": "IOException",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "IOException",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "block",
                                                            "label": " {\n            print(\"func addFrame() Exception:${e}\")\n            ok = false;\n        }",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "callExpression",
                                                                    "label": "print(\"func addFrame() Exception:${e}\")",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "builtinFunction",
                                                                            "label": "print",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "argumentList",
                                                                            "label": "(\"func addFrame() Exception:${e}\")",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "stringLiteral",
                                                                                    "label": "\"func addFrame() Exception:${e}\"",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "lineStringLiteral",
                                                                                            "label": "\"func addFrame() Exception:${e}\"",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "quoteOpen",
                                                                                                    "label": "\"",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "lineStringContent",
                                                                                                    "label": "func addFrame() Exception:",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "lineStringExpression",
                                                                                                    "label": "${e}",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "label": "e",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                },
                                                                                                {
                                                                                                    "type": "quoteClose",
                                                                                                    "label": "\"",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "assignmentExpression",
                                                                    "label": "ok = false",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "ok",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "booleanLiteral",
                                                                            "label": "false",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "FALSE",
                                                                                    "label": "false",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "returnExpression",
                                                    "label": "return ok",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "RETURN",
                                                            "label": "return",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "ok",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "func finish():Bool {\n        if (!started){\n            return false;\n        }\n        var ok:Bool = true;\n        started = false;\n        try {\n            outFile.write(0x3b); // GIF trailer\n            outFile.flush();\n            outFile.close();\n        } catch (e:IOException) {\n            print(\"func finish() Exception:${e}\")\n            ok = false;\n        }\n        // reset for subsequent use\n        transIndex = 0;\n        image = Bitmap();\n        pixels =Array<UInt8>();\n        indexedPixels = Array<UInt8>();\n        colorTab = Array<UInt8>();\n        closeStream = false;\n        firstFrame = true;\n        return ok;\n    }",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "functionDefinition",
                                    "label": "func finish():Bool {\n        if (!started){\n            return false;\n        }\n        var ok:Bool = true;\n        started = false;\n        try {\n            outFile.write(0x3b); // GIF trailer\n            outFile.flush();\n            outFile.close();\n        } catch (e:IOException) {\n            print(\"func finish() Exception:${e}\")\n            ok = false;\n        }\n        // reset for subsequent use\n        transIndex = 0;\n        image = Bitmap();\n        pixels =Array<UInt8>();\n        indexedPixels = Array<UInt8>();\n        colorTab = Array<UInt8>();\n        closeStream = false;\n        firstFrame = true;\n        return ok;\n    }",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "FUNC",
                                            "label": "func",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "finish",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "functionParameters",
                                            "label": "()",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "charLangTypes",
                                            "label": "Bool",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "BOOLEAN",
                                                    "label": "Bool",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "block",
                                            "label": "{\n        if (!started){\n            return false;\n        }\n        var ok:Bool = true;\n        started = false;\n        try {\n            outFile.write(0x3b); // GIF trailer\n            outFile.flush();\n            outFile.close();\n        } catch (e:IOException) {\n            print(\"func finish() Exception:${e}\")\n            ok = false;\n        }\n        // reset for subsequent use\n        transIndex = 0;\n        image = Bitmap();\n        pixels =Array<UInt8>();\n        indexedPixels = Array<UInt8>();\n        colorTab = Array<UInt8>();\n        closeStream = false;\n        firstFrame = true;\n        return ok;\n    }",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "ifExpression",
                                                    "label": "if (!started){\n            return false;\n        }",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "IF",
                                                            "label": "if",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "unaryExpression",
                                                            "label": "!started",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "started",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "block",
                                                            "label": "{\n            return false;\n        }",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "returnExpression",
                                                                    "label": "return false",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "RETURN",
                                                                            "label": "return",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "booleanLiteral",
                                                                            "label": "false",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "FALSE",
                                                                                    "label": "false",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "variableDeclaration",
                                                    "label": "var ok:Bool = true",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "VAR",
                                                            "label": "var",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "varBindingPattern",
                                                            "label": "ok",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "charLangTypes",
                                                            "label": "Bool",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "BOOLEAN",
                                                                    "label": "Bool",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "booleanLiteral",
                                                            "label": "true",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "TRUE",
                                                                    "label": "true",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "assignmentExpression",
                                                    "label": "started = false",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "started",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "booleanLiteral",
                                                            "label": "false",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "FALSE",
                                                                    "label": "false",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "tryExpression",
                                                    "label": "try {\n            outFile.write(0x3b); // GIF trailer\n            outFile.flush();\n            outFile.close();\n        } catch (e:IOException) {\n            print(\"func finish() Exception:${e}\")\n            ok = false;\n        }",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "TRY",
                                                            "label": "try",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "block",
                                                            "label": " {\n            outFile.write(0x3b); // GIF trailer\n            outFile.flush();\n            outFile.close();\n        }",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "callExpression",
                                                                    "label": "outFile.write(0x3b)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "fieldExpression",
                                                                            "label": "outFile.write",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "outFile",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "write",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "argumentList",
                                                                            "label": "(0x3b)",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "integerLiteral",
                                                                                    "label": "0x3b",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "comment",
                                                                    "label": "// GIF trailer",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "callExpression",
                                                                    "label": "outFile.flush()",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "fieldExpression",
                                                                            "label": "outFile.flush",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "outFile",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "flush",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "argumentList",
                                                                            "label": "()",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "callExpression",
                                                                    "label": "outFile.close()",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "fieldExpression",
                                                                            "label": "outFile.close",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "outFile",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "close",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "argumentList",
                                                                            "label": "()",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "CATCH",
                                                            "label": "catch",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "exceptionTypePattern",
                                                            "label": "e:IOException",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "e",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "userType",
                                                                    "label": "IOException",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "IOException",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "block",
                                                            "label": " {\n            print(\"func finish() Exception:${e}\")\n            ok = false;\n        }",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "callExpression",
                                                                    "label": "print(\"func finish() Exception:${e}\")",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "builtinFunction",
                                                                            "label": "print",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "argumentList",
                                                                            "label": "(\"func finish() Exception:${e}\")",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "stringLiteral",
                                                                                    "label": "\"func finish() Exception:${e}\"",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "lineStringLiteral",
                                                                                            "label": "\"func finish() Exception:${e}\"",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "quoteOpen",
                                                                                                    "label": "\"",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "lineStringContent",
                                                                                                    "label": "func finish() Exception:",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "lineStringExpression",
                                                                                                    "label": "${e}",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "label": "e",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                },
                                                                                                {
                                                                                                    "type": "quoteClose",
                                                                                                    "label": "\"",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "assignmentExpression",
                                                                    "label": "ok = false",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "ok",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "booleanLiteral",
                                                                            "label": "false",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "FALSE",
                                                                                    "label": "false",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "comment",
                                                    "label": "// reset for subsequent use",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "assignmentExpression",
                                                    "label": "transIndex = 0",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "transIndex",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "integerLiteral",
                                                            "label": "0",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "assignmentExpression",
                                                    "label": "image = Bitmap()",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "image",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "callExpression",
                                                            "label": "Bitmap()",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "Bitmap",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "argumentList",
                                                                    "label": "()",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "assignmentExpression",
                                                    "label": "pixels =Array<UInt8>()",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "pixels",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "callExpression",
                                                            "label": "Array<UInt8>()",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "genericsType",
                                                                    "label": "Array<UInt8>",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "typeIdentifier",
                                                                            "label": "Array",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "typeArguments",
                                                                            "label": "<UInt8>",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "charLangTypes",
                                                                                    "label": "UInt8",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "argumentList",
                                                                    "label": "()",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "assignmentExpression",
                                                    "label": "indexedPixels = Array<UInt8>()",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "indexedPixels",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "callExpression",
                                                            "label": "Array<UInt8>()",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "genericsType",
                                                                    "label": "Array<UInt8>",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "typeIdentifier",
                                                                            "label": "Array",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "typeArguments",
                                                                            "label": "<UInt8>",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "charLangTypes",
                                                                                    "label": "UInt8",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "argumentList",
                                                                    "label": "()",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "assignmentExpression",
                                                    "label": "colorTab = Array<UInt8>()",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "colorTab",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "callExpression",
                                                            "label": "Array<UInt8>()",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "genericsType",
                                                                    "label": "Array<UInt8>",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "typeIdentifier",
                                                                            "label": "Array",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "typeArguments",
                                                                            "label": "<UInt8>",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "charLangTypes",
                                                                                    "label": "UInt8",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "argumentList",
                                                                    "label": "()",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "assignmentExpression",
                                                    "label": "closeStream = false",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "closeStream",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "booleanLiteral",
                                                            "label": "false",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "FALSE",
                                                                    "label": "false",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "assignmentExpression",
                                                    "label": "firstFrame = true",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "firstFrame",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "booleanLiteral",
                                                            "label": "true",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "TRUE",
                                                                    "label": "true",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "returnExpression",
                                                    "label": "return ok",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "RETURN",
                                                            "label": "return",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "ok",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "func setFrameRate(fps:Float32) {\n        if (abs(fps - 0.0)>0.001) {\n            delay = Int32(round(Float32(100.0) / fps))\n        }\n    }",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "functionDefinition",
                                    "label": "func setFrameRate(fps:Float32) {\n        if (abs(fps - 0.0)>0.001) {\n            delay = Int32(round(Float32(100.0) / fps))\n        }\n    }",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "FUNC",
                                            "label": "func",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "setFrameRate",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "functionParameters",
                                            "label": "(fps:Float32)",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "parameterList",
                                                    "label": "fps:Float32",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "parameter",
                                                            "label": "fps:Float32",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "fps",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "charLangTypes",
                                                                    "label": "Float32",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "block",
                                            "label": "{\n        if (abs(fps - 0.0)>0.001) {\n            delay = Int32(round(Float32(100.0) / fps))\n        }\n    }",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "ifExpression",
                                                    "label": "if (abs(fps - 0.0)>0.001) {\n            delay = Int32(round(Float32(100.0) / fps))\n        }",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "IF",
                                                            "label": "if",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "binaryExpression",
                                                            "label": "abs(fps - 0.0)>0.001",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "callExpression",
                                                                    "label": "abs(fps - 0.0)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "abs",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "argumentList",
                                                                            "label": "(fps - 0.0)",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "binaryExpression",
                                                                                    "label": "fps - 0.0",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "fps",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "floatLiteral",
                                                                                            "label": "0.0",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "floatLiteral",
                                                                    "label": "0.001",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "block",
                                                            "label": " {\n            delay = Int32(round(Float32(100.0) / fps))\n        }",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "assignmentExpression",
                                                                    "label": "delay = Int32(round(Float32(100.0) / fps))",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "delay",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "callExpression",
                                                                            "label": "Int32(round(Float32(100.0) / fps))",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "Int32",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "argumentList",
                                                                                    "label": "(round(Float32(100.0) / fps))",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "callExpression",
                                                                                            "label": "round(Float32(100.0) / fps)",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "round",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "argumentList",
                                                                                                    "label": "(Float32(100.0) / fps)",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "binaryExpression",
                                                                                                            "label": "Float32(100.0) / fps",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "callExpression",
                                                                                                                    "label": "Float32(100.0)",
                                                                                                                    "start_token": 20,
                                                                                                                    "end_token": 20,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "label": "Float32",
                                                                                                                            "start_token": 20,
                                                                                                                            "end_token": 20,
                                                                                                                            "children": []
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "argumentList",
                                                                                                                            "label": "(100.0)",
                                                                                                                            "start_token": 20,
                                                                                                                            "end_token": 20,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "floatLiteral",
                                                                                                                                    "label": "100.0",
                                                                                                                                    "start_token": 20,
                                                                                                                                    "end_token": 20,
                                                                                                                                    "children": []
                                                                                                                                }
                                                                                                                            ]
                                                                                                                        }
                                                                                                                    ]
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "fps",
                                                                                                                    "start_token": 20,
                                                                                                                    "end_token": 20,
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "func setQuality(quality:Int32) {\n        if (quality < 1){\n            sample = 1;\n        }else{\n            sample = quality;\n        }\n    }",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "functionDefinition",
                                    "label": "func setQuality(quality:Int32) {\n        if (quality < 1){\n            sample = 1;\n        }else{\n            sample = quality;\n        }\n    }",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "FUNC",
                                            "label": "func",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "setQuality",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "functionParameters",
                                            "label": "(quality:Int32)",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "parameterList",
                                                    "label": "quality:Int32",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "parameter",
                                                            "label": "quality:Int32",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "quality",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "charLangTypes",
                                                                    "label": "Int32",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "block",
                                            "label": "{\n        if (quality < 1){\n            sample = 1;\n        }else{\n            sample = quality;\n        }\n    }",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "ifExpression",
                                                    "label": "if (quality < 1){\n            sample = 1;\n        }else{\n            sample = quality;\n        }",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "IF",
                                                            "label": "if",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "binaryExpression",
                                                            "label": "quality < 1",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "quality",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "integerLiteral",
                                                                    "label": "1",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "block",
                                                            "label": "{\n            sample = 1;\n        }",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "assignmentExpression",
                                                                    "label": "sample = 1",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "sample",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "integerLiteral",
                                                                            "label": "1",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "ELSE",
                                                            "label": "else",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "block",
                                                            "label": "{\n            sample = quality;\n        }",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "assignmentExpression",
                                                                    "label": "sample = quality",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "sample",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "quality",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "func setSize(w:Int32, h:Int32) {\n        if (started) {\n            return;\n        }\n        fixedWidth = w;\n        fixedHeight = h;\n        if (fixedWidth < 1) {\n            fixedWidth = 320;\n        }\n        if (fixedHeight < 1) {\n            fixedHeight = 240;\n        }\n        sizeSet = true;\n    }",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "functionDefinition",
                                    "label": "func setSize(w:Int32, h:Int32) {\n        if (started) {\n            return;\n        }\n        fixedWidth = w;\n        fixedHeight = h;\n        if (fixedWidth < 1) {\n            fixedWidth = 320;\n        }\n        if (fixedHeight < 1) {\n            fixedHeight = 240;\n        }\n        sizeSet = true;\n    }",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "FUNC",
                                            "label": "func",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "setSize",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "functionParameters",
                                            "label": "(w:Int32, h:Int32)",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "parameterList",
                                                    "label": "w:Int32, h:Int32",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "parameter",
                                                            "label": "w:Int32",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "w",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "charLangTypes",
                                                                    "label": "Int32",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "parameter",
                                                            "label": "h:Int32",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "h",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "charLangTypes",
                                                                    "label": "Int32",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "block",
                                            "label": "{\n        if (started) {\n            return;\n        }\n        fixedWidth = w;\n        fixedHeight = h;\n        if (fixedWidth < 1) {\n            fixedWidth = 320;\n        }\n        if (fixedHeight < 1) {\n            fixedHeight = 240;\n        }\n        sizeSet = true;\n    }",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "ifExpression",
                                                    "label": "if (started) {\n            return;\n        }",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "IF",
                                                            "label": "if",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "started",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "block",
                                                            "label": " {\n            return;\n        }",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "returnExpression",
                                                                    "label": "return",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "RETURN",
                                                                            "label": "return",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "assignmentExpression",
                                                    "label": "fixedWidth = w",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "fixedWidth",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "w",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "assignmentExpression",
                                                    "label": "fixedHeight = h",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "fixedHeight",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "h",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "ifExpression",
                                                    "label": "if (fixedWidth < 1) {\n            fixedWidth = 320;\n        }",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "IF",
                                                            "label": "if",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "binaryExpression",
                                                            "label": "fixedWidth < 1",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "fixedWidth",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "integerLiteral",
                                                                    "label": "1",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "block",
                                                            "label": " {\n            fixedWidth = 320;\n        }",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "assignmentExpression",
                                                                    "label": "fixedWidth = 320",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "fixedWidth",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "integerLiteral",
                                                                            "label": "320",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "ifExpression",
                                                    "label": "if (fixedHeight < 1) {\n            fixedHeight = 240;\n        }",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "IF",
                                                            "label": "if",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "binaryExpression",
                                                            "label": "fixedHeight < 1",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "fixedHeight",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "integerLiteral",
                                                                    "label": "1",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "block",
                                                            "label": " {\n            fixedHeight = 240;\n        }",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "assignmentExpression",
                                                                    "label": "fixedHeight = 240",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "fixedHeight",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "integerLiteral",
                                                                            "label": "240",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "assignmentExpression",
                                                    "label": "sizeSet = true",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "sizeSet",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "booleanLiteral",
                                                            "label": "true",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "TRUE",
                                                                    "label": "true",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "private func setFrameSize(w:Int32, h:Int32) {\n        width = w;\n        height = h;\n    }",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "functionDefinition",
                                    "label": "private func setFrameSize(w:Int32, h:Int32) {\n        width = w;\n        height = h;\n    }",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "modifiers",
                                            "label": "private",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PRIVATE",
                                                    "label": "private",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "FUNC",
                                            "label": "func",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "setFrameSize",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "functionParameters",
                                            "label": "(w:Int32, h:Int32)",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "parameterList",
                                                    "label": "w:Int32, h:Int32",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "parameter",
                                                            "label": "w:Int32",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "w",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "charLangTypes",
                                                                    "label": "Int32",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "parameter",
                                                            "label": "h:Int32",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "h",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "charLangTypes",
                                                                    "label": "Int32",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "block",
                                            "label": "{\n        width = w;\n        height = h;\n    }",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "assignmentExpression",
                                                    "label": "width = w",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "width",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "w",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "assignmentExpression",
                                                    "label": "height = h",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "height",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "h",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "private func analyzePixels() {\n        var len:Int32 = Int32(pixels.size)\n        var nPix:Int32 = len / 3;\n        indexedPixels = Array<UInt8>(Int64(nPix),item:0)\n        var nq:NeuQuant = NeuQuant(pixels, len, sample);\n        // initialize quantizer\n        // 300ms\n        colorTab = nq.process(); // create reduced palette\n        // convert map from BGR to RGB\n        var i:Int64=0\n        while(i < colorTab.size){\n            var temp:UInt8 = colorTab[i];\n            colorTab[i] = colorTab[i + 2];\n            colorTab[i + 2] = temp;\n            usedEntry[i / 3] = false;\n            i += 3\n        }\n        // map image pixels to new palette\n        var k:Int64 = 0;\n        // 70ms\n        for ( i in 0..nPix) {\n            var index:Int32 = nq.map(Int32(pixels[k] & 0xff), Int32(pixels[k+1] & 0xff), Int32(pixels[k+2] & 0xff));\n            k +=3\n            usedEntry[Int64(index)] = true;\n            indexedPixels[Int64(i)] =UInt8(index)\n        }\n        pixels = Array<UInt8>()\n        colorDepth = 8;\n        palSize = 7;\n        // get closest match to transparent color if specified\n        if (transparent != Color.TRANSPARENT) {\n            transIndex = findClosest(transparent);\n        } else if (hasTransparentPixels) {\n            transIndex = findClosest(Color.TRANSPARENT);\n        }\n    }",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "functionDefinition",
                                    "label": "private func analyzePixels() {\n        var len:Int32 = Int32(pixels.size)\n        var nPix:Int32 = len / 3;\n        indexedPixels = Array<UInt8>(Int64(nPix),item:0)\n        var nq:NeuQuant = NeuQuant(pixels, len, sample);\n        // initialize quantizer\n        // 300ms\n        colorTab = nq.process(); // create reduced palette\n        // convert map from BGR to RGB\n        var i:Int64=0\n        while(i < colorTab.size){\n            var temp:UInt8 = colorTab[i];\n            colorTab[i] = colorTab[i + 2];\n            colorTab[i + 2] = temp;\n            usedEntry[i / 3] = false;\n            i += 3\n        }\n        // map image pixels to new palette\n        var k:Int64 = 0;\n        // 70ms\n        for ( i in 0..nPix) {\n            var index:Int32 = nq.map(Int32(pixels[k] & 0xff), Int32(pixels[k+1] & 0xff), Int32(pixels[k+2] & 0xff));\n            k +=3\n            usedEntry[Int64(index)] = true;\n            indexedPixels[Int64(i)] =UInt8(index)\n        }\n        pixels = Array<UInt8>()\n        colorDepth = 8;\n        palSize = 7;\n        // get closest match to transparent color if specified\n        if (transparent != Color.TRANSPARENT) {\n            transIndex = findClosest(transparent);\n        } else if (hasTransparentPixels) {\n            transIndex = findClosest(Color.TRANSPARENT);\n        }\n    }",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "modifiers",
                                            "label": "private",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PRIVATE",
                                                    "label": "private",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "FUNC",
                                            "label": "func",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "analyzePixels",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "functionParameters",
                                            "label": "()",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "block",
                                            "label": "{\n        var len:Int32 = Int32(pixels.size)\n        var nPix:Int32 = len / 3;\n        indexedPixels = Array<UInt8>(Int64(nPix),item:0)\n        var nq:NeuQuant = NeuQuant(pixels, len, sample);\n        // initialize quantizer\n        // 300ms\n        colorTab = nq.process(); // create reduced palette\n        // convert map from BGR to RGB\n        var i:Int64=0\n        while(i < colorTab.size){\n            var temp:UInt8 = colorTab[i];\n            colorTab[i] = colorTab[i + 2];\n            colorTab[i + 2] = temp;\n            usedEntry[i / 3] = false;\n            i += 3\n        }\n        // map image pixels to new palette\n        var k:Int64 = 0;\n        // 70ms\n        for ( i in 0..nPix) {\n            var index:Int32 = nq.map(Int32(pixels[k] & 0xff), Int32(pixels[k+1] & 0xff), Int32(pixels[k+2] & 0xff));\n            k +=3\n            usedEntry[Int64(index)] = true;\n            indexedPixels[Int64(i)] =UInt8(index)\n        }\n        pixels = Array<UInt8>()\n        colorDepth = 8;\n        palSize = 7;\n        // get closest match to transparent color if specified\n        if (transparent != Color.TRANSPARENT) {\n            transIndex = findClosest(transparent);\n        } else if (hasTransparentPixels) {\n            transIndex = findClosest(Color.TRANSPARENT);\n        }\n    }",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "variableDeclaration",
                                                    "label": "var len:Int32 = Int32(pixels.size)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "VAR",
                                                            "label": "var",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "varBindingPattern",
                                                            "label": "len",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "charLangTypes",
                                                            "label": "Int32",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "callExpression",
                                                            "label": "Int32(pixels.size)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "Int32",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "argumentList",
                                                                    "label": "(pixels.size)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "fieldExpression",
                                                                            "label": "pixels.size",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "pixels",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "size",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "variableDeclaration",
                                                    "label": "var nPix:Int32 = len / 3",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "VAR",
                                                            "label": "var",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "varBindingPattern",
                                                            "label": "nPix",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "charLangTypes",
                                                            "label": "Int32",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "binaryExpression",
                                                            "label": "len / 3",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "len",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "integerLiteral",
                                                                    "label": "3",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "assignmentExpression",
                                                    "label": "indexedPixels = Array<UInt8>(Int64(nPix),item:0)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "indexedPixels",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "callExpression",
                                                            "label": "Array<UInt8>(Int64(nPix),item:0)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "genericsType",
                                                                    "label": "Array<UInt8>",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "typeIdentifier",
                                                                            "label": "Array",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "typeArguments",
                                                                            "label": "<UInt8>",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "charLangTypes",
                                                                                    "label": "UInt8",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "argumentList",
                                                                    "label": "(Int64(nPix),item:0)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "callExpression",
                                                                            "label": "Int64(nPix)",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "Int64",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "argumentList",
                                                                                    "label": "(nPix)",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "nPix",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "item",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "integerLiteral",
                                                                            "label": "0",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "variableDeclaration",
                                                    "label": "var nq:NeuQuant = NeuQuant(pixels, len, sample)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "VAR",
                                                            "label": "var",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "varBindingPattern",
                                                            "label": "nq",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "userType",
                                                            "label": "NeuQuant",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "NeuQuant",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "callExpression",
                                                            "label": "NeuQuant(pixels, len, sample)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "NeuQuant",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "argumentList",
                                                                    "label": "(pixels, len, sample)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "pixels",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "len",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "sample",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "comment",
                                                    "label": "// initialize quantizer",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "comment",
                                                    "label": "// 300ms",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "assignmentExpression",
                                                    "label": "colorTab = nq.process()",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "colorTab",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "callExpression",
                                                            "label": "nq.process()",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "fieldExpression",
                                                                    "label": "nq.process",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "nq",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "process",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "argumentList",
                                                                    "label": "()",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "comment",
                                                    "label": "// create reduced palette",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "comment",
                                                    "label": "// convert map from BGR to RGB",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "variableDeclaration",
                                                    "label": "var i:Int64=0",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "VAR",
                                                            "label": "var",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "varBindingPattern",
                                                            "label": "i",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "charLangTypes",
                                                            "label": "Int64",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "integerLiteral",
                                                            "label": "0",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "whileExpression",
                                                    "label": "while(i < colorTab.size){\n            var temp:UInt8 = colorTab[i];\n            colorTab[i] = colorTab[i + 2];\n            colorTab[i + 2] = temp;\n            usedEntry[i / 3] = false;\n            i += 3\n        }",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "WHILE",
                                                            "label": "while",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "binaryExpression",
                                                            "label": "i < colorTab.size",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "i",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "fieldExpression",
                                                                    "label": "colorTab.size",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "colorTab",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "size",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "block",
                                                            "label": "{\n            var temp:UInt8 = colorTab[i];\n            colorTab[i] = colorTab[i + 2];\n            colorTab[i + 2] = temp;\n            usedEntry[i / 3] = false;\n            i += 3\n        }",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "variableDeclaration",
                                                                    "label": "var temp:UInt8 = colorTab[i]",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "VAR",
                                                                            "label": "var",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "varBindingPattern",
                                                                            "label": "temp",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "charLangTypes",
                                                                            "label": "UInt8",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "subscriptExpression",
                                                                            "label": "colorTab[i]",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "colorTab",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "i",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "assignmentExpression",
                                                                    "label": "colorTab[i] = colorTab[i + 2]",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "subscriptExpression",
                                                                            "label": "colorTab[i]",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "colorTab",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "i",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "subscriptExpression",
                                                                            "label": "colorTab[i + 2]",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "colorTab",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "binaryExpression",
                                                                                    "label": "i + 2",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "i",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integerLiteral",
                                                                                            "label": "2",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "assignmentExpression",
                                                                    "label": "colorTab[i + 2] = temp",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "subscriptExpression",
                                                                            "label": "colorTab[i + 2]",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "colorTab",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "binaryExpression",
                                                                                    "label": "i + 2",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "i",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integerLiteral",
                                                                                            "label": "2",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "temp",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "assignmentExpression",
                                                                    "label": "usedEntry[i / 3] = false",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "subscriptExpression",
                                                                            "label": "usedEntry[i / 3]",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "usedEntry",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "binaryExpression",
                                                                                    "label": "i / 3",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "i",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integerLiteral",
                                                                                            "label": "3",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "booleanLiteral",
                                                                            "label": "false",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "FALSE",
                                                                                    "label": "false",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "assignmentExpression",
                                                                    "label": "i += 3",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "i",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "integerLiteral",
                                                                            "label": "3",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "comment",
                                                    "label": "// map image pixels to new palette",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "variableDeclaration",
                                                    "label": "var k:Int64 = 0",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "VAR",
                                                            "label": "var",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "varBindingPattern",
                                                            "label": "k",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "charLangTypes",
                                                            "label": "Int64",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "integerLiteral",
                                                            "label": "0",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "comment",
                                                    "label": "// 70ms",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "forInExpression",
                                                    "label": "for ( i in 0..nPix) {\n            var index:Int32 = nq.map(Int32(pixels[k] & 0xff), Int32(pixels[k+1] & 0xff), Int32(pixels[k+2] & 0xff));\n            k +=3\n            usedEntry[Int64(index)] = true;\n            indexedPixels[Int64(i)] =UInt8(index)\n        }",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "FOR",
                                                            "label": "for",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "varBindingPattern",
                                                            "label": "i",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "IN",
                                                            "label": "in",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "rangeExpression",
                                                            "label": "0..nPix",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "integerLiteral",
                                                                    "label": "0",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "nPix",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "block",
                                                            "label": " {\n            var index:Int32 = nq.map(Int32(pixels[k] & 0xff), Int32(pixels[k+1] & 0xff), Int32(pixels[k+2] & 0xff));\n            k +=3\n            usedEntry[Int64(index)] = true;\n            indexedPixels[Int64(i)] =UInt8(index)\n        }",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "variableDeclaration",
                                                                    "label": "var index:Int32 = nq.map(Int32(pixels[k] & 0xff), Int32(pixels[k+1] & 0xff), Int32(pixels[k+2] & 0xff))",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "VAR",
                                                                            "label": "var",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "varBindingPattern",
                                                                            "label": "index",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "charLangTypes",
                                                                            "label": "Int32",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "callExpression",
                                                                            "label": "nq.map(Int32(pixels[k] & 0xff), Int32(pixels[k+1] & 0xff), Int32(pixels[k+2] & 0xff))",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "fieldExpression",
                                                                                    "label": "nq.map",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "nq",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "map",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "argumentList",
                                                                                    "label": "(Int32(pixels[k] & 0xff), Int32(pixels[k+1] & 0xff), Int32(pixels[k+2] & 0xff))",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "callExpression",
                                                                                            "label": "Int32(pixels[k] & 0xff)",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "Int32",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "argumentList",
                                                                                                    "label": "(pixels[k] & 0xff)",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "binaryExpression",
                                                                                                            "label": "pixels[k] & 0xff",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "subscriptExpression",
                                                                                                                    "label": "pixels[k]",
                                                                                                                    "start_token": 20,
                                                                                                                    "end_token": 20,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "label": "pixels",
                                                                                                                            "start_token": 20,
                                                                                                                            "end_token": 20,
                                                                                                                            "children": []
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "label": "k",
                                                                                                                            "start_token": 20,
                                                                                                                            "end_token": 20,
                                                                                                                            "children": []
                                                                                                                        }
                                                                                                                    ]
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "integerLiteral",
                                                                                                                    "label": "0xff",
                                                                                                                    "start_token": 20,
                                                                                                                    "end_token": 20,
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "callExpression",
                                                                                            "label": "Int32(pixels[k+1] & 0xff)",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "Int32",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "argumentList",
                                                                                                    "label": "(pixels[k+1] & 0xff)",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "binaryExpression",
                                                                                                            "label": "pixels[k+1] & 0xff",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "subscriptExpression",
                                                                                                                    "label": "pixels[k+1]",
                                                                                                                    "start_token": 20,
                                                                                                                    "end_token": 20,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "label": "pixels",
                                                                                                                            "start_token": 20,
                                                                                                                            "end_token": 20,
                                                                                                                            "children": []
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "binaryExpression",
                                                                                                                            "label": "k+1",
                                                                                                                            "start_token": 20,
                                                                                                                            "end_token": 20,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "label": "k",
                                                                                                                                    "start_token": 20,
                                                                                                                                    "end_token": 20,
                                                                                                                                    "children": []
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "integerLiteral",
                                                                                                                                    "label": "1",
                                                                                                                                    "start_token": 20,
                                                                                                                                    "end_token": 20,
                                                                                                                                    "children": []
                                                                                                                                }
                                                                                                                            ]
                                                                                                                        }
                                                                                                                    ]
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "integerLiteral",
                                                                                                                    "label": "0xff",
                                                                                                                    "start_token": 20,
                                                                                                                    "end_token": 20,
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "callExpression",
                                                                                            "label": "Int32(pixels[k+2] & 0xff)",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "Int32",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "argumentList",
                                                                                                    "label": "(pixels[k+2] & 0xff)",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "binaryExpression",
                                                                                                            "label": "pixels[k+2] & 0xff",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "subscriptExpression",
                                                                                                                    "label": "pixels[k+2]",
                                                                                                                    "start_token": 20,
                                                                                                                    "end_token": 20,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "label": "pixels",
                                                                                                                            "start_token": 20,
                                                                                                                            "end_token": 20,
                                                                                                                            "children": []
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "binaryExpression",
                                                                                                                            "label": "k+2",
                                                                                                                            "start_token": 20,
                                                                                                                            "end_token": 20,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "label": "k",
                                                                                                                                    "start_token": 20,
                                                                                                                                    "end_token": 20,
                                                                                                                                    "children": []
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "integerLiteral",
                                                                                                                                    "label": "2",
                                                                                                                                    "start_token": 20,
                                                                                                                                    "end_token": 20,
                                                                                                                                    "children": []
                                                                                                                                }
                                                                                                                            ]
                                                                                                                        }
                                                                                                                    ]
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "integerLiteral",
                                                                                                                    "label": "0xff",
                                                                                                                    "start_token": 20,
                                                                                                                    "end_token": 20,
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "assignmentExpression",
                                                                    "label": "k +=3",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "k",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "integerLiteral",
                                                                            "label": "3",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "assignmentExpression",
                                                                    "label": "usedEntry[Int64(index)] = true",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "subscriptExpression",
                                                                            "label": "usedEntry[Int64(index)]",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "usedEntry",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "callExpression",
                                                                                    "label": "Int64(index)",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "Int64",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "argumentList",
                                                                                            "label": "(index)",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "index",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "booleanLiteral",
                                                                            "label": "true",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "TRUE",
                                                                                    "label": "true",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "assignmentExpression",
                                                                    "label": "indexedPixels[Int64(i)] =UInt8(index)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "subscriptExpression",
                                                                            "label": "indexedPixels[Int64(i)]",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "indexedPixels",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "callExpression",
                                                                                    "label": "Int64(i)",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "Int64",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "argumentList",
                                                                                            "label": "(i)",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "i",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "callExpression",
                                                                            "label": "UInt8(index)",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "UInt8",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "argumentList",
                                                                                    "label": "(index)",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "index",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "assignmentExpression",
                                                    "label": "pixels = Array<UInt8>()",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "pixels",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "callExpression",
                                                            "label": "Array<UInt8>()",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "genericsType",
                                                                    "label": "Array<UInt8>",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "typeIdentifier",
                                                                            "label": "Array",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "typeArguments",
                                                                            "label": "<UInt8>",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "charLangTypes",
                                                                                    "label": "UInt8",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "argumentList",
                                                                    "label": "()",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "assignmentExpression",
                                                    "label": "colorDepth = 8",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "colorDepth",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "integerLiteral",
                                                            "label": "8",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "assignmentExpression",
                                                    "label": "palSize = 7",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "palSize",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "integerLiteral",
                                                            "label": "7",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "comment",
                                                    "label": "// get closest match to transparent color if specified",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "ifExpression",
                                                    "label": "if (transparent != Color.TRANSPARENT) {\n            transIndex = findClosest(transparent);\n        } else if (hasTransparentPixels) {\n            transIndex = findClosest(Color.TRANSPARENT);\n        }",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "IF",
                                                            "label": "if",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "binaryExpression",
                                                            "label": "transparent != Color.TRANSPARENT",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "transparent",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "fieldExpression",
                                                                    "label": "Color.TRANSPARENT",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "Color",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "TRANSPARENT",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "block",
                                                            "label": " {\n            transIndex = findClosest(transparent);\n        }",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "assignmentExpression",
                                                                    "label": "transIndex = findClosest(transparent)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "transIndex",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "callExpression",
                                                                            "label": "findClosest(transparent)",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "findClosest",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "argumentList",
                                                                                    "label": "(transparent)",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "transparent",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "ELSE",
                                                            "label": "else",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "ifExpression",
                                                            "label": " if (hasTransparentPixels) {\n            transIndex = findClosest(Color.TRANSPARENT);\n        }",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "IF",
                                                                    "label": " if",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "hasTransparentPixels",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "label": " {\n            transIndex = findClosest(Color.TRANSPARENT);\n        }",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "assignmentExpression",
                                                                            "label": "transIndex = findClosest(Color.TRANSPARENT)",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "transIndex",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "callExpression",
                                                                                    "label": "findClosest(Color.TRANSPARENT)",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "findClosest",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "argumentList",
                                                                                            "label": "(Color.TRANSPARENT)",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "fieldExpression",
                                                                                                    "label": "Color.TRANSPARENT",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "label": "Color",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "label": "TRANSPARENT",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "private func findClosest(color:UInt32):Int32 {\n        if (colorTab.size==0){\n            return -1;\n        }\n        var r:UInt32 = Color.red(color);\n        var g:UInt32 = Color.green(color);\n        var b:UInt32 = Color.blue(color);\n        var minpos:Int32 = 0;\n        var dmin:Int32 = 256 * 256 * 256;\n        var len:Int32 = Int32(colorTab.size)\n        var i:Int64=0\n        while(i < Int64(len)) {\n            var dr:Int32 = Int32(r) - Int32(colorTab[i] & 0xff)\n            i++\n            var dg:Int32 = Int32(g) - Int32(colorTab[i] & 0xff)\n            i++\n            var db:Int32 = Int32(b) - Int32(colorTab[i] & 0xff)\n            var d:Int32 = dr * dr + dg * dg + db * db;\n            var index:Int64 = i / 3;\n            if (usedEntry[index] && (d < dmin)) {\n                dmin = d;\n                minpos = Int32(index);\n            }\n            i++;\n        }\n        return minpos;\n    }",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "functionDefinition",
                                    "label": "private func findClosest(color:UInt32):Int32 {\n        if (colorTab.size==0){\n            return -1;\n        }\n        var r:UInt32 = Color.red(color);\n        var g:UInt32 = Color.green(color);\n        var b:UInt32 = Color.blue(color);\n        var minpos:Int32 = 0;\n        var dmin:Int32 = 256 * 256 * 256;\n        var len:Int32 = Int32(colorTab.size)\n        var i:Int64=0\n        while(i < Int64(len)) {\n            var dr:Int32 = Int32(r) - Int32(colorTab[i] & 0xff)\n            i++\n            var dg:Int32 = Int32(g) - Int32(colorTab[i] & 0xff)\n            i++\n            var db:Int32 = Int32(b) - Int32(colorTab[i] & 0xff)\n            var d:Int32 = dr * dr + dg * dg + db * db;\n            var index:Int64 = i / 3;\n            if (usedEntry[index] && (d < dmin)) {\n                dmin = d;\n                minpos = Int32(index);\n            }\n            i++;\n        }\n        return minpos;\n    }",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "modifiers",
                                            "label": "private",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PRIVATE",
                                                    "label": "private",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "FUNC",
                                            "label": "func",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "findClosest",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "functionParameters",
                                            "label": "(color:UInt32)",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "parameterList",
                                                    "label": "color:UInt32",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "parameter",
                                                            "label": "color:UInt32",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "color",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "charLangTypes",
                                                                    "label": "UInt32",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "charLangTypes",
                                            "label": "Int32",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "block",
                                            "label": "{\n        if (colorTab.size==0){\n            return -1;\n        }\n        var r:UInt32 = Color.red(color);\n        var g:UInt32 = Color.green(color);\n        var b:UInt32 = Color.blue(color);\n        var minpos:Int32 = 0;\n        var dmin:Int32 = 256 * 256 * 256;\n        var len:Int32 = Int32(colorTab.size)\n        var i:Int64=0\n        while(i < Int64(len)) {\n            var dr:Int32 = Int32(r) - Int32(colorTab[i] & 0xff)\n            i++\n            var dg:Int32 = Int32(g) - Int32(colorTab[i] & 0xff)\n            i++\n            var db:Int32 = Int32(b) - Int32(colorTab[i] & 0xff)\n            var d:Int32 = dr * dr + dg * dg + db * db;\n            var index:Int64 = i / 3;\n            if (usedEntry[index] && (d < dmin)) {\n                dmin = d;\n                minpos = Int32(index);\n            }\n            i++;\n        }\n        return minpos;\n    }",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "ifExpression",
                                                    "label": "if (colorTab.size==0){\n            return -1;\n        }",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "IF",
                                                            "label": "if",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "binaryExpression",
                                                            "label": "colorTab.size==0",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "fieldExpression",
                                                                    "label": "colorTab.size",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "colorTab",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "size",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "integerLiteral",
                                                                    "label": "0",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "block",
                                                            "label": "{\n            return -1;\n        }",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "returnExpression",
                                                                    "label": "return -1",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "RETURN",
                                                                            "label": "return",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "unaryExpression",
                                                                            "label": "-1",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "integerLiteral",
                                                                                    "label": "1",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "variableDeclaration",
                                                    "label": "var r:UInt32 = Color.red(color)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "VAR",
                                                            "label": "var",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "varBindingPattern",
                                                            "label": "r",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "charLangTypes",
                                                            "label": "UInt32",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "callExpression",
                                                            "label": "Color.red(color)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "fieldExpression",
                                                                    "label": "Color.red",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "Color",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "red",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "argumentList",
                                                                    "label": "(color)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "color",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "variableDeclaration",
                                                    "label": "var g:UInt32 = Color.green(color)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "VAR",
                                                            "label": "var",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "varBindingPattern",
                                                            "label": "g",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "charLangTypes",
                                                            "label": "UInt32",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "callExpression",
                                                            "label": "Color.green(color)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "fieldExpression",
                                                                    "label": "Color.green",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "Color",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "green",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "argumentList",
                                                                    "label": "(color)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "color",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "variableDeclaration",
                                                    "label": "var b:UInt32 = Color.blue(color)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "VAR",
                                                            "label": "var",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "varBindingPattern",
                                                            "label": "b",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "charLangTypes",
                                                            "label": "UInt32",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "callExpression",
                                                            "label": "Color.blue(color)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "fieldExpression",
                                                                    "label": "Color.blue",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "Color",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "blue",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "argumentList",
                                                                    "label": "(color)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "color",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "variableDeclaration",
                                                    "label": "var minpos:Int32 = 0",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "VAR",
                                                            "label": "var",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "varBindingPattern",
                                                            "label": "minpos",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "charLangTypes",
                                                            "label": "Int32",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "integerLiteral",
                                                            "label": "0",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "variableDeclaration",
                                                    "label": "var dmin:Int32 = 256 * 256 * 256",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "VAR",
                                                            "label": "var",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "varBindingPattern",
                                                            "label": "dmin",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "charLangTypes",
                                                            "label": "Int32",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "binaryExpression",
                                                            "label": "256 * 256 * 256",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "binaryExpression",
                                                                    "label": "256 * 256",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "integerLiteral",
                                                                            "label": "256",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "integerLiteral",
                                                                            "label": "256",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "integerLiteral",
                                                                    "label": "256",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "variableDeclaration",
                                                    "label": "var len:Int32 = Int32(colorTab.size)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "VAR",
                                                            "label": "var",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "varBindingPattern",
                                                            "label": "len",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "charLangTypes",
                                                            "label": "Int32",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "callExpression",
                                                            "label": "Int32(colorTab.size)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "Int32",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "argumentList",
                                                                    "label": "(colorTab.size)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "fieldExpression",
                                                                            "label": "colorTab.size",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "colorTab",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "size",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "variableDeclaration",
                                                    "label": "var i:Int64=0",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "VAR",
                                                            "label": "var",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "varBindingPattern",
                                                            "label": "i",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "charLangTypes",
                                                            "label": "Int64",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "integerLiteral",
                                                            "label": "0",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "whileExpression",
                                                    "label": "while(i < Int64(len)) {\n            var dr:Int32 = Int32(r) - Int32(colorTab[i] & 0xff)\n            i++\n            var dg:Int32 = Int32(g) - Int32(colorTab[i] & 0xff)\n            i++\n            var db:Int32 = Int32(b) - Int32(colorTab[i] & 0xff)\n            var d:Int32 = dr * dr + dg * dg + db * db;\n            var index:Int64 = i / 3;\n            if (usedEntry[index] && (d < dmin)) {\n                dmin = d;\n                minpos = Int32(index);\n            }\n            i++;\n        }",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "WHILE",
                                                            "label": "while",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "binaryExpression",
                                                            "label": "i < Int64(len)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "i",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "callExpression",
                                                                    "label": "Int64(len)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "Int64",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "argumentList",
                                                                            "label": "(len)",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "len",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "block",
                                                            "label": " {\n            var dr:Int32 = Int32(r) - Int32(colorTab[i] & 0xff)\n            i++\n            var dg:Int32 = Int32(g) - Int32(colorTab[i] & 0xff)\n            i++\n            var db:Int32 = Int32(b) - Int32(colorTab[i] & 0xff)\n            var d:Int32 = dr * dr + dg * dg + db * db;\n            var index:Int64 = i / 3;\n            if (usedEntry[index] && (d < dmin)) {\n                dmin = d;\n                minpos = Int32(index);\n            }\n            i++;\n        }",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "variableDeclaration",
                                                                    "label": "var dr:Int32 = Int32(r) - Int32(colorTab[i] & 0xff)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "VAR",
                                                                            "label": "var",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "varBindingPattern",
                                                                            "label": "dr",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "charLangTypes",
                                                                            "label": "Int32",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "binaryExpression",
                                                                            "label": "Int32(r) - Int32(colorTab[i] & 0xff)",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "callExpression",
                                                                                    "label": "Int32(r)",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "Int32",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "argumentList",
                                                                                            "label": "(r)",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "r",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "callExpression",
                                                                                    "label": "Int32(colorTab[i] & 0xff)",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "Int32",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "argumentList",
                                                                                            "label": "(colorTab[i] & 0xff)",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "binaryExpression",
                                                                                                    "label": "colorTab[i] & 0xff",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "subscriptExpression",
                                                                                                            "label": "colorTab[i]",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "colorTab",
                                                                                                                    "start_token": 20,
                                                                                                                    "end_token": 20,
                                                                                                                    "children": []
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "i",
                                                                                                                    "start_token": 20,
                                                                                                                    "end_token": 20,
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "integerLiteral",
                                                                                                            "label": "0xff",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "incDecExpression",
                                                                    "label": "i++",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "i",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "variableDeclaration",
                                                                    "label": "var dg:Int32 = Int32(g) - Int32(colorTab[i] & 0xff)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "VAR",
                                                                            "label": "var",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "varBindingPattern",
                                                                            "label": "dg",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "charLangTypes",
                                                                            "label": "Int32",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "binaryExpression",
                                                                            "label": "Int32(g) - Int32(colorTab[i] & 0xff)",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "callExpression",
                                                                                    "label": "Int32(g)",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "Int32",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "argumentList",
                                                                                            "label": "(g)",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "g",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "callExpression",
                                                                                    "label": "Int32(colorTab[i] & 0xff)",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "Int32",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "argumentList",
                                                                                            "label": "(colorTab[i] & 0xff)",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "binaryExpression",
                                                                                                    "label": "colorTab[i] & 0xff",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "subscriptExpression",
                                                                                                            "label": "colorTab[i]",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "colorTab",
                                                                                                                    "start_token": 20,
                                                                                                                    "end_token": 20,
                                                                                                                    "children": []
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "i",
                                                                                                                    "start_token": 20,
                                                                                                                    "end_token": 20,
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "integerLiteral",
                                                                                                            "label": "0xff",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "incDecExpression",
                                                                    "label": "i++",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "i",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "variableDeclaration",
                                                                    "label": "var db:Int32 = Int32(b) - Int32(colorTab[i] & 0xff)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "VAR",
                                                                            "label": "var",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "varBindingPattern",
                                                                            "label": "db",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "charLangTypes",
                                                                            "label": "Int32",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "binaryExpression",
                                                                            "label": "Int32(b) - Int32(colorTab[i] & 0xff)",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "callExpression",
                                                                                    "label": "Int32(b)",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "Int32",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "argumentList",
                                                                                            "label": "(b)",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "b",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "callExpression",
                                                                                    "label": "Int32(colorTab[i] & 0xff)",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "Int32",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "argumentList",
                                                                                            "label": "(colorTab[i] & 0xff)",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "binaryExpression",
                                                                                                    "label": "colorTab[i] & 0xff",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "subscriptExpression",
                                                                                                            "label": "colorTab[i]",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "colorTab",
                                                                                                                    "start_token": 20,
                                                                                                                    "end_token": 20,
                                                                                                                    "children": []
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "i",
                                                                                                                    "start_token": 20,
                                                                                                                    "end_token": 20,
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "integerLiteral",
                                                                                                            "label": "0xff",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "variableDeclaration",
                                                                    "label": "var d:Int32 = dr * dr + dg * dg + db * db",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "VAR",
                                                                            "label": "var",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "varBindingPattern",
                                                                            "label": "d",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "charLangTypes",
                                                                            "label": "Int32",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "binaryExpression",
                                                                            "label": "dr * dr + dg * dg + db * db",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "binaryExpression",
                                                                                    "label": "dr * dr + dg * dg",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "binaryExpression",
                                                                                            "label": "dr * dr",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "dr",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "dr",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "binaryExpression",
                                                                                            "label": "dg * dg",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "dg",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "dg",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "binaryExpression",
                                                                                    "label": "db * db",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "db",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "db",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "variableDeclaration",
                                                                    "label": "var index:Int64 = i / 3",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "VAR",
                                                                            "label": "var",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "varBindingPattern",
                                                                            "label": "index",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "charLangTypes",
                                                                            "label": "Int64",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "binaryExpression",
                                                                            "label": "i / 3",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "i",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "integerLiteral",
                                                                                    "label": "3",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "ifExpression",
                                                                    "label": "if (usedEntry[index] && (d < dmin)) {\n                dmin = d;\n                minpos = Int32(index);\n            }",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "IF",
                                                                            "label": "if",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "binaryExpression",
                                                                            "label": "usedEntry[index] && (d < dmin)",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "subscriptExpression",
                                                                                    "label": "usedEntry[index]",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "usedEntry",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "index",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "parenthesizedExpression",
                                                                                    "label": "(d < dmin)",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "binaryExpression",
                                                                                            "label": "d < dmin",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "d",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "dmin",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "block",
                                                                            "label": " {\n                dmin = d;\n                minpos = Int32(index);\n            }",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "assignmentExpression",
                                                                                    "label": "dmin = d",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "dmin",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "d",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "assignmentExpression",
                                                                                    "label": "minpos = Int32(index)",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "minpos",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "callExpression",
                                                                                            "label": "Int32(index)",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "Int32",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "argumentList",
                                                                                                    "label": "(index)",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "label": "index",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "incDecExpression",
                                                                    "label": "i++",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "i",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "returnExpression",
                                                    "label": "return minpos",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "RETURN",
                                                            "label": "return",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "minpos",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "private func getImagePixels() {\n        var w:Int32 = image.getWidth();\n        var h:Int32 = image.getHeight();\n        if ((w != width) || (h != height)) {\n            // create new image with right size/format\n            var temp:Bitmap = Bitmap.createBitmap(width, height, Bitmap_Config.ARGB_8888);\n            image = Bitmap.createBitmap(width, height, Bitmap_Config.ARGB_8888);\n            w = image.getWidth();\n            h = image.getHeight();\n        }\n        var pixelsInt:Array<UInt32> = Array<UInt32>(Int64(w * h) ,item:0)\n        image.getPixels(pixelsInt, 0, w, w, h);\n        pixels = Array<UInt8>(Int64(pixelsInt.size * 3), item:0)\n        var pixelsIndex:Int64 = 0;\n        hasTransparentPixels = false;\n        var totalTransparentPixels:Int32 = 0;\n        for (pixel in pixelsInt) {\n            if (pixel == Color.TRANSPARENT) {\n                totalTransparentPixels++;\n            }\n            pixels[pixelsIndex] = UInt8(pixel & 0xFF);\n            pixelsIndex++\n            pixels[pixelsIndex] = UInt8((pixel >> 8) & 0xFF);\n            pixelsIndex++\n            pixels[pixelsIndex] = UInt8((pixel >> 16) & 0xFF);\n            pixelsIndex++\n        }\n        var transparentPercentage:Float64 = 100.0 * Float64(totalTransparentPixels) / Float64(pixelsInt.size)\n        // Assume images with greater where more than n% of the pixels are transparent actually have\n        // transparency. See issue #214.\n        hasTransparentPixels = transparentPercentage > MIN_TRANSPARENT_PERCENTAGE;\n    }",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "functionDefinition",
                                    "label": "private func getImagePixels() {\n        var w:Int32 = image.getWidth();\n        var h:Int32 = image.getHeight();\n        if ((w != width) || (h != height)) {\n            // create new image with right size/format\n            var temp:Bitmap = Bitmap.createBitmap(width, height, Bitmap_Config.ARGB_8888);\n            image = Bitmap.createBitmap(width, height, Bitmap_Config.ARGB_8888);\n            w = image.getWidth();\n            h = image.getHeight();\n        }\n        var pixelsInt:Array<UInt32> = Array<UInt32>(Int64(w * h) ,item:0)\n        image.getPixels(pixelsInt, 0, w, w, h);\n        pixels = Array<UInt8>(Int64(pixelsInt.size * 3), item:0)\n        var pixelsIndex:Int64 = 0;\n        hasTransparentPixels = false;\n        var totalTransparentPixels:Int32 = 0;\n        for (pixel in pixelsInt) {\n            if (pixel == Color.TRANSPARENT) {\n                totalTransparentPixels++;\n            }\n            pixels[pixelsIndex] = UInt8(pixel & 0xFF);\n            pixelsIndex++\n            pixels[pixelsIndex] = UInt8((pixel >> 8) & 0xFF);\n            pixelsIndex++\n            pixels[pixelsIndex] = UInt8((pixel >> 16) & 0xFF);\n            pixelsIndex++\n        }\n        var transparentPercentage:Float64 = 100.0 * Float64(totalTransparentPixels) / Float64(pixelsInt.size)\n        // Assume images with greater where more than n% of the pixels are transparent actually have\n        // transparency. See issue #214.\n        hasTransparentPixels = transparentPercentage > MIN_TRANSPARENT_PERCENTAGE;\n    }",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "modifiers",
                                            "label": "private",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PRIVATE",
                                                    "label": "private",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "FUNC",
                                            "label": "func",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "getImagePixels",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "functionParameters",
                                            "label": "()",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "block",
                                            "label": "{\n        var w:Int32 = image.getWidth();\n        var h:Int32 = image.getHeight();\n        if ((w != width) || (h != height)) {\n            // create new image with right size/format\n            var temp:Bitmap = Bitmap.createBitmap(width, height, Bitmap_Config.ARGB_8888);\n            image = Bitmap.createBitmap(width, height, Bitmap_Config.ARGB_8888);\n            w = image.getWidth();\n            h = image.getHeight();\n        }\n        var pixelsInt:Array<UInt32> = Array<UInt32>(Int64(w * h) ,item:0)\n        image.getPixels(pixelsInt, 0, w, w, h);\n        pixels = Array<UInt8>(Int64(pixelsInt.size * 3), item:0)\n        var pixelsIndex:Int64 = 0;\n        hasTransparentPixels = false;\n        var totalTransparentPixels:Int32 = 0;\n        for (pixel in pixelsInt) {\n            if (pixel == Color.TRANSPARENT) {\n                totalTransparentPixels++;\n            }\n            pixels[pixelsIndex] = UInt8(pixel & 0xFF);\n            pixelsIndex++\n            pixels[pixelsIndex] = UInt8((pixel >> 8) & 0xFF);\n            pixelsIndex++\n            pixels[pixelsIndex] = UInt8((pixel >> 16) & 0xFF);\n            pixelsIndex++\n        }\n        var transparentPercentage:Float64 = 100.0 * Float64(totalTransparentPixels) / Float64(pixelsInt.size)\n        // Assume images with greater where more than n% of the pixels are transparent actually have\n        // transparency. See issue #214.\n        hasTransparentPixels = transparentPercentage > MIN_TRANSPARENT_PERCENTAGE;\n    }",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "variableDeclaration",
                                                    "label": "var w:Int32 = image.getWidth()",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "VAR",
                                                            "label": "var",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "varBindingPattern",
                                                            "label": "w",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "charLangTypes",
                                                            "label": "Int32",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "callExpression",
                                                            "label": "image.getWidth()",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "fieldExpression",
                                                                    "label": "image.getWidth",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "image",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "getWidth",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "argumentList",
                                                                    "label": "()",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "variableDeclaration",
                                                    "label": "var h:Int32 = image.getHeight()",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "VAR",
                                                            "label": "var",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "varBindingPattern",
                                                            "label": "h",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "charLangTypes",
                                                            "label": "Int32",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "callExpression",
                                                            "label": "image.getHeight()",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "fieldExpression",
                                                                    "label": "image.getHeight",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "image",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "getHeight",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "argumentList",
                                                                    "label": "()",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "ifExpression",
                                                    "label": "if ((w != width) || (h != height)) {\n            // create new image with right size/format\n            var temp:Bitmap = Bitmap.createBitmap(width, height, Bitmap_Config.ARGB_8888);\n            image = Bitmap.createBitmap(width, height, Bitmap_Config.ARGB_8888);\n            w = image.getWidth();\n            h = image.getHeight();\n        }",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "IF",
                                                            "label": "if",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "binaryExpression",
                                                            "label": "(w != width) || (h != height)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "parenthesizedExpression",
                                                                    "label": "(w != width)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "binaryExpression",
                                                                            "label": "w != width",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "w",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "width",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "parenthesizedExpression",
                                                                    "label": "(h != height)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "binaryExpression",
                                                                            "label": "h != height",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "h",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "height",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "block",
                                                            "label": " {\n            // create new image with right size/format\n            var temp:Bitmap = Bitmap.createBitmap(width, height, Bitmap_Config.ARGB_8888);\n            image = Bitmap.createBitmap(width, height, Bitmap_Config.ARGB_8888);\n            w = image.getWidth();\n            h = image.getHeight();\n        }",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "comment",
                                                                    "label": "// create new image with right size/format",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "variableDeclaration",
                                                                    "label": "var temp:Bitmap = Bitmap.createBitmap(width, height, Bitmap_Config.ARGB_8888)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "VAR",
                                                                            "label": "var",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "varBindingPattern",
                                                                            "label": "temp",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "userType",
                                                                            "label": "Bitmap",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "Bitmap",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "callExpression",
                                                                            "label": "Bitmap.createBitmap(width, height, Bitmap_Config.ARGB_8888)",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "fieldExpression",
                                                                                    "label": "Bitmap.createBitmap",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "Bitmap",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "createBitmap",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "argumentList",
                                                                                    "label": "(width, height, Bitmap_Config.ARGB_8888)",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "width",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "height",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "fieldExpression",
                                                                                            "label": "Bitmap_Config.ARGB_8888",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "Bitmap_Config",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "ARGB_8888",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "assignmentExpression",
                                                                    "label": "image = Bitmap.createBitmap(width, height, Bitmap_Config.ARGB_8888)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "image",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "callExpression",
                                                                            "label": "Bitmap.createBitmap(width, height, Bitmap_Config.ARGB_8888)",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "fieldExpression",
                                                                                    "label": "Bitmap.createBitmap",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "Bitmap",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "createBitmap",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "argumentList",
                                                                                    "label": "(width, height, Bitmap_Config.ARGB_8888)",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "width",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "height",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "fieldExpression",
                                                                                            "label": "Bitmap_Config.ARGB_8888",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "Bitmap_Config",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "ARGB_8888",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "assignmentExpression",
                                                                    "label": "w = image.getWidth()",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "w",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "callExpression",
                                                                            "label": "image.getWidth()",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "fieldExpression",
                                                                                    "label": "image.getWidth",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "image",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "getWidth",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "argumentList",
                                                                                    "label": "()",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "assignmentExpression",
                                                                    "label": "h = image.getHeight()",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "h",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "callExpression",
                                                                            "label": "image.getHeight()",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "fieldExpression",
                                                                                    "label": "image.getHeight",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "image",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "getHeight",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "argumentList",
                                                                                    "label": "()",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "variableDeclaration",
                                                    "label": "var pixelsInt:Array<UInt32> = Array<UInt32>(Int64(w * h) ,item:0)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "VAR",
                                                            "label": "var",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "varBindingPattern",
                                                            "label": "pixelsInt",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "userType",
                                                            "label": "Array<UInt32>",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "Array",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "typeArguments",
                                                                    "label": "<UInt32>",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "charLangTypes",
                                                                            "label": "UInt32",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "callExpression",
                                                            "label": "Array<UInt32>(Int64(w * h) ,item:0)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "genericsType",
                                                                    "label": "Array<UInt32>",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "typeIdentifier",
                                                                            "label": "Array",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "typeArguments",
                                                                            "label": "<UInt32>",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "charLangTypes",
                                                                                    "label": "UInt32",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "argumentList",
                                                                    "label": "(Int64(w * h) ,item:0)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "callExpression",
                                                                            "label": "Int64(w * h)",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "Int64",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "argumentList",
                                                                                    "label": "(w * h)",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "binaryExpression",
                                                                                            "label": "w * h",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "w",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "h",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "item",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "integerLiteral",
                                                                            "label": "0",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "callExpression",
                                                    "label": "image.getPixels(pixelsInt, 0, w, w, h)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "fieldExpression",
                                                            "label": "image.getPixels",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "image",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "getPixels",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "argumentList",
                                                            "label": "(pixelsInt, 0, w, w, h)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "pixelsInt",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "integerLiteral",
                                                                    "label": "0",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "w",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "w",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "h",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "assignmentExpression",
                                                    "label": "pixels = Array<UInt8>(Int64(pixelsInt.size * 3), item:0)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "pixels",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "callExpression",
                                                            "label": "Array<UInt8>(Int64(pixelsInt.size * 3), item:0)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "genericsType",
                                                                    "label": "Array<UInt8>",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "typeIdentifier",
                                                                            "label": "Array",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "typeArguments",
                                                                            "label": "<UInt8>",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "charLangTypes",
                                                                                    "label": "UInt8",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "argumentList",
                                                                    "label": "(Int64(pixelsInt.size * 3), item:0)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "callExpression",
                                                                            "label": "Int64(pixelsInt.size * 3)",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "Int64",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "argumentList",
                                                                                    "label": "(pixelsInt.size * 3)",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "binaryExpression",
                                                                                            "label": "pixelsInt.size * 3",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "fieldExpression",
                                                                                                    "label": "pixelsInt.size",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "label": "pixelsInt",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "label": "size",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                },
                                                                                                {
                                                                                                    "type": "integerLiteral",
                                                                                                    "label": "3",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "item",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "integerLiteral",
                                                                            "label": "0",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "variableDeclaration",
                                                    "label": "var pixelsIndex:Int64 = 0",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "VAR",
                                                            "label": "var",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "varBindingPattern",
                                                            "label": "pixelsIndex",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "charLangTypes",
                                                            "label": "Int64",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "integerLiteral",
                                                            "label": "0",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "assignmentExpression",
                                                    "label": "hasTransparentPixels = false",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "hasTransparentPixels",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "booleanLiteral",
                                                            "label": "false",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "FALSE",
                                                                    "label": "false",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "variableDeclaration",
                                                    "label": "var totalTransparentPixels:Int32 = 0",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "VAR",
                                                            "label": "var",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "varBindingPattern",
                                                            "label": "totalTransparentPixels",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "charLangTypes",
                                                            "label": "Int32",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "integerLiteral",
                                                            "label": "0",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "forInExpression",
                                                    "label": "for (pixel in pixelsInt) {\n            if (pixel == Color.TRANSPARENT) {\n                totalTransparentPixels++;\n            }\n            pixels[pixelsIndex] = UInt8(pixel & 0xFF);\n            pixelsIndex++\n            pixels[pixelsIndex] = UInt8((pixel >> 8) & 0xFF);\n            pixelsIndex++\n            pixels[pixelsIndex] = UInt8((pixel >> 16) & 0xFF);\n            pixelsIndex++\n        }",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "FOR",
                                                            "label": "for",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "varBindingPattern",
                                                            "label": "pixel",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "IN",
                                                            "label": "in",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "pixelsInt",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "block",
                                                            "label": " {\n            if (pixel == Color.TRANSPARENT) {\n                totalTransparentPixels++;\n            }\n            pixels[pixelsIndex] = UInt8(pixel & 0xFF);\n            pixelsIndex++\n            pixels[pixelsIndex] = UInt8((pixel >> 8) & 0xFF);\n            pixelsIndex++\n            pixels[pixelsIndex] = UInt8((pixel >> 16) & 0xFF);\n            pixelsIndex++\n        }",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "ifExpression",
                                                                    "label": "if (pixel == Color.TRANSPARENT) {\n                totalTransparentPixels++;\n            }",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "IF",
                                                                            "label": "if",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "binaryExpression",
                                                                            "label": "pixel == Color.TRANSPARENT",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "pixel",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "fieldExpression",
                                                                                    "label": "Color.TRANSPARENT",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "Color",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "TRANSPARENT",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "block",
                                                                            "label": " {\n                totalTransparentPixels++;\n            }",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "incDecExpression",
                                                                                    "label": "totalTransparentPixels++",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "totalTransparentPixels",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "assignmentExpression",
                                                                    "label": "pixels[pixelsIndex] = UInt8(pixel & 0xFF)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "subscriptExpression",
                                                                            "label": "pixels[pixelsIndex]",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "pixels",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "pixelsIndex",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "callExpression",
                                                                            "label": "UInt8(pixel & 0xFF)",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "UInt8",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "argumentList",
                                                                                    "label": "(pixel & 0xFF)",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "binaryExpression",
                                                                                            "label": "pixel & 0xFF",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "pixel",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "integerLiteral",
                                                                                                    "label": "0xFF",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "incDecExpression",
                                                                    "label": "pixelsIndex++",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "pixelsIndex",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "assignmentExpression",
                                                                    "label": "pixels[pixelsIndex] = UInt8((pixel >> 8) & 0xFF)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "subscriptExpression",
                                                                            "label": "pixels[pixelsIndex]",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "pixels",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "pixelsIndex",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "callExpression",
                                                                            "label": "UInt8((pixel >> 8) & 0xFF)",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "UInt8",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "argumentList",
                                                                                    "label": "((pixel >> 8) & 0xFF)",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "binaryExpression",
                                                                                            "label": "(pixel >> 8) & 0xFF",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "parenthesizedExpression",
                                                                                                    "label": "(pixel >> 8)",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "binaryExpression",
                                                                                                            "label": "pixel >> 8",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "pixel",
                                                                                                                    "start_token": 20,
                                                                                                                    "end_token": 20,
                                                                                                                    "children": []
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "integerLiteral",
                                                                                                                    "label": "8",
                                                                                                                    "start_token": 20,
                                                                                                                    "end_token": 20,
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        }
                                                                                                    ]
                                                                                                },
                                                                                                {
                                                                                                    "type": "integerLiteral",
                                                                                                    "label": "0xFF",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "incDecExpression",
                                                                    "label": "pixelsIndex++",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "pixelsIndex",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "assignmentExpression",
                                                                    "label": "pixels[pixelsIndex] = UInt8((pixel >> 16) & 0xFF)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "subscriptExpression",
                                                                            "label": "pixels[pixelsIndex]",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "pixels",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "pixelsIndex",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "callExpression",
                                                                            "label": "UInt8((pixel >> 16) & 0xFF)",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "UInt8",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "argumentList",
                                                                                    "label": "((pixel >> 16) & 0xFF)",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "binaryExpression",
                                                                                            "label": "(pixel >> 16) & 0xFF",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "parenthesizedExpression",
                                                                                                    "label": "(pixel >> 16)",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "binaryExpression",
                                                                                                            "label": "pixel >> 16",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "pixel",
                                                                                                                    "start_token": 20,
                                                                                                                    "end_token": 20,
                                                                                                                    "children": []
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "integerLiteral",
                                                                                                                    "label": "16",
                                                                                                                    "start_token": 20,
                                                                                                                    "end_token": 20,
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        }
                                                                                                    ]
                                                                                                },
                                                                                                {
                                                                                                    "type": "integerLiteral",
                                                                                                    "label": "0xFF",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "incDecExpression",
                                                                    "label": "pixelsIndex++",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "pixelsIndex",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "variableDeclaration",
                                                    "label": "var transparentPercentage:Float64 = 100.0 * Float64(totalTransparentPixels) / Float64(pixelsInt.size)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "VAR",
                                                            "label": "var",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "varBindingPattern",
                                                            "label": "transparentPercentage",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "charLangTypes",
                                                            "label": "Float64",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "binaryExpression",
                                                            "label": "100.0 * Float64(totalTransparentPixels) / Float64(pixelsInt.size)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "binaryExpression",
                                                                    "label": "100.0 * Float64(totalTransparentPixels)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "floatLiteral",
                                                                            "label": "100.0",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "callExpression",
                                                                            "label": "Float64(totalTransparentPixels)",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "Float64",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "argumentList",
                                                                                    "label": "(totalTransparentPixels)",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "totalTransparentPixels",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "callExpression",
                                                                    "label": "Float64(pixelsInt.size)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "Float64",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "argumentList",
                                                                            "label": "(pixelsInt.size)",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "fieldExpression",
                                                                                    "label": "pixelsInt.size",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "pixelsInt",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "size",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "comment",
                                                    "label": "// Assume images with greater where more than n% of the pixels are transparent actually have",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "comment",
                                                    "label": "// transparency. See issue #214.",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "assignmentExpression",
                                                    "label": "hasTransparentPixels = transparentPercentage > MIN_TRANSPARENT_PERCENTAGE",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "hasTransparentPixels",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "binaryExpression",
                                                            "label": "transparentPercentage > MIN_TRANSPARENT_PERCENTAGE",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "transparentPercentage",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "MIN_TRANSPARENT_PERCENTAGE",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "private func writeGraphicCtrlExt() {\n        outFile.write(0x21); // extension introducer\n        outFile.write(0xf9); // GCE label\n        outFile.write(4); // data block size\n        var transpcj:Int32\n        var dispcj:Int32\n        if (transparent == Color.TRANSPARENT && !hasTransparentPixels) {\n            transpcj = 0;\n            dispcj = 0; // dispose = no action\n        } else {\n            transpcj = 1;\n            dispcj = 2; // force clear if using transparent color\n        }\n        if (dispose >= 0) {\n            dispcj = dispose & 7; // user override\n        }\n        dispcj <<= 2;\n        // packed fields\n        outFile.write(UInt8(0 | // 1:3 reserved\n                dispcj | // 4:6 disposal\n                0 | // 7 user input - 0 = none\n                transpcj)); // 8 transparency flag\n        writeShort(delay); // delay x 1/100 sec\n        outFile.write(UInt8(transIndex)); // transparent color index\n        outFile.write(0); // block terminator\n    }",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "functionDefinition",
                                    "label": "private func writeGraphicCtrlExt() {\n        outFile.write(0x21); // extension introducer\n        outFile.write(0xf9); // GCE label\n        outFile.write(4); // data block size\n        var transpcj:Int32\n        var dispcj:Int32\n        if (transparent == Color.TRANSPARENT && !hasTransparentPixels) {\n            transpcj = 0;\n            dispcj = 0; // dispose = no action\n        } else {\n            transpcj = 1;\n            dispcj = 2; // force clear if using transparent color\n        }\n        if (dispose >= 0) {\n            dispcj = dispose & 7; // user override\n        }\n        dispcj <<= 2;\n        // packed fields\n        outFile.write(UInt8(0 | // 1:3 reserved\n                dispcj | // 4:6 disposal\n                0 | // 7 user input - 0 = none\n                transpcj)); // 8 transparency flag\n        writeShort(delay); // delay x 1/100 sec\n        outFile.write(UInt8(transIndex)); // transparent color index\n        outFile.write(0); // block terminator\n    }",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "modifiers",
                                            "label": "private",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PRIVATE",
                                                    "label": "private",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "FUNC",
                                            "label": "func",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "writeGraphicCtrlExt",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "functionParameters",
                                            "label": "()",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "block",
                                            "label": "{\n        outFile.write(0x21); // extension introducer\n        outFile.write(0xf9); // GCE label\n        outFile.write(4); // data block size\n        var transpcj:Int32\n        var dispcj:Int32\n        if (transparent == Color.TRANSPARENT && !hasTransparentPixels) {\n            transpcj = 0;\n            dispcj = 0; // dispose = no action\n        } else {\n            transpcj = 1;\n            dispcj = 2; // force clear if using transparent color\n        }\n        if (dispose >= 0) {\n            dispcj = dispose & 7; // user override\n        }\n        dispcj <<= 2;\n        // packed fields\n        outFile.write(UInt8(0 | // 1:3 reserved\n                dispcj | // 4:6 disposal\n                0 | // 7 user input - 0 = none\n                transpcj)); // 8 transparency flag\n        writeShort(delay); // delay x 1/100 sec\n        outFile.write(UInt8(transIndex)); // transparent color index\n        outFile.write(0); // block terminator\n    }",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "callExpression",
                                                    "label": "outFile.write(0x21)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "fieldExpression",
                                                            "label": "outFile.write",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "outFile",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "write",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "argumentList",
                                                            "label": "(0x21)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "integerLiteral",
                                                                    "label": "0x21",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "comment",
                                                    "label": "// extension introducer",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "callExpression",
                                                    "label": "outFile.write(0xf9)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "fieldExpression",
                                                            "label": "outFile.write",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "outFile",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "write",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "argumentList",
                                                            "label": "(0xf9)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "integerLiteral",
                                                                    "label": "0xf9",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "comment",
                                                    "label": "// GCE label",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "callExpression",
                                                    "label": "outFile.write(4)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "fieldExpression",
                                                            "label": "outFile.write",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "outFile",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "write",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "argumentList",
                                                            "label": "(4)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "integerLiteral",
                                                                    "label": "4",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "comment",
                                                    "label": "// data block size",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "variableDeclaration",
                                                    "label": "var transpcj:Int32",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "VAR",
                                                            "label": "var",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "varBindingPattern",
                                                            "label": "transpcj",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "charLangTypes",
                                                            "label": "Int32",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "variableDeclaration",
                                                    "label": "var dispcj:Int32",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "VAR",
                                                            "label": "var",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "varBindingPattern",
                                                            "label": "dispcj",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "charLangTypes",
                                                            "label": "Int32",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "ifExpression",
                                                    "label": "if (transparent == Color.TRANSPARENT && !hasTransparentPixels) {\n            transpcj = 0;\n            dispcj = 0; // dispose = no action\n        } else {\n            transpcj = 1;\n            dispcj = 2; // force clear if using transparent color\n        }",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "IF",
                                                            "label": "if",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "binaryExpression",
                                                            "label": "transparent == Color.TRANSPARENT && !hasTransparentPixels",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "binaryExpression",
                                                                    "label": "transparent == Color.TRANSPARENT",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "transparent",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "fieldExpression",
                                                                            "label": "Color.TRANSPARENT",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "Color",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "TRANSPARENT",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "unaryExpression",
                                                                    "label": "!hasTransparentPixels",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "hasTransparentPixels",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "block",
                                                            "label": " {\n            transpcj = 0;\n            dispcj = 0; // dispose = no action\n        }",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "assignmentExpression",
                                                                    "label": "transpcj = 0",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "transpcj",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "integerLiteral",
                                                                            "label": "0",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "assignmentExpression",
                                                                    "label": "dispcj = 0",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "dispcj",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "integerLiteral",
                                                                            "label": "0",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "comment",
                                                                    "label": "// dispose = no action",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "ELSE",
                                                            "label": "else",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "block",
                                                            "label": " {\n            transpcj = 1;\n            dispcj = 2; // force clear if using transparent color\n        }",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "assignmentExpression",
                                                                    "label": "transpcj = 1",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "transpcj",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "integerLiteral",
                                                                            "label": "1",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "assignmentExpression",
                                                                    "label": "dispcj = 2",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "dispcj",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "integerLiteral",
                                                                            "label": "2",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "comment",
                                                                    "label": "// force clear if using transparent color",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "ifExpression",
                                                    "label": "if (dispose >= 0) {\n            dispcj = dispose & 7; // user override\n        }",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "IF",
                                                            "label": "if",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "binaryExpression",
                                                            "label": "dispose >= 0",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "dispose",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "integerLiteral",
                                                                    "label": "0",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "block",
                                                            "label": " {\n            dispcj = dispose & 7; // user override\n        }",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "assignmentExpression",
                                                                    "label": "dispcj = dispose & 7",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "dispcj",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "binaryExpression",
                                                                            "label": "dispose & 7",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "dispose",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "integerLiteral",
                                                                                    "label": "7",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "comment",
                                                                    "label": "// user override",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "assignmentExpression",
                                                    "label": "dispcj <<= 2",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "dispcj",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "integerLiteral",
                                                            "label": "2",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "comment",
                                                    "label": "// packed fields",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "callExpression",
                                                    "label": "outFile.write(UInt8(0 | // 1:3 reserved\n                dispcj | // 4:6 disposal\n                0 | // 7 user input - 0 = none\n                transpcj))",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "fieldExpression",
                                                            "label": "outFile.write",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "outFile",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "write",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "argumentList",
                                                            "label": "(UInt8(0 | // 1:3 reserved\n                dispcj | // 4:6 disposal\n                0 | // 7 user input - 0 = none\n                transpcj))",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "callExpression",
                                                                    "label": "UInt8(0 | // 1:3 reserved\n                dispcj | // 4:6 disposal\n                0 | // 7 user input - 0 = none\n                transpcj)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "UInt8",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "argumentList",
                                                                            "label": "(0 | // 1:3 reserved\n                dispcj | // 4:6 disposal\n                0 | // 7 user input - 0 = none\n                transpcj)",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "binaryExpression",
                                                                                    "label": "0 | // 1:3 reserved\n                dispcj | // 4:6 disposal\n                0 | // 7 user input - 0 = none\n                transpcj",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "binaryExpression",
                                                                                            "label": "0 | // 1:3 reserved\n                dispcj | // 4:6 disposal\n                0",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "binaryExpression",
                                                                                                    "label": "0 | // 1:3 reserved\n                dispcj",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "integerLiteral",
                                                                                                            "label": "0",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "comment",
                                                                                                            "label": "// 1:3 reserved",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "label": "dispcj",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                },
                                                                                                {
                                                                                                    "type": "comment",
                                                                                                    "label": "// 4:6 disposal",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "integerLiteral",
                                                                                                    "label": "0",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "comment",
                                                                                            "label": "// 7 user input - 0 = none",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "transpcj",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "comment",
                                                    "label": "// 8 transparency flag",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "callExpression",
                                                    "label": "writeShort(delay)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "writeShort",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "argumentList",
                                                            "label": "(delay)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "delay",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "comment",
                                                    "label": "// delay x 1/100 sec",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "callExpression",
                                                    "label": "outFile.write(UInt8(transIndex))",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "fieldExpression",
                                                            "label": "outFile.write",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "outFile",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "write",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "argumentList",
                                                            "label": "(UInt8(transIndex))",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "callExpression",
                                                                    "label": "UInt8(transIndex)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "UInt8",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "argumentList",
                                                                            "label": "(transIndex)",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "transIndex",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "comment",
                                                    "label": "// transparent color index",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "callExpression",
                                                    "label": "outFile.write(0)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "fieldExpression",
                                                            "label": "outFile.write",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "outFile",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "write",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "argumentList",
                                                            "label": "(0)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "integerLiteral",
                                                                    "label": "0",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "comment",
                                                    "label": "// block terminator",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "private func writeImageDesc(x:Int32, y:Int32) {\n        outFile.write(0x2c); // image separator\n        writeShort(x); // image position\n        writeShort(y);\n        writeShort(width); // image size\n        writeShort(height);\n        // packed fields\n        if (firstFrame) {\n            // no LCT - GCT is used for first (or only) frame\n            outFile.write(0);\n        } else {\n            // specify normal LCT\n            // 1 local color table 1=yes 2 interlace - 0=no  3 sorted - 0=no 4-5 reserved\n            outFile.write(UInt8(0x80) | UInt8(0) |UInt8(0) | UInt8(0) | UInt8(palSize)); // 6-8 size of color table\n        }\n    }",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "functionDefinition",
                                    "label": "private func writeImageDesc(x:Int32, y:Int32) {\n        outFile.write(0x2c); // image separator\n        writeShort(x); // image position\n        writeShort(y);\n        writeShort(width); // image size\n        writeShort(height);\n        // packed fields\n        if (firstFrame) {\n            // no LCT - GCT is used for first (or only) frame\n            outFile.write(0);\n        } else {\n            // specify normal LCT\n            // 1 local color table 1=yes 2 interlace - 0=no  3 sorted - 0=no 4-5 reserved\n            outFile.write(UInt8(0x80) | UInt8(0) |UInt8(0) | UInt8(0) | UInt8(palSize)); // 6-8 size of color table\n        }\n    }",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "modifiers",
                                            "label": "private",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PRIVATE",
                                                    "label": "private",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "FUNC",
                                            "label": "func",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "writeImageDesc",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "functionParameters",
                                            "label": "(x:Int32, y:Int32)",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "parameterList",
                                                    "label": "x:Int32, y:Int32",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "parameter",
                                                            "label": "x:Int32",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "x",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "charLangTypes",
                                                                    "label": "Int32",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "parameter",
                                                            "label": "y:Int32",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "y",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "charLangTypes",
                                                                    "label": "Int32",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "block",
                                            "label": "{\n        outFile.write(0x2c); // image separator\n        writeShort(x); // image position\n        writeShort(y);\n        writeShort(width); // image size\n        writeShort(height);\n        // packed fields\n        if (firstFrame) {\n            // no LCT - GCT is used for first (or only) frame\n            outFile.write(0);\n        } else {\n            // specify normal LCT\n            // 1 local color table 1=yes 2 interlace - 0=no  3 sorted - 0=no 4-5 reserved\n            outFile.write(UInt8(0x80) | UInt8(0) |UInt8(0) | UInt8(0) | UInt8(palSize)); // 6-8 size of color table\n        }\n    }",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "callExpression",
                                                    "label": "outFile.write(0x2c)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "fieldExpression",
                                                            "label": "outFile.write",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "outFile",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "write",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "argumentList",
                                                            "label": "(0x2c)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "integerLiteral",
                                                                    "label": "0x2c",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "comment",
                                                    "label": "// image separator",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "callExpression",
                                                    "label": "writeShort(x)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "writeShort",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "argumentList",
                                                            "label": "(x)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "x",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "comment",
                                                    "label": "// image position",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "callExpression",
                                                    "label": "writeShort(y)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "writeShort",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "argumentList",
                                                            "label": "(y)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "y",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "callExpression",
                                                    "label": "writeShort(width)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "writeShort",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "argumentList",
                                                            "label": "(width)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "width",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "comment",
                                                    "label": "// image size",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "callExpression",
                                                    "label": "writeShort(height)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "writeShort",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "argumentList",
                                                            "label": "(height)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "height",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "comment",
                                                    "label": "// packed fields",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "ifExpression",
                                                    "label": "if (firstFrame) {\n            // no LCT - GCT is used for first (or only) frame\n            outFile.write(0);\n        } else {\n            // specify normal LCT\n            // 1 local color table 1=yes 2 interlace - 0=no  3 sorted - 0=no 4-5 reserved\n            outFile.write(UInt8(0x80) | UInt8(0) |UInt8(0) | UInt8(0) | UInt8(palSize)); // 6-8 size of color table\n        }",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "IF",
                                                            "label": "if",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "firstFrame",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "block",
                                                            "label": " {\n            // no LCT - GCT is used for first (or only) frame\n            outFile.write(0);\n        }",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "comment",
                                                                    "label": "// no LCT - GCT is used for first (or only) frame",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "callExpression",
                                                                    "label": "outFile.write(0)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "fieldExpression",
                                                                            "label": "outFile.write",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "outFile",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "write",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "argumentList",
                                                                            "label": "(0)",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "integerLiteral",
                                                                                    "label": "0",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "ELSE",
                                                            "label": "else",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "block",
                                                            "label": " {\n            // specify normal LCT\n            // 1 local color table 1=yes 2 interlace - 0=no  3 sorted - 0=no 4-5 reserved\n            outFile.write(UInt8(0x80) | UInt8(0) |UInt8(0) | UInt8(0) | UInt8(palSize)); // 6-8 size of color table\n        }",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "comment",
                                                                    "label": "// specify normal LCT",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "comment",
                                                                    "label": "// 1 local color table 1=yes 2 interlace - 0=no  3 sorted - 0=no 4-5 reserved",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "callExpression",
                                                                    "label": "outFile.write(UInt8(0x80) | UInt8(0) |UInt8(0) | UInt8(0) | UInt8(palSize))",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "fieldExpression",
                                                                            "label": "outFile.write",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "outFile",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "write",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "argumentList",
                                                                            "label": "(UInt8(0x80) | UInt8(0) |UInt8(0) | UInt8(0) | UInt8(palSize))",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "binaryExpression",
                                                                                    "label": "UInt8(0x80) | UInt8(0) |UInt8(0) | UInt8(0) | UInt8(palSize)",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "binaryExpression",
                                                                                            "label": "UInt8(0x80) | UInt8(0) |UInt8(0) | UInt8(0)",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "binaryExpression",
                                                                                                    "label": "UInt8(0x80) | UInt8(0) |UInt8(0)",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "binaryExpression",
                                                                                                            "label": "UInt8(0x80) | UInt8(0)",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "callExpression",
                                                                                                                    "label": "UInt8(0x80)",
                                                                                                                    "start_token": 20,
                                                                                                                    "end_token": 20,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "label": "UInt8",
                                                                                                                            "start_token": 20,
                                                                                                                            "end_token": 20,
                                                                                                                            "children": []
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "argumentList",
                                                                                                                            "label": "(0x80)",
                                                                                                                            "start_token": 20,
                                                                                                                            "end_token": 20,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "integerLiteral",
                                                                                                                                    "label": "0x80",
                                                                                                                                    "start_token": 20,
                                                                                                                                    "end_token": 20,
                                                                                                                                    "children": []
                                                                                                                                }
                                                                                                                            ]
                                                                                                                        }
                                                                                                                    ]
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "callExpression",
                                                                                                                    "label": "UInt8(0)",
                                                                                                                    "start_token": 20,
                                                                                                                    "end_token": 20,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "label": "UInt8",
                                                                                                                            "start_token": 20,
                                                                                                                            "end_token": 20,
                                                                                                                            "children": []
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "argumentList",
                                                                                                                            "label": "(0)",
                                                                                                                            "start_token": 20,
                                                                                                                            "end_token": 20,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "integerLiteral",
                                                                                                                                    "label": "0",
                                                                                                                                    "start_token": 20,
                                                                                                                                    "end_token": 20,
                                                                                                                                    "children": []
                                                                                                                                }
                                                                                                                            ]
                                                                                                                        }
                                                                                                                    ]
                                                                                                                }
                                                                                                            ]
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "callExpression",
                                                                                                            "label": "UInt8(0)",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "UInt8",
                                                                                                                    "start_token": 20,
                                                                                                                    "end_token": 20,
                                                                                                                    "children": []
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "argumentList",
                                                                                                                    "label": "(0)",
                                                                                                                    "start_token": 20,
                                                                                                                    "end_token": 20,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "integerLiteral",
                                                                                                                            "label": "0",
                                                                                                                            "start_token": 20,
                                                                                                                            "end_token": 20,
                                                                                                                            "children": []
                                                                                                                        }
                                                                                                                    ]
                                                                                                                }
                                                                                                            ]
                                                                                                        }
                                                                                                    ]
                                                                                                },
                                                                                                {
                                                                                                    "type": "callExpression",
                                                                                                    "label": "UInt8(0)",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "label": "UInt8",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "argumentList",
                                                                                                            "label": "(0)",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "integerLiteral",
                                                                                                                    "label": "0",
                                                                                                                    "start_token": 20,
                                                                                                                    "end_token": 20,
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "callExpression",
                                                                                            "label": "UInt8(palSize)",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "UInt8",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "argumentList",
                                                                                                    "label": "(palSize)",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "label": "palSize",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "comment",
                                                                    "label": "// 6-8 size of color table",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "private func writeLSD() {\n        // logical screen size\n        writeShort(width);\n        writeShort(height);\n        // packed fields\n        let t: UInt8 = UInt8(0x80 | // 1 : global color table flag = 1 (gct used)\n                0x70 | // 2-4 : color resolution = 7\n                0x00 | // 5 : gct sort flag = 0\n                palSize);\n        outFile.write(Array<UInt8>(1, item: t)); // 6-8 : gct size\n        outFile.write(Array<UInt8>(1,item:0)); // background color index\n        outFile.write(Array<UInt8>(1,item:0)); // pixel aspect ratio - assume 1:1\n    }",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "functionDefinition",
                                    "label": "private func writeLSD() {\n        // logical screen size\n        writeShort(width);\n        writeShort(height);\n        // packed fields\n        let t: UInt8 = UInt8(0x80 | // 1 : global color table flag = 1 (gct used)\n                0x70 | // 2-4 : color resolution = 7\n                0x00 | // 5 : gct sort flag = 0\n                palSize);\n        outFile.write(Array<UInt8>(1, item: t)); // 6-8 : gct size\n        outFile.write(Array<UInt8>(1,item:0)); // background color index\n        outFile.write(Array<UInt8>(1,item:0)); // pixel aspect ratio - assume 1:1\n    }",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "modifiers",
                                            "label": "private",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PRIVATE",
                                                    "label": "private",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "FUNC",
                                            "label": "func",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "writeLSD",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "functionParameters",
                                            "label": "()",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "block",
                                            "label": "{\n        // logical screen size\n        writeShort(width);\n        writeShort(height);\n        // packed fields\n        let t: UInt8 = UInt8(0x80 | // 1 : global color table flag = 1 (gct used)\n                0x70 | // 2-4 : color resolution = 7\n                0x00 | // 5 : gct sort flag = 0\n                palSize);\n        outFile.write(Array<UInt8>(1, item: t)); // 6-8 : gct size\n        outFile.write(Array<UInt8>(1,item:0)); // background color index\n        outFile.write(Array<UInt8>(1,item:0)); // pixel aspect ratio - assume 1:1\n    }",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "comment",
                                                    "label": "// logical screen size",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "callExpression",
                                                    "label": "writeShort(width)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "writeShort",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "argumentList",
                                                            "label": "(width)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "width",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "callExpression",
                                                    "label": "writeShort(height)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "writeShort",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "argumentList",
                                                            "label": "(height)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "height",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "comment",
                                                    "label": "// packed fields",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "variableDeclaration",
                                                    "label": "let t: UInt8 = UInt8(0x80 | // 1 : global color table flag = 1 (gct used)\n                0x70 | // 2-4 : color resolution = 7\n                0x00 | // 5 : gct sort flag = 0\n                palSize)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "LET",
                                                            "label": "let",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "varBindingPattern",
                                                            "label": "t",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "charLangTypes",
                                                            "label": "UInt8",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "callExpression",
                                                            "label": "UInt8(0x80 | // 1 : global color table flag = 1 (gct used)\n                0x70 | // 2-4 : color resolution = 7\n                0x00 | // 5 : gct sort flag = 0\n                palSize)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "UInt8",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "argumentList",
                                                                    "label": "(0x80 | // 1 : global color table flag = 1 (gct used)\n                0x70 | // 2-4 : color resolution = 7\n                0x00 | // 5 : gct sort flag = 0\n                palSize)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "binaryExpression",
                                                                            "label": "0x80 | // 1 : global color table flag = 1 (gct used)\n                0x70 | // 2-4 : color resolution = 7\n                0x00 | // 5 : gct sort flag = 0\n                palSize",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "binaryExpression",
                                                                                    "label": "0x80 | // 1 : global color table flag = 1 (gct used)\n                0x70 | // 2-4 : color resolution = 7\n                0x00",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "binaryExpression",
                                                                                            "label": "0x80 | // 1 : global color table flag = 1 (gct used)\n                0x70",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "integerLiteral",
                                                                                                    "label": "0x80",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "comment",
                                                                                                    "label": "// 1 : global color table flag = 1 (gct used)",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "integerLiteral",
                                                                                                    "label": "0x70",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "comment",
                                                                                            "label": "// 2-4 : color resolution = 7",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integerLiteral",
                                                                                            "label": "0x00",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "comment",
                                                                                    "label": "// 5 : gct sort flag = 0",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "palSize",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "callExpression",
                                                    "label": "outFile.write(Array<UInt8>(1, item: t))",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "fieldExpression",
                                                            "label": "outFile.write",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "outFile",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "write",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "argumentList",
                                                            "label": "(Array<UInt8>(1, item: t))",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "callExpression",
                                                                    "label": "Array<UInt8>(1, item: t)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "genericsType",
                                                                            "label": "Array<UInt8>",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "typeIdentifier",
                                                                                    "label": "Array",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "typeArguments",
                                                                                    "label": "<UInt8>",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "charLangTypes",
                                                                                            "label": "UInt8",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "argumentList",
                                                                            "label": "(1, item: t)",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "integerLiteral",
                                                                                    "label": "1",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "item",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "t",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "comment",
                                                    "label": "// 6-8 : gct size",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "callExpression",
                                                    "label": "outFile.write(Array<UInt8>(1,item:0))",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "fieldExpression",
                                                            "label": "outFile.write",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "outFile",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "write",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "argumentList",
                                                            "label": "(Array<UInt8>(1,item:0))",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "callExpression",
                                                                    "label": "Array<UInt8>(1,item:0)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "genericsType",
                                                                            "label": "Array<UInt8>",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "typeIdentifier",
                                                                                    "label": "Array",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "typeArguments",
                                                                                    "label": "<UInt8>",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "charLangTypes",
                                                                                            "label": "UInt8",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "argumentList",
                                                                            "label": "(1,item:0)",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "integerLiteral",
                                                                                    "label": "1",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "item",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "integerLiteral",
                                                                                    "label": "0",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "comment",
                                                    "label": "// background color index",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "callExpression",
                                                    "label": "outFile.write(Array<UInt8>(1,item:0))",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "fieldExpression",
                                                            "label": "outFile.write",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "outFile",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "write",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "argumentList",
                                                            "label": "(Array<UInt8>(1,item:0))",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "callExpression",
                                                                    "label": "Array<UInt8>(1,item:0)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "genericsType",
                                                                            "label": "Array<UInt8>",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "typeIdentifier",
                                                                                    "label": "Array",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "typeArguments",
                                                                                    "label": "<UInt8>",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "charLangTypes",
                                                                                            "label": "UInt8",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "argumentList",
                                                                            "label": "(1,item:0)",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "integerLiteral",
                                                                                    "label": "1",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "item",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "integerLiteral",
                                                                                    "label": "0",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "comment",
                                                    "label": "// pixel aspect ratio - assume 1:1",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "private func writeNetscapeExt() {\n        outFile.write(Array<UInt8>(1, item: 0x21)); // extension introducer\n        outFile.write(0xff); // app extension label\n        outFile.write(11); // block size\n        writeString(\"NETSCAPE\" + \"2.0\"); // app id + auth code\n        outFile.write(3); // sub-block size\n        outFile.write(1); // loop sub-block id\n        writeShort(repeat); // loop count (extra iterations, 0=repeat forever)\n        outFile.write(0); // block terminator\n    }",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "functionDefinition",
                                    "label": "private func writeNetscapeExt() {\n        outFile.write(Array<UInt8>(1, item: 0x21)); // extension introducer\n        outFile.write(0xff); // app extension label\n        outFile.write(11); // block size\n        writeString(\"NETSCAPE\" + \"2.0\"); // app id + auth code\n        outFile.write(3); // sub-block size\n        outFile.write(1); // loop sub-block id\n        writeShort(repeat); // loop count (extra iterations, 0=repeat forever)\n        outFile.write(0); // block terminator\n    }",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "modifiers",
                                            "label": "private",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PRIVATE",
                                                    "label": "private",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "FUNC",
                                            "label": "func",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "writeNetscapeExt",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "functionParameters",
                                            "label": "()",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "block",
                                            "label": "{\n        outFile.write(Array<UInt8>(1, item: 0x21)); // extension introducer\n        outFile.write(0xff); // app extension label\n        outFile.write(11); // block size\n        writeString(\"NETSCAPE\" + \"2.0\"); // app id + auth code\n        outFile.write(3); // sub-block size\n        outFile.write(1); // loop sub-block id\n        writeShort(repeat); // loop count (extra iterations, 0=repeat forever)\n        outFile.write(0); // block terminator\n    }",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "callExpression",
                                                    "label": "outFile.write(Array<UInt8>(1, item: 0x21))",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "fieldExpression",
                                                            "label": "outFile.write",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "outFile",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "write",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "argumentList",
                                                            "label": "(Array<UInt8>(1, item: 0x21))",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "callExpression",
                                                                    "label": "Array<UInt8>(1, item: 0x21)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "genericsType",
                                                                            "label": "Array<UInt8>",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "typeIdentifier",
                                                                                    "label": "Array",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "typeArguments",
                                                                                    "label": "<UInt8>",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "charLangTypes",
                                                                                            "label": "UInt8",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "argumentList",
                                                                            "label": "(1, item: 0x21)",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "integerLiteral",
                                                                                    "label": "1",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "item",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "integerLiteral",
                                                                                    "label": "0x21",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "comment",
                                                    "label": "// extension introducer",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "callExpression",
                                                    "label": "outFile.write(0xff)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "fieldExpression",
                                                            "label": "outFile.write",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "outFile",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "write",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "argumentList",
                                                            "label": "(0xff)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "integerLiteral",
                                                                    "label": "0xff",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "comment",
                                                    "label": "// app extension label",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "callExpression",
                                                    "label": "outFile.write(11)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "fieldExpression",
                                                            "label": "outFile.write",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "outFile",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "write",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "argumentList",
                                                            "label": "(11)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "integerLiteral",
                                                                    "label": "11",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "comment",
                                                    "label": "// block size",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "callExpression",
                                                    "label": "writeString(\"NETSCAPE\" + \"2.0\")",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "writeString",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "argumentList",
                                                            "label": "(\"NETSCAPE\" + \"2.0\")",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "binaryExpression",
                                                                    "label": "\"NETSCAPE\" + \"2.0\"",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "stringLiteral",
                                                                            "label": "\"NETSCAPE\"",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "lineStringLiteral",
                                                                                    "label": "\"NETSCAPE\"",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "quoteOpen",
                                                                                            "label": "\"",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "lineStringContent",
                                                                                            "label": "NETSCAPE",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "quoteClose",
                                                                                            "label": "\"",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "stringLiteral",
                                                                            "label": "\"2.0\"",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "lineStringLiteral",
                                                                                    "label": "\"2.0\"",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "quoteOpen",
                                                                                            "label": "\"",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "lineStringContent",
                                                                                            "label": "2.0",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "quoteClose",
                                                                                            "label": "\"",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "comment",
                                                    "label": "// app id + auth code",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "callExpression",
                                                    "label": "outFile.write(3)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "fieldExpression",
                                                            "label": "outFile.write",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "outFile",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "write",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "argumentList",
                                                            "label": "(3)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "integerLiteral",
                                                                    "label": "3",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "comment",
                                                    "label": "// sub-block size",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "callExpression",
                                                    "label": "outFile.write(1)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "fieldExpression",
                                                            "label": "outFile.write",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "outFile",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "write",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "argumentList",
                                                            "label": "(1)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "integerLiteral",
                                                                    "label": "1",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "comment",
                                                    "label": "// loop sub-block id",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "callExpression",
                                                    "label": "writeShort(repeat)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "writeShort",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "argumentList",
                                                            "label": "(repeat)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "repeat",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "comment",
                                                    "label": "// loop count (extra iterations, 0=repeat forever)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                },
                                                {
                                                    "type": "callExpression",
                                                    "label": "outFile.write(0)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "fieldExpression",
                                                            "label": "outFile.write",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "outFile",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "write",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "argumentList",
                                                            "label": "(0)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "integerLiteral",
                                                                    "label": "0",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "comment",
                                                    "label": "// block terminator",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "private func writePalette() {\n        outFile.write(colorTab);\n        var n:Int32 = (3 * 256) - Int32(colorTab.size)\n        for (i  in 0..n) {\n            outFile.write(Array<UInt8>(1, item: 0));\n        }\n    }",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "functionDefinition",
                                    "label": "private func writePalette() {\n        outFile.write(colorTab);\n        var n:Int32 = (3 * 256) - Int32(colorTab.size)\n        for (i  in 0..n) {\n            outFile.write(Array<UInt8>(1, item: 0));\n        }\n    }",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "modifiers",
                                            "label": "private",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PRIVATE",
                                                    "label": "private",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "FUNC",
                                            "label": "func",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "writePalette",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "functionParameters",
                                            "label": "()",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "block",
                                            "label": "{\n        outFile.write(colorTab);\n        var n:Int32 = (3 * 256) - Int32(colorTab.size)\n        for (i  in 0..n) {\n            outFile.write(Array<UInt8>(1, item: 0));\n        }\n    }",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "callExpression",
                                                    "label": "outFile.write(colorTab)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "fieldExpression",
                                                            "label": "outFile.write",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "outFile",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "write",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "argumentList",
                                                            "label": "(colorTab)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "colorTab",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "variableDeclaration",
                                                    "label": "var n:Int32 = (3 * 256) - Int32(colorTab.size)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "VAR",
                                                            "label": "var",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "varBindingPattern",
                                                            "label": "n",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "charLangTypes",
                                                            "label": "Int32",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "binaryExpression",
                                                            "label": "(3 * 256) - Int32(colorTab.size)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "parenthesizedExpression",
                                                                    "label": "(3 * 256)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "binaryExpression",
                                                                            "label": "3 * 256",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "integerLiteral",
                                                                                    "label": "3",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "integerLiteral",
                                                                                    "label": "256",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "callExpression",
                                                                    "label": "Int32(colorTab.size)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "Int32",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "argumentList",
                                                                            "label": "(colorTab.size)",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "fieldExpression",
                                                                                    "label": "colorTab.size",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "colorTab",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "size",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "forInExpression",
                                                    "label": "for (i  in 0..n) {\n            outFile.write(Array<UInt8>(1, item: 0));\n        }",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "FOR",
                                                            "label": "for",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "varBindingPattern",
                                                            "label": "i",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "IN",
                                                            "label": "in",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "rangeExpression",
                                                            "label": "0..n",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "integerLiteral",
                                                                    "label": "0",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "n",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "block",
                                                            "label": " {\n            outFile.write(Array<UInt8>(1, item: 0));\n        }",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "callExpression",
                                                                    "label": "outFile.write(Array<UInt8>(1, item: 0))",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "fieldExpression",
                                                                            "label": "outFile.write",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "outFile",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "write",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "argumentList",
                                                                            "label": "(Array<UInt8>(1, item: 0))",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "callExpression",
                                                                                    "label": "Array<UInt8>(1, item: 0)",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "genericsType",
                                                                                            "label": "Array<UInt8>",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "typeIdentifier",
                                                                                                    "label": "Array",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "typeArguments",
                                                                                                    "label": "<UInt8>",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "charLangTypes",
                                                                                                            "label": "UInt8",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "argumentList",
                                                                                            "label": "(1, item: 0)",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "integerLiteral",
                                                                                                    "label": "1",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "item",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "integerLiteral",
                                                                                                    "label": "0",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "private func writePixels() {\n        var encoder:LZWEncoder = LZWEncoder(width, height, indexedPixels, colorDepth);\n        encoder.encode(outFile);\n    }",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "functionDefinition",
                                    "label": "private func writePixels() {\n        var encoder:LZWEncoder = LZWEncoder(width, height, indexedPixels, colorDepth);\n        encoder.encode(outFile);\n    }",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "modifiers",
                                            "label": "private",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PRIVATE",
                                                    "label": "private",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "FUNC",
                                            "label": "func",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "writePixels",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "functionParameters",
                                            "label": "()",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "block",
                                            "label": "{\n        var encoder:LZWEncoder = LZWEncoder(width, height, indexedPixels, colorDepth);\n        encoder.encode(outFile);\n    }",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "variableDeclaration",
                                                    "label": "var encoder:LZWEncoder = LZWEncoder(width, height, indexedPixels, colorDepth)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "VAR",
                                                            "label": "var",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "varBindingPattern",
                                                            "label": "encoder",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "userType",
                                                            "label": "LZWEncoder",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "LZWEncoder",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "callExpression",
                                                            "label": "LZWEncoder(width, height, indexedPixels, colorDepth)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "LZWEncoder",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "argumentList",
                                                                    "label": "(width, height, indexedPixels, colorDepth)",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "width",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "height",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "indexedPixels",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "colorDepth",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "callExpression",
                                                    "label": "encoder.encode(outFile)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "fieldExpression",
                                                            "label": "encoder.encode",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "encoder",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "encode",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "argumentList",
                                                            "label": "(outFile)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "outFile",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "private func writeShort(value:Int32){\n        var temp:Array<UInt8> = [UInt8(value & 0xff),UInt8((value >> 8) & 0xff)]\n        outFile.write(temp);\n    }",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "functionDefinition",
                                    "label": "private func writeShort(value:Int32){\n        var temp:Array<UInt8> = [UInt8(value & 0xff),UInt8((value >> 8) & 0xff)]\n        outFile.write(temp);\n    }",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "modifiers",
                                            "label": "private",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PRIVATE",
                                                    "label": "private",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "FUNC",
                                            "label": "func",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "writeShort",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "functionParameters",
                                            "label": "(value:Int32)",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "parameterList",
                                                    "label": "value:Int32",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "parameter",
                                                            "label": "value:Int32",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "value",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "charLangTypes",
                                                                    "label": "Int32",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "block",
                                            "label": "{\n        var temp:Array<UInt8> = [UInt8(value & 0xff),UInt8((value >> 8) & 0xff)]\n        outFile.write(temp);\n    }",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "variableDeclaration",
                                                    "label": "var temp:Array<UInt8> = [UInt8(value & 0xff),UInt8((value >> 8) & 0xff)]",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "VAR",
                                                            "label": "var",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "varBindingPattern",
                                                            "label": "temp",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "userType",
                                                            "label": "Array<UInt8>",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "Array",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "typeArguments",
                                                                    "label": "<UInt8>",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "charLangTypes",
                                                                            "label": "UInt8",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "collectionLiteral",
                                                            "label": "[UInt8(value & 0xff),UInt8((value >> 8) & 0xff)]",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "arrayLiteral",
                                                                    "label": "[UInt8(value & 0xff),UInt8((value >> 8) & 0xff)]",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "elements",
                                                                            "label": "UInt8(value & 0xff),UInt8((value >> 8) & 0xff)",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "element",
                                                                                    "label": "UInt8(value & 0xff)",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "callExpression",
                                                                                            "label": "UInt8(value & 0xff)",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "UInt8",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "argumentList",
                                                                                                    "label": "(value & 0xff)",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "binaryExpression",
                                                                                                            "label": "value & 0xff",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "value",
                                                                                                                    "start_token": 20,
                                                                                                                    "end_token": 20,
                                                                                                                    "children": []
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "integerLiteral",
                                                                                                                    "label": "0xff",
                                                                                                                    "start_token": 20,
                                                                                                                    "end_token": 20,
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "element",
                                                                                    "label": "UInt8((value >> 8) & 0xff)",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "callExpression",
                                                                                            "label": "UInt8((value >> 8) & 0xff)",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "UInt8",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "argumentList",
                                                                                                    "label": "((value >> 8) & 0xff)",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "binaryExpression",
                                                                                                            "label": "(value >> 8) & 0xff",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "parenthesizedExpression",
                                                                                                                    "label": "(value >> 8)",
                                                                                                                    "start_token": 20,
                                                                                                                    "end_token": 20,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "binaryExpression",
                                                                                                                            "label": "value >> 8",
                                                                                                                            "start_token": 20,
                                                                                                                            "end_token": 20,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "label": "value",
                                                                                                                                    "start_token": 20,
                                                                                                                                    "end_token": 20,
                                                                                                                                    "children": []
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "integerLiteral",
                                                                                                                                    "label": "8",
                                                                                                                                    "start_token": 20,
                                                                                                                                    "end_token": 20,
                                                                                                                                    "children": []
                                                                                                                                }
                                                                                                                            ]
                                                                                                                        }
                                                                                                                    ]
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "integerLiteral",
                                                                                                                    "label": "0xff",
                                                                                                                    "start_token": 20,
                                                                                                                    "end_token": 20,
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "callExpression",
                                                    "label": "outFile.write(temp)",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "fieldExpression",
                                                            "label": "outFile.write",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "outFile",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "write",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "argumentList",
                                                            "label": "(temp)",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "temp",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "memberDeclaration",
                            "label": "private func writeString(s:String) {\n        var bytes1=s.toArray()\n        for (i in 0..s.size) {\n            outFile.write(Array<UInt8>(1, item: bytes1[i]));\n        }\n    }",
                            "start_token": 20,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "functionDefinition",
                                    "label": "private func writeString(s:String) {\n        var bytes1=s.toArray()\n        for (i in 0..s.size) {\n            outFile.write(Array<UInt8>(1, item: bytes1[i]));\n        }\n    }",
                                    "start_token": 20,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "modifiers",
                                            "label": "private",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "PRIVATE",
                                                    "label": "private",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "FUNC",
                                            "label": "func",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "writeString",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": []
                                        },
                                        {
                                            "type": "functionParameters",
                                            "label": "(s:String)",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "parameterList",
                                                    "label": "s:String",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "parameter",
                                                            "label": "s:String",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "s",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "charLangTypes",
                                                                    "label": "String",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "block",
                                            "label": "{\n        var bytes1=s.toArray()\n        for (i in 0..s.size) {\n            outFile.write(Array<UInt8>(1, item: bytes1[i]));\n        }\n    }",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "variableDeclaration",
                                                    "label": "var bytes1=s.toArray()",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "VAR",
                                                            "label": "var",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "varBindingPattern",
                                                            "label": "bytes1",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "callExpression",
                                                            "label": "s.toArray()",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "fieldExpression",
                                                                    "label": "s.toArray",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "s",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "toArray",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "argumentList",
                                                                    "label": "()",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "forInExpression",
                                                    "label": "for (i in 0..s.size) {\n            outFile.write(Array<UInt8>(1, item: bytes1[i]));\n        }",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "FOR",
                                                            "label": "for",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "varBindingPattern",
                                                            "label": "i",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "IN",
                                                            "label": "in",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "rangeExpression",
                                                            "label": "0..s.size",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "integerLiteral",
                                                                    "label": "0",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "fieldExpression",
                                                                    "label": "s.size",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "s",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "size",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "block",
                                                            "label": " {\n            outFile.write(Array<UInt8>(1, item: bytes1[i]));\n        }",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "callExpression",
                                                                    "label": "outFile.write(Array<UInt8>(1, item: bytes1[i]))",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "fieldExpression",
                                                                            "label": "outFile.write",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "outFile",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "write",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "argumentList",
                                                                            "label": "(Array<UInt8>(1, item: bytes1[i]))",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "callExpression",
                                                                                    "label": "Array<UInt8>(1, item: bytes1[i])",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "genericsType",
                                                                                            "label": "Array<UInt8>",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "typeIdentifier",
                                                                                                    "label": "Array",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "typeArguments",
                                                                                                    "label": "<UInt8>",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "charLangTypes",
                                                                                                            "label": "UInt8",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "argumentList",
                                                                                            "label": "(1, item: bytes1[i])",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "integerLiteral",
                                                                                                    "label": "1",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "item",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "subscriptExpression",
                                                                                                    "label": "bytes1[i]",
                                                                                                    "start_token": 20,
                                                                                                    "end_token": 20,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "label": "bytes1",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "label": "i",
                                                                                                            "start_token": 20,
                                                                                                            "end_token": 20,
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ]
}