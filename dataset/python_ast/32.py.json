{
    "type": "module",
    "label": "import datetime\n\nimport autogpt_libs.auth.depends\nimport autogpt_libs.auth.middleware\nimport fastapi\nimport fastapi.testclient\nimport prisma.enums\nimport pytest_mock\n\nimport backend.server.v2.store.model\nimport backend.server.v2.store.routes\n\napp = fastapi.FastAPI()\napp.include_router(backend.server.v2.store.routes.router)\n\nclient = fastapi.testclient.TestClient(app)\n\n\ndef override_auth_middleware():\n    \"\"\"Override auth middleware for testing\"\"\"\n    return {\"sub\": \"test-user-id\"}\n\n\ndef override_get_user_id():\n    \"\"\"Override get_user_id for testing\"\"\"\n    return \"test-user-id\"\n\n\napp.dependency_overrides[autogpt_libs.auth.middleware.auth_middleware] = (\n    override_auth_middleware\n)\napp.dependency_overrides[autogpt_libs.auth.depends.get_user_id] = override_get_user_id\n\n\ndef test_get_agents_defaults(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert data.pagination.total_pages == 0\n    assert data.agents == []\n    mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )\n\n\ndef test_get_agents_featured(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"featured-agent\",\n                agent_name=\"Featured Agent\",\n                agent_image=\"featured.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Featured agent subheading\",\n                description=\"Featured agent description\",\n                runs=100,\n                rating=4.5,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents?featured=true\")\n    assert response.status_code == 200\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.agents) == 1\n    assert data.agents[0].slug == \"featured-agent\"\n    mock_db_call.assert_called_once_with(\n        featured=True,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )\n\n\ndef test_get_agents_by_creator(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"creator-agent\",\n                agent_name=\"Creator Agent\",\n                agent_image=\"agent.jpg\",\n                creator=\"specific-creator\",\n                creator_avatar=\"avatar.jpg\",\n                sub_heading=\"Creator agent subheading\",\n                description=\"Creator agent description\",\n                runs=50,\n                rating=4.0,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents?creator=specific-creator\")\n    assert response.status_code == 200\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.agents) == 1\n    assert data.agents[0].creator == \"specific-creator\"\n    mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=\"specific-creator\",\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )\n\n\ndef test_get_agents_sorted(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"top-agent\",\n                agent_name=\"Top Agent\",\n                agent_image=\"top.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Top agent subheading\",\n                description=\"Top agent description\",\n                runs=1000,\n                rating=5.0,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents?sorted_by=runs\")\n    assert response.status_code == 200\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.agents) == 1\n    assert data.agents[0].runs == 1000\n    mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=\"runs\",\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )\n\n\ndef test_get_agents_search(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"search-agent\",\n                agent_name=\"Search Agent\",\n                agent_image=\"search.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Search agent subheading\",\n                description=\"Specific search term description\",\n                runs=75,\n                rating=4.2,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents?search_query=specific\")\n    assert response.status_code == 200\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.agents) == 1\n    assert \"specific\" in data.agents[0].description.lower()\n    mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=\"specific\",\n        category=None,\n        page=1,\n        page_size=20,\n    )\n\n\ndef test_get_agents_category(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"category-agent\",\n                agent_name=\"Category Agent\",\n                agent_image=\"category.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Category agent subheading\",\n                description=\"Category agent description\",\n                runs=60,\n                rating=4.1,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents?category=test-category\")\n    assert response.status_code == 200\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.agents) == 1\n    mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=\"test-category\",\n        page=1,\n        page_size=20,\n    )\n\n\ndef test_get_agents_pagination(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=f\"agent-{i}\",\n                agent_name=f\"Agent {i}\",\n                agent_image=f\"agent{i}.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=f\"Agent {i} subheading\",\n                description=f\"Agent {i} description\",\n                runs=i * 10,\n                rating=4.0,\n            )\n            for i in range(5)\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents?page=2&page_size=5\")\n    assert response.status_code == 200\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.agents) == 5\n    assert data.pagination.current_page == 2\n    assert data.pagination.page_size == 5\n    mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=2,\n        page_size=5,\n    )\n\n\ndef test_get_agents_malformed_request(mocker: pytest_mock.MockFixture):\n    # Test with invalid page number\n    response = client.get(\"/agents?page=-1\")\n    assert response.status_code == 422\n\n    # Test with invalid page size\n    response = client.get(\"/agents?page_size=0\")\n    assert response.status_code == 422\n\n    # Test with non-numeric values\n    response = client.get(\"/agents?page=abc&page_size=def\")\n    assert response.status_code == 422\n\n    # Verify no DB calls were made\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.assert_not_called()\n\n\ndef test_get_agent_details(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreAgentDetails(\n        store_listing_version_id=\"test-version-id\",\n        slug=\"test-agent\",\n        agent_name=\"Test Agent\",\n        agent_video=\"video.mp4\",\n        agent_image=[\"image1.jpg\", \"image2.jpg\"],\n        creator=\"creator1\",\n        creator_avatar=\"avatar1.jpg\",\n        sub_heading=\"Test agent subheading\",\n        description=\"Test agent description\",\n        categories=[\"category1\", \"category2\"],\n        runs=100,\n        rating=4.5,\n        versions=[\"1.0.0\", \"1.1.0\"],\n        last_updated=datetime.datetime.now(),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agent_details\")\n    mock_db_call.return_value = mocked_value\n\n    response = client.get(\"/agents/creator1/test-agent\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.StoreAgentDetails.model_validate(\n        response.json()\n    )\n    assert data.agent_name == \"Test Agent\"\n    assert data.creator == \"creator1\"\n    mock_db_call.assert_called_once_with(username=\"creator1\", agent_name=\"test-agent\")\n\n\ndef test_get_creators_defaults(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.CreatorsResponse(\n        creators=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creators\")\n    mock_db_call.return_value = mocked_value\n\n    response = client.get(\"/creators\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.CreatorsResponse.model_validate(\n        response.json()\n    )\n    assert data.pagination.total_pages == 0\n    assert data.creators == []\n    mock_db_call.assert_called_once_with(\n        featured=False, search_query=None, sorted_by=None, page=1, page_size=20\n    )\n\n\ndef test_get_creators_pagination(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.CreatorsResponse(\n        creators=[\n            backend.server.v2.store.model.Creator(\n                name=f\"Creator {i}\",\n                username=f\"creator{i}\",\n                description=f\"Creator {i} description\",\n                avatar_url=f\"avatar{i}.jpg\",\n                num_agents=1,\n                agent_rating=4.5,\n                agent_runs=100,\n                is_featured=False,\n            )\n            for i in range(5)\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creators\")\n    mock_db_call.return_value = mocked_value\n\n    response = client.get(\"/creators?page=2&page_size=5\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.CreatorsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.creators) == 5\n    assert data.pagination.current_page == 2\n    assert data.pagination.page_size == 5\n    mock_db_call.assert_called_once_with(\n        featured=False, search_query=None, sorted_by=None, page=2, page_size=5\n    )\n\n\ndef test_get_creators_malformed_request(mocker: pytest_mock.MockFixture):\n    # Test with invalid page number\n    response = client.get(\"/creators?page=-1\")\n    assert response.status_code == 422\n\n    # Test with invalid page size\n    response = client.get(\"/creators?page_size=0\")\n    assert response.status_code == 422\n\n    # Test with non-numeric values\n    response = client.get(\"/creators?page=abc&page_size=def\")\n    assert response.status_code == 422\n\n    # Verify no DB calls were made\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creators\")\n    mock_db_call.assert_not_called()\n\n\ndef test_get_creator_details(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.CreatorDetails(\n        name=\"Test User\",\n        username=\"creator1\",\n        description=\"Test creator description\",\n        links=[\"link1.com\", \"link2.com\"],\n        avatar_url=\"avatar.jpg\",\n        agent_rating=4.8,\n        agent_runs=1000,\n        top_categories=[\"category1\", \"category2\"],\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creator_details\")\n    mock_db_call.return_value = mocked_value\n\n    response = client.get(\"/creator/creator1\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.CreatorDetails.model_validate(response.json())\n    assert data.username == \"creator1\"\n    assert data.name == \"Test User\"\n    mock_db_call.assert_called_once_with(username=\"creator1\")\n\n\ndef test_get_submissions_success(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreSubmissionsResponse(\n        submissions=[\n            backend.server.v2.store.model.StoreSubmission(\n                name=\"Test Agent\",\n                description=\"Test agent description\",\n                image_urls=[\"test.jpg\"],\n                date_submitted=datetime.datetime.now(),\n                status=prisma.enums.SubmissionStatus.APPROVED,\n                runs=50,\n                rating=4.2,\n                agent_id=\"test-agent-id\",\n                agent_version=1,\n                sub_heading=\"Test agent subheading\",\n                slug=\"test-agent\",\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_submissions\")\n    mock_db_call.return_value = mocked_value\n\n    response = client.get(\"/submissions\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.StoreSubmissionsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.submissions) == 1\n    assert data.submissions[0].name == \"Test Agent\"\n    assert data.pagination.current_page == 1\n    mock_db_call.assert_called_once_with(user_id=\"test-user-id\", page=1, page_size=20)\n\n\ndef test_get_submissions_pagination(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreSubmissionsResponse(\n        submissions=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=10,\n            total_pages=2,\n            page_size=5,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_submissions\")\n    mock_db_call.return_value = mocked_value\n\n    response = client.get(\"/submissions?page=2&page_size=5\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.StoreSubmissionsResponse.model_validate(\n        response.json()\n    )\n    assert data.pagination.current_page == 2\n    assert data.pagination.page_size == 5\n    mock_db_call.assert_called_once_with(user_id=\"test-user-id\", page=2, page_size=5)\n\n\ndef test_get_submissions_malformed_request(mocker: pytest_mock.MockFixture):\n    # Test with invalid page number\n    response = client.get(\"/submissions?page=-1\")\n    assert response.status_code == 422\n\n    # Test with invalid page size\n    response = client.get(\"/submissions?page_size=0\")\n    assert response.status_code == 422\n\n    # Test with non-numeric values\n    response = client.get(\"/submissions?page=abc&page_size=def\")\n    assert response.status_code == 422\n\n    # Verify no DB calls were made\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_submissions\")\n    mock_db_call.assert_not_called()\n",
    "children": [
        {
            "type": "import_statement",
            "label": "import datetime",
            "children": [
                {
                    "type": "dotted_name",
                    "label": "datetime",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "datetime",
                            "children": []
                        }
                    ]
                }
            ]
        },
        {
            "type": "import_statement",
            "label": "import autogpt_libs.auth.depends",
            "children": [
                {
                    "type": "dotted_name",
                    "label": "autogpt_libs.auth.depends",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "autogpt_libs",
                            "children": []
                        },
                        {
                            "type": "identifier",
                            "label": "auth",
                            "children": []
                        },
                        {
                            "type": "identifier",
                            "label": "depends",
                            "children": []
                        }
                    ]
                }
            ]
        },
        {
            "type": "import_statement",
            "label": "import autogpt_libs.auth.middleware",
            "children": [
                {
                    "type": "dotted_name",
                    "label": "autogpt_libs.auth.middleware",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "autogpt_libs",
                            "children": []
                        },
                        {
                            "type": "identifier",
                            "label": "auth",
                            "children": []
                        },
                        {
                            "type": "identifier",
                            "label": "middleware",
                            "children": []
                        }
                    ]
                }
            ]
        },
        {
            "type": "import_statement",
            "label": "import fastapi",
            "children": [
                {
                    "type": "dotted_name",
                    "label": "fastapi",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "fastapi",
                            "children": []
                        }
                    ]
                }
            ]
        },
        {
            "type": "import_statement",
            "label": "import fastapi.testclient",
            "children": [
                {
                    "type": "dotted_name",
                    "label": "fastapi.testclient",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "fastapi",
                            "children": []
                        },
                        {
                            "type": "identifier",
                            "label": "testclient",
                            "children": []
                        }
                    ]
                }
            ]
        },
        {
            "type": "import_statement",
            "label": "import prisma.enums",
            "children": [
                {
                    "type": "dotted_name",
                    "label": "prisma.enums",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "prisma",
                            "children": []
                        },
                        {
                            "type": "identifier",
                            "label": "enums",
                            "children": []
                        }
                    ]
                }
            ]
        },
        {
            "type": "import_statement",
            "label": "import pytest_mock",
            "children": [
                {
                    "type": "dotted_name",
                    "label": "pytest_mock",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "pytest_mock",
                            "children": []
                        }
                    ]
                }
            ]
        },
        {
            "type": "import_statement",
            "label": "import backend.server.v2.store.model",
            "children": [
                {
                    "type": "dotted_name",
                    "label": "backend.server.v2.store.model",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "backend",
                            "children": []
                        },
                        {
                            "type": "identifier",
                            "label": "server",
                            "children": []
                        },
                        {
                            "type": "identifier",
                            "label": "v2",
                            "children": []
                        },
                        {
                            "type": "identifier",
                            "label": "store",
                            "children": []
                        },
                        {
                            "type": "identifier",
                            "label": "model",
                            "children": []
                        }
                    ]
                }
            ]
        },
        {
            "type": "import_statement",
            "label": "import backend.server.v2.store.routes",
            "children": [
                {
                    "type": "dotted_name",
                    "label": "backend.server.v2.store.routes",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "backend",
                            "children": []
                        },
                        {
                            "type": "identifier",
                            "label": "server",
                            "children": []
                        },
                        {
                            "type": "identifier",
                            "label": "v2",
                            "children": []
                        },
                        {
                            "type": "identifier",
                            "label": "store",
                            "children": []
                        },
                        {
                            "type": "identifier",
                            "label": "routes",
                            "children": []
                        }
                    ]
                }
            ]
        },
        {
            "type": "expression_statement",
            "label": "app = fastapi.FastAPI()",
            "children": [
                {
                    "type": "assignment",
                    "label": "app = fastapi.FastAPI()",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "app",
                            "children": []
                        },
                        {
                            "type": "call",
                            "label": "fastapi.FastAPI()",
                            "children": [
                                {
                                    "type": "attribute",
                                    "label": "fastapi.FastAPI",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "fastapi",
                                            "children": []
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "FastAPI",
                                            "children": []
                                        }
                                    ]
                                },
                                {
                                    "type": "argument_list",
                                    "label": "()",
                                    "children": []
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "expression_statement",
            "label": "app.include_router(backend.server.v2.store.routes.router)",
            "children": [
                {
                    "type": "call",
                    "label": "app.include_router(backend.server.v2.store.routes.router)",
                    "children": [
                        {
                            "type": "attribute",
                            "label": "app.include_router",
                            "children": [
                                {
                                    "type": "identifier",
                                    "label": "app",
                                    "children": []
                                },
                                {
                                    "type": "identifier",
                                    "label": "include_router",
                                    "children": []
                                }
                            ]
                        },
                        {
                            "type": "argument_list",
                            "label": "(backend.server.v2.store.routes.router)",
                            "children": [
                                {
                                    "type": "attribute",
                                    "label": "backend.server.v2.store.routes.router",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "backend.server.v2.store.routes",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "backend.server.v2.store",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "backend.server.v2",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "backend.server",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "backend",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "server",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "v2",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "store",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "routes",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "router",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "expression_statement",
            "label": "client = fastapi.testclient.TestClient(app)",
            "children": [
                {
                    "type": "assignment",
                    "label": "client = fastapi.testclient.TestClient(app)",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "client",
                            "children": []
                        },
                        {
                            "type": "call",
                            "label": "fastapi.testclient.TestClient(app)",
                            "children": [
                                {
                                    "type": "attribute",
                                    "label": "fastapi.testclient.TestClient",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "fastapi.testclient",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "fastapi",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "testclient",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "TestClient",
                                            "children": []
                                        }
                                    ]
                                },
                                {
                                    "type": "argument_list",
                                    "label": "(app)",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "app",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "function_definition",
            "label": "def override_auth_middleware():\n    \"\"\"Override auth middleware for testing\"\"\"\n    return {\"sub\": \"test-user-id\"}",
            "children": [
                {
                    "type": "identifier",
                    "label": "override_auth_middleware",
                    "children": []
                },
                {
                    "type": "parameters",
                    "label": "()",
                    "children": []
                },
                {
                    "type": "block",
                    "label": "\"\"\"Override auth middleware for testing\"\"\"\n    return {\"sub\": \"test-user-id\"}",
                    "children": [
                        {
                            "type": "expression_statement",
                            "label": "\"\"\"Override auth middleware for testing\"\"\"",
                            "children": [
                                {
                                    "type": "string",
                                    "label": "\"\"\"Override auth middleware for testing\"\"\"",
                                    "children": [
                                        {
                                            "type": "string_start",
                                            "label": "\"\"\"",
                                            "children": []
                                        },
                                        {
                                            "type": "string_content",
                                            "label": "Override auth middleware for testing",
                                            "children": []
                                        },
                                        {
                                            "type": "string_end",
                                            "label": "\"\"\"",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "return_statement",
                            "label": "return {\"sub\": \"test-user-id\"}",
                            "children": [
                                {
                                    "type": "dictionary",
                                    "label": "{\"sub\": \"test-user-id\"}",
                                    "children": [
                                        {
                                            "type": "pair",
                                            "label": "\"sub\": \"test-user-id\"",
                                            "children": [
                                                {
                                                    "type": "string",
                                                    "label": "\"sub\"",
                                                    "children": [
                                                        {
                                                            "type": "string_start",
                                                            "label": "\"",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "string_content",
                                                            "label": "sub",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "string_end",
                                                            "label": "\"",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "string",
                                                    "label": "\"test-user-id\"",
                                                    "children": [
                                                        {
                                                            "type": "string_start",
                                                            "label": "\"",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "string_content",
                                                            "label": "test-user-id",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "string_end",
                                                            "label": "\"",
                                                            "children": []
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "function_definition",
            "label": "def override_get_user_id():\n    \"\"\"Override get_user_id for testing\"\"\"\n    return \"test-user-id\"",
            "children": [
                {
                    "type": "identifier",
                    "label": "override_get_user_id",
                    "children": []
                },
                {
                    "type": "parameters",
                    "label": "()",
                    "children": []
                },
                {
                    "type": "block",
                    "label": "\"\"\"Override get_user_id for testing\"\"\"\n    return \"test-user-id\"",
                    "children": [
                        {
                            "type": "expression_statement",
                            "label": "\"\"\"Override get_user_id for testing\"\"\"",
                            "children": [
                                {
                                    "type": "string",
                                    "label": "\"\"\"Override get_user_id for testing\"\"\"",
                                    "children": [
                                        {
                                            "type": "string_start",
                                            "label": "\"\"\"",
                                            "children": []
                                        },
                                        {
                                            "type": "string_content",
                                            "label": "Override get_user_id for testing",
                                            "children": []
                                        },
                                        {
                                            "type": "string_end",
                                            "label": "\"\"\"",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "return_statement",
                            "label": "return \"test-user-id\"",
                            "children": [
                                {
                                    "type": "string",
                                    "label": "\"test-user-id\"",
                                    "children": [
                                        {
                                            "type": "string_start",
                                            "label": "\"",
                                            "children": []
                                        },
                                        {
                                            "type": "string_content",
                                            "label": "test-user-id",
                                            "children": []
                                        },
                                        {
                                            "type": "string_end",
                                            "label": "\"",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "expression_statement",
            "label": "app.dependency_overrides[autogpt_libs.auth.middleware.auth_middleware] = (\n    override_auth_middleware\n)",
            "children": [
                {
                    "type": "assignment",
                    "label": "app.dependency_overrides[autogpt_libs.auth.middleware.auth_middleware] = (\n    override_auth_middleware\n)",
                    "children": [
                        {
                            "type": "subscript",
                            "label": "app.dependency_overrides[autogpt_libs.auth.middleware.auth_middleware]",
                            "children": [
                                {
                                    "type": "attribute",
                                    "label": "app.dependency_overrides",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "app",
                                            "children": []
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "dependency_overrides",
                                            "children": []
                                        }
                                    ]
                                },
                                {
                                    "type": "attribute",
                                    "label": "autogpt_libs.auth.middleware.auth_middleware",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "autogpt_libs.auth.middleware",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "autogpt_libs.auth",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "autogpt_libs",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "auth",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "middleware",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "auth_middleware",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "parenthesized_expression",
                            "label": "(\n    override_auth_middleware\n)",
                            "children": [
                                {
                                    "type": "identifier",
                                    "label": "override_auth_middleware",
                                    "children": []
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "expression_statement",
            "label": "app.dependency_overrides[autogpt_libs.auth.depends.get_user_id] = override_get_user_id",
            "children": [
                {
                    "type": "assignment",
                    "label": "app.dependency_overrides[autogpt_libs.auth.depends.get_user_id] = override_get_user_id",
                    "children": [
                        {
                            "type": "subscript",
                            "label": "app.dependency_overrides[autogpt_libs.auth.depends.get_user_id]",
                            "children": [
                                {
                                    "type": "attribute",
                                    "label": "app.dependency_overrides",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "app",
                                            "children": []
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "dependency_overrides",
                                            "children": []
                                        }
                                    ]
                                },
                                {
                                    "type": "attribute",
                                    "label": "autogpt_libs.auth.depends.get_user_id",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "autogpt_libs.auth.depends",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "autogpt_libs.auth",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "autogpt_libs",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "auth",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "depends",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "get_user_id",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "identifier",
                            "label": "override_get_user_id",
                            "children": []
                        }
                    ]
                }
            ]
        },
        {
            "type": "function_definition",
            "label": "def test_get_agents_defaults(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert data.pagination.total_pages == 0\n    assert data.agents == []\n    mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
            "children": [
                {
                    "type": "identifier",
                    "label": "test_get_agents_defaults",
                    "children": []
                },
                {
                    "type": "parameters",
                    "label": "(mocker: pytest_mock.MockFixture)",
                    "children": [
                        {
                            "type": "typed_parameter",
                            "label": "mocker: pytest_mock.MockFixture",
                            "children": [
                                {
                                    "type": "identifier",
                                    "label": "mocker",
                                    "children": []
                                },
                                {
                                    "type": "type",
                                    "label": "pytest_mock.MockFixture",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "pytest_mock.MockFixture",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "pytest_mock",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "MockFixture",
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "block",
                    "label": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert data.pagination.total_pages == 0\n    assert data.agents == []\n    mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
                    "children": [
                        {
                            "type": "expression_statement",
                            "label": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        ),\n    )",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        ),\n    )",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "mocked_value",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        ),\n    )",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "backend.server.v2.store.model.StoreAgentsResponse",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "backend.server.v2.store.model",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "backend.server.v2.store",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "backend.server.v2",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "backend",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "server",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "v2",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "store",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "model",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "StoreAgentsResponse",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\n        agents=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        ),\n    )",
                                                    "children": [
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "agents=[]",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "agents",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "list",
                                                                    "label": "[]",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "pagination=backend.server.v2.store.model.Pagination(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        )",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "pagination",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "label": "backend.server.v2.store.model.Pagination(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        )",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "backend.server.v2.store.model.Pagination",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server.v2.store.model",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "label": "backend.server.v2.store",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "label": "backend.server.v2",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "label": "backend.server",
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "backend",
                                                                                                                    "children": []
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "server",
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "label": "v2",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "store",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "model",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "Pagination",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "label": "(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        )",
                                                                            "children": [
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "current_page=0",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "current_page",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "0",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "total_items=0",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "total_items",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "0",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "total_pages=0",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "total_pages",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "0",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "page_size=10",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "page_size",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "10",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "mock_db_call",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "mocker.patch",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "mocker",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "patch",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"backend.server.v2.store.db.get_store_agents\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"backend.server.v2.store.db.get_store_agents\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "backend.server.v2.store.db.get_store_agents",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call.return_value = mocked_value",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mock_db_call.return_value = mocked_value",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "mock_db_call.return_value",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "mock_db_call",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "return_value",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "mocked_value",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "response = client.get(\"/agents\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "response = client.get(\"/agents\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "response",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "client.get(\"/agents\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "client.get",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "client",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "get",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"/agents\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"/agents\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "/agents",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert response.status_code == 200",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "response.status_code == 200",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "response.status_code",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "response",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "status_code",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "200",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "data",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "backend.server.v2.store.model.StoreAgentsResponse.model_validate",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "backend.server.v2.store.model.StoreAgentsResponse",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "backend.server.v2.store.model",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "backend.server.v2.store",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server.v2",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "label": "backend.server",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "backend",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "server",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "v2",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "store",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "model",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "StoreAgentsResponse",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "model_validate",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\n        response.json()\n    )",
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "label": "response.json()",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "response.json",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "response",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "json",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "label": "()",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert data.pagination.total_pages == 0",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "data.pagination.total_pages == 0",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "data.pagination.total_pages",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "data.pagination",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "data",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "pagination",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "total_pages",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "0",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert data.agents == []",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "data.agents == []",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "data.agents",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "data",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "agents",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "list",
                                            "label": "[]",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
                            "children": [
                                {
                                    "type": "call",
                                    "label": "mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "mock_db_call.assert_called_once_with",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "mock_db_call",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "assert_called_once_with",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "argument_list",
                                            "label": "(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
                                            "children": [
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "featured=False",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "featured",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "false",
                                                            "label": "False",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "creator=None",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "creator",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "none",
                                                            "label": "None",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "sorted_by=None",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "sorted_by",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "none",
                                                            "label": "None",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "search_query=None",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "search_query",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "none",
                                                            "label": "None",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "category=None",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "category",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "none",
                                                            "label": "None",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "page=1",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "page",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "integer",
                                                            "label": "1",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "page_size=20",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "page_size",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "integer",
                                                            "label": "20",
                                                            "children": []
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "function_definition",
            "label": "def test_get_agents_featured(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"featured-agent\",\n                agent_name=\"Featured Agent\",\n                agent_image=\"featured.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Featured agent subheading\",\n                description=\"Featured agent description\",\n                runs=100,\n                rating=4.5,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents?featured=true\")\n    assert response.status_code == 200\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.agents) == 1\n    assert data.agents[0].slug == \"featured-agent\"\n    mock_db_call.assert_called_once_with(\n        featured=True,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
            "children": [
                {
                    "type": "identifier",
                    "label": "test_get_agents_featured",
                    "children": []
                },
                {
                    "type": "parameters",
                    "label": "(mocker: pytest_mock.MockFixture)",
                    "children": [
                        {
                            "type": "typed_parameter",
                            "label": "mocker: pytest_mock.MockFixture",
                            "children": [
                                {
                                    "type": "identifier",
                                    "label": "mocker",
                                    "children": []
                                },
                                {
                                    "type": "type",
                                    "label": "pytest_mock.MockFixture",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "pytest_mock.MockFixture",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "pytest_mock",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "MockFixture",
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "block",
                    "label": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"featured-agent\",\n                agent_name=\"Featured Agent\",\n                agent_image=\"featured.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Featured agent subheading\",\n                description=\"Featured agent description\",\n                runs=100,\n                rating=4.5,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents?featured=true\")\n    assert response.status_code == 200\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.agents) == 1\n    assert data.agents[0].slug == \"featured-agent\"\n    mock_db_call.assert_called_once_with(\n        featured=True,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
                    "children": [
                        {
                            "type": "expression_statement",
                            "label": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"featured-agent\",\n                agent_name=\"Featured Agent\",\n                agent_image=\"featured.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Featured agent subheading\",\n                description=\"Featured agent description\",\n                runs=100,\n                rating=4.5,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"featured-agent\",\n                agent_name=\"Featured Agent\",\n                agent_image=\"featured.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Featured agent subheading\",\n                description=\"Featured agent description\",\n                runs=100,\n                rating=4.5,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "mocked_value",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"featured-agent\",\n                agent_name=\"Featured Agent\",\n                agent_image=\"featured.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Featured agent subheading\",\n                description=\"Featured agent description\",\n                runs=100,\n                rating=4.5,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "backend.server.v2.store.model.StoreAgentsResponse",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "backend.server.v2.store.model",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "backend.server.v2.store",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "backend.server.v2",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "backend",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "server",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "v2",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "store",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "model",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "StoreAgentsResponse",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"featured-agent\",\n                agent_name=\"Featured Agent\",\n                agent_image=\"featured.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Featured agent subheading\",\n                description=\"Featured agent description\",\n                runs=100,\n                rating=4.5,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                                                    "children": [
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"featured-agent\",\n                agent_name=\"Featured Agent\",\n                agent_image=\"featured.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Featured agent subheading\",\n                description=\"Featured agent description\",\n                runs=100,\n                rating=4.5,\n            )\n        ]",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "agents",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "list",
                                                                    "label": "[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"featured-agent\",\n                agent_name=\"Featured Agent\",\n                agent_image=\"featured.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Featured agent subheading\",\n                description=\"Featured agent description\",\n                runs=100,\n                rating=4.5,\n            )\n        ]",
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "label": "backend.server.v2.store.model.StoreAgent(\n                slug=\"featured-agent\",\n                agent_name=\"Featured Agent\",\n                agent_image=\"featured.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Featured agent subheading\",\n                description=\"Featured agent description\",\n                runs=100,\n                rating=4.5,\n            )",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server.v2.store.model.StoreAgent",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "label": "backend.server.v2.store.model",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "label": "backend.server.v2.store",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "label": "backend.server.v2",
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "attribute",
                                                                                                                    "label": "backend.server",
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "label": "backend",
                                                                                                                            "children": []
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "label": "server",
                                                                                                                            "children": []
                                                                                                                        }
                                                                                                                    ]
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "v2",
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "label": "store",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "model",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "StoreAgent",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "label": "(\n                slug=\"featured-agent\",\n                agent_name=\"Featured Agent\",\n                agent_image=\"featured.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Featured agent subheading\",\n                description=\"Featured agent description\",\n                runs=100,\n                rating=4.5,\n            )",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "slug=\"featured-agent\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "slug",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"featured-agent\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "featured-agent",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "agent_name=\"Featured Agent\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "agent_name",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"Featured Agent\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "Featured Agent",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "agent_image=\"featured.jpg\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "agent_image",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"featured.jpg\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "featured.jpg",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "creator=\"creator1\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "creator",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"creator1\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "creator1",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "creator_avatar=\"avatar1.jpg\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "creator_avatar",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"avatar1.jpg\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "avatar1.jpg",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "sub_heading=\"Featured agent subheading\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "sub_heading",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"Featured agent subheading\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "Featured agent subheading",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "description=\"Featured agent description\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "description",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"Featured agent description\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "Featured agent description",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "runs=100",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "runs",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "integer",
                                                                                                    "label": "100",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "rating=4.5",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "rating",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "float",
                                                                                                    "label": "4.5",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        )",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "pagination",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "label": "backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        )",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "backend.server.v2.store.model.Pagination",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server.v2.store.model",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "label": "backend.server.v2.store",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "label": "backend.server.v2",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "label": "backend.server",
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "backend",
                                                                                                                    "children": []
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "server",
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "label": "v2",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "store",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "model",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "Pagination",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "label": "(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        )",
                                                                            "children": [
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "current_page=1",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "current_page",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "1",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "total_items=1",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "total_items",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "1",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "total_pages=1",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "total_pages",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "1",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "page_size=20",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "page_size",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "20",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "mock_db_call",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "mocker.patch",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "mocker",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "patch",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"backend.server.v2.store.db.get_store_agents\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"backend.server.v2.store.db.get_store_agents\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "backend.server.v2.store.db.get_store_agents",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call.return_value = mocked_value",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mock_db_call.return_value = mocked_value",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "mock_db_call.return_value",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "mock_db_call",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "return_value",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "mocked_value",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "response = client.get(\"/agents?featured=true\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "response = client.get(\"/agents?featured=true\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "response",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "client.get(\"/agents?featured=true\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "client.get",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "client",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "get",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"/agents?featured=true\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"/agents?featured=true\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "/agents?featured=true",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert response.status_code == 200",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "response.status_code == 200",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "response.status_code",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "response",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "status_code",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "200",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "data",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "backend.server.v2.store.model.StoreAgentsResponse.model_validate",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "backend.server.v2.store.model.StoreAgentsResponse",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "backend.server.v2.store.model",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "backend.server.v2.store",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server.v2",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "label": "backend.server",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "backend",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "server",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "v2",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "store",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "model",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "StoreAgentsResponse",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "model_validate",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\n        response.json()\n    )",
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "label": "response.json()",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "response.json",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "response",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "json",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "label": "()",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert len(data.agents) == 1",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "len(data.agents) == 1",
                                    "children": [
                                        {
                                            "type": "call",
                                            "label": "len(data.agents)",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "len",
                                                    "children": []
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(data.agents)",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "data.agents",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "data",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "agents",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "1",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert data.agents[0].slug == \"featured-agent\"",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "data.agents[0].slug == \"featured-agent\"",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "data.agents[0].slug",
                                            "children": [
                                                {
                                                    "type": "subscript",
                                                    "label": "data.agents[0]",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "data.agents",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "data",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "agents",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "integer",
                                                            "label": "0",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "slug",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "string",
                                            "label": "\"featured-agent\"",
                                            "children": [
                                                {
                                                    "type": "string_start",
                                                    "label": "\"",
                                                    "children": []
                                                },
                                                {
                                                    "type": "string_content",
                                                    "label": "featured-agent",
                                                    "children": []
                                                },
                                                {
                                                    "type": "string_end",
                                                    "label": "\"",
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call.assert_called_once_with(\n        featured=True,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
                            "children": [
                                {
                                    "type": "call",
                                    "label": "mock_db_call.assert_called_once_with(\n        featured=True,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "mock_db_call.assert_called_once_with",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "mock_db_call",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "assert_called_once_with",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "argument_list",
                                            "label": "(\n        featured=True,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
                                            "children": [
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "featured=True",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "featured",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "true",
                                                            "label": "True",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "creator=None",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "creator",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "none",
                                                            "label": "None",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "sorted_by=None",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "sorted_by",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "none",
                                                            "label": "None",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "search_query=None",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "search_query",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "none",
                                                            "label": "None",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "category=None",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "category",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "none",
                                                            "label": "None",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "page=1",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "page",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "integer",
                                                            "label": "1",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "page_size=20",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "page_size",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "integer",
                                                            "label": "20",
                                                            "children": []
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "function_definition",
            "label": "def test_get_agents_by_creator(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"creator-agent\",\n                agent_name=\"Creator Agent\",\n                agent_image=\"agent.jpg\",\n                creator=\"specific-creator\",\n                creator_avatar=\"avatar.jpg\",\n                sub_heading=\"Creator agent subheading\",\n                description=\"Creator agent description\",\n                runs=50,\n                rating=4.0,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents?creator=specific-creator\")\n    assert response.status_code == 200\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.agents) == 1\n    assert data.agents[0].creator == \"specific-creator\"\n    mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=\"specific-creator\",\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
            "children": [
                {
                    "type": "identifier",
                    "label": "test_get_agents_by_creator",
                    "children": []
                },
                {
                    "type": "parameters",
                    "label": "(mocker: pytest_mock.MockFixture)",
                    "children": [
                        {
                            "type": "typed_parameter",
                            "label": "mocker: pytest_mock.MockFixture",
                            "children": [
                                {
                                    "type": "identifier",
                                    "label": "mocker",
                                    "children": []
                                },
                                {
                                    "type": "type",
                                    "label": "pytest_mock.MockFixture",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "pytest_mock.MockFixture",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "pytest_mock",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "MockFixture",
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "block",
                    "label": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"creator-agent\",\n                agent_name=\"Creator Agent\",\n                agent_image=\"agent.jpg\",\n                creator=\"specific-creator\",\n                creator_avatar=\"avatar.jpg\",\n                sub_heading=\"Creator agent subheading\",\n                description=\"Creator agent description\",\n                runs=50,\n                rating=4.0,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents?creator=specific-creator\")\n    assert response.status_code == 200\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.agents) == 1\n    assert data.agents[0].creator == \"specific-creator\"\n    mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=\"specific-creator\",\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
                    "children": [
                        {
                            "type": "expression_statement",
                            "label": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"creator-agent\",\n                agent_name=\"Creator Agent\",\n                agent_image=\"agent.jpg\",\n                creator=\"specific-creator\",\n                creator_avatar=\"avatar.jpg\",\n                sub_heading=\"Creator agent subheading\",\n                description=\"Creator agent description\",\n                runs=50,\n                rating=4.0,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"creator-agent\",\n                agent_name=\"Creator Agent\",\n                agent_image=\"agent.jpg\",\n                creator=\"specific-creator\",\n                creator_avatar=\"avatar.jpg\",\n                sub_heading=\"Creator agent subheading\",\n                description=\"Creator agent description\",\n                runs=50,\n                rating=4.0,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "mocked_value",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"creator-agent\",\n                agent_name=\"Creator Agent\",\n                agent_image=\"agent.jpg\",\n                creator=\"specific-creator\",\n                creator_avatar=\"avatar.jpg\",\n                sub_heading=\"Creator agent subheading\",\n                description=\"Creator agent description\",\n                runs=50,\n                rating=4.0,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "backend.server.v2.store.model.StoreAgentsResponse",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "backend.server.v2.store.model",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "backend.server.v2.store",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "backend.server.v2",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "backend",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "server",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "v2",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "store",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "model",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "StoreAgentsResponse",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"creator-agent\",\n                agent_name=\"Creator Agent\",\n                agent_image=\"agent.jpg\",\n                creator=\"specific-creator\",\n                creator_avatar=\"avatar.jpg\",\n                sub_heading=\"Creator agent subheading\",\n                description=\"Creator agent description\",\n                runs=50,\n                rating=4.0,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                                                    "children": [
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"creator-agent\",\n                agent_name=\"Creator Agent\",\n                agent_image=\"agent.jpg\",\n                creator=\"specific-creator\",\n                creator_avatar=\"avatar.jpg\",\n                sub_heading=\"Creator agent subheading\",\n                description=\"Creator agent description\",\n                runs=50,\n                rating=4.0,\n            )\n        ]",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "agents",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "list",
                                                                    "label": "[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"creator-agent\",\n                agent_name=\"Creator Agent\",\n                agent_image=\"agent.jpg\",\n                creator=\"specific-creator\",\n                creator_avatar=\"avatar.jpg\",\n                sub_heading=\"Creator agent subheading\",\n                description=\"Creator agent description\",\n                runs=50,\n                rating=4.0,\n            )\n        ]",
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "label": "backend.server.v2.store.model.StoreAgent(\n                slug=\"creator-agent\",\n                agent_name=\"Creator Agent\",\n                agent_image=\"agent.jpg\",\n                creator=\"specific-creator\",\n                creator_avatar=\"avatar.jpg\",\n                sub_heading=\"Creator agent subheading\",\n                description=\"Creator agent description\",\n                runs=50,\n                rating=4.0,\n            )",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server.v2.store.model.StoreAgent",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "label": "backend.server.v2.store.model",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "label": "backend.server.v2.store",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "label": "backend.server.v2",
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "attribute",
                                                                                                                    "label": "backend.server",
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "label": "backend",
                                                                                                                            "children": []
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "label": "server",
                                                                                                                            "children": []
                                                                                                                        }
                                                                                                                    ]
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "v2",
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "label": "store",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "model",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "StoreAgent",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "label": "(\n                slug=\"creator-agent\",\n                agent_name=\"Creator Agent\",\n                agent_image=\"agent.jpg\",\n                creator=\"specific-creator\",\n                creator_avatar=\"avatar.jpg\",\n                sub_heading=\"Creator agent subheading\",\n                description=\"Creator agent description\",\n                runs=50,\n                rating=4.0,\n            )",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "slug=\"creator-agent\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "slug",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"creator-agent\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "creator-agent",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "agent_name=\"Creator Agent\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "agent_name",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"Creator Agent\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "Creator Agent",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "agent_image=\"agent.jpg\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "agent_image",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"agent.jpg\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "agent.jpg",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "creator=\"specific-creator\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "creator",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"specific-creator\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "specific-creator",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "creator_avatar=\"avatar.jpg\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "creator_avatar",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"avatar.jpg\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "avatar.jpg",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "sub_heading=\"Creator agent subheading\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "sub_heading",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"Creator agent subheading\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "Creator agent subheading",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "description=\"Creator agent description\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "description",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"Creator agent description\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "Creator agent description",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "runs=50",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "runs",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "integer",
                                                                                                    "label": "50",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "rating=4.0",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "rating",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "float",
                                                                                                    "label": "4.0",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        )",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "pagination",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "label": "backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        )",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "backend.server.v2.store.model.Pagination",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server.v2.store.model",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "label": "backend.server.v2.store",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "label": "backend.server.v2",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "label": "backend.server",
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "backend",
                                                                                                                    "children": []
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "server",
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "label": "v2",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "store",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "model",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "Pagination",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "label": "(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        )",
                                                                            "children": [
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "current_page=1",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "current_page",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "1",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "total_items=1",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "total_items",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "1",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "total_pages=1",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "total_pages",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "1",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "page_size=20",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "page_size",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "20",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "mock_db_call",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "mocker.patch",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "mocker",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "patch",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"backend.server.v2.store.db.get_store_agents\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"backend.server.v2.store.db.get_store_agents\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "backend.server.v2.store.db.get_store_agents",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call.return_value = mocked_value",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mock_db_call.return_value = mocked_value",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "mock_db_call.return_value",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "mock_db_call",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "return_value",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "mocked_value",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "response = client.get(\"/agents?creator=specific-creator\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "response = client.get(\"/agents?creator=specific-creator\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "response",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "client.get(\"/agents?creator=specific-creator\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "client.get",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "client",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "get",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"/agents?creator=specific-creator\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"/agents?creator=specific-creator\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "/agents?creator=specific-creator",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert response.status_code == 200",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "response.status_code == 200",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "response.status_code",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "response",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "status_code",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "200",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "data",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "backend.server.v2.store.model.StoreAgentsResponse.model_validate",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "backend.server.v2.store.model.StoreAgentsResponse",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "backend.server.v2.store.model",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "backend.server.v2.store",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server.v2",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "label": "backend.server",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "backend",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "server",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "v2",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "store",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "model",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "StoreAgentsResponse",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "model_validate",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\n        response.json()\n    )",
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "label": "response.json()",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "response.json",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "response",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "json",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "label": "()",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert len(data.agents) == 1",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "len(data.agents) == 1",
                                    "children": [
                                        {
                                            "type": "call",
                                            "label": "len(data.agents)",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "len",
                                                    "children": []
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(data.agents)",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "data.agents",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "data",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "agents",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "1",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert data.agents[0].creator == \"specific-creator\"",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "data.agents[0].creator == \"specific-creator\"",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "data.agents[0].creator",
                                            "children": [
                                                {
                                                    "type": "subscript",
                                                    "label": "data.agents[0]",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "data.agents",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "data",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "agents",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "integer",
                                                            "label": "0",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "creator",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "string",
                                            "label": "\"specific-creator\"",
                                            "children": [
                                                {
                                                    "type": "string_start",
                                                    "label": "\"",
                                                    "children": []
                                                },
                                                {
                                                    "type": "string_content",
                                                    "label": "specific-creator",
                                                    "children": []
                                                },
                                                {
                                                    "type": "string_end",
                                                    "label": "\"",
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=\"specific-creator\",\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
                            "children": [
                                {
                                    "type": "call",
                                    "label": "mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=\"specific-creator\",\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "mock_db_call.assert_called_once_with",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "mock_db_call",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "assert_called_once_with",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "argument_list",
                                            "label": "(\n        featured=False,\n        creator=\"specific-creator\",\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
                                            "children": [
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "featured=False",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "featured",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "false",
                                                            "label": "False",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "creator=\"specific-creator\"",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "creator",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "string",
                                                            "label": "\"specific-creator\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "specific-creator",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "sorted_by=None",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "sorted_by",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "none",
                                                            "label": "None",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "search_query=None",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "search_query",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "none",
                                                            "label": "None",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "category=None",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "category",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "none",
                                                            "label": "None",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "page=1",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "page",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "integer",
                                                            "label": "1",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "page_size=20",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "page_size",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "integer",
                                                            "label": "20",
                                                            "children": []
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "function_definition",
            "label": "def test_get_agents_sorted(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"top-agent\",\n                agent_name=\"Top Agent\",\n                agent_image=\"top.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Top agent subheading\",\n                description=\"Top agent description\",\n                runs=1000,\n                rating=5.0,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents?sorted_by=runs\")\n    assert response.status_code == 200\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.agents) == 1\n    assert data.agents[0].runs == 1000\n    mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=\"runs\",\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
            "children": [
                {
                    "type": "identifier",
                    "label": "test_get_agents_sorted",
                    "children": []
                },
                {
                    "type": "parameters",
                    "label": "(mocker: pytest_mock.MockFixture)",
                    "children": [
                        {
                            "type": "typed_parameter",
                            "label": "mocker: pytest_mock.MockFixture",
                            "children": [
                                {
                                    "type": "identifier",
                                    "label": "mocker",
                                    "children": []
                                },
                                {
                                    "type": "type",
                                    "label": "pytest_mock.MockFixture",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "pytest_mock.MockFixture",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "pytest_mock",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "MockFixture",
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "block",
                    "label": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"top-agent\",\n                agent_name=\"Top Agent\",\n                agent_image=\"top.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Top agent subheading\",\n                description=\"Top agent description\",\n                runs=1000,\n                rating=5.0,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents?sorted_by=runs\")\n    assert response.status_code == 200\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.agents) == 1\n    assert data.agents[0].runs == 1000\n    mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=\"runs\",\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
                    "children": [
                        {
                            "type": "expression_statement",
                            "label": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"top-agent\",\n                agent_name=\"Top Agent\",\n                agent_image=\"top.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Top agent subheading\",\n                description=\"Top agent description\",\n                runs=1000,\n                rating=5.0,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"top-agent\",\n                agent_name=\"Top Agent\",\n                agent_image=\"top.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Top agent subheading\",\n                description=\"Top agent description\",\n                runs=1000,\n                rating=5.0,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "mocked_value",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"top-agent\",\n                agent_name=\"Top Agent\",\n                agent_image=\"top.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Top agent subheading\",\n                description=\"Top agent description\",\n                runs=1000,\n                rating=5.0,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "backend.server.v2.store.model.StoreAgentsResponse",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "backend.server.v2.store.model",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "backend.server.v2.store",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "backend.server.v2",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "backend",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "server",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "v2",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "store",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "model",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "StoreAgentsResponse",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"top-agent\",\n                agent_name=\"Top Agent\",\n                agent_image=\"top.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Top agent subheading\",\n                description=\"Top agent description\",\n                runs=1000,\n                rating=5.0,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                                                    "children": [
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"top-agent\",\n                agent_name=\"Top Agent\",\n                agent_image=\"top.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Top agent subheading\",\n                description=\"Top agent description\",\n                runs=1000,\n                rating=5.0,\n            )\n        ]",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "agents",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "list",
                                                                    "label": "[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"top-agent\",\n                agent_name=\"Top Agent\",\n                agent_image=\"top.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Top agent subheading\",\n                description=\"Top agent description\",\n                runs=1000,\n                rating=5.0,\n            )\n        ]",
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "label": "backend.server.v2.store.model.StoreAgent(\n                slug=\"top-agent\",\n                agent_name=\"Top Agent\",\n                agent_image=\"top.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Top agent subheading\",\n                description=\"Top agent description\",\n                runs=1000,\n                rating=5.0,\n            )",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server.v2.store.model.StoreAgent",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "label": "backend.server.v2.store.model",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "label": "backend.server.v2.store",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "label": "backend.server.v2",
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "attribute",
                                                                                                                    "label": "backend.server",
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "label": "backend",
                                                                                                                            "children": []
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "label": "server",
                                                                                                                            "children": []
                                                                                                                        }
                                                                                                                    ]
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "v2",
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "label": "store",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "model",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "StoreAgent",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "label": "(\n                slug=\"top-agent\",\n                agent_name=\"Top Agent\",\n                agent_image=\"top.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Top agent subheading\",\n                description=\"Top agent description\",\n                runs=1000,\n                rating=5.0,\n            )",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "slug=\"top-agent\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "slug",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"top-agent\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "top-agent",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "agent_name=\"Top Agent\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "agent_name",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"Top Agent\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "Top Agent",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "agent_image=\"top.jpg\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "agent_image",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"top.jpg\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "top.jpg",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "creator=\"creator1\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "creator",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"creator1\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "creator1",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "creator_avatar=\"avatar1.jpg\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "creator_avatar",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"avatar1.jpg\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "avatar1.jpg",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "sub_heading=\"Top agent subheading\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "sub_heading",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"Top agent subheading\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "Top agent subheading",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "description=\"Top agent description\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "description",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"Top agent description\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "Top agent description",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "runs=1000",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "runs",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "integer",
                                                                                                    "label": "1000",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "rating=5.0",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "rating",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "float",
                                                                                                    "label": "5.0",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        )",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "pagination",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "label": "backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        )",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "backend.server.v2.store.model.Pagination",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server.v2.store.model",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "label": "backend.server.v2.store",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "label": "backend.server.v2",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "label": "backend.server",
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "backend",
                                                                                                                    "children": []
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "server",
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "label": "v2",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "store",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "model",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "Pagination",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "label": "(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        )",
                                                                            "children": [
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "current_page=1",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "current_page",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "1",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "total_items=1",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "total_items",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "1",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "total_pages=1",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "total_pages",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "1",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "page_size=20",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "page_size",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "20",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "mock_db_call",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "mocker.patch",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "mocker",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "patch",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"backend.server.v2.store.db.get_store_agents\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"backend.server.v2.store.db.get_store_agents\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "backend.server.v2.store.db.get_store_agents",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call.return_value = mocked_value",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mock_db_call.return_value = mocked_value",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "mock_db_call.return_value",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "mock_db_call",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "return_value",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "mocked_value",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "response = client.get(\"/agents?sorted_by=runs\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "response = client.get(\"/agents?sorted_by=runs\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "response",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "client.get(\"/agents?sorted_by=runs\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "client.get",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "client",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "get",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"/agents?sorted_by=runs\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"/agents?sorted_by=runs\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "/agents?sorted_by=runs",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert response.status_code == 200",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "response.status_code == 200",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "response.status_code",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "response",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "status_code",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "200",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "data",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "backend.server.v2.store.model.StoreAgentsResponse.model_validate",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "backend.server.v2.store.model.StoreAgentsResponse",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "backend.server.v2.store.model",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "backend.server.v2.store",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server.v2",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "label": "backend.server",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "backend",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "server",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "v2",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "store",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "model",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "StoreAgentsResponse",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "model_validate",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\n        response.json()\n    )",
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "label": "response.json()",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "response.json",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "response",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "json",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "label": "()",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert len(data.agents) == 1",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "len(data.agents) == 1",
                                    "children": [
                                        {
                                            "type": "call",
                                            "label": "len(data.agents)",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "len",
                                                    "children": []
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(data.agents)",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "data.agents",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "data",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "agents",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "1",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert data.agents[0].runs == 1000",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "data.agents[0].runs == 1000",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "data.agents[0].runs",
                                            "children": [
                                                {
                                                    "type": "subscript",
                                                    "label": "data.agents[0]",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "data.agents",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "data",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "agents",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "integer",
                                                            "label": "0",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "runs",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "1000",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=\"runs\",\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
                            "children": [
                                {
                                    "type": "call",
                                    "label": "mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=\"runs\",\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "mock_db_call.assert_called_once_with",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "mock_db_call",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "assert_called_once_with",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "argument_list",
                                            "label": "(\n        featured=False,\n        creator=None,\n        sorted_by=\"runs\",\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
                                            "children": [
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "featured=False",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "featured",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "false",
                                                            "label": "False",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "creator=None",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "creator",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "none",
                                                            "label": "None",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "sorted_by=\"runs\"",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "sorted_by",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "string",
                                                            "label": "\"runs\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "runs",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "search_query=None",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "search_query",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "none",
                                                            "label": "None",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "category=None",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "category",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "none",
                                                            "label": "None",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "page=1",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "page",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "integer",
                                                            "label": "1",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "page_size=20",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "page_size",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "integer",
                                                            "label": "20",
                                                            "children": []
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "function_definition",
            "label": "def test_get_agents_search(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"search-agent\",\n                agent_name=\"Search Agent\",\n                agent_image=\"search.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Search agent subheading\",\n                description=\"Specific search term description\",\n                runs=75,\n                rating=4.2,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents?search_query=specific\")\n    assert response.status_code == 200\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.agents) == 1\n    assert \"specific\" in data.agents[0].description.lower()\n    mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=\"specific\",\n        category=None,\n        page=1,\n        page_size=20,\n    )",
            "children": [
                {
                    "type": "identifier",
                    "label": "test_get_agents_search",
                    "children": []
                },
                {
                    "type": "parameters",
                    "label": "(mocker: pytest_mock.MockFixture)",
                    "children": [
                        {
                            "type": "typed_parameter",
                            "label": "mocker: pytest_mock.MockFixture",
                            "children": [
                                {
                                    "type": "identifier",
                                    "label": "mocker",
                                    "children": []
                                },
                                {
                                    "type": "type",
                                    "label": "pytest_mock.MockFixture",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "pytest_mock.MockFixture",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "pytest_mock",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "MockFixture",
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "block",
                    "label": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"search-agent\",\n                agent_name=\"Search Agent\",\n                agent_image=\"search.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Search agent subheading\",\n                description=\"Specific search term description\",\n                runs=75,\n                rating=4.2,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents?search_query=specific\")\n    assert response.status_code == 200\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.agents) == 1\n    assert \"specific\" in data.agents[0].description.lower()\n    mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=\"specific\",\n        category=None,\n        page=1,\n        page_size=20,\n    )",
                    "children": [
                        {
                            "type": "expression_statement",
                            "label": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"search-agent\",\n                agent_name=\"Search Agent\",\n                agent_image=\"search.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Search agent subheading\",\n                description=\"Specific search term description\",\n                runs=75,\n                rating=4.2,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"search-agent\",\n                agent_name=\"Search Agent\",\n                agent_image=\"search.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Search agent subheading\",\n                description=\"Specific search term description\",\n                runs=75,\n                rating=4.2,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "mocked_value",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"search-agent\",\n                agent_name=\"Search Agent\",\n                agent_image=\"search.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Search agent subheading\",\n                description=\"Specific search term description\",\n                runs=75,\n                rating=4.2,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "backend.server.v2.store.model.StoreAgentsResponse",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "backend.server.v2.store.model",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "backend.server.v2.store",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "backend.server.v2",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "backend",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "server",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "v2",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "store",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "model",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "StoreAgentsResponse",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"search-agent\",\n                agent_name=\"Search Agent\",\n                agent_image=\"search.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Search agent subheading\",\n                description=\"Specific search term description\",\n                runs=75,\n                rating=4.2,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                                                    "children": [
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"search-agent\",\n                agent_name=\"Search Agent\",\n                agent_image=\"search.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Search agent subheading\",\n                description=\"Specific search term description\",\n                runs=75,\n                rating=4.2,\n            )\n        ]",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "agents",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "list",
                                                                    "label": "[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"search-agent\",\n                agent_name=\"Search Agent\",\n                agent_image=\"search.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Search agent subheading\",\n                description=\"Specific search term description\",\n                runs=75,\n                rating=4.2,\n            )\n        ]",
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "label": "backend.server.v2.store.model.StoreAgent(\n                slug=\"search-agent\",\n                agent_name=\"Search Agent\",\n                agent_image=\"search.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Search agent subheading\",\n                description=\"Specific search term description\",\n                runs=75,\n                rating=4.2,\n            )",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server.v2.store.model.StoreAgent",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "label": "backend.server.v2.store.model",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "label": "backend.server.v2.store",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "label": "backend.server.v2",
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "attribute",
                                                                                                                    "label": "backend.server",
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "label": "backend",
                                                                                                                            "children": []
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "label": "server",
                                                                                                                            "children": []
                                                                                                                        }
                                                                                                                    ]
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "v2",
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "label": "store",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "model",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "StoreAgent",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "label": "(\n                slug=\"search-agent\",\n                agent_name=\"Search Agent\",\n                agent_image=\"search.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Search agent subheading\",\n                description=\"Specific search term description\",\n                runs=75,\n                rating=4.2,\n            )",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "slug=\"search-agent\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "slug",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"search-agent\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "search-agent",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "agent_name=\"Search Agent\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "agent_name",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"Search Agent\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "Search Agent",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "agent_image=\"search.jpg\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "agent_image",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"search.jpg\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "search.jpg",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "creator=\"creator1\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "creator",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"creator1\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "creator1",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "creator_avatar=\"avatar1.jpg\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "creator_avatar",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"avatar1.jpg\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "avatar1.jpg",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "sub_heading=\"Search agent subheading\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "sub_heading",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"Search agent subheading\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "Search agent subheading",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "description=\"Specific search term description\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "description",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"Specific search term description\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "Specific search term description",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "runs=75",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "runs",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "integer",
                                                                                                    "label": "75",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "rating=4.2",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "rating",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "float",
                                                                                                    "label": "4.2",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        )",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "pagination",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "label": "backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        )",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "backend.server.v2.store.model.Pagination",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server.v2.store.model",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "label": "backend.server.v2.store",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "label": "backend.server.v2",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "label": "backend.server",
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "backend",
                                                                                                                    "children": []
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "server",
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "label": "v2",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "store",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "model",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "Pagination",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "label": "(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        )",
                                                                            "children": [
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "current_page=1",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "current_page",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "1",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "total_items=1",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "total_items",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "1",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "total_pages=1",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "total_pages",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "1",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "page_size=20",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "page_size",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "20",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "mock_db_call",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "mocker.patch",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "mocker",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "patch",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"backend.server.v2.store.db.get_store_agents\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"backend.server.v2.store.db.get_store_agents\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "backend.server.v2.store.db.get_store_agents",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call.return_value = mocked_value",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mock_db_call.return_value = mocked_value",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "mock_db_call.return_value",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "mock_db_call",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "return_value",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "mocked_value",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "response = client.get(\"/agents?search_query=specific\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "response = client.get(\"/agents?search_query=specific\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "response",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "client.get(\"/agents?search_query=specific\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "client.get",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "client",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "get",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"/agents?search_query=specific\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"/agents?search_query=specific\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "/agents?search_query=specific",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert response.status_code == 200",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "response.status_code == 200",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "response.status_code",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "response",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "status_code",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "200",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "data",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "backend.server.v2.store.model.StoreAgentsResponse.model_validate",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "backend.server.v2.store.model.StoreAgentsResponse",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "backend.server.v2.store.model",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "backend.server.v2.store",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server.v2",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "label": "backend.server",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "backend",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "server",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "v2",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "store",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "model",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "StoreAgentsResponse",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "model_validate",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\n        response.json()\n    )",
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "label": "response.json()",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "response.json",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "response",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "json",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "label": "()",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert len(data.agents) == 1",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "len(data.agents) == 1",
                                    "children": [
                                        {
                                            "type": "call",
                                            "label": "len(data.agents)",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "len",
                                                    "children": []
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(data.agents)",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "data.agents",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "data",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "agents",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "1",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert \"specific\" in data.agents[0].description.lower()",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "\"specific\" in data.agents[0].description.lower()",
                                    "children": [
                                        {
                                            "type": "string",
                                            "label": "\"specific\"",
                                            "children": [
                                                {
                                                    "type": "string_start",
                                                    "label": "\"",
                                                    "children": []
                                                },
                                                {
                                                    "type": "string_content",
                                                    "label": "specific",
                                                    "children": []
                                                },
                                                {
                                                    "type": "string_end",
                                                    "label": "\"",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "call",
                                            "label": "data.agents[0].description.lower()",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "data.agents[0].description.lower",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "data.agents[0].description",
                                                            "children": [
                                                                {
                                                                    "type": "subscript",
                                                                    "label": "data.agents[0]",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "data.agents",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "data",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "agents",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "integer",
                                                                            "label": "0",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "description",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "lower",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "()",
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=\"specific\",\n        category=None,\n        page=1,\n        page_size=20,\n    )",
                            "children": [
                                {
                                    "type": "call",
                                    "label": "mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=\"specific\",\n        category=None,\n        page=1,\n        page_size=20,\n    )",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "mock_db_call.assert_called_once_with",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "mock_db_call",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "assert_called_once_with",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "argument_list",
                                            "label": "(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=\"specific\",\n        category=None,\n        page=1,\n        page_size=20,\n    )",
                                            "children": [
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "featured=False",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "featured",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "false",
                                                            "label": "False",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "creator=None",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "creator",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "none",
                                                            "label": "None",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "sorted_by=None",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "sorted_by",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "none",
                                                            "label": "None",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "search_query=\"specific\"",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "search_query",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "string",
                                                            "label": "\"specific\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "specific",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "category=None",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "category",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "none",
                                                            "label": "None",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "page=1",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "page",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "integer",
                                                            "label": "1",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "page_size=20",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "page_size",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "integer",
                                                            "label": "20",
                                                            "children": []
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "function_definition",
            "label": "def test_get_agents_category(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"category-agent\",\n                agent_name=\"Category Agent\",\n                agent_image=\"category.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Category agent subheading\",\n                description=\"Category agent description\",\n                runs=60,\n                rating=4.1,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents?category=test-category\")\n    assert response.status_code == 200\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.agents) == 1\n    mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=\"test-category\",\n        page=1,\n        page_size=20,\n    )",
            "children": [
                {
                    "type": "identifier",
                    "label": "test_get_agents_category",
                    "children": []
                },
                {
                    "type": "parameters",
                    "label": "(mocker: pytest_mock.MockFixture)",
                    "children": [
                        {
                            "type": "typed_parameter",
                            "label": "mocker: pytest_mock.MockFixture",
                            "children": [
                                {
                                    "type": "identifier",
                                    "label": "mocker",
                                    "children": []
                                },
                                {
                                    "type": "type",
                                    "label": "pytest_mock.MockFixture",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "pytest_mock.MockFixture",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "pytest_mock",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "MockFixture",
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "block",
                    "label": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"category-agent\",\n                agent_name=\"Category Agent\",\n                agent_image=\"category.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Category agent subheading\",\n                description=\"Category agent description\",\n                runs=60,\n                rating=4.1,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents?category=test-category\")\n    assert response.status_code == 200\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.agents) == 1\n    mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=\"test-category\",\n        page=1,\n        page_size=20,\n    )",
                    "children": [
                        {
                            "type": "expression_statement",
                            "label": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"category-agent\",\n                agent_name=\"Category Agent\",\n                agent_image=\"category.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Category agent subheading\",\n                description=\"Category agent description\",\n                runs=60,\n                rating=4.1,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"category-agent\",\n                agent_name=\"Category Agent\",\n                agent_image=\"category.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Category agent subheading\",\n                description=\"Category agent description\",\n                runs=60,\n                rating=4.1,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "mocked_value",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"category-agent\",\n                agent_name=\"Category Agent\",\n                agent_image=\"category.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Category agent subheading\",\n                description=\"Category agent description\",\n                runs=60,\n                rating=4.1,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "backend.server.v2.store.model.StoreAgentsResponse",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "backend.server.v2.store.model",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "backend.server.v2.store",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "backend.server.v2",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "backend",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "server",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "v2",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "store",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "model",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "StoreAgentsResponse",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"category-agent\",\n                agent_name=\"Category Agent\",\n                agent_image=\"category.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Category agent subheading\",\n                description=\"Category agent description\",\n                runs=60,\n                rating=4.1,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                                                    "children": [
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"category-agent\",\n                agent_name=\"Category Agent\",\n                agent_image=\"category.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Category agent subheading\",\n                description=\"Category agent description\",\n                runs=60,\n                rating=4.1,\n            )\n        ]",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "agents",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "list",
                                                                    "label": "[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"category-agent\",\n                agent_name=\"Category Agent\",\n                agent_image=\"category.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Category agent subheading\",\n                description=\"Category agent description\",\n                runs=60,\n                rating=4.1,\n            )\n        ]",
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "label": "backend.server.v2.store.model.StoreAgent(\n                slug=\"category-agent\",\n                agent_name=\"Category Agent\",\n                agent_image=\"category.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Category agent subheading\",\n                description=\"Category agent description\",\n                runs=60,\n                rating=4.1,\n            )",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server.v2.store.model.StoreAgent",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "label": "backend.server.v2.store.model",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "label": "backend.server.v2.store",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "label": "backend.server.v2",
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "attribute",
                                                                                                                    "label": "backend.server",
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "label": "backend",
                                                                                                                            "children": []
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "label": "server",
                                                                                                                            "children": []
                                                                                                                        }
                                                                                                                    ]
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "v2",
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "label": "store",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "model",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "StoreAgent",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "label": "(\n                slug=\"category-agent\",\n                agent_name=\"Category Agent\",\n                agent_image=\"category.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Category agent subheading\",\n                description=\"Category agent description\",\n                runs=60,\n                rating=4.1,\n            )",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "slug=\"category-agent\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "slug",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"category-agent\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "category-agent",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "agent_name=\"Category Agent\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "agent_name",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"Category Agent\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "Category Agent",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "agent_image=\"category.jpg\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "agent_image",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"category.jpg\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "category.jpg",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "creator=\"creator1\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "creator",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"creator1\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "creator1",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "creator_avatar=\"avatar1.jpg\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "creator_avatar",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"avatar1.jpg\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "avatar1.jpg",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "sub_heading=\"Category agent subheading\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "sub_heading",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"Category agent subheading\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "Category agent subheading",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "description=\"Category agent description\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "description",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"Category agent description\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "Category agent description",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "runs=60",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "runs",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "integer",
                                                                                                    "label": "60",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "rating=4.1",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "rating",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "float",
                                                                                                    "label": "4.1",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        )",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "pagination",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "label": "backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        )",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "backend.server.v2.store.model.Pagination",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server.v2.store.model",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "label": "backend.server.v2.store",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "label": "backend.server.v2",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "label": "backend.server",
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "backend",
                                                                                                                    "children": []
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "server",
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "label": "v2",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "store",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "model",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "Pagination",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "label": "(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        )",
                                                                            "children": [
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "current_page=1",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "current_page",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "1",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "total_items=1",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "total_items",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "1",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "total_pages=1",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "total_pages",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "1",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "page_size=20",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "page_size",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "20",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "mock_db_call",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "mocker.patch",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "mocker",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "patch",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"backend.server.v2.store.db.get_store_agents\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"backend.server.v2.store.db.get_store_agents\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "backend.server.v2.store.db.get_store_agents",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call.return_value = mocked_value",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mock_db_call.return_value = mocked_value",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "mock_db_call.return_value",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "mock_db_call",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "return_value",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "mocked_value",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "response = client.get(\"/agents?category=test-category\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "response = client.get(\"/agents?category=test-category\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "response",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "client.get(\"/agents?category=test-category\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "client.get",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "client",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "get",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"/agents?category=test-category\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"/agents?category=test-category\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "/agents?category=test-category",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert response.status_code == 200",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "response.status_code == 200",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "response.status_code",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "response",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "status_code",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "200",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "data",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "backend.server.v2.store.model.StoreAgentsResponse.model_validate",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "backend.server.v2.store.model.StoreAgentsResponse",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "backend.server.v2.store.model",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "backend.server.v2.store",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server.v2",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "label": "backend.server",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "backend",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "server",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "v2",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "store",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "model",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "StoreAgentsResponse",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "model_validate",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\n        response.json()\n    )",
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "label": "response.json()",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "response.json",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "response",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "json",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "label": "()",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert len(data.agents) == 1",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "len(data.agents) == 1",
                                    "children": [
                                        {
                                            "type": "call",
                                            "label": "len(data.agents)",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "len",
                                                    "children": []
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(data.agents)",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "data.agents",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "data",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "agents",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "1",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=\"test-category\",\n        page=1,\n        page_size=20,\n    )",
                            "children": [
                                {
                                    "type": "call",
                                    "label": "mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=\"test-category\",\n        page=1,\n        page_size=20,\n    )",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "mock_db_call.assert_called_once_with",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "mock_db_call",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "assert_called_once_with",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "argument_list",
                                            "label": "(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=\"test-category\",\n        page=1,\n        page_size=20,\n    )",
                                            "children": [
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "featured=False",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "featured",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "false",
                                                            "label": "False",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "creator=None",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "creator",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "none",
                                                            "label": "None",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "sorted_by=None",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "sorted_by",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "none",
                                                            "label": "None",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "search_query=None",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "search_query",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "none",
                                                            "label": "None",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "category=\"test-category\"",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "category",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "string",
                                                            "label": "\"test-category\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "test-category",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "page=1",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "page",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "integer",
                                                            "label": "1",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "page_size=20",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "page_size",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "integer",
                                                            "label": "20",
                                                            "children": []
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "function_definition",
            "label": "def test_get_agents_pagination(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=f\"agent-{i}\",\n                agent_name=f\"Agent {i}\",\n                agent_image=f\"agent{i}.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=f\"Agent {i} subheading\",\n                description=f\"Agent {i} description\",\n                runs=i * 10,\n                rating=4.0,\n            )\n            for i in range(5)\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents?page=2&page_size=5\")\n    assert response.status_code == 200\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.agents) == 5\n    assert data.pagination.current_page == 2\n    assert data.pagination.page_size == 5\n    mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=2,\n        page_size=5,\n    )",
            "children": [
                {
                    "type": "identifier",
                    "label": "test_get_agents_pagination",
                    "children": []
                },
                {
                    "type": "parameters",
                    "label": "(mocker: pytest_mock.MockFixture)",
                    "children": [
                        {
                            "type": "typed_parameter",
                            "label": "mocker: pytest_mock.MockFixture",
                            "children": [
                                {
                                    "type": "identifier",
                                    "label": "mocker",
                                    "children": []
                                },
                                {
                                    "type": "type",
                                    "label": "pytest_mock.MockFixture",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "pytest_mock.MockFixture",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "pytest_mock",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "MockFixture",
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "block",
                    "label": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=f\"agent-{i}\",\n                agent_name=f\"Agent {i}\",\n                agent_image=f\"agent{i}.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=f\"Agent {i} subheading\",\n                description=f\"Agent {i} description\",\n                runs=i * 10,\n                rating=4.0,\n            )\n            for i in range(5)\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents?page=2&page_size=5\")\n    assert response.status_code == 200\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.agents) == 5\n    assert data.pagination.current_page == 2\n    assert data.pagination.page_size == 5\n    mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=2,\n        page_size=5,\n    )",
                    "children": [
                        {
                            "type": "expression_statement",
                            "label": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=f\"agent-{i}\",\n                agent_name=f\"Agent {i}\",\n                agent_image=f\"agent{i}.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=f\"Agent {i} subheading\",\n                description=f\"Agent {i} description\",\n                runs=i * 10,\n                rating=4.0,\n            )\n            for i in range(5)\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        ),\n    )",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=f\"agent-{i}\",\n                agent_name=f\"Agent {i}\",\n                agent_image=f\"agent{i}.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=f\"Agent {i} subheading\",\n                description=f\"Agent {i} description\",\n                runs=i * 10,\n                rating=4.0,\n            )\n            for i in range(5)\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        ),\n    )",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "mocked_value",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=f\"agent-{i}\",\n                agent_name=f\"Agent {i}\",\n                agent_image=f\"agent{i}.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=f\"Agent {i} subheading\",\n                description=f\"Agent {i} description\",\n                runs=i * 10,\n                rating=4.0,\n            )\n            for i in range(5)\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        ),\n    )",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "backend.server.v2.store.model.StoreAgentsResponse",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "backend.server.v2.store.model",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "backend.server.v2.store",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "backend.server.v2",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "backend",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "server",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "v2",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "store",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "model",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "StoreAgentsResponse",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=f\"agent-{i}\",\n                agent_name=f\"Agent {i}\",\n                agent_image=f\"agent{i}.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=f\"Agent {i} subheading\",\n                description=f\"Agent {i} description\",\n                runs=i * 10,\n                rating=4.0,\n            )\n            for i in range(5)\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        ),\n    )",
                                                    "children": [
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=f\"agent-{i}\",\n                agent_name=f\"Agent {i}\",\n                agent_image=f\"agent{i}.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=f\"Agent {i} subheading\",\n                description=f\"Agent {i} description\",\n                runs=i * 10,\n                rating=4.0,\n            )\n            for i in range(5)\n        ]",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "agents",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "list_comprehension",
                                                                    "label": "[\n            backend.server.v2.store.model.StoreAgent(\n                slug=f\"agent-{i}\",\n                agent_name=f\"Agent {i}\",\n                agent_image=f\"agent{i}.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=f\"Agent {i} subheading\",\n                description=f\"Agent {i} description\",\n                runs=i * 10,\n                rating=4.0,\n            )\n            for i in range(5)\n        ]",
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "label": "backend.server.v2.store.model.StoreAgent(\n                slug=f\"agent-{i}\",\n                agent_name=f\"Agent {i}\",\n                agent_image=f\"agent{i}.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=f\"Agent {i} subheading\",\n                description=f\"Agent {i} description\",\n                runs=i * 10,\n                rating=4.0,\n            )",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server.v2.store.model.StoreAgent",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "label": "backend.server.v2.store.model",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "label": "backend.server.v2.store",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "label": "backend.server.v2",
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "attribute",
                                                                                                                    "label": "backend.server",
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "label": "backend",
                                                                                                                            "children": []
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "label": "server",
                                                                                                                            "children": []
                                                                                                                        }
                                                                                                                    ]
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "v2",
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "label": "store",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "model",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "StoreAgent",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "label": "(\n                slug=f\"agent-{i}\",\n                agent_name=f\"Agent {i}\",\n                agent_image=f\"agent{i}.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=f\"Agent {i} subheading\",\n                description=f\"Agent {i} description\",\n                runs=i * 10,\n                rating=4.0,\n            )",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "slug=f\"agent-{i}\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "slug",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "f\"agent-{i}\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "f\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "agent-",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "interpolation",
                                                                                                            "label": "{i}",
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "i",
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "agent_name=f\"Agent {i}\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "agent_name",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "f\"Agent {i}\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "f\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "Agent ",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "interpolation",
                                                                                                            "label": "{i}",
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "i",
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "agent_image=f\"agent{i}.jpg\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "agent_image",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "f\"agent{i}.jpg\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "f\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "agent",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "interpolation",
                                                                                                            "label": "{i}",
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "i",
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": ".jpg",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "creator=\"creator1\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "creator",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"creator1\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "creator1",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "creator_avatar=\"avatar1.jpg\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "creator_avatar",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"avatar1.jpg\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "avatar1.jpg",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "sub_heading=f\"Agent {i} subheading\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "sub_heading",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "f\"Agent {i} subheading\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "f\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "Agent ",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "interpolation",
                                                                                                            "label": "{i}",
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "i",
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": " subheading",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "description=f\"Agent {i} description\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "description",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "f\"Agent {i} description\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "f\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "Agent ",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "interpolation",
                                                                                                            "label": "{i}",
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "i",
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": " description",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "runs=i * 10",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "runs",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "binary_operator",
                                                                                                    "label": "i * 10",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "label": "i",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "integer",
                                                                                                            "label": "10",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "rating=4.0",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "rating",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "float",
                                                                                                    "label": "4.0",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "for_in_clause",
                                                                            "label": "for i in range(5)",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "i",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "call",
                                                                                    "label": "range(5)",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "range",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "label": "(5)",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "integer",
                                                                                                    "label": "5",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        )",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "pagination",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "label": "backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        )",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "backend.server.v2.store.model.Pagination",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server.v2.store.model",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "label": "backend.server.v2.store",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "label": "backend.server.v2",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "label": "backend.server",
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "backend",
                                                                                                                    "children": []
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "server",
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "label": "v2",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "store",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "model",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "Pagination",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "label": "(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        )",
                                                                            "children": [
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "current_page=2",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "current_page",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "2",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "total_items=15",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "total_items",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "15",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "total_pages=3",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "total_pages",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "3",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "page_size=5",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "page_size",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "5",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "mock_db_call",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "mocker.patch",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "mocker",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "patch",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"backend.server.v2.store.db.get_store_agents\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"backend.server.v2.store.db.get_store_agents\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "backend.server.v2.store.db.get_store_agents",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call.return_value = mocked_value",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mock_db_call.return_value = mocked_value",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "mock_db_call.return_value",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "mock_db_call",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "return_value",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "mocked_value",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "response = client.get(\"/agents?page=2&page_size=5\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "response = client.get(\"/agents?page=2&page_size=5\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "response",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "client.get(\"/agents?page=2&page_size=5\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "client.get",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "client",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "get",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"/agents?page=2&page_size=5\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"/agents?page=2&page_size=5\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "/agents?page=2&page_size=5",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert response.status_code == 200",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "response.status_code == 200",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "response.status_code",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "response",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "status_code",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "200",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "data",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "backend.server.v2.store.model.StoreAgentsResponse.model_validate",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "backend.server.v2.store.model.StoreAgentsResponse",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "backend.server.v2.store.model",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "backend.server.v2.store",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server.v2",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "label": "backend.server",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "backend",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "server",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "v2",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "store",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "model",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "StoreAgentsResponse",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "model_validate",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\n        response.json()\n    )",
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "label": "response.json()",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "response.json",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "response",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "json",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "label": "()",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert len(data.agents) == 5",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "len(data.agents) == 5",
                                    "children": [
                                        {
                                            "type": "call",
                                            "label": "len(data.agents)",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "len",
                                                    "children": []
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(data.agents)",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "data.agents",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "data",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "agents",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "5",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert data.pagination.current_page == 2",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "data.pagination.current_page == 2",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "data.pagination.current_page",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "data.pagination",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "data",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "pagination",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "current_page",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "2",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert data.pagination.page_size == 5",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "data.pagination.page_size == 5",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "data.pagination.page_size",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "data.pagination",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "data",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "pagination",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "page_size",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "5",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=2,\n        page_size=5,\n    )",
                            "children": [
                                {
                                    "type": "call",
                                    "label": "mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=2,\n        page_size=5,\n    )",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "mock_db_call.assert_called_once_with",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "mock_db_call",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "assert_called_once_with",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "argument_list",
                                            "label": "(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=2,\n        page_size=5,\n    )",
                                            "children": [
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "featured=False",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "featured",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "false",
                                                            "label": "False",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "creator=None",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "creator",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "none",
                                                            "label": "None",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "sorted_by=None",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "sorted_by",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "none",
                                                            "label": "None",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "search_query=None",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "search_query",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "none",
                                                            "label": "None",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "category=None",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "category",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "none",
                                                            "label": "None",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "page=2",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "page",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "integer",
                                                            "label": "2",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "page_size=5",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "page_size",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "integer",
                                                            "label": "5",
                                                            "children": []
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "function_definition",
            "label": "def test_get_agents_malformed_request(mocker: pytest_mock.MockFixture):\n    # Test with invalid page number\n    response = client.get(\"/agents?page=-1\")\n    assert response.status_code == 422\n\n    # Test with invalid page size\n    response = client.get(\"/agents?page_size=0\")\n    assert response.status_code == 422\n\n    # Test with non-numeric values\n    response = client.get(\"/agents?page=abc&page_size=def\")\n    assert response.status_code == 422\n\n    # Verify no DB calls were made\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.assert_not_called()",
            "children": [
                {
                    "type": "identifier",
                    "label": "test_get_agents_malformed_request",
                    "children": []
                },
                {
                    "type": "parameters",
                    "label": "(mocker: pytest_mock.MockFixture)",
                    "children": [
                        {
                            "type": "typed_parameter",
                            "label": "mocker: pytest_mock.MockFixture",
                            "children": [
                                {
                                    "type": "identifier",
                                    "label": "mocker",
                                    "children": []
                                },
                                {
                                    "type": "type",
                                    "label": "pytest_mock.MockFixture",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "pytest_mock.MockFixture",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "pytest_mock",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "MockFixture",
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "comment",
                    "label": "# Test with invalid page number",
                    "children": []
                },
                {
                    "type": "block",
                    "label": "response = client.get(\"/agents?page=-1\")\n    assert response.status_code == 422\n\n    # Test with invalid page size\n    response = client.get(\"/agents?page_size=0\")\n    assert response.status_code == 422\n\n    # Test with non-numeric values\n    response = client.get(\"/agents?page=abc&page_size=def\")\n    assert response.status_code == 422\n\n    # Verify no DB calls were made\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.assert_not_called()",
                    "children": [
                        {
                            "type": "expression_statement",
                            "label": "response = client.get(\"/agents?page=-1\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "response = client.get(\"/agents?page=-1\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "response",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "client.get(\"/agents?page=-1\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "client.get",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "client",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "get",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"/agents?page=-1\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"/agents?page=-1\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "/agents?page=-1",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert response.status_code == 422",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "response.status_code == 422",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "response.status_code",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "response",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "status_code",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "422",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "comment",
                            "label": "# Test with invalid page size",
                            "children": []
                        },
                        {
                            "type": "expression_statement",
                            "label": "response = client.get(\"/agents?page_size=0\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "response = client.get(\"/agents?page_size=0\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "response",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "client.get(\"/agents?page_size=0\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "client.get",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "client",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "get",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"/agents?page_size=0\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"/agents?page_size=0\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "/agents?page_size=0",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert response.status_code == 422",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "response.status_code == 422",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "response.status_code",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "response",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "status_code",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "422",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "comment",
                            "label": "# Test with non-numeric values",
                            "children": []
                        },
                        {
                            "type": "expression_statement",
                            "label": "response = client.get(\"/agents?page=abc&page_size=def\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "response = client.get(\"/agents?page=abc&page_size=def\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "response",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "client.get(\"/agents?page=abc&page_size=def\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "client.get",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "client",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "get",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"/agents?page=abc&page_size=def\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"/agents?page=abc&page_size=def\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "/agents?page=abc&page_size=def",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert response.status_code == 422",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "response.status_code == 422",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "response.status_code",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "response",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "status_code",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "422",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "comment",
                            "label": "# Verify no DB calls were made",
                            "children": []
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "mock_db_call",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "mocker.patch",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "mocker",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "patch",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"backend.server.v2.store.db.get_store_agents\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"backend.server.v2.store.db.get_store_agents\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "backend.server.v2.store.db.get_store_agents",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call.assert_not_called()",
                            "children": [
                                {
                                    "type": "call",
                                    "label": "mock_db_call.assert_not_called()",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "mock_db_call.assert_not_called",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "mock_db_call",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "assert_not_called",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "argument_list",
                                            "label": "()",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "function_definition",
            "label": "def test_get_agent_details(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreAgentDetails(\n        store_listing_version_id=\"test-version-id\",\n        slug=\"test-agent\",\n        agent_name=\"Test Agent\",\n        agent_video=\"video.mp4\",\n        agent_image=[\"image1.jpg\", \"image2.jpg\"],\n        creator=\"creator1\",\n        creator_avatar=\"avatar1.jpg\",\n        sub_heading=\"Test agent subheading\",\n        description=\"Test agent description\",\n        categories=[\"category1\", \"category2\"],\n        runs=100,\n        rating=4.5,\n        versions=[\"1.0.0\", \"1.1.0\"],\n        last_updated=datetime.datetime.now(),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agent_details\")\n    mock_db_call.return_value = mocked_value\n\n    response = client.get(\"/agents/creator1/test-agent\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.StoreAgentDetails.model_validate(\n        response.json()\n    )\n    assert data.agent_name == \"Test Agent\"\n    assert data.creator == \"creator1\"\n    mock_db_call.assert_called_once_with(username=\"creator1\", agent_name=\"test-agent\")",
            "children": [
                {
                    "type": "identifier",
                    "label": "test_get_agent_details",
                    "children": []
                },
                {
                    "type": "parameters",
                    "label": "(mocker: pytest_mock.MockFixture)",
                    "children": [
                        {
                            "type": "typed_parameter",
                            "label": "mocker: pytest_mock.MockFixture",
                            "children": [
                                {
                                    "type": "identifier",
                                    "label": "mocker",
                                    "children": []
                                },
                                {
                                    "type": "type",
                                    "label": "pytest_mock.MockFixture",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "pytest_mock.MockFixture",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "pytest_mock",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "MockFixture",
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "block",
                    "label": "mocked_value = backend.server.v2.store.model.StoreAgentDetails(\n        store_listing_version_id=\"test-version-id\",\n        slug=\"test-agent\",\n        agent_name=\"Test Agent\",\n        agent_video=\"video.mp4\",\n        agent_image=[\"image1.jpg\", \"image2.jpg\"],\n        creator=\"creator1\",\n        creator_avatar=\"avatar1.jpg\",\n        sub_heading=\"Test agent subheading\",\n        description=\"Test agent description\",\n        categories=[\"category1\", \"category2\"],\n        runs=100,\n        rating=4.5,\n        versions=[\"1.0.0\", \"1.1.0\"],\n        last_updated=datetime.datetime.now(),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agent_details\")\n    mock_db_call.return_value = mocked_value\n\n    response = client.get(\"/agents/creator1/test-agent\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.StoreAgentDetails.model_validate(\n        response.json()\n    )\n    assert data.agent_name == \"Test Agent\"\n    assert data.creator == \"creator1\"\n    mock_db_call.assert_called_once_with(username=\"creator1\", agent_name=\"test-agent\")",
                    "children": [
                        {
                            "type": "expression_statement",
                            "label": "mocked_value = backend.server.v2.store.model.StoreAgentDetails(\n        store_listing_version_id=\"test-version-id\",\n        slug=\"test-agent\",\n        agent_name=\"Test Agent\",\n        agent_video=\"video.mp4\",\n        agent_image=[\"image1.jpg\", \"image2.jpg\"],\n        creator=\"creator1\",\n        creator_avatar=\"avatar1.jpg\",\n        sub_heading=\"Test agent subheading\",\n        description=\"Test agent description\",\n        categories=[\"category1\", \"category2\"],\n        runs=100,\n        rating=4.5,\n        versions=[\"1.0.0\", \"1.1.0\"],\n        last_updated=datetime.datetime.now(),\n    )",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mocked_value = backend.server.v2.store.model.StoreAgentDetails(\n        store_listing_version_id=\"test-version-id\",\n        slug=\"test-agent\",\n        agent_name=\"Test Agent\",\n        agent_video=\"video.mp4\",\n        agent_image=[\"image1.jpg\", \"image2.jpg\"],\n        creator=\"creator1\",\n        creator_avatar=\"avatar1.jpg\",\n        sub_heading=\"Test agent subheading\",\n        description=\"Test agent description\",\n        categories=[\"category1\", \"category2\"],\n        runs=100,\n        rating=4.5,\n        versions=[\"1.0.0\", \"1.1.0\"],\n        last_updated=datetime.datetime.now(),\n    )",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "mocked_value",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "backend.server.v2.store.model.StoreAgentDetails(\n        store_listing_version_id=\"test-version-id\",\n        slug=\"test-agent\",\n        agent_name=\"Test Agent\",\n        agent_video=\"video.mp4\",\n        agent_image=[\"image1.jpg\", \"image2.jpg\"],\n        creator=\"creator1\",\n        creator_avatar=\"avatar1.jpg\",\n        sub_heading=\"Test agent subheading\",\n        description=\"Test agent description\",\n        categories=[\"category1\", \"category2\"],\n        runs=100,\n        rating=4.5,\n        versions=[\"1.0.0\", \"1.1.0\"],\n        last_updated=datetime.datetime.now(),\n    )",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "backend.server.v2.store.model.StoreAgentDetails",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "backend.server.v2.store.model",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "backend.server.v2.store",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "backend.server.v2",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "backend",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "server",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "v2",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "store",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "model",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "StoreAgentDetails",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\n        store_listing_version_id=\"test-version-id\",\n        slug=\"test-agent\",\n        agent_name=\"Test Agent\",\n        agent_video=\"video.mp4\",\n        agent_image=[\"image1.jpg\", \"image2.jpg\"],\n        creator=\"creator1\",\n        creator_avatar=\"avatar1.jpg\",\n        sub_heading=\"Test agent subheading\",\n        description=\"Test agent description\",\n        categories=[\"category1\", \"category2\"],\n        runs=100,\n        rating=4.5,\n        versions=[\"1.0.0\", \"1.1.0\"],\n        last_updated=datetime.datetime.now(),\n    )",
                                                    "children": [
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "store_listing_version_id=\"test-version-id\"",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "store_listing_version_id",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string",
                                                                    "label": "\"test-version-id\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "string_start",
                                                                            "label": "\"",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string_content",
                                                                            "label": "test-version-id",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string_end",
                                                                            "label": "\"",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "slug=\"test-agent\"",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "slug",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string",
                                                                    "label": "\"test-agent\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "string_start",
                                                                            "label": "\"",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string_content",
                                                                            "label": "test-agent",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string_end",
                                                                            "label": "\"",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "agent_name=\"Test Agent\"",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "agent_name",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string",
                                                                    "label": "\"Test Agent\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "string_start",
                                                                            "label": "\"",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string_content",
                                                                            "label": "Test Agent",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string_end",
                                                                            "label": "\"",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "agent_video=\"video.mp4\"",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "agent_video",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string",
                                                                    "label": "\"video.mp4\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "string_start",
                                                                            "label": "\"",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string_content",
                                                                            "label": "video.mp4",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string_end",
                                                                            "label": "\"",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "agent_image=[\"image1.jpg\", \"image2.jpg\"]",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "agent_image",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "list",
                                                                    "label": "[\"image1.jpg\", \"image2.jpg\"]",
                                                                    "children": [
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"image1.jpg\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "image1.jpg",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"image2.jpg\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "image2.jpg",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "creator=\"creator1\"",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "creator",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string",
                                                                    "label": "\"creator1\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "string_start",
                                                                            "label": "\"",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string_content",
                                                                            "label": "creator1",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string_end",
                                                                            "label": "\"",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "creator_avatar=\"avatar1.jpg\"",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "creator_avatar",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string",
                                                                    "label": "\"avatar1.jpg\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "string_start",
                                                                            "label": "\"",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string_content",
                                                                            "label": "avatar1.jpg",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string_end",
                                                                            "label": "\"",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "sub_heading=\"Test agent subheading\"",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "sub_heading",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string",
                                                                    "label": "\"Test agent subheading\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "string_start",
                                                                            "label": "\"",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string_content",
                                                                            "label": "Test agent subheading",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string_end",
                                                                            "label": "\"",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "description=\"Test agent description\"",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "description",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string",
                                                                    "label": "\"Test agent description\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "string_start",
                                                                            "label": "\"",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string_content",
                                                                            "label": "Test agent description",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string_end",
                                                                            "label": "\"",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "categories=[\"category1\", \"category2\"]",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "categories",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "list",
                                                                    "label": "[\"category1\", \"category2\"]",
                                                                    "children": [
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"category1\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "category1",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"category2\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "category2",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "runs=100",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "runs",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "integer",
                                                                    "label": "100",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "rating=4.5",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "rating",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "float",
                                                                    "label": "4.5",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "versions=[\"1.0.0\", \"1.1.0\"]",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "versions",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "list",
                                                                    "label": "[\"1.0.0\", \"1.1.0\"]",
                                                                    "children": [
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"1.0.0\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "1.0.0",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"1.1.0\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "1.1.0",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "last_updated=datetime.datetime.now()",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "last_updated",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "label": "datetime.datetime.now()",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "datetime.datetime.now",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "datetime.datetime",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "datetime",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "datetime",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "now",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "label": "()",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agent_details\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agent_details\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "mock_db_call",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "mocker.patch(\"backend.server.v2.store.db.get_store_agent_details\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "mocker.patch",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "mocker",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "patch",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"backend.server.v2.store.db.get_store_agent_details\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"backend.server.v2.store.db.get_store_agent_details\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "backend.server.v2.store.db.get_store_agent_details",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call.return_value = mocked_value",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mock_db_call.return_value = mocked_value",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "mock_db_call.return_value",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "mock_db_call",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "return_value",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "mocked_value",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "response = client.get(\"/agents/creator1/test-agent\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "response = client.get(\"/agents/creator1/test-agent\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "response",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "client.get(\"/agents/creator1/test-agent\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "client.get",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "client",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "get",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"/agents/creator1/test-agent\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"/agents/creator1/test-agent\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "/agents/creator1/test-agent",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert response.status_code == 200",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "response.status_code == 200",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "response.status_code",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "response",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "status_code",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "200",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "data = backend.server.v2.store.model.StoreAgentDetails.model_validate(\n        response.json()\n    )",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "data = backend.server.v2.store.model.StoreAgentDetails.model_validate(\n        response.json()\n    )",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "data",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "backend.server.v2.store.model.StoreAgentDetails.model_validate(\n        response.json()\n    )",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "backend.server.v2.store.model.StoreAgentDetails.model_validate",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "backend.server.v2.store.model.StoreAgentDetails",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "backend.server.v2.store.model",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "backend.server.v2.store",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server.v2",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "label": "backend.server",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "backend",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "server",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "v2",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "store",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "model",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "StoreAgentDetails",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "model_validate",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\n        response.json()\n    )",
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "label": "response.json()",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "response.json",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "response",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "json",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "label": "()",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert data.agent_name == \"Test Agent\"",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "data.agent_name == \"Test Agent\"",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "data.agent_name",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "data",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "agent_name",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "string",
                                            "label": "\"Test Agent\"",
                                            "children": [
                                                {
                                                    "type": "string_start",
                                                    "label": "\"",
                                                    "children": []
                                                },
                                                {
                                                    "type": "string_content",
                                                    "label": "Test Agent",
                                                    "children": []
                                                },
                                                {
                                                    "type": "string_end",
                                                    "label": "\"",
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert data.creator == \"creator1\"",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "data.creator == \"creator1\"",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "data.creator",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "data",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "creator",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "string",
                                            "label": "\"creator1\"",
                                            "children": [
                                                {
                                                    "type": "string_start",
                                                    "label": "\"",
                                                    "children": []
                                                },
                                                {
                                                    "type": "string_content",
                                                    "label": "creator1",
                                                    "children": []
                                                },
                                                {
                                                    "type": "string_end",
                                                    "label": "\"",
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call.assert_called_once_with(username=\"creator1\", agent_name=\"test-agent\")",
                            "children": [
                                {
                                    "type": "call",
                                    "label": "mock_db_call.assert_called_once_with(username=\"creator1\", agent_name=\"test-agent\")",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "mock_db_call.assert_called_once_with",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "mock_db_call",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "assert_called_once_with",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "argument_list",
                                            "label": "(username=\"creator1\", agent_name=\"test-agent\")",
                                            "children": [
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "username=\"creator1\"",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "username",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "string",
                                                            "label": "\"creator1\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "creator1",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "agent_name=\"test-agent\"",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "agent_name",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "string",
                                                            "label": "\"test-agent\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "test-agent",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "function_definition",
            "label": "def test_get_creators_defaults(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.CreatorsResponse(\n        creators=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creators\")\n    mock_db_call.return_value = mocked_value\n\n    response = client.get(\"/creators\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.CreatorsResponse.model_validate(\n        response.json()\n    )\n    assert data.pagination.total_pages == 0\n    assert data.creators == []\n    mock_db_call.assert_called_once_with(\n        featured=False, search_query=None, sorted_by=None, page=1, page_size=20\n    )",
            "children": [
                {
                    "type": "identifier",
                    "label": "test_get_creators_defaults",
                    "children": []
                },
                {
                    "type": "parameters",
                    "label": "(mocker: pytest_mock.MockFixture)",
                    "children": [
                        {
                            "type": "typed_parameter",
                            "label": "mocker: pytest_mock.MockFixture",
                            "children": [
                                {
                                    "type": "identifier",
                                    "label": "mocker",
                                    "children": []
                                },
                                {
                                    "type": "type",
                                    "label": "pytest_mock.MockFixture",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "pytest_mock.MockFixture",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "pytest_mock",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "MockFixture",
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "block",
                    "label": "mocked_value = backend.server.v2.store.model.CreatorsResponse(\n        creators=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creators\")\n    mock_db_call.return_value = mocked_value\n\n    response = client.get(\"/creators\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.CreatorsResponse.model_validate(\n        response.json()\n    )\n    assert data.pagination.total_pages == 0\n    assert data.creators == []\n    mock_db_call.assert_called_once_with(\n        featured=False, search_query=None, sorted_by=None, page=1, page_size=20\n    )",
                    "children": [
                        {
                            "type": "expression_statement",
                            "label": "mocked_value = backend.server.v2.store.model.CreatorsResponse(\n        creators=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        ),\n    )",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mocked_value = backend.server.v2.store.model.CreatorsResponse(\n        creators=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        ),\n    )",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "mocked_value",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "backend.server.v2.store.model.CreatorsResponse(\n        creators=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        ),\n    )",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "backend.server.v2.store.model.CreatorsResponse",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "backend.server.v2.store.model",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "backend.server.v2.store",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "backend.server.v2",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "backend",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "server",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "v2",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "store",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "model",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "CreatorsResponse",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\n        creators=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        ),\n    )",
                                                    "children": [
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "creators=[]",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "creators",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "list",
                                                                    "label": "[]",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "pagination=backend.server.v2.store.model.Pagination(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        )",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "pagination",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "label": "backend.server.v2.store.model.Pagination(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        )",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "backend.server.v2.store.model.Pagination",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server.v2.store.model",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "label": "backend.server.v2.store",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "label": "backend.server.v2",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "label": "backend.server",
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "backend",
                                                                                                                    "children": []
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "server",
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "label": "v2",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "store",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "model",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "Pagination",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "label": "(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        )",
                                                                            "children": [
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "current_page=0",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "current_page",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "0",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "total_items=0",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "total_items",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "0",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "total_pages=0",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "total_pages",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "0",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "page_size=10",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "page_size",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "10",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creators\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creators\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "mock_db_call",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "mocker.patch(\"backend.server.v2.store.db.get_store_creators\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "mocker.patch",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "mocker",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "patch",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"backend.server.v2.store.db.get_store_creators\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"backend.server.v2.store.db.get_store_creators\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "backend.server.v2.store.db.get_store_creators",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call.return_value = mocked_value",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mock_db_call.return_value = mocked_value",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "mock_db_call.return_value",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "mock_db_call",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "return_value",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "mocked_value",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "response = client.get(\"/creators\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "response = client.get(\"/creators\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "response",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "client.get(\"/creators\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "client.get",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "client",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "get",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"/creators\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"/creators\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "/creators",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert response.status_code == 200",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "response.status_code == 200",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "response.status_code",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "response",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "status_code",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "200",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "data = backend.server.v2.store.model.CreatorsResponse.model_validate(\n        response.json()\n    )",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "data = backend.server.v2.store.model.CreatorsResponse.model_validate(\n        response.json()\n    )",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "data",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "backend.server.v2.store.model.CreatorsResponse.model_validate(\n        response.json()\n    )",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "backend.server.v2.store.model.CreatorsResponse.model_validate",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "backend.server.v2.store.model.CreatorsResponse",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "backend.server.v2.store.model",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "backend.server.v2.store",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server.v2",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "label": "backend.server",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "backend",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "server",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "v2",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "store",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "model",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "CreatorsResponse",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "model_validate",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\n        response.json()\n    )",
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "label": "response.json()",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "response.json",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "response",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "json",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "label": "()",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert data.pagination.total_pages == 0",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "data.pagination.total_pages == 0",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "data.pagination.total_pages",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "data.pagination",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "data",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "pagination",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "total_pages",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "0",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert data.creators == []",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "data.creators == []",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "data.creators",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "data",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "creators",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "list",
                                            "label": "[]",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call.assert_called_once_with(\n        featured=False, search_query=None, sorted_by=None, page=1, page_size=20\n    )",
                            "children": [
                                {
                                    "type": "call",
                                    "label": "mock_db_call.assert_called_once_with(\n        featured=False, search_query=None, sorted_by=None, page=1, page_size=20\n    )",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "mock_db_call.assert_called_once_with",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "mock_db_call",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "assert_called_once_with",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "argument_list",
                                            "label": "(\n        featured=False, search_query=None, sorted_by=None, page=1, page_size=20\n    )",
                                            "children": [
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "featured=False",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "featured",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "false",
                                                            "label": "False",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "search_query=None",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "search_query",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "none",
                                                            "label": "None",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "sorted_by=None",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "sorted_by",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "none",
                                                            "label": "None",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "page=1",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "page",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "integer",
                                                            "label": "1",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "page_size=20",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "page_size",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "integer",
                                                            "label": "20",
                                                            "children": []
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "function_definition",
            "label": "def test_get_creators_pagination(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.CreatorsResponse(\n        creators=[\n            backend.server.v2.store.model.Creator(\n                name=f\"Creator {i}\",\n                username=f\"creator{i}\",\n                description=f\"Creator {i} description\",\n                avatar_url=f\"avatar{i}.jpg\",\n                num_agents=1,\n                agent_rating=4.5,\n                agent_runs=100,\n                is_featured=False,\n            )\n            for i in range(5)\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creators\")\n    mock_db_call.return_value = mocked_value\n\n    response = client.get(\"/creators?page=2&page_size=5\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.CreatorsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.creators) == 5\n    assert data.pagination.current_page == 2\n    assert data.pagination.page_size == 5\n    mock_db_call.assert_called_once_with(\n        featured=False, search_query=None, sorted_by=None, page=2, page_size=5\n    )",
            "children": [
                {
                    "type": "identifier",
                    "label": "test_get_creators_pagination",
                    "children": []
                },
                {
                    "type": "parameters",
                    "label": "(mocker: pytest_mock.MockFixture)",
                    "children": [
                        {
                            "type": "typed_parameter",
                            "label": "mocker: pytest_mock.MockFixture",
                            "children": [
                                {
                                    "type": "identifier",
                                    "label": "mocker",
                                    "children": []
                                },
                                {
                                    "type": "type",
                                    "label": "pytest_mock.MockFixture",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "pytest_mock.MockFixture",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "pytest_mock",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "MockFixture",
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "block",
                    "label": "mocked_value = backend.server.v2.store.model.CreatorsResponse(\n        creators=[\n            backend.server.v2.store.model.Creator(\n                name=f\"Creator {i}\",\n                username=f\"creator{i}\",\n                description=f\"Creator {i} description\",\n                avatar_url=f\"avatar{i}.jpg\",\n                num_agents=1,\n                agent_rating=4.5,\n                agent_runs=100,\n                is_featured=False,\n            )\n            for i in range(5)\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creators\")\n    mock_db_call.return_value = mocked_value\n\n    response = client.get(\"/creators?page=2&page_size=5\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.CreatorsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.creators) == 5\n    assert data.pagination.current_page == 2\n    assert data.pagination.page_size == 5\n    mock_db_call.assert_called_once_with(\n        featured=False, search_query=None, sorted_by=None, page=2, page_size=5\n    )",
                    "children": [
                        {
                            "type": "expression_statement",
                            "label": "mocked_value = backend.server.v2.store.model.CreatorsResponse(\n        creators=[\n            backend.server.v2.store.model.Creator(\n                name=f\"Creator {i}\",\n                username=f\"creator{i}\",\n                description=f\"Creator {i} description\",\n                avatar_url=f\"avatar{i}.jpg\",\n                num_agents=1,\n                agent_rating=4.5,\n                agent_runs=100,\n                is_featured=False,\n            )\n            for i in range(5)\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        ),\n    )",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mocked_value = backend.server.v2.store.model.CreatorsResponse(\n        creators=[\n            backend.server.v2.store.model.Creator(\n                name=f\"Creator {i}\",\n                username=f\"creator{i}\",\n                description=f\"Creator {i} description\",\n                avatar_url=f\"avatar{i}.jpg\",\n                num_agents=1,\n                agent_rating=4.5,\n                agent_runs=100,\n                is_featured=False,\n            )\n            for i in range(5)\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        ),\n    )",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "mocked_value",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "backend.server.v2.store.model.CreatorsResponse(\n        creators=[\n            backend.server.v2.store.model.Creator(\n                name=f\"Creator {i}\",\n                username=f\"creator{i}\",\n                description=f\"Creator {i} description\",\n                avatar_url=f\"avatar{i}.jpg\",\n                num_agents=1,\n                agent_rating=4.5,\n                agent_runs=100,\n                is_featured=False,\n            )\n            for i in range(5)\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        ),\n    )",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "backend.server.v2.store.model.CreatorsResponse",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "backend.server.v2.store.model",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "backend.server.v2.store",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "backend.server.v2",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "backend",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "server",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "v2",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "store",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "model",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "CreatorsResponse",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\n        creators=[\n            backend.server.v2.store.model.Creator(\n                name=f\"Creator {i}\",\n                username=f\"creator{i}\",\n                description=f\"Creator {i} description\",\n                avatar_url=f\"avatar{i}.jpg\",\n                num_agents=1,\n                agent_rating=4.5,\n                agent_runs=100,\n                is_featured=False,\n            )\n            for i in range(5)\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        ),\n    )",
                                                    "children": [
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "creators=[\n            backend.server.v2.store.model.Creator(\n                name=f\"Creator {i}\",\n                username=f\"creator{i}\",\n                description=f\"Creator {i} description\",\n                avatar_url=f\"avatar{i}.jpg\",\n                num_agents=1,\n                agent_rating=4.5,\n                agent_runs=100,\n                is_featured=False,\n            )\n            for i in range(5)\n        ]",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "creators",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "list_comprehension",
                                                                    "label": "[\n            backend.server.v2.store.model.Creator(\n                name=f\"Creator {i}\",\n                username=f\"creator{i}\",\n                description=f\"Creator {i} description\",\n                avatar_url=f\"avatar{i}.jpg\",\n                num_agents=1,\n                agent_rating=4.5,\n                agent_runs=100,\n                is_featured=False,\n            )\n            for i in range(5)\n        ]",
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "label": "backend.server.v2.store.model.Creator(\n                name=f\"Creator {i}\",\n                username=f\"creator{i}\",\n                description=f\"Creator {i} description\",\n                avatar_url=f\"avatar{i}.jpg\",\n                num_agents=1,\n                agent_rating=4.5,\n                agent_runs=100,\n                is_featured=False,\n            )",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server.v2.store.model.Creator",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "label": "backend.server.v2.store.model",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "label": "backend.server.v2.store",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "label": "backend.server.v2",
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "attribute",
                                                                                                                    "label": "backend.server",
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "label": "backend",
                                                                                                                            "children": []
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "label": "server",
                                                                                                                            "children": []
                                                                                                                        }
                                                                                                                    ]
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "v2",
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "label": "store",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "model",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "Creator",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "label": "(\n                name=f\"Creator {i}\",\n                username=f\"creator{i}\",\n                description=f\"Creator {i} description\",\n                avatar_url=f\"avatar{i}.jpg\",\n                num_agents=1,\n                agent_rating=4.5,\n                agent_runs=100,\n                is_featured=False,\n            )",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "name=f\"Creator {i}\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "name",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "f\"Creator {i}\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "f\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "Creator ",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "interpolation",
                                                                                                            "label": "{i}",
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "i",
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "username=f\"creator{i}\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "username",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "f\"creator{i}\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "f\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "creator",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "interpolation",
                                                                                                            "label": "{i}",
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "i",
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "description=f\"Creator {i} description\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "description",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "f\"Creator {i} description\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "f\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "Creator ",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "interpolation",
                                                                                                            "label": "{i}",
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "i",
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": " description",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "avatar_url=f\"avatar{i}.jpg\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "avatar_url",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "f\"avatar{i}.jpg\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "f\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "avatar",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "interpolation",
                                                                                                            "label": "{i}",
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "i",
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": ".jpg",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "num_agents=1",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "num_agents",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "integer",
                                                                                                    "label": "1",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "agent_rating=4.5",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "agent_rating",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "float",
                                                                                                    "label": "4.5",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "agent_runs=100",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "agent_runs",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "integer",
                                                                                                    "label": "100",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "is_featured=False",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "is_featured",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "false",
                                                                                                    "label": "False",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "for_in_clause",
                                                                            "label": "for i in range(5)",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "i",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "call",
                                                                                    "label": "range(5)",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "range",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "label": "(5)",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "integer",
                                                                                                    "label": "5",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        )",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "pagination",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "label": "backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        )",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "backend.server.v2.store.model.Pagination",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server.v2.store.model",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "label": "backend.server.v2.store",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "label": "backend.server.v2",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "label": "backend.server",
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "backend",
                                                                                                                    "children": []
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "server",
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "label": "v2",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "store",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "model",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "Pagination",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "label": "(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        )",
                                                                            "children": [
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "current_page=2",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "current_page",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "2",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "total_items=15",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "total_items",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "15",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "total_pages=3",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "total_pages",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "3",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "page_size=5",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "page_size",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "5",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creators\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creators\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "mock_db_call",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "mocker.patch(\"backend.server.v2.store.db.get_store_creators\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "mocker.patch",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "mocker",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "patch",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"backend.server.v2.store.db.get_store_creators\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"backend.server.v2.store.db.get_store_creators\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "backend.server.v2.store.db.get_store_creators",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call.return_value = mocked_value",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mock_db_call.return_value = mocked_value",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "mock_db_call.return_value",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "mock_db_call",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "return_value",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "mocked_value",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "response = client.get(\"/creators?page=2&page_size=5\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "response = client.get(\"/creators?page=2&page_size=5\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "response",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "client.get(\"/creators?page=2&page_size=5\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "client.get",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "client",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "get",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"/creators?page=2&page_size=5\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"/creators?page=2&page_size=5\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "/creators?page=2&page_size=5",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert response.status_code == 200",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "response.status_code == 200",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "response.status_code",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "response",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "status_code",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "200",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "data = backend.server.v2.store.model.CreatorsResponse.model_validate(\n        response.json()\n    )",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "data = backend.server.v2.store.model.CreatorsResponse.model_validate(\n        response.json()\n    )",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "data",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "backend.server.v2.store.model.CreatorsResponse.model_validate(\n        response.json()\n    )",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "backend.server.v2.store.model.CreatorsResponse.model_validate",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "backend.server.v2.store.model.CreatorsResponse",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "backend.server.v2.store.model",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "backend.server.v2.store",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server.v2",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "label": "backend.server",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "backend",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "server",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "v2",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "store",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "model",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "CreatorsResponse",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "model_validate",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\n        response.json()\n    )",
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "label": "response.json()",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "response.json",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "response",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "json",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "label": "()",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert len(data.creators) == 5",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "len(data.creators) == 5",
                                    "children": [
                                        {
                                            "type": "call",
                                            "label": "len(data.creators)",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "len",
                                                    "children": []
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(data.creators)",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "data.creators",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "data",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "creators",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "5",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert data.pagination.current_page == 2",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "data.pagination.current_page == 2",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "data.pagination.current_page",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "data.pagination",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "data",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "pagination",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "current_page",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "2",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert data.pagination.page_size == 5",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "data.pagination.page_size == 5",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "data.pagination.page_size",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "data.pagination",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "data",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "pagination",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "page_size",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "5",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call.assert_called_once_with(\n        featured=False, search_query=None, sorted_by=None, page=2, page_size=5\n    )",
                            "children": [
                                {
                                    "type": "call",
                                    "label": "mock_db_call.assert_called_once_with(\n        featured=False, search_query=None, sorted_by=None, page=2, page_size=5\n    )",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "mock_db_call.assert_called_once_with",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "mock_db_call",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "assert_called_once_with",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "argument_list",
                                            "label": "(\n        featured=False, search_query=None, sorted_by=None, page=2, page_size=5\n    )",
                                            "children": [
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "featured=False",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "featured",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "false",
                                                            "label": "False",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "search_query=None",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "search_query",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "none",
                                                            "label": "None",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "sorted_by=None",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "sorted_by",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "none",
                                                            "label": "None",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "page=2",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "page",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "integer",
                                                            "label": "2",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "page_size=5",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "page_size",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "integer",
                                                            "label": "5",
                                                            "children": []
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "function_definition",
            "label": "def test_get_creators_malformed_request(mocker: pytest_mock.MockFixture):\n    # Test with invalid page number\n    response = client.get(\"/creators?page=-1\")\n    assert response.status_code == 422\n\n    # Test with invalid page size\n    response = client.get(\"/creators?page_size=0\")\n    assert response.status_code == 422\n\n    # Test with non-numeric values\n    response = client.get(\"/creators?page=abc&page_size=def\")\n    assert response.status_code == 422\n\n    # Verify no DB calls were made\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creators\")\n    mock_db_call.assert_not_called()",
            "children": [
                {
                    "type": "identifier",
                    "label": "test_get_creators_malformed_request",
                    "children": []
                },
                {
                    "type": "parameters",
                    "label": "(mocker: pytest_mock.MockFixture)",
                    "children": [
                        {
                            "type": "typed_parameter",
                            "label": "mocker: pytest_mock.MockFixture",
                            "children": [
                                {
                                    "type": "identifier",
                                    "label": "mocker",
                                    "children": []
                                },
                                {
                                    "type": "type",
                                    "label": "pytest_mock.MockFixture",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "pytest_mock.MockFixture",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "pytest_mock",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "MockFixture",
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "comment",
                    "label": "# Test with invalid page number",
                    "children": []
                },
                {
                    "type": "block",
                    "label": "response = client.get(\"/creators?page=-1\")\n    assert response.status_code == 422\n\n    # Test with invalid page size\n    response = client.get(\"/creators?page_size=0\")\n    assert response.status_code == 422\n\n    # Test with non-numeric values\n    response = client.get(\"/creators?page=abc&page_size=def\")\n    assert response.status_code == 422\n\n    # Verify no DB calls were made\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creators\")\n    mock_db_call.assert_not_called()",
                    "children": [
                        {
                            "type": "expression_statement",
                            "label": "response = client.get(\"/creators?page=-1\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "response = client.get(\"/creators?page=-1\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "response",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "client.get(\"/creators?page=-1\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "client.get",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "client",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "get",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"/creators?page=-1\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"/creators?page=-1\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "/creators?page=-1",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert response.status_code == 422",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "response.status_code == 422",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "response.status_code",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "response",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "status_code",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "422",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "comment",
                            "label": "# Test with invalid page size",
                            "children": []
                        },
                        {
                            "type": "expression_statement",
                            "label": "response = client.get(\"/creators?page_size=0\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "response = client.get(\"/creators?page_size=0\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "response",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "client.get(\"/creators?page_size=0\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "client.get",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "client",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "get",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"/creators?page_size=0\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"/creators?page_size=0\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "/creators?page_size=0",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert response.status_code == 422",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "response.status_code == 422",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "response.status_code",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "response",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "status_code",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "422",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "comment",
                            "label": "# Test with non-numeric values",
                            "children": []
                        },
                        {
                            "type": "expression_statement",
                            "label": "response = client.get(\"/creators?page=abc&page_size=def\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "response = client.get(\"/creators?page=abc&page_size=def\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "response",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "client.get(\"/creators?page=abc&page_size=def\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "client.get",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "client",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "get",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"/creators?page=abc&page_size=def\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"/creators?page=abc&page_size=def\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "/creators?page=abc&page_size=def",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert response.status_code == 422",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "response.status_code == 422",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "response.status_code",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "response",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "status_code",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "422",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "comment",
                            "label": "# Verify no DB calls were made",
                            "children": []
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creators\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creators\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "mock_db_call",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "mocker.patch(\"backend.server.v2.store.db.get_store_creators\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "mocker.patch",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "mocker",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "patch",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"backend.server.v2.store.db.get_store_creators\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"backend.server.v2.store.db.get_store_creators\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "backend.server.v2.store.db.get_store_creators",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call.assert_not_called()",
                            "children": [
                                {
                                    "type": "call",
                                    "label": "mock_db_call.assert_not_called()",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "mock_db_call.assert_not_called",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "mock_db_call",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "assert_not_called",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "argument_list",
                                            "label": "()",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "function_definition",
            "label": "def test_get_creator_details(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.CreatorDetails(\n        name=\"Test User\",\n        username=\"creator1\",\n        description=\"Test creator description\",\n        links=[\"link1.com\", \"link2.com\"],\n        avatar_url=\"avatar.jpg\",\n        agent_rating=4.8,\n        agent_runs=1000,\n        top_categories=[\"category1\", \"category2\"],\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creator_details\")\n    mock_db_call.return_value = mocked_value\n\n    response = client.get(\"/creator/creator1\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.CreatorDetails.model_validate(response.json())\n    assert data.username == \"creator1\"\n    assert data.name == \"Test User\"\n    mock_db_call.assert_called_once_with(username=\"creator1\")",
            "children": [
                {
                    "type": "identifier",
                    "label": "test_get_creator_details",
                    "children": []
                },
                {
                    "type": "parameters",
                    "label": "(mocker: pytest_mock.MockFixture)",
                    "children": [
                        {
                            "type": "typed_parameter",
                            "label": "mocker: pytest_mock.MockFixture",
                            "children": [
                                {
                                    "type": "identifier",
                                    "label": "mocker",
                                    "children": []
                                },
                                {
                                    "type": "type",
                                    "label": "pytest_mock.MockFixture",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "pytest_mock.MockFixture",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "pytest_mock",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "MockFixture",
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "block",
                    "label": "mocked_value = backend.server.v2.store.model.CreatorDetails(\n        name=\"Test User\",\n        username=\"creator1\",\n        description=\"Test creator description\",\n        links=[\"link1.com\", \"link2.com\"],\n        avatar_url=\"avatar.jpg\",\n        agent_rating=4.8,\n        agent_runs=1000,\n        top_categories=[\"category1\", \"category2\"],\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creator_details\")\n    mock_db_call.return_value = mocked_value\n\n    response = client.get(\"/creator/creator1\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.CreatorDetails.model_validate(response.json())\n    assert data.username == \"creator1\"\n    assert data.name == \"Test User\"\n    mock_db_call.assert_called_once_with(username=\"creator1\")",
                    "children": [
                        {
                            "type": "expression_statement",
                            "label": "mocked_value = backend.server.v2.store.model.CreatorDetails(\n        name=\"Test User\",\n        username=\"creator1\",\n        description=\"Test creator description\",\n        links=[\"link1.com\", \"link2.com\"],\n        avatar_url=\"avatar.jpg\",\n        agent_rating=4.8,\n        agent_runs=1000,\n        top_categories=[\"category1\", \"category2\"],\n    )",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mocked_value = backend.server.v2.store.model.CreatorDetails(\n        name=\"Test User\",\n        username=\"creator1\",\n        description=\"Test creator description\",\n        links=[\"link1.com\", \"link2.com\"],\n        avatar_url=\"avatar.jpg\",\n        agent_rating=4.8,\n        agent_runs=1000,\n        top_categories=[\"category1\", \"category2\"],\n    )",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "mocked_value",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "backend.server.v2.store.model.CreatorDetails(\n        name=\"Test User\",\n        username=\"creator1\",\n        description=\"Test creator description\",\n        links=[\"link1.com\", \"link2.com\"],\n        avatar_url=\"avatar.jpg\",\n        agent_rating=4.8,\n        agent_runs=1000,\n        top_categories=[\"category1\", \"category2\"],\n    )",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "backend.server.v2.store.model.CreatorDetails",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "backend.server.v2.store.model",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "backend.server.v2.store",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "backend.server.v2",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "backend",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "server",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "v2",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "store",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "model",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "CreatorDetails",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\n        name=\"Test User\",\n        username=\"creator1\",\n        description=\"Test creator description\",\n        links=[\"link1.com\", \"link2.com\"],\n        avatar_url=\"avatar.jpg\",\n        agent_rating=4.8,\n        agent_runs=1000,\n        top_categories=[\"category1\", \"category2\"],\n    )",
                                                    "children": [
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "name=\"Test User\"",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "name",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string",
                                                                    "label": "\"Test User\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "string_start",
                                                                            "label": "\"",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string_content",
                                                                            "label": "Test User",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string_end",
                                                                            "label": "\"",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "username=\"creator1\"",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "username",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string",
                                                                    "label": "\"creator1\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "string_start",
                                                                            "label": "\"",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string_content",
                                                                            "label": "creator1",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string_end",
                                                                            "label": "\"",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "description=\"Test creator description\"",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "description",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string",
                                                                    "label": "\"Test creator description\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "string_start",
                                                                            "label": "\"",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string_content",
                                                                            "label": "Test creator description",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string_end",
                                                                            "label": "\"",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "links=[\"link1.com\", \"link2.com\"]",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "links",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "list",
                                                                    "label": "[\"link1.com\", \"link2.com\"]",
                                                                    "children": [
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"link1.com\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "link1.com",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"link2.com\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "link2.com",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "avatar_url=\"avatar.jpg\"",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "avatar_url",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string",
                                                                    "label": "\"avatar.jpg\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "string_start",
                                                                            "label": "\"",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string_content",
                                                                            "label": "avatar.jpg",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string_end",
                                                                            "label": "\"",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "agent_rating=4.8",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "agent_rating",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "float",
                                                                    "label": "4.8",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "agent_runs=1000",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "agent_runs",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "integer",
                                                                    "label": "1000",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "top_categories=[\"category1\", \"category2\"]",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "top_categories",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "list",
                                                                    "label": "[\"category1\", \"category2\"]",
                                                                    "children": [
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"category1\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "category1",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"category2\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "category2",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creator_details\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creator_details\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "mock_db_call",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "mocker.patch(\"backend.server.v2.store.db.get_store_creator_details\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "mocker.patch",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "mocker",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "patch",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"backend.server.v2.store.db.get_store_creator_details\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"backend.server.v2.store.db.get_store_creator_details\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "backend.server.v2.store.db.get_store_creator_details",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call.return_value = mocked_value",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mock_db_call.return_value = mocked_value",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "mock_db_call.return_value",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "mock_db_call",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "return_value",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "mocked_value",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "response = client.get(\"/creator/creator1\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "response = client.get(\"/creator/creator1\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "response",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "client.get(\"/creator/creator1\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "client.get",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "client",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "get",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"/creator/creator1\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"/creator/creator1\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "/creator/creator1",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert response.status_code == 200",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "response.status_code == 200",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "response.status_code",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "response",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "status_code",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "200",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "data = backend.server.v2.store.model.CreatorDetails.model_validate(response.json())",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "data = backend.server.v2.store.model.CreatorDetails.model_validate(response.json())",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "data",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "backend.server.v2.store.model.CreatorDetails.model_validate(response.json())",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "backend.server.v2.store.model.CreatorDetails.model_validate",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "backend.server.v2.store.model.CreatorDetails",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "backend.server.v2.store.model",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "backend.server.v2.store",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server.v2",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "label": "backend.server",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "backend",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "server",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "v2",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "store",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "model",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "CreatorDetails",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "model_validate",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(response.json())",
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "label": "response.json()",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "response.json",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "response",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "json",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "label": "()",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert data.username == \"creator1\"",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "data.username == \"creator1\"",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "data.username",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "data",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "username",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "string",
                                            "label": "\"creator1\"",
                                            "children": [
                                                {
                                                    "type": "string_start",
                                                    "label": "\"",
                                                    "children": []
                                                },
                                                {
                                                    "type": "string_content",
                                                    "label": "creator1",
                                                    "children": []
                                                },
                                                {
                                                    "type": "string_end",
                                                    "label": "\"",
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert data.name == \"Test User\"",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "data.name == \"Test User\"",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "data.name",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "data",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "name",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "string",
                                            "label": "\"Test User\"",
                                            "children": [
                                                {
                                                    "type": "string_start",
                                                    "label": "\"",
                                                    "children": []
                                                },
                                                {
                                                    "type": "string_content",
                                                    "label": "Test User",
                                                    "children": []
                                                },
                                                {
                                                    "type": "string_end",
                                                    "label": "\"",
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call.assert_called_once_with(username=\"creator1\")",
                            "children": [
                                {
                                    "type": "call",
                                    "label": "mock_db_call.assert_called_once_with(username=\"creator1\")",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "mock_db_call.assert_called_once_with",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "mock_db_call",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "assert_called_once_with",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "argument_list",
                                            "label": "(username=\"creator1\")",
                                            "children": [
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "username=\"creator1\"",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "username",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "string",
                                                            "label": "\"creator1\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "creator1",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "function_definition",
            "label": "def test_get_submissions_success(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreSubmissionsResponse(\n        submissions=[\n            backend.server.v2.store.model.StoreSubmission(\n                name=\"Test Agent\",\n                description=\"Test agent description\",\n                image_urls=[\"test.jpg\"],\n                date_submitted=datetime.datetime.now(),\n                status=prisma.enums.SubmissionStatus.APPROVED,\n                runs=50,\n                rating=4.2,\n                agent_id=\"test-agent-id\",\n                agent_version=1,\n                sub_heading=\"Test agent subheading\",\n                slug=\"test-agent\",\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_submissions\")\n    mock_db_call.return_value = mocked_value\n\n    response = client.get(\"/submissions\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.StoreSubmissionsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.submissions) == 1\n    assert data.submissions[0].name == \"Test Agent\"\n    assert data.pagination.current_page == 1\n    mock_db_call.assert_called_once_with(user_id=\"test-user-id\", page=1, page_size=20)",
            "children": [
                {
                    "type": "identifier",
                    "label": "test_get_submissions_success",
                    "children": []
                },
                {
                    "type": "parameters",
                    "label": "(mocker: pytest_mock.MockFixture)",
                    "children": [
                        {
                            "type": "typed_parameter",
                            "label": "mocker: pytest_mock.MockFixture",
                            "children": [
                                {
                                    "type": "identifier",
                                    "label": "mocker",
                                    "children": []
                                },
                                {
                                    "type": "type",
                                    "label": "pytest_mock.MockFixture",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "pytest_mock.MockFixture",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "pytest_mock",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "MockFixture",
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "block",
                    "label": "mocked_value = backend.server.v2.store.model.StoreSubmissionsResponse(\n        submissions=[\n            backend.server.v2.store.model.StoreSubmission(\n                name=\"Test Agent\",\n                description=\"Test agent description\",\n                image_urls=[\"test.jpg\"],\n                date_submitted=datetime.datetime.now(),\n                status=prisma.enums.SubmissionStatus.APPROVED,\n                runs=50,\n                rating=4.2,\n                agent_id=\"test-agent-id\",\n                agent_version=1,\n                sub_heading=\"Test agent subheading\",\n                slug=\"test-agent\",\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_submissions\")\n    mock_db_call.return_value = mocked_value\n\n    response = client.get(\"/submissions\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.StoreSubmissionsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.submissions) == 1\n    assert data.submissions[0].name == \"Test Agent\"\n    assert data.pagination.current_page == 1\n    mock_db_call.assert_called_once_with(user_id=\"test-user-id\", page=1, page_size=20)",
                    "children": [
                        {
                            "type": "expression_statement",
                            "label": "mocked_value = backend.server.v2.store.model.StoreSubmissionsResponse(\n        submissions=[\n            backend.server.v2.store.model.StoreSubmission(\n                name=\"Test Agent\",\n                description=\"Test agent description\",\n                image_urls=[\"test.jpg\"],\n                date_submitted=datetime.datetime.now(),\n                status=prisma.enums.SubmissionStatus.APPROVED,\n                runs=50,\n                rating=4.2,\n                agent_id=\"test-agent-id\",\n                agent_version=1,\n                sub_heading=\"Test agent subheading\",\n                slug=\"test-agent\",\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mocked_value = backend.server.v2.store.model.StoreSubmissionsResponse(\n        submissions=[\n            backend.server.v2.store.model.StoreSubmission(\n                name=\"Test Agent\",\n                description=\"Test agent description\",\n                image_urls=[\"test.jpg\"],\n                date_submitted=datetime.datetime.now(),\n                status=prisma.enums.SubmissionStatus.APPROVED,\n                runs=50,\n                rating=4.2,\n                agent_id=\"test-agent-id\",\n                agent_version=1,\n                sub_heading=\"Test agent subheading\",\n                slug=\"test-agent\",\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "mocked_value",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "backend.server.v2.store.model.StoreSubmissionsResponse(\n        submissions=[\n            backend.server.v2.store.model.StoreSubmission(\n                name=\"Test Agent\",\n                description=\"Test agent description\",\n                image_urls=[\"test.jpg\"],\n                date_submitted=datetime.datetime.now(),\n                status=prisma.enums.SubmissionStatus.APPROVED,\n                runs=50,\n                rating=4.2,\n                agent_id=\"test-agent-id\",\n                agent_version=1,\n                sub_heading=\"Test agent subheading\",\n                slug=\"test-agent\",\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "backend.server.v2.store.model.StoreSubmissionsResponse",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "backend.server.v2.store.model",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "backend.server.v2.store",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "backend.server.v2",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "backend",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "server",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "v2",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "store",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "model",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "StoreSubmissionsResponse",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\n        submissions=[\n            backend.server.v2.store.model.StoreSubmission(\n                name=\"Test Agent\",\n                description=\"Test agent description\",\n                image_urls=[\"test.jpg\"],\n                date_submitted=datetime.datetime.now(),\n                status=prisma.enums.SubmissionStatus.APPROVED,\n                runs=50,\n                rating=4.2,\n                agent_id=\"test-agent-id\",\n                agent_version=1,\n                sub_heading=\"Test agent subheading\",\n                slug=\"test-agent\",\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                                                    "children": [
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "submissions=[\n            backend.server.v2.store.model.StoreSubmission(\n                name=\"Test Agent\",\n                description=\"Test agent description\",\n                image_urls=[\"test.jpg\"],\n                date_submitted=datetime.datetime.now(),\n                status=prisma.enums.SubmissionStatus.APPROVED,\n                runs=50,\n                rating=4.2,\n                agent_id=\"test-agent-id\",\n                agent_version=1,\n                sub_heading=\"Test agent subheading\",\n                slug=\"test-agent\",\n            )\n        ]",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "submissions",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "list",
                                                                    "label": "[\n            backend.server.v2.store.model.StoreSubmission(\n                name=\"Test Agent\",\n                description=\"Test agent description\",\n                image_urls=[\"test.jpg\"],\n                date_submitted=datetime.datetime.now(),\n                status=prisma.enums.SubmissionStatus.APPROVED,\n                runs=50,\n                rating=4.2,\n                agent_id=\"test-agent-id\",\n                agent_version=1,\n                sub_heading=\"Test agent subheading\",\n                slug=\"test-agent\",\n            )\n        ]",
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "label": "backend.server.v2.store.model.StoreSubmission(\n                name=\"Test Agent\",\n                description=\"Test agent description\",\n                image_urls=[\"test.jpg\"],\n                date_submitted=datetime.datetime.now(),\n                status=prisma.enums.SubmissionStatus.APPROVED,\n                runs=50,\n                rating=4.2,\n                agent_id=\"test-agent-id\",\n                agent_version=1,\n                sub_heading=\"Test agent subheading\",\n                slug=\"test-agent\",\n            )",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server.v2.store.model.StoreSubmission",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "label": "backend.server.v2.store.model",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "label": "backend.server.v2.store",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "label": "backend.server.v2",
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "attribute",
                                                                                                                    "label": "backend.server",
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "label": "backend",
                                                                                                                            "children": []
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "label": "server",
                                                                                                                            "children": []
                                                                                                                        }
                                                                                                                    ]
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "v2",
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "label": "store",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "model",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "StoreSubmission",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "label": "(\n                name=\"Test Agent\",\n                description=\"Test agent description\",\n                image_urls=[\"test.jpg\"],\n                date_submitted=datetime.datetime.now(),\n                status=prisma.enums.SubmissionStatus.APPROVED,\n                runs=50,\n                rating=4.2,\n                agent_id=\"test-agent-id\",\n                agent_version=1,\n                sub_heading=\"Test agent subheading\",\n                slug=\"test-agent\",\n            )",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "name=\"Test Agent\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "name",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"Test Agent\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "Test Agent",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "description=\"Test agent description\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "description",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"Test agent description\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "Test agent description",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "image_urls=[\"test.jpg\"]",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "image_urls",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "list",
                                                                                                    "label": "[\"test.jpg\"]",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string",
                                                                                                            "label": "\"test.jpg\"",
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "string_start",
                                                                                                                    "label": "\"",
                                                                                                                    "children": []
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "string_content",
                                                                                                                    "label": "test.jpg",
                                                                                                                    "children": []
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "string_end",
                                                                                                                    "label": "\"",
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "date_submitted=datetime.datetime.now()",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "date_submitted",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "call",
                                                                                                    "label": "datetime.datetime.now()",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "label": "datetime.datetime.now",
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "attribute",
                                                                                                                    "label": "datetime.datetime",
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "label": "datetime",
                                                                                                                            "children": []
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "label": "datetime",
                                                                                                                            "children": []
                                                                                                                        }
                                                                                                                    ]
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "now",
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "argument_list",
                                                                                                            "label": "()",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "status=prisma.enums.SubmissionStatus.APPROVED",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "status",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "label": "prisma.enums.SubmissionStatus.APPROVED",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "label": "prisma.enums.SubmissionStatus",
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "attribute",
                                                                                                                    "label": "prisma.enums",
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "label": "prisma",
                                                                                                                            "children": []
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "label": "enums",
                                                                                                                            "children": []
                                                                                                                        }
                                                                                                                    ]
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "SubmissionStatus",
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "label": "APPROVED",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "runs=50",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "runs",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "integer",
                                                                                                    "label": "50",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "rating=4.2",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "rating",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "float",
                                                                                                    "label": "4.2",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "agent_id=\"test-agent-id\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "agent_id",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"test-agent-id\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "test-agent-id",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "agent_version=1",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "agent_version",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "integer",
                                                                                                    "label": "1",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "sub_heading=\"Test agent subheading\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "sub_heading",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"Test agent subheading\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "Test agent subheading",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "label": "slug=\"test-agent\"",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "slug",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"test-agent\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "test-agent",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        )",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "pagination",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "label": "backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        )",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "backend.server.v2.store.model.Pagination",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server.v2.store.model",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "label": "backend.server.v2.store",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "label": "backend.server.v2",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "label": "backend.server",
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "backend",
                                                                                                                    "children": []
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "server",
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "label": "v2",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "store",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "model",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "Pagination",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "label": "(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        )",
                                                                            "children": [
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "current_page=1",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "current_page",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "1",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "total_items=1",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "total_items",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "1",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "total_pages=1",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "total_pages",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "1",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "page_size=20",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "page_size",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "20",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_submissions\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_submissions\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "mock_db_call",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "mocker.patch(\"backend.server.v2.store.db.get_store_submissions\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "mocker.patch",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "mocker",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "patch",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"backend.server.v2.store.db.get_store_submissions\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"backend.server.v2.store.db.get_store_submissions\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "backend.server.v2.store.db.get_store_submissions",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call.return_value = mocked_value",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mock_db_call.return_value = mocked_value",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "mock_db_call.return_value",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "mock_db_call",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "return_value",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "mocked_value",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "response = client.get(\"/submissions\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "response = client.get(\"/submissions\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "response",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "client.get(\"/submissions\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "client.get",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "client",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "get",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"/submissions\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"/submissions\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "/submissions",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert response.status_code == 200",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "response.status_code == 200",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "response.status_code",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "response",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "status_code",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "200",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "data = backend.server.v2.store.model.StoreSubmissionsResponse.model_validate(\n        response.json()\n    )",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "data = backend.server.v2.store.model.StoreSubmissionsResponse.model_validate(\n        response.json()\n    )",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "data",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "backend.server.v2.store.model.StoreSubmissionsResponse.model_validate(\n        response.json()\n    )",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "backend.server.v2.store.model.StoreSubmissionsResponse.model_validate",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "backend.server.v2.store.model.StoreSubmissionsResponse",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "backend.server.v2.store.model",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "backend.server.v2.store",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server.v2",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "label": "backend.server",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "backend",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "server",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "v2",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "store",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "model",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "StoreSubmissionsResponse",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "model_validate",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\n        response.json()\n    )",
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "label": "response.json()",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "response.json",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "response",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "json",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "label": "()",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert len(data.submissions) == 1",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "len(data.submissions) == 1",
                                    "children": [
                                        {
                                            "type": "call",
                                            "label": "len(data.submissions)",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "len",
                                                    "children": []
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(data.submissions)",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "data.submissions",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "data",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "submissions",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "1",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert data.submissions[0].name == \"Test Agent\"",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "data.submissions[0].name == \"Test Agent\"",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "data.submissions[0].name",
                                            "children": [
                                                {
                                                    "type": "subscript",
                                                    "label": "data.submissions[0]",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "data.submissions",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "data",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "submissions",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "integer",
                                                            "label": "0",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "name",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "string",
                                            "label": "\"Test Agent\"",
                                            "children": [
                                                {
                                                    "type": "string_start",
                                                    "label": "\"",
                                                    "children": []
                                                },
                                                {
                                                    "type": "string_content",
                                                    "label": "Test Agent",
                                                    "children": []
                                                },
                                                {
                                                    "type": "string_end",
                                                    "label": "\"",
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert data.pagination.current_page == 1",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "data.pagination.current_page == 1",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "data.pagination.current_page",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "data.pagination",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "data",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "pagination",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "current_page",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "1",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call.assert_called_once_with(user_id=\"test-user-id\", page=1, page_size=20)",
                            "children": [
                                {
                                    "type": "call",
                                    "label": "mock_db_call.assert_called_once_with(user_id=\"test-user-id\", page=1, page_size=20)",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "mock_db_call.assert_called_once_with",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "mock_db_call",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "assert_called_once_with",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "argument_list",
                                            "label": "(user_id=\"test-user-id\", page=1, page_size=20)",
                                            "children": [
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "user_id=\"test-user-id\"",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "user_id",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "string",
                                                            "label": "\"test-user-id\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "test-user-id",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "page=1",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "page",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "integer",
                                                            "label": "1",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "page_size=20",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "page_size",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "integer",
                                                            "label": "20",
                                                            "children": []
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "function_definition",
            "label": "def test_get_submissions_pagination(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreSubmissionsResponse(\n        submissions=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=10,\n            total_pages=2,\n            page_size=5,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_submissions\")\n    mock_db_call.return_value = mocked_value\n\n    response = client.get(\"/submissions?page=2&page_size=5\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.StoreSubmissionsResponse.model_validate(\n        response.json()\n    )\n    assert data.pagination.current_page == 2\n    assert data.pagination.page_size == 5\n    mock_db_call.assert_called_once_with(user_id=\"test-user-id\", page=2, page_size=5)",
            "children": [
                {
                    "type": "identifier",
                    "label": "test_get_submissions_pagination",
                    "children": []
                },
                {
                    "type": "parameters",
                    "label": "(mocker: pytest_mock.MockFixture)",
                    "children": [
                        {
                            "type": "typed_parameter",
                            "label": "mocker: pytest_mock.MockFixture",
                            "children": [
                                {
                                    "type": "identifier",
                                    "label": "mocker",
                                    "children": []
                                },
                                {
                                    "type": "type",
                                    "label": "pytest_mock.MockFixture",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "pytest_mock.MockFixture",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "pytest_mock",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "MockFixture",
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "block",
                    "label": "mocked_value = backend.server.v2.store.model.StoreSubmissionsResponse(\n        submissions=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=10,\n            total_pages=2,\n            page_size=5,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_submissions\")\n    mock_db_call.return_value = mocked_value\n\n    response = client.get(\"/submissions?page=2&page_size=5\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.StoreSubmissionsResponse.model_validate(\n        response.json()\n    )\n    assert data.pagination.current_page == 2\n    assert data.pagination.page_size == 5\n    mock_db_call.assert_called_once_with(user_id=\"test-user-id\", page=2, page_size=5)",
                    "children": [
                        {
                            "type": "expression_statement",
                            "label": "mocked_value = backend.server.v2.store.model.StoreSubmissionsResponse(\n        submissions=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=10,\n            total_pages=2,\n            page_size=5,\n        ),\n    )",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mocked_value = backend.server.v2.store.model.StoreSubmissionsResponse(\n        submissions=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=10,\n            total_pages=2,\n            page_size=5,\n        ),\n    )",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "mocked_value",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "backend.server.v2.store.model.StoreSubmissionsResponse(\n        submissions=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=10,\n            total_pages=2,\n            page_size=5,\n        ),\n    )",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "backend.server.v2.store.model.StoreSubmissionsResponse",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "backend.server.v2.store.model",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "backend.server.v2.store",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "backend.server.v2",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "backend",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "server",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "v2",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "store",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "model",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "StoreSubmissionsResponse",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\n        submissions=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=10,\n            total_pages=2,\n            page_size=5,\n        ),\n    )",
                                                    "children": [
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "submissions=[]",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "submissions",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "list",
                                                                    "label": "[]",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=10,\n            total_pages=2,\n            page_size=5,\n        )",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "pagination",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "label": "backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=10,\n            total_pages=2,\n            page_size=5,\n        )",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "backend.server.v2.store.model.Pagination",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server.v2.store.model",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "label": "backend.server.v2.store",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "label": "backend.server.v2",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "label": "backend.server",
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "backend",
                                                                                                                    "children": []
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "server",
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "label": "v2",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "store",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "model",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "Pagination",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "label": "(\n            current_page=2,\n            total_items=10,\n            total_pages=2,\n            page_size=5,\n        )",
                                                                            "children": [
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "current_page=2",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "current_page",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "2",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "total_items=10",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "total_items",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "10",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "total_pages=2",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "total_pages",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "2",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "page_size=5",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "page_size",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "5",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_submissions\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_submissions\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "mock_db_call",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "mocker.patch(\"backend.server.v2.store.db.get_store_submissions\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "mocker.patch",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "mocker",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "patch",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"backend.server.v2.store.db.get_store_submissions\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"backend.server.v2.store.db.get_store_submissions\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "backend.server.v2.store.db.get_store_submissions",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call.return_value = mocked_value",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mock_db_call.return_value = mocked_value",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "mock_db_call.return_value",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "mock_db_call",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "return_value",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "identifier",
                                            "label": "mocked_value",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "response = client.get(\"/submissions?page=2&page_size=5\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "response = client.get(\"/submissions?page=2&page_size=5\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "response",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "client.get(\"/submissions?page=2&page_size=5\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "client.get",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "client",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "get",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"/submissions?page=2&page_size=5\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"/submissions?page=2&page_size=5\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "/submissions?page=2&page_size=5",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert response.status_code == 200",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "response.status_code == 200",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "response.status_code",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "response",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "status_code",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "200",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "data = backend.server.v2.store.model.StoreSubmissionsResponse.model_validate(\n        response.json()\n    )",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "data = backend.server.v2.store.model.StoreSubmissionsResponse.model_validate(\n        response.json()\n    )",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "data",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "backend.server.v2.store.model.StoreSubmissionsResponse.model_validate(\n        response.json()\n    )",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "backend.server.v2.store.model.StoreSubmissionsResponse.model_validate",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "backend.server.v2.store.model.StoreSubmissionsResponse",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "backend.server.v2.store.model",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "backend.server.v2.store",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "backend.server.v2",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "label": "backend.server",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "backend",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "server",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "v2",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "store",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "model",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "StoreSubmissionsResponse",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "model_validate",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\n        response.json()\n    )",
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "label": "response.json()",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "response.json",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "response",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "json",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "label": "()",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert data.pagination.current_page == 2",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "data.pagination.current_page == 2",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "data.pagination.current_page",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "data.pagination",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "data",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "pagination",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "current_page",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "2",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert data.pagination.page_size == 5",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "data.pagination.page_size == 5",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "data.pagination.page_size",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "data.pagination",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "data",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "pagination",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "page_size",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "5",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call.assert_called_once_with(user_id=\"test-user-id\", page=2, page_size=5)",
                            "children": [
                                {
                                    "type": "call",
                                    "label": "mock_db_call.assert_called_once_with(user_id=\"test-user-id\", page=2, page_size=5)",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "mock_db_call.assert_called_once_with",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "mock_db_call",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "assert_called_once_with",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "argument_list",
                                            "label": "(user_id=\"test-user-id\", page=2, page_size=5)",
                                            "children": [
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "user_id=\"test-user-id\"",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "user_id",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "string",
                                                            "label": "\"test-user-id\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "test-user-id",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "page=2",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "page",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "integer",
                                                            "label": "2",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "page_size=5",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "page_size",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "integer",
                                                            "label": "5",
                                                            "children": []
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "function_definition",
            "label": "def test_get_submissions_malformed_request(mocker: pytest_mock.MockFixture):\n    # Test with invalid page number\n    response = client.get(\"/submissions?page=-1\")\n    assert response.status_code == 422\n\n    # Test with invalid page size\n    response = client.get(\"/submissions?page_size=0\")\n    assert response.status_code == 422\n\n    # Test with non-numeric values\n    response = client.get(\"/submissions?page=abc&page_size=def\")\n    assert response.status_code == 422\n\n    # Verify no DB calls were made\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_submissions\")\n    mock_db_call.assert_not_called()",
            "children": [
                {
                    "type": "identifier",
                    "label": "test_get_submissions_malformed_request",
                    "children": []
                },
                {
                    "type": "parameters",
                    "label": "(mocker: pytest_mock.MockFixture)",
                    "children": [
                        {
                            "type": "typed_parameter",
                            "label": "mocker: pytest_mock.MockFixture",
                            "children": [
                                {
                                    "type": "identifier",
                                    "label": "mocker",
                                    "children": []
                                },
                                {
                                    "type": "type",
                                    "label": "pytest_mock.MockFixture",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "pytest_mock.MockFixture",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "pytest_mock",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "MockFixture",
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "comment",
                    "label": "# Test with invalid page number",
                    "children": []
                },
                {
                    "type": "block",
                    "label": "response = client.get(\"/submissions?page=-1\")\n    assert response.status_code == 422\n\n    # Test with invalid page size\n    response = client.get(\"/submissions?page_size=0\")\n    assert response.status_code == 422\n\n    # Test with non-numeric values\n    response = client.get(\"/submissions?page=abc&page_size=def\")\n    assert response.status_code == 422\n\n    # Verify no DB calls were made\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_submissions\")\n    mock_db_call.assert_not_called()",
                    "children": [
                        {
                            "type": "expression_statement",
                            "label": "response = client.get(\"/submissions?page=-1\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "response = client.get(\"/submissions?page=-1\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "response",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "client.get(\"/submissions?page=-1\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "client.get",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "client",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "get",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"/submissions?page=-1\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"/submissions?page=-1\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "/submissions?page=-1",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert response.status_code == 422",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "response.status_code == 422",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "response.status_code",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "response",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "status_code",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "422",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "comment",
                            "label": "# Test with invalid page size",
                            "children": []
                        },
                        {
                            "type": "expression_statement",
                            "label": "response = client.get(\"/submissions?page_size=0\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "response = client.get(\"/submissions?page_size=0\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "response",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "client.get(\"/submissions?page_size=0\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "client.get",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "client",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "get",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"/submissions?page_size=0\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"/submissions?page_size=0\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "/submissions?page_size=0",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert response.status_code == 422",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "response.status_code == 422",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "response.status_code",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "response",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "status_code",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "422",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "comment",
                            "label": "# Test with non-numeric values",
                            "children": []
                        },
                        {
                            "type": "expression_statement",
                            "label": "response = client.get(\"/submissions?page=abc&page_size=def\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "response = client.get(\"/submissions?page=abc&page_size=def\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "response",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "client.get(\"/submissions?page=abc&page_size=def\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "client.get",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "client",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "get",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"/submissions?page=abc&page_size=def\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"/submissions?page=abc&page_size=def\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "/submissions?page=abc&page_size=def",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "assert_statement",
                            "label": "assert response.status_code == 422",
                            "children": [
                                {
                                    "type": "comparison_operator",
                                    "label": "response.status_code == 422",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "response.status_code",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "response",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "status_code",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "integer",
                                            "label": "422",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "comment",
                            "label": "# Verify no DB calls were made",
                            "children": []
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_submissions\")",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_submissions\")",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "mock_db_call",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "mocker.patch(\"backend.server.v2.store.db.get_store_submissions\")",
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "label": "mocker.patch",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "mocker",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "patch",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\"backend.server.v2.store.db.get_store_submissions\")",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"backend.server.v2.store.db.get_store_submissions\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "backend.server.v2.store.db.get_store_submissions",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "mock_db_call.assert_not_called()",
                            "children": [
                                {
                                    "type": "call",
                                    "label": "mock_db_call.assert_not_called()",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "mock_db_call.assert_not_called",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "mock_db_call",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "assert_not_called",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "argument_list",
                                            "label": "()",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ]
}