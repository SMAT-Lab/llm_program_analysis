{
  "name": "281.cj",
  "type": "File",
  "blocks": [],
  "functions": [],
  "classes": [
    {
      "name": "_DEFAULT_CANG_CLASS",
      "type": "Class",
      "blocks": [],
      "functions": [],
      "classes": []
    },
    {
      "name": "IonnxruntimeApi",
      "type": "Class",
      "blocks": [],
      "functions": [
        {
          "name": "initializeSession",
          "type": "Function",
          "blocks": [
            {
              "id": 133924163960448,
              "label": "",
              "successors": [
                {
                  "id": 133924147425536,
                  "label": "return;",
                  "successors": [
                    {
                      "id": 133924163960496,
                      "label": "return",
                      "successors": []
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "runByInputNodeData",
          "type": "Function",
          "blocks": [
            {
              "id": 133924164092208,
              "label": "",
              "successors": [
                {
                  "id": 133924147579728,
                  "label": "return;",
                  "successors": [
                    {
                      "id": 133924164092256,
                      "label": "return",
                      "successors": []
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "run",
          "type": "Function",
          "blocks": [
            {
              "id": 133924164092736,
              "label": "",
              "successors": [
                {
                  "id": 133924147579872,
                  "label": "return;",
                  "successors": [
                    {
                      "id": 133924164092784,
                      "label": "return",
                      "successors": []
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "destroy",
          "type": "Function",
          "blocks": [
            {
              "id": 133924164093264,
              "label": "",
              "successors": [
                {
                  "id": 133924147580016,
                  "label": "return;",
                  "successors": [
                    {
                      "id": 133924164093312,
                      "label": "return",
                      "successors": []
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        }
      ],
      "classes": []
    },
    {
      "name": "Session",
      "type": "Class",
      "blocks": [],
      "functions": [
        {
          "name": "initializeSession",
          "type": "Function",
          "blocks": [
            {
              "id": 133924164094512,
              "label": "",
              "successors": [
                {
                  "id": 133924147580352,
                  "label": "",
                  "successors": [
                    {
                      "id": 133924147580640,
                      "label": "var  model_path = LibC.mallocCString(onnxPath)",
                      "successors": [
                        {
                          "id": 133924147580688,
                          "label": "c_initializeSession(model_path)",
                          "successors": [
                            {
                              "id": 133924147580736,
                              "label": "LibC.free(model_path)",
                              "successors": [
                                {
                                  "id": 133924164094560,
                                  "label": "return",
                                  "successors": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "run",
          "type": "Function",
          "blocks": [
            {
              "id": 133924164095136,
              "label": "",
              "successors": [
                {
                  "id": 133924147580784,
                  "label": "",
                  "successors": [
                    {
                      "id": 133924147581072,
                      "label": "c_run()",
                      "successors": [
                        {
                          "id": 133924164095184,
                          "label": "return",
                          "successors": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "freeInput",
          "type": "Function",
          "blocks": [
            {
              "id": 133924164095952,
              "label": "",
              "successors": [
                {
                  "id": 133924147581120,
                  "label": "",
                  "successors": [
                    {
                      "id": 133924147581408,
                      "label": "for (i in 0..index )",
                      "successors": [
                        {
                          "id": 133924147581696,
                          "label": "var inputData: InputNodeData = data.read(i)",
                          "successors": [
                            {
                              "id": 133924147581744,
                              "label": "LibC.free(inputData.name)",
                              "successors": [
                                {
                                  "id": 133924147581792,
                                  "label": "LibC.free<Int64>(inputData.data)",
                                  "successors": [
                                    {
                                      "id": 133924147581840,
                                      "label": "LibC.free<Int64>(inputData.dims)",
                                      "successors": [
                                        {
                                          "id": 133924147581408
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "id": 133924147581504,
                          "label": "LibC.free<InputNodeData>(data)",
                          "successors": [
                            {
                              "id": 133924164096000,
                              "label": "return",
                              "successors": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "freeOntput",
          "type": "Function",
          "blocks": [
            {
              "id": 133924164096672,
              "label": "",
              "successors": [
                {
                  "id": 133924147581648,
                  "label": "print(\"释放\")",
                  "successors": [
                    {
                      "id": 133924147581888,
                      "label": "",
                      "successors": [
                        {
                          "id": 133924147582224,
                          "label": "var out: C_OutNodeData = data.read(0)",
                          "successors": [
                            {
                              "id": 133924147582272,
                              "label": "LibC.free<Int64>(out.dims)",
                              "successors": [
                                {
                                  "id": 133924147582320,
                                  "label": "LibC.free<C_OutNodeData>(data)",
                                  "successors": [
                                    {
                                      "id": 133924164096720,
                                      "label": "return",
                                      "successors": []
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "runByInputNodeData",
          "type": "Function",
          "blocks": [
            {
              "id": 133924164097344,
              "label": "",
              "successors": [
                {
                  "id": 133924147582368,
                  "label": "var outData:OutData",
                  "successors": [
                    {
                      "id": 133924147582416,
                      "label": "",
                      "successors": [
                        {
                          "id": 133924147582704,
                          "label": "var  OutName = LibC.mallocCString(out_put_name)",
                          "successors": [
                            {
                              "id": 133924147582800,
                              "label": "var c_out:CPointer<C_OutNodeData> = c_runByInputNodeData(inputData,3,OutName)",
                              "successors": [
                                {
                                  "id": 133924147582848,
                                  "label": "outData = processingData(inputData,c_out)",
                                  "successors": [
                                    {
                                      "id": 133924147582896,
                                      "label": "freeInput(inputData,3)",
                                      "successors": [
                                        {
                                          "id": 133924147582944,
                                          "label": "freeOntput(c_out)",
                                          "successors": [
                                            {
                                              "id": 133924147582512,
                                              "label": "return outData",
                                              "successors": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "processingData",
          "type": "Function",
          "blocks": [
            {
              "id": 133924164098016,
              "label": "",
              "successors": [
                {
                  "id": 133924147583040,
                  "label": "",
                  "successors": [
                    {
                      "id": 133924147583376,
                      "label": "var out:C_OutNodeData =  c_out.read()",
                      "successors": [
                        {
                          "id": 133924147583472,
                          "label": "var input:InputNodeData = inputData.read(2)",
                          "successors": [
                            {
                              "id": 133924147583568,
                              "label": "var outPutdata:ArrayList<ArrayList<ArrayList<Float32>>> = ArrayList<ArrayList<ArrayList<Float32>>>()",
                              "successors": [
                                {
                                  "id": 133924147583664,
                                  "label": "var input_mask_expanded:ArrayList<ArrayList<ArrayList<Float32>>> = ArrayList<ArrayList<ArrayList<Float32>>>()",
                                  "successors": [
                                    {
                                      "id": 133924147583760,
                                      "label": "var product_data :ArrayList<ArrayList<ArrayList<Float32>>> = ArrayList<ArrayList<ArrayList<Float32>>>()",
                                      "successors": [
                                        {
                                          "id": 133924147583808,
                                          "label": "var dataIndex = 0",
                                          "successors": [
                                            {
                                              "id": 133924147583856,
                                              "label": "var maskIndex = 0",
                                              "successors": [
                                                {
                                                  "id": 133924147583904,
                                                  "label": "for (_ in 0..out.dims.read(0) )",
                                                  "successors": [
                                                    {
                                                      "id": 133924147584240,
                                                      "label": "var l1_data:ArrayList<ArrayList<Float32>> = ArrayList<ArrayList<Float32>>()",
                                                      "successors": [
                                                        {
                                                          "id": 133924147584336,
                                                          "label": "var l1_mask_data:ArrayList<ArrayList<Float32>> = ArrayList<ArrayList<Float32>>()",
                                                          "successors": [
                                                            {
                                                              "id": 133924147584432,
                                                              "label": "var l1_product_data:ArrayList<ArrayList<Float32>> = ArrayList<ArrayList<Float32>>()",
                                                              "successors": [
                                                                {
                                                                  "id": 133924147584480,
                                                                  "label": "for (_ in 0..out.dims.read(1) )",
                                                                  "successors": [
                                                                    {
                                                                      "id": 133924147584816,
                                                                      "label": "var l2_data:ArrayList<Float32> = ArrayList<Float32>()",
                                                                      "successors": [
                                                                        {
                                                                          "id": 133924147584912,
                                                                          "label": "var l2_mask_data:ArrayList<Float32> = ArrayList<Float32>()",
                                                                          "successors": [
                                                                            {
                                                                              "id": 133924147585008,
                                                                              "label": "var l2_product_data: ArrayList<Float32> = ArrayList<Float32>()",
                                                                              "successors": [
                                                                                {
                                                                                  "id": 133924147585104,
                                                                                  "label": "var makData:Float32 =Float32(input.data.read(maskIndex))",
                                                                                  "successors": [
                                                                                    {
                                                                                      "id": 133924147585152,
                                                                                      "label": "for (_ in 0..out.dims.read(2) )",
                                                                                      "successors": [
                                                                                        {
                                                                                          "id": 133924147585488,
                                                                                          "label": "var  d:Float32 = out.data.read(dataIndex)",
                                                                                          "successors": [
                                                                                            {
                                                                                              "id": 133924147585584,
                                                                                              "label": "var  sumd:Float32 = d *  makData",
                                                                                              "successors": [
                                                                                                {
                                                                                                  "id": 133924147585632,
                                                                                                  "label": "l2_data.append(d)",
                                                                                                  "successors": [
                                                                                                    {
                                                                                                      "id": 133924147585680,
                                                                                                      "label": "l2_mask_data.append(makData)",
                                                                                                      "successors": [
                                                                                                        {
                                                                                                          "id": 133924147585728,
                                                                                                          "label": "l2_product_data.append( sumd )",
                                                                                                          "successors": [
                                                                                                            {
                                                                                                              "id": 133924147585776,
                                                                                                              "label": "dataIndex++",
                                                                                                              "successors": [
                                                                                                                {
                                                                                                                  "id": 133924147585152
                                                                                                                }
                                                                                                              ]
                                                                                                            }
                                                                                                          ]
                                                                                                        }
                                                                                                      ]
                                                                                                    }
                                                                                                  ]
                                                                                                }
                                                                                              ]
                                                                                            }
                                                                                          ]
                                                                                        },
                                                                                        {
                                                                                          "id": 133924147585248,
                                                                                          "label": "l1_data.append(l2_data)",
                                                                                          "successors": [
                                                                                            {
                                                                                              "id": 133924147585392,
                                                                                              "label": "l1_mask_data.append(l2_mask_data)",
                                                                                              "successors": [
                                                                                                {
                                                                                                  "id": 133924147585824,
                                                                                                  "label": "l1_product_data.append(l2_product_data)",
                                                                                                  "successors": [
                                                                                                    {
                                                                                                      "id": 133924147585872,
                                                                                                      "label": "maskIndex++",
                                                                                                      "successors": [
                                                                                                        {
                                                                                                          "id": 133924147584480
                                                                                                        }
                                                                                                      ]
                                                                                                    }
                                                                                                  ]
                                                                                                }
                                                                                              ]
                                                                                            }
                                                                                          ]
                                                                                        }
                                                                                      ]
                                                                                    }
                                                                                  ]
                                                                                }
                                                                              ]
                                                                            }
                                                                          ]
                                                                        }
                                                                      ]
                                                                    },
                                                                    {
                                                                      "id": 133924147584576,
                                                                      "label": "outPutdata.append(l1_data)",
                                                                      "successors": [
                                                                        {
                                                                          "id": 133924147584720,
                                                                          "label": "input_mask_expanded.append(l1_mask_data)",
                                                                          "successors": [
                                                                            {
                                                                              "id": 133924147585920,
                                                                              "label": "product_data.append(l1_product_data)",
                                                                              "successors": [
                                                                                {
                                                                                  "id": 133924147583904
                                                                                }
                                                                              ]
                                                                            }
                                                                          ]
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "id": 133924147584144,
                                                      "label": "var dims_len:Int64 = out.dims_len",
                                                      "successors": [
                                                        {
                                                          "id": 133924147586016,
                                                          "label": "var dims:ArrayList<Int64> = ArrayList<Int64>()",
                                                          "successors": [
                                                            {
                                                              "id": 133924147586064,
                                                              "label": "for (dimsIndex in 0.. dims_len )",
                                                              "successors": [
                                                                {
                                                                  "id": 133924147586400,
                                                                  "label": "var  dimSize:Int64 = out.dims.read(dimsIndex)",
                                                                  "successors": [
                                                                    {
                                                                      "id": 133924147586448,
                                                                      "label": "dims.append(dimSize)",
                                                                      "successors": [
                                                                        {
                                                                          "id": 133924147586064
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "id": 133924147586160,
                                                                  "label": "OutData(outPutdata,input_mask_expanded,product_data,dims,dims_len)",
                                                                  "successors": [
                                                                    {
                                                                      "id": 133924164098064,
                                                                      "label": "return",
                                                                      "successors": []
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "destroy",
          "type": "Function",
          "blocks": [
            {
              "id": 133924164098640,
              "label": "",
              "successors": [
                {
                  "id": 133924147586304,
                  "label": "",
                  "successors": [
                    {
                      "id": 133924147586736,
                      "label": "c_destroy()",
                      "successors": [
                        {
                          "id": 133924164098688,
                          "label": "return",
                          "successors": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        }
      ],
      "classes": []
    }
  ]
}