{
  "name": "56.cj",
  "type": "File",
  "blocks": [],
  "functions": [],
  "classes": [
    {
      "name": "_DEFAULT_CANG_CLASS",
      "type": "Class",
      "blocks": [],
      "functions": [
        {
          "name": "role_type_to_str",
          "type": "Function",
          "blocks": [
            {
              "id": 133924158259104,
              "label": "",
              "successors": [
                {
                  "id": 133924143955296,
                  "label": "match (role )",
                  "successors": [
                    {
                      "id": 133924143955776,
                      "label": "Some(\"user\")",
                      "successors": [
                        {
                          "id": 133924143955440,
                          "label": "return match(role) {\n    case RoleType.User => Some(\"user\")\n    case RoleType.Assistant => Some(\"assistant\")\n    case RoleType.System => Some(\"system\")\n    case RoleType.Function => Some(\"function\")\n    case RoleType.NULL => None\n  }",
                          "successors": []
                        }
                      ]
                    },
                    {
                      "id": 133924144119968,
                      "label": "Some(\"assistant\")",
                      "successors": [
                        {
                          "id": 133924143955440
                        }
                      ]
                    },
                    {
                      "id": 133924144120256,
                      "label": "Some(\"system\")",
                      "successors": [
                        {
                          "id": 133924143955440
                        }
                      ]
                    },
                    {
                      "id": 133924144120544,
                      "label": "Some(\"function\")",
                      "successors": [
                        {
                          "id": 133924143955440
                        }
                      ]
                    },
                    {
                      "id": 133924144120832,
                      "label": "None",
                      "successors": [
                        {
                          "id": 133924143955440
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "str_to_role_type",
          "type": "Function",
          "blocks": [
            {
              "id": 133924158374624,
              "label": "",
              "successors": [
                {
                  "id": 133924144120928,
                  "label": "match (role_option_str )",
                  "successors": [
                    {
                      "id": 133924144121408,
                      "label": "match (role_option )",
                      "successors": [
                        {
                          "id": 133924144121888,
                          "label": "RoleType.User",
                          "successors": [
                            {
                              "id": 133924144121072,
                              "label": "return match(role_option_str) {\n    case Some(role_option) => \n      match (role_option) {\n        case \"user\" => RoleType.User\n        case \"assistant\" => RoleType.Assistant\n        case \"system\" => RoleType.System\n        case \"function\" => RoleType.Function\n        case x => throw Exception(\"unknow enum ${x} for RoleType\");\n      }\n    case None => RoleType.NULL\n  }",
                              "successors": []
                            }
                          ]
                        },
                        {
                          "id": 133924144122176,
                          "label": "RoleType.Assistant",
                          "successors": [
                            {
                              "id": 133924144121072
                            }
                          ]
                        },
                        {
                          "id": 133924144122464,
                          "label": "RoleType.System",
                          "successors": [
                            {
                              "id": 133924144121072
                            }
                          ]
                        },
                        {
                          "id": 133924144122752,
                          "label": "RoleType.Function",
                          "successors": [
                            {
                              "id": 133924144121072
                            }
                          ]
                        },
                        {
                          "id": 133924144123040,
                          "label": "throw Exception(\"unknow enum ${x} for RoleType\")",
                          "successors": [
                            {
                              "id": 133924144123088,
                              "label": ";",
                              "successors": [
                                {
                                  "id": 133924144121072
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "id": 133924144123280,
                      "label": "RoleType.NULL",
                      "successors": [
                        {
                          "id": 133924144121072
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        }
      ],
      "classes": []
    },
    {
      "name": "SamplingMethod",
      "type": "Class",
      "blocks": [],
      "functions": [],
      "classes": []
    },
    {
      "name": "ModelState",
      "type": "Class",
      "blocks": [],
      "functions": [
        {
          "name": "constructor",
          "type": "Function",
          "blocks": [
            {
              "id": 133924158255456,
              "label": "",
              "successors": [
                {
                  "id": 133924144123376,
                  "label": "this.code = code",
                  "successors": [
                    {
                      "id": 133924144123424,
                      "label": "this.is_end = is_end",
                      "successors": [
                        {
                          "id": 133924144123472,
                          "label": "this.message = message",
                          "successors": [
                            {
                              "id": 133924158255504,
                              "label": "return",
                              "successors": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        }
      ],
      "classes": []
    },
    {
      "name": "FunctionCall",
      "type": "Class",
      "blocks": [],
      "functions": [
        {
          "name": "constructor",
          "type": "Function",
          "blocks": [
            {
              "id": 133924158256608,
              "label": "",
              "successors": [
                {
                  "id": 133924144123616,
                  "label": "this.name = name",
                  "successors": [
                    {
                      "id": 133924144123664,
                      "label": "this.arguments = arguments",
                      "successors": [
                        {
                          "id": 133924158256656,
                          "label": "return",
                          "successors": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "fromJson",
          "type": "Function",
          "blocks": [
            {
              "id": 133924158257328,
              "label": "",
              "successors": [
                {
                  "id": 133924144123856,
                  "label": "var temp_name: String = \"\"",
                  "successors": [
                    {
                      "id": 133924144123952,
                      "label": "var temp_arguments: String = \"\"",
                      "successors": [
                        {
                          "id": 133924144124000,
                          "label": "while (let Some(v) <- r.peek() )",
                          "successors": [
                            {
                              "id": 133924144124336,
                              "label": "match (v )",
                              "successors": [
                                {
                                  "id": 133924144124816,
                                  "label": "r.startObject()",
                                  "successors": [
                                    {
                                      "id": 133924144124864,
                                      "label": ";",
                                      "successors": [
                                        {
                                          "id": 133924144124912,
                                          "label": "while (r.peek() != EndObject )",
                                          "successors": [
                                            {
                                              "id": 133924144125248,
                                              "label": "let n = r.readName()",
                                              "successors": [
                                                {
                                                  "id": 133924144125296,
                                                  "label": "match (n )",
                                                  "successors": [
                                                    {
                                                      "id": 133924144125776,
                                                      "label": "temp_name = r.readValue<String>()",
                                                      "successors": [
                                                        {
                                                          "id": 133924144125824,
                                                          "label": ";",
                                                          "successors": [
                                                            {
                                                              "id": 133924144124912
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "id": 133924144126112,
                                                      "label": "temp_arguments = r.readValue<String>()",
                                                      "successors": [
                                                        {
                                                          "id": 133924144126160,
                                                          "label": ";",
                                                          "successors": [
                                                            {
                                                              "id": 133924144124912
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "id": 133924144126448,
                                                      "label": "println(\"unkow key ${unkow}\")",
                                                      "successors": [
                                                        {
                                                          "id": 133924144126496,
                                                          "label": ";",
                                                          "successors": [
                                                            {
                                                              "id": 133924144124912
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "id": 133924144125056,
                                              "label": "r.endObject()",
                                              "successors": [
                                                {
                                                  "id": 133924144126208,
                                                  "label": ";",
                                                  "successors": [
                                                    {
                                                      "id": 133924144124144,
                                                      "label": "return FunctionCall(temp_name, temp_arguments)",
                                                      "successors": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "id": 133924144126688,
                                  "label": "throw Exception(\"can't deserialize for FunctionCall\")",
                                  "successors": [
                                    {
                                      "id": 133924144126736,
                                      "label": ";",
                                      "successors": [
                                        {
                                          "id": 133924144124000
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "id": 133924144124144
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "toJson",
          "type": "Function",
          "blocks": [
            {
              "id": 133924158258000,
              "label": "",
              "successors": [
                {
                  "id": 133924144126784,
                  "label": "w.startObject()",
                  "successors": [
                    {
                      "id": 133924144126832,
                      "label": "w.writeName(\"name\").writeValue<String>(this.name)",
                      "successors": [
                        {
                          "id": 133924144126880,
                          "label": "w.writeName(\"arguments\").writeValue<String>(this.arguments)",
                          "successors": [
                            {
                              "id": 133924144126928,
                              "label": "w.endObject()",
                              "successors": [
                                {
                                  "id": 133924144126976,
                                  "label": "w.flush()",
                                  "successors": [
                                    {
                                      "id": 133924158258048,
                                      "label": "return",
                                      "successors": []
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        }
      ],
      "classes": []
    },
    {
      "name": "RoleType",
      "type": "Class",
      "blocks": [],
      "functions": [],
      "classes": []
    },
    {
      "name": "Message",
      "type": "Class",
      "blocks": [],
      "functions": [
        {
          "name": "constructor",
          "type": "Function",
          "blocks": [
            {
              "id": 133924158375872,
              "label": "",
              "successors": [
                {
                  "id": 133924144127072,
                  "label": "this.role = role",
                  "successors": [
                    {
                      "id": 133924144127120,
                      "label": "this.content = content",
                      "successors": [
                        {
                          "id": 133924144127168,
                          "label": "this.function_call = None",
                          "successors": [
                            {
                              "id": 133924158375920,
                              "label": "return",
                              "successors": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "constructor",
          "type": "Function",
          "blocks": [
            {
              "id": 133924158376640,
              "label": "",
              "successors": [
                {
                  "id": 133924144127312,
                  "label": "this.role = role",
                  "successors": [
                    {
                      "id": 133924144127360,
                      "label": "this.content = content",
                      "successors": [
                        {
                          "id": 133924144127408,
                          "label": "this.function_call = function_call",
                          "successors": [
                            {
                              "id": 133924158376688,
                              "label": "return",
                              "successors": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "fromJson",
          "type": "Function",
          "blocks": [
            {
              "id": 133924158377360,
              "label": "",
              "successors": [
                {
                  "id": 133924144127600,
                  "label": "var temp_role: Option<String> = None",
                  "successors": [
                    {
                      "id": 133924144127696,
                      "label": "var temp_content: String = \"\"",
                      "successors": [
                        {
                          "id": 133924144127792,
                          "label": "var temp_functional_call: Option<FunctionCall> = None",
                          "successors": [
                            {
                              "id": 133924144127840,
                              "label": "while (let Some(v) <- r.peek() )",
                              "successors": [
                                {
                                  "id": 133924144128176,
                                  "label": "match (v )",
                                  "successors": [
                                    {
                                      "id": 133924144128656,
                                      "label": "r.startObject()",
                                      "successors": [
                                        {
                                          "id": 133924144128704,
                                          "label": ";",
                                          "successors": [
                                            {
                                              "id": 133924144128752,
                                              "label": "while (r.peek() != EndObject )",
                                              "successors": [
                                                {
                                                  "id": 133924144129088,
                                                  "label": "let n = r.readName()",
                                                  "successors": [
                                                    {
                                                      "id": 133924144129136,
                                                      "label": "match (n )",
                                                      "successors": [
                                                        {
                                                          "id": 133924144129616,
                                                          "label": "temp_role = r.readValue<Option<String>>()",
                                                          "successors": [
                                                            {
                                                              "id": 133924144129664,
                                                              "label": ";",
                                                              "successors": [
                                                                {
                                                                  "id": 133924144128752
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "id": 133924144129952,
                                                          "label": "temp_content = r.readValue<String>()",
                                                          "successors": [
                                                            {
                                                              "id": 133924144130000,
                                                              "label": ";",
                                                              "successors": [
                                                                {
                                                                  "id": 133924144128752
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "id": 133924144130288,
                                                          "label": "temp_functional_call = r.readValue<Option<FunctionCall>>()",
                                                          "successors": [
                                                            {
                                                              "id": 133924144130336,
                                                              "label": ";",
                                                              "successors": [
                                                                {
                                                                  "id": 133924144128752
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "id": 133924144130624,
                                                          "label": "println(\"unkow key ${unkow}\")",
                                                          "successors": [
                                                            {
                                                              "id": 133924144130672,
                                                              "label": ";",
                                                              "successors": [
                                                                {
                                                                  "id": 133924144128752
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "id": 133924144128896,
                                                  "label": "r.endObject()",
                                                  "successors": [
                                                    {
                                                      "id": 133924144130384,
                                                      "label": ";",
                                                      "successors": [
                                                        {
                                                          "id": 133924144129040,
                                                          "label": "let role_type: RoleType = str_to_role_type(temp_role)",
                                                          "successors": [
                                                            {
                                                              "id": 133924144128128,
                                                              "label": "return Message(role_type, temp_content)",
                                                              "successors": []
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "id": 133924144130864,
                                      "label": "throw Exception(\"can't deserialize for Message\")",
                                      "successors": [
                                        {
                                          "id": 133924144130912,
                                          "label": ";",
                                          "successors": [
                                            {
                                              "id": 133924144127840
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "id": 133924144129040
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "toJson",
          "type": "Function",
          "blocks": [
            {
              "id": 133924158378032,
              "label": "",
              "successors": [
                {
                  "id": 133924144131056,
                  "label": "w.startObject()",
                  "successors": [
                    {
                      "id": 133924144131104,
                      "label": "w.writeName(\"role\").writeValue<Option<String>>(role_type_to_str(this.role))",
                      "successors": [
                        {
                          "id": 133924144131152,
                          "label": "w.writeName(\"content\").writeValue<String>(this.content)",
                          "successors": [
                            {
                              "id": 133924144131200,
                              "label": "w.endObject()",
                              "successors": [
                                {
                                  "id": 133924144131248,
                                  "label": "w.flush()",
                                  "successors": [
                                    {
                                      "id": 133924158378080,
                                      "label": "return",
                                      "successors": []
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        }
      ],
      "classes": []
    }
  ]
}