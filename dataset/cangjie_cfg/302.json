{
  "name": "302.cj",
  "type": "File",
  "blocks": [],
  "functions": [],
  "classes": [
    {
      "name": "_DEFAULT_CANG_CLASS",
      "type": "Class",
      "blocks": [],
      "functions": [],
      "classes": []
    },
    {
      "name": "FifoCache",
      "type": "Class",
      "blocks": [],
      "functions": [
        {
          "name": "constructor",
          "type": "Function",
          "blocks": [
            {
              "id": 133924175183440,
              "label": "",
              "successors": [
                {
                  "id": 133924152217888,
                  "label": "if (capacity < 1 )",
                  "successors": [
                    {
                      "id": 133924152218224,
                      "label": "throw MemoryCacheException(\"capacity must be greater than 0\")",
                      "successors": [
                        {
                          "id": 133924152217984,
                          "label": "this.capacity = capacity",
                          "successors": [
                            {
                              "id": 133924152218032,
                              "label": "this.cache = ConcurrentHashMap<String, String>()",
                              "successors": [
                                {
                                  "id": 133924152218176,
                                  "label": "this.fn = AtomicInt64(0)",
                                  "successors": [
                                    {
                                      "id": 133924152218272,
                                      "label": "this.trackingQueue = BlockingQueue<String>()",
                                      "successors": [
                                        {
                                          "id": 133924175183488,
                                          "label": "return",
                                          "successors": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "id": 133924152217984
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "contains",
          "type": "Function",
          "blocks": [
            {
              "id": 133924175364352,
              "label": "",
              "successors": [
                {
                  "id": 133924152218368,
                  "label": "return cache.contains(key)",
                  "successors": []
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "getCapacity",
          "type": "Function",
          "blocks": [
            {
              "id": 133924175364928,
              "label": "",
              "successors": [
                {
                  "id": 133924152218512,
                  "label": "return capacity",
                  "successors": []
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "setCapacity",
          "type": "Function",
          "blocks": [
            {
              "id": 133924175365792,
              "label": "",
              "successors": [
                {
                  "id": 133924152218656,
                  "label": "if (capacity < 1 )",
                  "successors": [
                    {
                      "id": 133924152218992,
                      "label": "throw MemoryCacheException(\"capacity must be greater than 0\")",
                      "successors": [
                        {
                          "id": 133924152218752,
                          "label": "this.capacity = capacity",
                          "successors": [
                            {
                              "id": 133924152218800,
                              "label": "while (fn.load() > capacity )",
                              "successors": [
                                {
                                  "id": 133924152219232,
                                  "label": "var key = trackingQueue.dequeue()",
                                  "successors": [
                                    {
                                      "id": 133924152219280,
                                      "label": "cache.remove(key)",
                                      "successors": [
                                        {
                                          "id": 133924152219328,
                                          "label": "fn.fetchSub(1)",
                                          "successors": [
                                            {
                                              "id": 133924152218800
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "id": 133924175365840,
                                  "label": "return",
                                  "successors": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "id": 133924152218752
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "clear",
          "type": "Function",
          "blocks": [
            {
              "id": 133924175366368,
              "label": "",
              "successors": [
                {
                  "id": 133924152219376,
                  "label": "cache = ConcurrentHashMap<String, String>()",
                  "successors": [
                    {
                      "id": 133924152219424,
                      "label": "trackingQueue = BlockingQueue<String>()",
                      "successors": [
                        {
                          "id": 133924175366416,
                          "label": "return",
                          "successors": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "get",
          "type": "Function",
          "blocks": [
            {
              "id": 133924175366992,
              "label": "",
              "successors": [
                {
                  "id": 133924152219568,
                  "label": "return cache.get(key)",
                  "successors": []
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "put",
          "type": "Function",
          "blocks": [
            {
              "id": 133924175367808,
              "label": "",
              "successors": [
                {
                  "id": 133924152219712,
                  "label": "match (cache.putIfAbsent(key, value) )",
                  "successors": [
                    {
                      "id": 133924152220144,
                      "label": "if (fn.fetchAdd(1) >= capacity )",
                      "successors": [
                        {
                          "id": 133924152220528,
                          "label": "cache.remove(trackingQueue.dequeue())",
                          "successors": [
                            {
                              "id": 133924152220576,
                              "label": "trackingQueue.enqueue(key)",
                              "successors": [
                                {
                                  "id": 133924175367856,
                                  "label": "return",
                                  "successors": []
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "id": 133924152220720,
                          "label": "trackingQueue.enqueue(key)",
                          "successors": [
                            {
                              "id": 133924175367856
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "id": 133924152220816,
                      "label": "()",
                      "successors": [
                        {
                          "id": 133924175367856
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "remove",
          "type": "Function",
          "blocks": [
            {
              "id": 133924175368384,
              "label": "",
              "successors": [
                {
                  "id": 133924152220912,
                  "label": "if (fn.load() == 0 )",
                  "successors": [
                    {
                      "id": 133924152221296,
                      "label": "return None",
                      "successors": []
                    },
                    {
                      "id": 133924152221056,
                      "label": "var res = cache.remove(trackingQueue.dequeue())",
                      "successors": [
                        {
                          "id": 133924152221104,
                          "label": "if (res.isSome() )",
                          "successors": [
                            {
                              "id": 133924152221632,
                              "label": "fn.fetchSub(1)",
                              "successors": [
                                {
                                  "id": 133924152221392,
                                  "label": "return res",
                                  "successors": []
                                }
                              ]
                            },
                            {
                              "id": 133924152221392
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        }
      ],
      "classes": []
    }
  ]
}