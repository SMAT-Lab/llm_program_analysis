{
  "name": "62.cj",
  "type": "File",
  "blocks": [],
  "functions": [],
  "classes": [
    {
      "name": "_DEFAULT_CANG_CLASS",
      "type": "Class",
      "blocks": [],
      "functions": [
        {
          "name": "sqlRun",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167040928,
              "label": "",
              "successors": [
                {
                  "id": 133924148900192,
                  "label": "var ppDb: CPointer<CPointer<Unit>> = sqlOpen(location)",
                  "successors": [
                    {
                      "id": 133924148900240,
                      "label": "var ppStmt = sqlPrepare(ppDb, sql)",
                      "successors": [
                        {
                          "id": 133924148900288,
                          "label": "var jsonStrList = \"\"",
                          "successors": [
                            {
                              "id": 133924148900336,
                              "label": "while (sqlStep(ppStmt) != SQLITE_DONE )",
                              "successors": [
                                {
                                  "id": 133924148900672,
                                  "label": "jsonStrList = sqlColumnText(ppStmt, 0)",
                                  "successors": [
                                    {
                                      "id": 133924148900336
                                    }
                                  ]
                                },
                                {
                                  "id": 133924148900480,
                                  "label": "sqlFinalize(ppStmt)",
                                  "successors": [
                                    {
                                      "id": 133924148900624,
                                      "label": "sqlClose(ppDb)",
                                      "successors": [
                                        {
                                          "id": 133924148900720,
                                          "label": "return jsonStrList",
                                          "successors": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        }
      ],
      "classes": []
    },
    {
      "name": "BookSeries",
      "type": "Class",
      "blocks": [],
      "functions": [
        {
          "name": "fromJson",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167189744,
              "label": "",
              "successors": [
                {
                  "id": 133924148900912,
                  "label": "var res = BookSeries()",
                  "successors": [
                    {
                      "id": 133924148900960,
                      "label": "while (let Some(v) <- r.peek() )",
                      "successors": [
                        {
                          "id": 133924148901296,
                          "label": "match (v )",
                          "successors": [
                            {
                              "id": 133924148901776,
                              "label": "r.startObject()",
                              "successors": [
                                {
                                  "id": 133924148901824,
                                  "label": "while (r.peek() != EndObject )",
                                  "successors": [
                                    {
                                      "id": 133924148902160,
                                      "label": "let n = r.readName()",
                                      "successors": [
                                        {
                                          "id": 133924148902208,
                                          "label": "match (n )",
                                          "successors": [
                                            {
                                              "id": 133924148902688,
                                              "label": "res.id = r.readValue<String>()",
                                              "successors": [
                                                {
                                                  "id": 133924148901824
                                                }
                                              ]
                                            },
                                            {
                                              "id": 133924148902976,
                                              "label": "res.name = r.readValue<String>()",
                                              "successors": [
                                                {
                                                  "id": 133924148901824
                                                }
                                              ]
                                            },
                                            {
                                              "id": 133924148903264,
                                              "label": "res.bookCount = r.readValue<Int64>()",
                                              "successors": [
                                                {
                                                  "id": 133924148901824
                                                }
                                              ]
                                            },
                                            {
                                              "id": 133924148903552,
                                              "label": "res.url = r.readValue<String>()",
                                              "successors": [
                                                {
                                                  "id": 133924148901824
                                                }
                                              ]
                                            },
                                            {
                                              "id": 133924148903840,
                                              "label": "res.createdDate = r.readValue<String>()",
                                              "successors": [
                                                {
                                                  "id": 133924148901824
                                                }
                                              ]
                                            },
                                            {
                                              "id": 133924149084416,
                                              "label": "res.lastModifiedDate = r.readValue<String>()",
                                              "successors": [
                                                {
                                                  "id": 133924148901824
                                                }
                                              ]
                                            },
                                            {
                                              "id": 133924149084704,
                                              "label": "res.fileLastModified = r.readValue<String>()",
                                              "successors": [
                                                {
                                                  "id": 133924148901824
                                                }
                                              ]
                                            },
                                            {
                                              "id": 133924149084992,
                                              "label": "()",
                                              "successors": [
                                                {
                                                  "id": 133924148901824
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "id": 133924148901968,
                                      "label": "r.endObject()",
                                      "successors": [
                                        {
                                          "id": 133924148901104,
                                          "label": "return res",
                                          "successors": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "id": 133924149085136,
                              "label": "throw Exception()",
                              "successors": [
                                {
                                  "id": 133924148900960
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "id": 133924148901104
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "fromJsonToArray",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167190464,
              "label": "",
              "successors": [
                {
                  "id": 133924148901440,
                  "label": "var res = ArrayList<BookSeries>()",
                  "successors": [
                    {
                      "id": 133924149085232,
                      "label": "while (let Some(v) <- r.peek() )",
                      "successors": [
                        {
                          "id": 133924149085568,
                          "label": "match (v )",
                          "successors": [
                            {
                              "id": 133924149086048,
                              "label": "r.startArray()",
                              "successors": [
                                {
                                  "id": 133924149086096,
                                  "label": "while (r.peek() != EndArray )",
                                  "successors": [
                                    {
                                      "id": 133924149086432,
                                      "label": "res.append(BookSeries.fromJson(r))",
                                      "successors": [
                                        {
                                          "id": 133924149086096
                                        }
                                      ]
                                    },
                                    {
                                      "id": 133924149086240,
                                      "label": "r.endArray()",
                                      "successors": [
                                        {
                                          "id": 133924149085376,
                                          "label": "return res",
                                          "successors": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "id": 133924149086672,
                              "label": "throw Exception()",
                              "successors": [
                                {
                                  "id": 133924149085232
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "id": 133924149085376
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "query",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167191184,
              "label": "",
              "successors": [
                {
                  "id": 133924149086720,
                  "label": "var sql = \"SELECT json_group_array(json_object('ID', ID, 'NAME', NAME,'BOOK_COUNT',BOOK_COUNT,'URL',URL,'CREATED_DATE',CREATED_DATE,'LAST_MODIFIED_DATE',LAST_MODIFIED_DATE,'FILE_LAST_MODIFIED',FILE_LAST_MODIFIED)) FROM SERIES WHERE NAME LIKE '%${query}%';\"",
                  "successors": [
                    {
                      "id": 133924149086768,
                      "label": "var jsonStrList = sqlRun(baseConfig.database, sql)",
                      "successors": [
                        {
                          "id": 133924149086816,
                          "label": "var bas = ByteBuffer()",
                          "successors": [
                            {
                              "id": 133924149086864,
                              "label": "",
                              "successors": [
                                {
                                  "id": 133924152700560,
                                  "label": "bas.write(jsonStrList.rawData())",
                                  "successors": [
                                    {
                                      "id": 133924148891840,
                                      "label": "var reader = JsonReader(bas)",
                                      "successors": [
                                        {
                                          "id": 133924152027376,
                                          "label": "return BookSeries.fromJsonToArray(reader)",
                                          "successors": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "formDatabase",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167192192,
              "label": "",
              "successors": [
                {
                  "id": 133924149085712,
                  "label": "var sql = \"SELECT json_group_array(json_object('ID', ID, 'NAME', NAME,'BOOK_COUNT',BOOK_COUNT,'URL',URL,'CREATED_DATE',CREATED_DATE,'LAST_MODIFIED_DATE',LAST_MODIFIED_DATE,'FILE_LAST_MODIFIED',FILE_LAST_MODIFIED)) FROM ( SELECT * FROM SERIES ORDER BY LAST_MODIFIED_DATE DESC LIMIT ${count} OFFSET ${page * count} )\"",
                  "successors": [
                    {
                      "id": 133924149086960,
                      "label": "if (libId != \"\" )",
                      "successors": [
                        {
                          "id": 133924149087344,
                          "label": "sql = \"SELECT json_group_array(json_object('ID', ID, 'NAME', NAME,'BOOK_COUNT',BOOK_COUNT,'URL',URL,'CREATED_DATE',CREATED_DATE,'LAST_MODIFIED_DATE',LAST_MODIFIED_DATE,'FILE_LAST_MODIFIED',FILE_LAST_MODIFIED)) FROM ( SELECT * FROM SERIES WHERE LIBRARY_ID = '${libId}' ORDER BY LAST_MODIFIED_DATE DESC LIMIT ${count} OFFSET ${page * count} )\"",
                          "successors": [
                            {
                              "id": 133924149087104,
                              "label": "var jsonStrList = sqlRun(location, sql)",
                              "successors": [
                                {
                                  "id": 133924149087152,
                                  "label": "var bas = ByteBuffer()",
                                  "successors": [
                                    {
                                      "id": 133924149087296,
                                      "label": "",
                                      "successors": [
                                        {
                                          "id": 133924149087632,
                                          "label": "bas.write(jsonStrList.rawData())",
                                          "successors": [
                                            {
                                              "id": 133924149087440,
                                              "label": "var reader = JsonReader(bas)",
                                              "successors": [
                                                {
                                                  "id": 133924149087584,
                                                  "label": "return BookSeries.fromJsonToArray(reader)",
                                                  "successors": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "id": 133924149087104
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "formPublisher",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167192768,
              "label": "",
              "successors": [
                {
                  "id": 133924149087824,
                  "label": "var sql = \"SELECT json_group_array(json_object('ID', ID, 'NAME', NAME,'BOOK_COUNT',BOOK_COUNT,'URL',URL,'CREATED_DATE',CREATED_DATE,'LAST_MODIFIED_DATE',LAST_MODIFIED_DATE,'FILE_LAST_MODIFIED',FILE_LAST_MODIFIED)) FROM SERIES WHERE ID IN ( SELECT SERIES_ID FROM SERIES_METADATA WHERE PUBLISHER = '${publisher}' );\"",
                  "successors": [
                    {
                      "id": 133924149087872,
                      "label": "var jsonStrList = sqlRun(baseConfig.database, sql)",
                      "successors": [
                        {
                          "id": 133924149087920,
                          "label": "var bas = ByteBuffer()",
                          "successors": [
                            {
                              "id": 133924149087968,
                              "label": "",
                              "successors": [
                                {
                                  "id": 133924149088256,
                                  "label": "bas.write(jsonStrList.rawData())",
                                  "successors": [
                                    {
                                      "id": 133924149088064,
                                      "label": "var reader = JsonReader(bas)",
                                      "successors": [
                                        {
                                          "id": 133924149088208,
                                          "label": "return BookSeries.fromJsonToArray(reader)",
                                          "successors": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "getCount",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167193776,
              "label": "",
              "successors": [
                {
                  "id": 133924149088352,
                  "label": "var sql = \"SELECT COUNT(*) FROM SERIES;\"",
                  "successors": [
                    {
                      "id": 133924149088400,
                      "label": "if (id!=\"\" )",
                      "successors": [
                        {
                          "id": 133924149088736,
                          "label": "sql = \"SELECT COUNT(*) FROM SERIES WHERE LIBRARY_ID = '${id}'\"",
                          "successors": [
                            {
                              "id": 133924149088496,
                              "label": "var ppDb: CPointer<CPointer<Unit>> = sqlOpen(baseConfig.database)",
                              "successors": [
                                {
                                  "id": 133924149088544,
                                  "label": "var ppStmt = sqlPrepare(ppDb, sql)",
                                  "successors": [
                                    {
                                      "id": 133924149088688,
                                      "label": "var number = 1",
                                      "successors": [
                                        {
                                          "id": 133924149088784,
                                          "label": "while (sqlStep(ppStmt) != SQLITE_DONE )",
                                          "successors": [
                                            {
                                              "id": 133924149089072,
                                              "label": "number = sqlColumnInt64(ppStmt, 0)",
                                              "successors": [
                                                {
                                                  "id": 133924149088784
                                                }
                                              ]
                                            },
                                            {
                                              "id": 133924149088880,
                                              "label": "sqlFinalize(ppStmt)",
                                              "successors": [
                                                {
                                                  "id": 133924149089024,
                                                  "label": "sqlClose(ppDb)",
                                                  "successors": [
                                                    {
                                                      "id": 133924149089120,
                                                      "label": "return number",
                                                      "successors": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "id": 133924149088496
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "getDesc",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167194640,
              "label": "",
              "successors": [
                {
                  "id": 133924149089264,
                  "label": "var sql = \"SELECT SUMMARY FROM SERIES_METADATA WHERE SERIES_ID = '${id}'\"",
                  "successors": [
                    {
                      "id": 133924149089312,
                      "label": "var ppDb: CPointer<CPointer<Unit>> = sqlOpen(baseConfig.database)",
                      "successors": [
                        {
                          "id": 133924149089360,
                          "label": "var ppStmt = sqlPrepare(ppDb, sql)",
                          "successors": [
                            {
                              "id": 133924149089408,
                              "label": "var desc = \"\"",
                              "successors": [
                                {
                                  "id": 133924149089456,
                                  "label": "while (sqlStep(ppStmt) != SQLITE_DONE )",
                                  "successors": [
                                    {
                                      "id": 133924149089744,
                                      "label": "desc = sqlColumnText(ppStmt, 0)",
                                      "successors": [
                                        {
                                          "id": 133924149089456
                                        }
                                      ]
                                    },
                                    {
                                      "id": 133924149089552,
                                      "label": "sqlFinalize(ppStmt)",
                                      "successors": [
                                        {
                                          "id": 133924149089696,
                                          "label": "sqlClose(ppDb)",
                                          "successors": [
                                            {
                                              "id": 133924149089792,
                                              "label": "return desc",
                                              "successors": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "fromId",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167195360,
              "label": "",
              "successors": [
                {
                  "id": 133924149089984,
                  "label": "var sql = \"SELECT json_object('ID', ID, 'NAME', NAME,'BOOK_COUNT',BOOK_COUNT,'URL',URL,'CREATED_DATE',CREATED_DATE,'LAST_MODIFIED_DATE',LAST_MODIFIED_DATE,'FILE_LAST_MODIFIED',FILE_LAST_MODIFIED) FROM SERIES WHERE ID = '${id}'\"",
                  "successors": [
                    {
                      "id": 133924149090032,
                      "label": "var jsonStrList = sqlRun(baseConfig.database, sql)",
                      "successors": [
                        {
                          "id": 133924149090080,
                          "label": "var bas = ByteBuffer()",
                          "successors": [
                            {
                              "id": 133924149090128,
                              "label": "",
                              "successors": [
                                {
                                  "id": 133924149090416,
                                  "label": "bas.write(jsonStrList.rawData())",
                                  "successors": [
                                    {
                                      "id": 133924149090224,
                                      "label": "var reader = JsonReader(bas)",
                                      "successors": [
                                        {
                                          "id": 133924149090368,
                                          "label": "return BookSeries.fromJson(reader)",
                                          "successors": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "getPublishList",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167196032,
              "label": "",
              "successors": [
                {
                  "id": 133924149090512,
                  "label": "var sql = \"SELECT DISTINCT PUBLISHER FROM SERIES_METADATA;\"",
                  "successors": [
                    {
                      "id": 133924149090608,
                      "label": "var ppDb: CPointer<CPointer<Unit>> = sqlOpen(baseConfig.database)",
                      "successors": [
                        {
                          "id": 133924149090656,
                          "label": "var ppStmt = sqlPrepare(ppDb, sql)",
                          "successors": [
                            {
                              "id": 133924149090704,
                              "label": "var listStr = ArrayList<String>()",
                              "successors": [
                                {
                                  "id": 133924149090752,
                                  "label": "while (sqlStep(ppStmt) != SQLITE_DONE )",
                                  "successors": [
                                    {
                                      "id": 133924149091088,
                                      "label": "for (i in 0..sqlColumnCount(ppStmt) )",
                                      "successors": [
                                        {
                                          "id": 133924149091424,
                                          "label": "listStr.append(sqlColumnText(ppStmt, i))",
                                          "successors": [
                                            {
                                              "id": 133924149091088
                                            }
                                          ]
                                        },
                                        {
                                          "id": 133924149090752
                                        }
                                      ]
                                    },
                                    {
                                      "id": 133924149090896,
                                      "label": "sqlFinalize(ppStmt)",
                                      "successors": [
                                        {
                                          "id": 133924149091040,
                                          "label": "sqlClose(ppDb)",
                                          "successors": [
                                            {
                                              "id": 133924149091184,
                                              "label": "return listStr",
                                              "successors": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        }
      ],
      "classes": []
    },
    {
      "name": "Books",
      "type": "Class",
      "blocks": [],
      "functions": [
        {
          "name": "fromJson",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167197280,
              "label": "",
              "successors": [
                {
                  "id": 133924149091568,
                  "label": "var res = Books()",
                  "successors": [
                    {
                      "id": 133924149091616,
                      "label": "while (let Some(v) <- r.peek() )",
                      "successors": [
                        {
                          "id": 133924149091952,
                          "label": "match (v )",
                          "successors": [
                            {
                              "id": 133924149092432,
                              "label": "r.startObject()",
                              "successors": [
                                {
                                  "id": 133924149092480,
                                  "label": "while (r.peek() != EndObject )",
                                  "successors": [
                                    {
                                      "id": 133924149092864,
                                      "label": "let n = r.readName()",
                                      "successors": [
                                        {
                                          "id": 133924149092912,
                                          "label": "match (n )",
                                          "successors": [
                                            {
                                              "id": 133924149093440,
                                              "label": "res.id = r.readValue<String>()",
                                              "successors": [
                                                {
                                                  "id": 133924149092480
                                                }
                                              ]
                                            },
                                            {
                                              "id": 133924149093728,
                                              "label": "res.seriesId = r.readValue<String>()",
                                              "successors": [
                                                {
                                                  "id": 133924149092480
                                                }
                                              ]
                                            },
                                            {
                                              "id": 133924149094016,
                                              "label": "res.libraryId = r.readValue<String>()",
                                              "successors": [
                                                {
                                                  "id": 133924149092480
                                                }
                                              ]
                                            },
                                            {
                                              "id": 133924149094304,
                                              "label": "res.name = r.readValue<String>()",
                                              "successors": [
                                                {
                                                  "id": 133924149092480
                                                }
                                              ]
                                            },
                                            {
                                              "id": 133924149094592,
                                              "label": "res.number = r.readValue<Int64>()",
                                              "successors": [
                                                {
                                                  "id": 133924149092480
                                                }
                                              ]
                                            },
                                            {
                                              "id": 133924149094880,
                                              "label": "res.url = r.readValue<String>()",
                                              "successors": [
                                                {
                                                  "id": 133924149092480
                                                }
                                              ]
                                            },
                                            {
                                              "id": 133924149095168,
                                              "label": "res.createdDate = r.readValue<String>()",
                                              "successors": [
                                                {
                                                  "id": 133924149092480
                                                }
                                              ]
                                            },
                                            {
                                              "id": 133924149095456,
                                              "label": "res.lastModifiedDate = r.readValue<String>()",
                                              "successors": [
                                                {
                                                  "id": 133924149092480
                                                }
                                              ]
                                            },
                                            {
                                              "id": 133924149095744,
                                              "label": "res.fileLastModified = r.readValue<String>()",
                                              "successors": [
                                                {
                                                  "id": 133924149092480
                                                }
                                              ]
                                            },
                                            {
                                              "id": 133924149096032,
                                              "label": "()",
                                              "successors": [
                                                {
                                                  "id": 133924149092480
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "id": 133924149092624,
                                      "label": "r.endObject()",
                                      "successors": [
                                        {
                                          "id": 133924149091760,
                                          "label": "res.pageCount = res.getPageCount()",
                                          "successors": [
                                            {
                                              "id": 133924149095792,
                                              "label": "return res",
                                              "successors": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "id": 133924149096176,
                              "label": "throw Exception()",
                              "successors": [
                                {
                                  "id": 133924149091616
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "id": 133924149091760
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "getCount",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167198288,
              "label": "",
              "successors": [
                {
                  "id": 133924149096224,
                  "label": "var sql = \"SELECT COUNT(*) FROM BOOK;\"",
                  "successors": [
                    {
                      "id": 133924149096272,
                      "label": "if (libraryId != \"\" )",
                      "successors": [
                        {
                          "id": 133924149096608,
                          "label": "sql = \"SELECT COUNT(*) FROM BOOK WHERE LIBRARY_ID = '${libraryId}';\"",
                          "successors": [
                            {
                              "id": 133924149096368,
                              "label": "var ppDb: CPointer<CPointer<Unit>> = sqlOpen(baseConfig.database)",
                              "successors": [
                                {
                                  "id": 133924149096416,
                                  "label": "var ppStmt = sqlPrepare(ppDb, sql)",
                                  "successors": [
                                    {
                                      "id": 133924149096560,
                                      "label": "var number = 1",
                                      "successors": [
                                        {
                                          "id": 133924149096656,
                                          "label": "while (sqlStep(ppStmt) != SQLITE_DONE )",
                                          "successors": [
                                            {
                                              "id": 133924149096944,
                                              "label": "number = sqlColumnInt64(ppStmt, 0)",
                                              "successors": [
                                                {
                                                  "id": 133924149096656
                                                }
                                              ]
                                            },
                                            {
                                              "id": 133924149096752,
                                              "label": "sqlFinalize(ppStmt)",
                                              "successors": [
                                                {
                                                  "id": 133924149096896,
                                                  "label": "sqlClose(ppDb)",
                                                  "successors": [
                                                    {
                                                      "id": 133924149096992,
                                                      "label": "return number",
                                                      "successors": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "id": 133924149096368
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "getPageCount",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167199008,
              "label": "",
              "successors": [
                {
                  "id": 133924149097136,
                  "label": "var sql = \"SELECT PAGE_COUNT FROM MEDIA WHERE BOOK_ID = '${id}'\"",
                  "successors": [
                    {
                      "id": 133924149097184,
                      "label": "var ppDb: CPointer<CPointer<Unit>> = sqlOpen(baseConfig.database)",
                      "successors": [
                        {
                          "id": 133924149097232,
                          "label": "var ppStmt = sqlPrepare(ppDb, sql)",
                          "successors": [
                            {
                              "id": 133924149097280,
                              "label": "var number = 1",
                              "successors": [
                                {
                                  "id": 133924149097328,
                                  "label": "while (sqlStep(ppStmt) != SQLITE_DONE )",
                                  "successors": [
                                    {
                                      "id": 133924149097616,
                                      "label": "number = sqlColumnInt64(ppStmt, 0)",
                                      "successors": [
                                        {
                                          "id": 133924149097328
                                        }
                                      ]
                                    },
                                    {
                                      "id": 133924149097424,
                                      "label": "sqlFinalize(ppStmt)",
                                      "successors": [
                                        {
                                          "id": 133924149097568,
                                          "label": "sqlClose(ppDb)",
                                          "successors": [
                                            {
                                              "id": 133924149097664,
                                              "label": "return number",
                                              "successors": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "getThumbType",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167199728,
              "label": "",
              "successors": [
                {
                  "id": 133924149097808,
                  "label": "var sql = \"SELECT MEDIA_TYPE FROM THUMBNAIL_BOOK WHERE BOOK_ID = '${id}'\"",
                  "successors": [
                    {
                      "id": 133924149097904,
                      "label": "var ppDb: CPointer<CPointer<Unit>> = sqlOpen(baseConfig.database)",
                      "successors": [
                        {
                          "id": 133924149097952,
                          "label": "var ppStmt = sqlPrepare(ppDb, sql)",
                          "successors": [
                            {
                              "id": 133924149098000,
                              "label": "var type_u = \"\"",
                              "successors": [
                                {
                                  "id": 133924149098048,
                                  "label": "while (sqlStep(ppStmt) != SQLITE_DONE )",
                                  "successors": [
                                    {
                                      "id": 133924149098384,
                                      "label": "type_u = sqlColumnText(ppStmt, 0)",
                                      "successors": [
                                        {
                                          "id": 133924149098048
                                        }
                                      ]
                                    },
                                    {
                                      "id": 133924149098192,
                                      "label": "sqlFinalize(ppStmt)",
                                      "successors": [
                                        {
                                          "id": 133924149098336,
                                          "label": "sqlClose(ppDb)",
                                          "successors": [
                                            {
                                              "id": 133924149098432,
                                              "label": "return type_u",
                                              "successors": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "getFileType",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167200448,
              "label": "",
              "successors": [
                {
                  "id": 133924149098576,
                  "label": "var sql = \"SELECT MEDIA_TYPE FROM MEDIA WHERE BOOK_ID = '${id}'\"",
                  "successors": [
                    {
                      "id": 133924149098672,
                      "label": "var ppDb: CPointer<CPointer<Unit>> = sqlOpen(baseConfig.database)",
                      "successors": [
                        {
                          "id": 133924149098720,
                          "label": "var ppStmt = sqlPrepare(ppDb, sql)",
                          "successors": [
                            {
                              "id": 133924149098768,
                              "label": "var type_u = \"\"",
                              "successors": [
                                {
                                  "id": 133924149098816,
                                  "label": "while (sqlStep(ppStmt) != SQLITE_DONE )",
                                  "successors": [
                                    {
                                      "id": 133924149099152,
                                      "label": "type_u = sqlColumnText(ppStmt, 0)",
                                      "successors": [
                                        {
                                          "id": 133924149098816
                                        }
                                      ]
                                    },
                                    {
                                      "id": 133924149098960,
                                      "label": "sqlFinalize(ppStmt)",
                                      "successors": [
                                        {
                                          "id": 133924149099104,
                                          "label": "sqlClose(ppDb)",
                                          "successors": [
                                            {
                                              "id": 133924149099200,
                                              "label": "return type_u",
                                              "successors": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "getFile",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167201216,
              "label": "",
              "successors": [
                {
                  "id": 133924149099344,
                  "label": "var sql = \"SELECT URL FROM BOOK WHERE ID = '${id}'\"",
                  "successors": [
                    {
                      "id": 133924149099440,
                      "label": "var ppDb: CPointer<CPointer<Unit>> = sqlOpen(baseConfig.database)",
                      "successors": [
                        {
                          "id": 133924149099488,
                          "label": "var ppStmt = sqlPrepare(ppDb, sql)",
                          "successors": [
                            {
                              "id": 133924149099536,
                              "label": "var url = \"\"",
                              "successors": [
                                {
                                  "id": 133924149099584,
                                  "label": "while (sqlStep(ppStmt) != SQLITE_DONE )",
                                  "successors": [
                                    {
                                      "id": 133924149099920,
                                      "label": "url = sqlColumnText(ppStmt, 0)",
                                      "successors": [
                                        {
                                          "id": 133924149099584
                                        }
                                      ]
                                    },
                                    {
                                      "id": 133924149099728,
                                      "label": "sqlFinalize(ppStmt)",
                                      "successors": [
                                        {
                                          "id": 133924149099872,
                                          "label": "sqlClose(ppDb)",
                                          "successors": [
                                            {
                                              "id": 133924149099968,
                                              "label": "return url",
                                              "successors": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "getThumb",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167201936,
              "label": "",
              "successors": [
                {
                  "id": 133924149100112,
                  "label": "var sql = \"SELECT THUMBNAIL FROM THUMBNAIL_BOOK WHERE BOOK_ID = '${id}'\"",
                  "successors": [
                    {
                      "id": 133924149100208,
                      "label": "var ppDb: CPointer<CPointer<Unit>> = sqlOpen(baseConfig.database)",
                      "successors": [
                        {
                          "id": 133924149100256,
                          "label": "var ppStmt = sqlPrepare(ppDb, sql)",
                          "successors": [
                            {
                              "id": 133924149100352,
                              "label": "var imageData:ArrayList<UInt8>=ArrayList<UInt8>()",
                              "successors": [
                                {
                                  "id": 133924149100400,
                                  "label": "while (sqlStep(ppStmt) != SQLITE_DONE )",
                                  "successors": [
                                    {
                                      "id": 133924149248352,
                                      "label": "var size:Int64 = sqlColumnBytes(ppStmt, 0).position()",
                                      "successors": [
                                        {
                                          "id": 133924149248400,
                                          "label": "imageData.reserve(size)",
                                          "successors": [
                                            {
                                              "id": 133924149248448,
                                              "label": "",
                                              "successors": [
                                                {
                                                  "id": 133924149248736,
                                                  "label": "var cur = sqlColumnBlob(ppStmt, 0)",
                                                  "successors": [
                                                    {
                                                      "id": 133924149248784,
                                                      "label": "for (_ in 0..size )",
                                                      "successors": [
                                                        {
                                                          "id": 133924149249072,
                                                          "label": "imageData.append(UInt8(cur.read()))",
                                                          "successors": [
                                                            {
                                                              "id": 133924149249120,
                                                              "label": "cur = cur +1",
                                                              "successors": [
                                                                {
                                                                  "id": 133924149248784
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "id": 133924149100400
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "id": 133924149248112,
                                      "label": "sqlFinalize(ppStmt)",
                                      "successors": [
                                        {
                                          "id": 133924149248256,
                                          "label": "sqlClose(ppDb)",
                                          "successors": [
                                            {
                                              "id": 133924149248544,
                                              "label": "return imageData.toArray()",
                                              "successors": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "fromJsonToArray",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167202656,
              "label": "",
              "successors": [
                {
                  "id": 133924149249168,
                  "label": "var res = ArrayList<Books>()",
                  "successors": [
                    {
                      "id": 133924149249216,
                      "label": "while (let Some(v) <- r.peek() )",
                      "successors": [
                        {
                          "id": 133924149249552,
                          "label": "match (v )",
                          "successors": [
                            {
                              "id": 133924149250032,
                              "label": "r.startArray()",
                              "successors": [
                                {
                                  "id": 133924149250080,
                                  "label": "while (r.peek() != EndArray )",
                                  "successors": [
                                    {
                                      "id": 133924149250416,
                                      "label": "res.append(Books.fromJson(r))",
                                      "successors": [
                                        {
                                          "id": 133924149250080
                                        }
                                      ]
                                    },
                                    {
                                      "id": 133924149250224,
                                      "label": "r.endArray()",
                                      "successors": [
                                        {
                                          "id": 133924149249360,
                                          "label": "return res",
                                          "successors": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "id": 133924149250656,
                              "label": "throw Exception()",
                              "successors": [
                                {
                                  "id": 133924149249216
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "id": 133924149249360
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "formID",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167203376,
              "label": "",
              "successors": [
                {
                  "id": 133924149250704,
                  "label": "var sql = \"SELECT json_object('ID', ID,'SERIES_ID',SERIES_ID,'LIBRARY_ID',LIBRARY_ID, 'NAME', NAME,'NUMBER',NUMBER,'URL',URL,'CREATED_DATE',CREATED_DATE,'LAST_MODIFIED_DATE',LAST_MODIFIED_DATE,'FILE_LAST_MODIFIED',FILE_LAST_MODIFIED) FROM BOOK WHERE ID = '${id}'\"",
                  "successors": [
                    {
                      "id": 133924149250752,
                      "label": "var jsonStrList = sqlRun(baseConfig.database, sql)",
                      "successors": [
                        {
                          "id": 133924149250800,
                          "label": "var bas = ByteBuffer()",
                          "successors": [
                            {
                              "id": 133924149250848,
                              "label": "",
                              "successors": [
                                {
                                  "id": 133924149251136,
                                  "label": "bas.write(jsonStrList.rawData())",
                                  "successors": [
                                    {
                                      "id": 133924149250944,
                                      "label": "var reader = JsonReader(bas)",
                                      "successors": [
                                        {
                                          "id": 133924149251088,
                                          "label": "return Books.fromJson(reader)",
                                          "successors": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "formDatabase",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167204528,
              "label": "",
              "successors": [
                {
                  "id": 133924149251232,
                  "label": "var sql = \"SELECT json_group_array(json_object('ID', ID,'SERIES_ID',SERIES_ID,'LIBRARY_ID',LIBRARY_ID, 'NAME', NAME,'NUMBER',NUMBER,'URL',URL,'CREATED_DATE',CREATED_DATE,'LAST_MODIFIED_DATE',LAST_MODIFIED_DATE,'FILE_LAST_MODIFIED',FILE_LAST_MODIFIED)) FROM ( SELECT * FROM BOOK ORDER BY LAST_MODIFIED_DATE DESC LIMIT ${count} OFFSET ${page * count} )\"",
                  "successors": [
                    {
                      "id": 133924149251280,
                      "label": "if (libId != \"\" )",
                      "successors": [
                        {
                          "id": 133924149251664,
                          "label": "sql = \"SELECT json_group_array(json_object('ID', ID,'SERIES_ID',SERIES_ID,'LIBRARY_ID',LIBRARY_ID, 'NAME', NAME,'NUMBER',NUMBER,'URL',URL,'CREATED_DATE',CREATED_DATE,'LAST_MODIFIED_DATE',LAST_MODIFIED_DATE,'FILE_LAST_MODIFIED',FILE_LAST_MODIFIED)) FROM ( SELECT * FROM BOOK WHERE LIBRARY_ID = '${libId}' ORDER BY LAST_MODIFIED_DATE DESC LIMIT ${count} OFFSET ${page * count} )\"",
                          "successors": [
                            {
                              "id": 133924149251424,
                              "label": "if (seriesId != \"\" )",
                              "successors": [
                                {
                                  "id": 133924149251952,
                                  "label": "sql = \"SELECT json_group_array(json_object('ID', ID,'SERIES_ID',SERIES_ID,'LIBRARY_ID',LIBRARY_ID, 'NAME', NAME,'NUMBER',NUMBER,'URL',URL,'CREATED_DATE',CREATED_DATE,'LAST_MODIFIED_DATE',LAST_MODIFIED_DATE,'FILE_LAST_MODIFIED',FILE_LAST_MODIFIED)) FROM ( SELECT * FROM BOOK WHERE SERIES_ID = '${seriesId}' ORDER BY LAST_MODIFIED_DATE DESC LIMIT ${count} OFFSET ${page * count} )\"",
                                  "successors": [
                                    {
                                      "id": 133924149251712,
                                      "label": "var jsonStrList = sqlRun(location, sql)",
                                      "successors": [
                                        {
                                          "id": 133924149251760,
                                          "label": "var bas = ByteBuffer()",
                                          "successors": [
                                            {
                                              "id": 133924149251904,
                                              "label": "",
                                              "successors": [
                                                {
                                                  "id": 133924149252240,
                                                  "label": "bas.write(jsonStrList.rawData())",
                                                  "successors": [
                                                    {
                                                      "id": 133924149252048,
                                                      "label": "var reader = JsonReader(bas)",
                                                      "successors": [
                                                        {
                                                          "id": 133924149252192,
                                                          "label": "return Books.fromJsonToArray(reader)",
                                                          "successors": []
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "id": 133924149251712
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "id": 133924149251424
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        }
      ],
      "classes": []
    },
    {
      "name": "Librarys",
      "type": "Class",
      "blocks": [],
      "functions": [
        {
          "name": "fromJson",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167336672,
              "label": "",
              "successors": [
                {
                  "id": 133924149252432,
                  "label": "var res = Librarys()",
                  "successors": [
                    {
                      "id": 133924149252480,
                      "label": "while (let Some(v) <- r.peek() )",
                      "successors": [
                        {
                          "id": 133924149252816,
                          "label": "match (v )",
                          "successors": [
                            {
                              "id": 133924149253296,
                              "label": "r.startObject()",
                              "successors": [
                                {
                                  "id": 133924149253344,
                                  "label": "while (r.peek() != EndObject )",
                                  "successors": [
                                    {
                                      "id": 133924149253680,
                                      "label": "let n = r.readName()",
                                      "successors": [
                                        {
                                          "id": 133924149253728,
                                          "label": "match (n )",
                                          "successors": [
                                            {
                                              "id": 133924149254208,
                                              "label": "res.id = r.readValue<String>()",
                                              "successors": [
                                                {
                                                  "id": 133924149253344
                                                }
                                              ]
                                            },
                                            {
                                              "id": 133924149254496,
                                              "label": "res.name = r.readValue<String>()",
                                              "successors": [
                                                {
                                                  "id": 133924149253344
                                                }
                                              ]
                                            },
                                            {
                                              "id": 133924149254784,
                                              "label": "res.root = r.readValue<String>()",
                                              "successors": [
                                                {
                                                  "id": 133924149253344
                                                }
                                              ]
                                            },
                                            {
                                              "id": 133924149255072,
                                              "label": "res.createdDate = r.readValue<String>()",
                                              "successors": [
                                                {
                                                  "id": 133924149253344
                                                }
                                              ]
                                            },
                                            {
                                              "id": 133924149255360,
                                              "label": "res.lastModifiedDate = r.readValue<String>()",
                                              "successors": [
                                                {
                                                  "id": 133924149253344
                                                }
                                              ]
                                            },
                                            {
                                              "id": 133924149255648,
                                              "label": "()",
                                              "successors": [
                                                {
                                                  "id": 133924149253344
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "id": 133924149253488,
                                      "label": "r.endObject()",
                                      "successors": [
                                        {
                                          "id": 133924149252624,
                                          "label": "return res",
                                          "successors": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "id": 133924149255792,
                              "label": "throw Exception()",
                              "successors": [
                                {
                                  "id": 133924149252480
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "id": 133924149252624
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "fromJsonToArray",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167337392,
              "label": "",
              "successors": [
                {
                  "id": 133924149255840,
                  "label": "var res = ArrayList<Librarys>()",
                  "successors": [
                    {
                      "id": 133924149255888,
                      "label": "while (let Some(v) <- r.peek() )",
                      "successors": [
                        {
                          "id": 133924149256224,
                          "label": "match (v )",
                          "successors": [
                            {
                              "id": 133924149256704,
                              "label": "r.startArray()",
                              "successors": [
                                {
                                  "id": 133924149256752,
                                  "label": "while (r.peek() != EndArray )",
                                  "successors": [
                                    {
                                      "id": 133924149257088,
                                      "label": "res.append(Librarys.fromJson(r))",
                                      "successors": [
                                        {
                                          "id": 133924149256752
                                        }
                                      ]
                                    },
                                    {
                                      "id": 133924149256896,
                                      "label": "r.endArray()",
                                      "successors": [
                                        {
                                          "id": 133924149256032,
                                          "label": "return res",
                                          "successors": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "id": 133924149257328,
                              "label": "throw Exception()",
                              "successors": [
                                {
                                  "id": 133924149255888
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "id": 133924149256032
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "formDatabase",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167338112,
              "label": "",
              "successors": [
                {
                  "id": 133924149257376,
                  "label": "var sql = \"SELECT json_group_array(json_object('ID', ID, 'NAME', NAME,'ROOT',ROOT,'CREATED_DATE',CREATED_DATE,'LAST_MODIFIED_DATE',LAST_MODIFIED_DATE)) FROM LIBRARY\"",
                  "successors": [
                    {
                      "id": 133924149257424,
                      "label": "var jsonStrList = sqlRun(location, sql)",
                      "successors": [
                        {
                          "id": 133924149257472,
                          "label": "var bas = ByteBuffer()",
                          "successors": [
                            {
                              "id": 133924149257520,
                              "label": "",
                              "successors": [
                                {
                                  "id": 133924149257808,
                                  "label": "bas.write(jsonStrList.rawData())",
                                  "successors": [
                                    {
                                      "id": 133924149257616,
                                      "label": "var reader = JsonReader(bas)",
                                      "successors": [
                                        {
                                          "id": 133924149257760,
                                          "label": "return Librarys.fromJsonToArray(reader)",
                                          "successors": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "fromId",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167338832,
              "label": "",
              "successors": [
                {
                  "id": 133924149257952,
                  "label": "var sql = \"SELECT json_object('ID', ID, 'NAME', NAME,'ROOT',ROOT,'CREATED_DATE',CREATED_DATE,'LAST_MODIFIED_DATE',LAST_MODIFIED_DATE) FROM LIBRARY WHERE ID = '${id}'\"",
                  "successors": [
                    {
                      "id": 133924149258000,
                      "label": "var jsonStrList = sqlRun(baseConfig.database, sql)",
                      "successors": [
                        {
                          "id": 133924149258048,
                          "label": "var bas = ByteBuffer()",
                          "successors": [
                            {
                              "id": 133924149258096,
                              "label": "",
                              "successors": [
                                {
                                  "id": 133924149258384,
                                  "label": "bas.write(jsonStrList.rawData())",
                                  "successors": [
                                    {
                                      "id": 133924149258192,
                                      "label": "var reader = JsonReader(bas)",
                                      "successors": [
                                        {
                                          "id": 133924149258336,
                                          "label": "return Librarys.fromJson(reader)",
                                          "successors": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "getReadingCount",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167339648,
              "label": "",
              "successors": [
                {
                  "id": 133924149258480,
                  "label": "var sql = \"SELECT COUNT(*) FROM READ_PROGRESS WHERE COMPLETED = False AND USER_ID='${userID}';\"",
                  "successors": [
                    {
                      "id": 133924149258528,
                      "label": "if (libraryId != \"\" )",
                      "successors": [
                        {
                          "id": 133924149258912,
                          "label": "sql = \"SELECT COUNT(*) FROM BOOK WHERE ID IN ( SELECT BOOK_ID FROM READ_PROGRESS WHERE COMPLETED = False AND USER_ID='${userID}' ) AND LIBRARY_ID = '${libraryId}'\"",
                          "successors": [
                            {
                              "id": 133924149258720,
                              "label": "var ppDb: CPointer<CPointer<Unit>> = sqlOpen(baseConfig.database)",
                              "successors": [
                                {
                                  "id": 133924149258864,
                                  "label": "var ppStmt = sqlPrepare(ppDb, sql)",
                                  "successors": [
                                    {
                                      "id": 133924149258960,
                                      "label": "var number = 1",
                                      "successors": [
                                        {
                                          "id": 133924149259008,
                                          "label": "while (sqlStep(ppStmt) != SQLITE_DONE )",
                                          "successors": [
                                            {
                                              "id": 133924149259344,
                                              "label": "number = sqlColumnInt64(ppStmt, 0)",
                                              "successors": [
                                                {
                                                  "id": 133924149259008
                                                }
                                              ]
                                            },
                                            {
                                              "id": 133924149259152,
                                              "label": "sqlFinalize(ppStmt)",
                                              "successors": [
                                                {
                                                  "id": 133924149259296,
                                                  "label": "sqlClose(ppDb)",
                                                  "successors": [
                                                    {
                                                      "id": 133924149259392,
                                                      "label": "return number",
                                                      "successors": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "id": 133924149258720
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "getReading",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167340608,
              "label": "",
              "successors": [
                {
                  "id": 133924149259536,
                  "label": "var sql = \"SELECT json_group_array(json_object('ID', ID,'SERIES_ID',SERIES_ID,'LIBRARY_ID',LIBRARY_ID, 'NAME', NAME,'NUMBER',NUMBER,'URL',URL,'CREATED_DATE',CREATED_DATE,'LAST_MODIFIED_DATE',LAST_MODIFIED_DATE,'FILE_LAST_MODIFIED',FILE_LAST_MODIFIED)) FROM BOOK WHERE ID IN ( SELECT BOOK_ID FROM READ_PROGRESS WHERE COMPLETED = False AND USER_ID='${userID}' ) LIMIT ${count} OFFSET ${count*page};\"",
                  "successors": [
                    {
                      "id": 133924149259584,
                      "label": "if (libraryId != \"\" )",
                      "successors": [
                        {
                          "id": 133924149259968,
                          "label": "sql = \"SELECT json_group_array(json_object('ID', ID,'SERIES_ID',SERIES_ID,'LIBRARY_ID',LIBRARY_ID, 'NAME', NAME,'NUMBER',NUMBER,'URL',URL,'CREATED_DATE',CREATED_DATE,'LAST_MODIFIED_DATE',LAST_MODIFIED_DATE,'FILE_LAST_MODIFIED',FILE_LAST_MODIFIED)) FROM BOOK WHERE ID IN ( SELECT BOOK_ID FROM READ_PROGRESS WHERE COMPLETED = False AND USER_ID='${userID}' ) AND LIBRARY_ID = '${libraryId}' LIMIT ${count} OFFSET ${count*page};\"",
                          "successors": [
                            {
                              "id": 133924149259728,
                              "label": "var jsonStrList = sqlRun(baseConfig.database, sql)",
                              "successors": [
                                {
                                  "id": 133924149259776,
                                  "label": "var bas = ByteBuffer()",
                                  "successors": [
                                    {
                                      "id": 133924149259920,
                                      "label": "",
                                      "successors": [
                                        {
                                          "id": 133924149260256,
                                          "label": "bas.write(jsonStrList.rawData())",
                                          "successors": [
                                            {
                                              "id": 133924149260064,
                                              "label": "var reader = JsonReader(bas)",
                                              "successors": [
                                                {
                                                  "id": 133924149260208,
                                                  "label": "return Books.fromJsonToArray(reader)",
                                                  "successors": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "id": 133924149259728
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        }
      ],
      "classes": []
    },
    {
      "name": "Link",
      "type": "Class",
      "blocks": [],
      "functions": [
        {
          "name": "constructor",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167342336,
              "label": "",
              "successors": [
                {
                  "id": 133924149260448,
                  "label": "this.title = title",
                  "successors": [
                    {
                      "id": 133924149260496,
                      "label": "this.rel = rel",
                      "successors": [
                        {
                          "id": 133924149260544,
                          "label": "this.href = href",
                          "successors": [
                            {
                              "id": 133924149260592,
                              "label": "this.type_u = type_u",
                              "successors": [
                                {
                                  "id": 133924149260640,
                                  "label": "this.templated = templated",
                                  "successors": [
                                    {
                                      "id": 133924167342384,
                                      "label": "return",
                                      "successors": []
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "toJson",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167342672,
              "label": "",
              "successors": [
                {
                  "id": 133924149260736,
                  "label": "w.startObject()",
                  "successors": [
                    {
                      "id": 133924149260784,
                      "label": "if (href != \"\" )",
                      "successors": [
                        {
                          "id": 133924149261168,
                          "label": "w.writeName(\"href\").writeValue(href)",
                          "successors": [
                            {
                              "id": 133924149260928,
                              "label": "if (rel != \"\" )",
                              "successors": [
                                {
                                  "id": 133924149261456,
                                  "label": "w.writeName(\"rel\").writeValue(rel)",
                                  "successors": [
                                    {
                                      "id": 133924149261216,
                                      "label": "if (title != \"\" )",
                                      "successors": [
                                        {
                                          "id": 133924149261744,
                                          "label": "w.writeName(\"title\").writeValue(title)",
                                          "successors": [
                                            {
                                              "id": 133924149261504,
                                              "label": "if (type_u != \"\" )",
                                              "successors": [
                                                {
                                                  "id": 133924149262032,
                                                  "label": "w.writeName(\"type\").writeValue(type_u)",
                                                  "successors": [
                                                    {
                                                      "id": 133924149261792,
                                                      "label": "if (templated )",
                                                      "successors": [
                                                        {
                                                          "id": 133924149262320,
                                                          "label": "w.writeName(\"templated\").writeValue(templated)",
                                                          "successors": [
                                                            {
                                                              "id": 133924149262080,
                                                              "label": "w.endObject()",
                                                              "successors": [
                                                                {
                                                                  "id": 133924167342720,
                                                                  "label": "return",
                                                                  "successors": []
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "id": 133924149262080
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "id": 133924149261792
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "id": 133924149261504
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "id": 133924149261216
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "id": 133924149260928
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        }
      ],
      "classes": []
    },
    {
      "name": "Group",
      "type": "Class",
      "blocks": [],
      "functions": [
        {
          "name": "toJson",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167343872,
              "label": "",
              "successors": [
                {
                  "id": 133924149262416,
                  "label": "w.startObject()",
                  "successors": [
                    {
                      "id": 133924149262464,
                      "label": "w.writeName(\"metadata\").writeValue(metadata)",
                      "successors": [
                        {
                          "id": 133924149262512,
                          "label": "if (links.size != 0 )",
                          "successors": [
                            {
                              "id": 133924149262896,
                              "label": "w.writeName(\"links\").writeValue<ArrayList<Link>>(links)",
                              "successors": [
                                {
                                  "id": 133924149262656,
                                  "label": "if (navigation.size != 0 )",
                                  "successors": [
                                    {
                                      "id": 133924149263184,
                                      "label": "w.writeName(\"navigation\").writeValue<ArrayList<Link>>(navigation)",
                                      "successors": [
                                        {
                                          "id": 133924149262944,
                                          "label": "if (publications.size != 0 )",
                                          "successors": [
                                            {
                                              "id": 133924149263472,
                                              "label": "w.writeName(\"publications\").writeValue<ArrayList<Publication>>(publications)",
                                              "successors": [
                                                {
                                                  "id": 133924149263232,
                                                  "label": "w.endObject()",
                                                  "successors": [
                                                    {
                                                      "id": 133924167343920,
                                                      "label": "return",
                                                      "successors": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "id": 133924149263232
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "id": 133924149262944
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "id": 133924149262656
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        }
      ],
      "classes": []
    },
    {
      "name": "Links",
      "type": "Class",
      "blocks": [],
      "functions": [
        {
          "name": "constructor",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167345552,
              "label": "",
              "successors": [
                {
                  "id": 133924149263520,
                  "label": "self = Link(rel: \"self\", \n                  href: \"http://${host}/opds/v2/${selfPath}\"\n            )",
                  "successors": [
                    {
                      "id": 133924149263568,
                      "label": "home = Link(\n            title: \"Home\",\n            rel: \"start\",\n            href: \"http://${host}/opds/v2/catalog\",\n            type_u: \"application/opds+json\"\n        )",
                      "successors": [
                        {
                          "id": 133924149263616,
                          "label": "this.searchPage = searchPage",
                          "successors": [
                            {
                              "id": 133924149263664,
                              "label": "search = Link(\n            title: \"Search\",\n            rel: \"search\",\n            href: \"http://${host}/opds/v2/search{?query}\",\n            type_u: \"application/opds+json\",\n            templated: true\n        )",
                              "successors": [
                                {
                                  "id": 133924149263712,
                                  "label": "if (page != -1 )",
                                  "successors": [
                                    {
                                      "id": 133924149264048,
                                      "label": "pageSwitch.append(\n                Link(\n                    rel: \"next\",\n                    href: \"http://${host}/opds/v2/${selfPath}?page=${page+1}\"\n                )\n            )",
                                      "successors": [
                                        {
                                          "id": 133924149264096,
                                          "label": "if (page != 0 )",
                                          "successors": [
                                            {
                                              "id": 133924149461104,
                                              "label": "pageSwitch.append(\n                    Link(\n                        rel: \"previous\",\n                        href: \"http://${host}/opds/v2/${selfPath}?page=${page-1}\"\n                    )\n                )",
                                              "successors": [
                                                {
                                                  "id": 133924167345600,
                                                  "label": "return",
                                                  "successors": []
                                                }
                                              ]
                                            },
                                            {
                                              "id": 133924167345600
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "id": 133924167345600
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "toJson",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167346080,
              "label": "",
              "successors": [
                {
                  "id": 133924149264000,
                  "label": "w.startArray()",
                  "successors": [
                    {
                      "id": 133924149264192,
                      "label": "w.writeValue(self)",
                      "successors": [
                        {
                          "id": 133924149264240,
                          "label": "w.writeValue(home)",
                          "successors": [
                            {
                              "id": 133924149461056,
                              "label": "if (!searchPage )",
                              "successors": [
                                {
                                  "id": 133924149461488,
                                  "label": "w.writeValue(search)",
                                  "successors": [
                                    {
                                      "id": 133924149461248,
                                      "label": "for (i in 0..pageSwitch.size )",
                                      "successors": [
                                        {
                                          "id": 133924149461680,
                                          "label": "w.writeValue(pageSwitch[i])",
                                          "successors": [
                                            {
                                              "id": 133924149461248
                                            }
                                          ]
                                        },
                                        {
                                          "id": 133924149461440,
                                          "label": "w.endArray()",
                                          "successors": [
                                            {
                                              "id": 133924167346128,
                                              "label": "return",
                                              "successors": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "id": 133924149461248
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        }
      ],
      "classes": []
    },
    {
      "name": "Navigation",
      "type": "Class",
      "blocks": [],
      "functions": [
        {
          "name": "constructor",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167347472,
              "label": "",
              "successors": [
                {
                  "id": 133924149461728,
                  "label": "recommended = Link(\n            title: \"Recommended\",\n            rel: \"subsection\",\n            href: \"http://${host}/opds/v2/${selfPath}\",\n            type_u: \"application/opds+json\"\n        )",
                  "successors": [
                    {
                      "id": 133924149461776,
                      "label": "browse = Link(\n            title: \"Browse\",\n            rel: \"subsection\",\n            href: \"http://${host}/opds/v2/${selfPath}/browse\",\n            type_u: \"application/opds+json\",\n        )",
                      "successors": [
                        {
                          "id": 133924167347520,
                          "label": "return",
                          "successors": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "toJson",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167348048,
              "label": "",
              "successors": [
                {
                  "id": 133924149461968,
                  "label": "w.startArray()",
                  "successors": [
                    {
                      "id": 133924149462016,
                      "label": "w.writeValue(recommended)",
                      "successors": [
                        {
                          "id": 133924149462064,
                          "label": "w.writeValue(browse)",
                          "successors": [
                            {
                              "id": 133924149462112,
                              "label": "w.endArray()",
                              "successors": [
                                {
                                  "id": 133924167348096,
                                  "label": "return",
                                  "successors": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        }
      ],
      "classes": []
    },
    {
      "name": "Metadata",
      "type": "Class",
      "blocks": [],
      "functions": [
        {
          "name": "constructor",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167349152,
              "label": "",
              "successors": [
                {
                  "id": 133924149461632,
                  "label": "return;",
                  "successors": [
                    {
                      "id": 133924167349200,
                      "label": "return",
                      "successors": []
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "constructor",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167350832,
              "label": "",
              "successors": [
                {
                  "id": 133924149462400,
                  "label": "this.title = title",
                  "successors": [
                    {
                      "id": 133924149462448,
                      "label": "this.conformsTo = conformsTo",
                      "successors": [
                        {
                          "id": 133924149462496,
                          "label": "this.modified = modified",
                          "successors": [
                            {
                              "id": 133924149462544,
                              "label": "this.itemsPerPage = itemsPerPage",
                              "successors": [
                                {
                                  "id": 133924149462592,
                                  "label": "this.currentPage = currentPage",
                                  "successors": [
                                    {
                                      "id": 133924149462640,
                                      "label": "this.numberOfItems = numberOfItems",
                                      "successors": [
                                        {
                                          "id": 133924149462688,
                                          "label": "this.numberOfPages = numberOfPages",
                                          "successors": [
                                            {
                                              "id": 133924149462736,
                                              "label": "this.contributor = contributor",
                                              "successors": [
                                                {
                                                  "id": 133924149462784,
                                                  "label": "if (this.modified.contains(\" \") )",
                                                  "successors": [
                                                    {
                                                      "id": 133924149463120,
                                                      "label": "this.timeFormat()",
                                                      "successors": [
                                                        {
                                                          "id": 133924167350880,
                                                          "label": "return",
                                                          "successors": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "id": 133924167350880
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "timeFormat",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167351168,
              "label": "",
              "successors": [
                {
                  "id": 133924149463072,
                  "label": "this.modified = this.modified.replace(\" \",\"T\")+\"Z\"",
                  "successors": [
                    {
                      "id": 133924167351216,
                      "label": "return",
                      "successors": []
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "addBookDesc",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167351840,
              "label": "",
              "successors": [
                {
                  "id": 133924149463264,
                  "label": "this.description = BookSeries.getDesc(id)",
                  "successors": [
                    {
                      "id": 133924167351888,
                      "label": "return",
                      "successors": []
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "addSeriesBelongTo",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167516416,
              "label": "",
              "successors": [
                {
                  "id": 133924149463408,
                  "label": "this.seriesBelongTo.append(SeriesBelongTo(obj))",
                  "successors": [
                    {
                      "id": 133924167516464,
                      "label": "return",
                      "successors": []
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "toJson",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167517040,
              "label": "",
              "successors": [
                {
                  "id": 133924149463552,
                  "label": "w.startObject()",
                  "successors": [
                    {
                      "id": 133924149463600,
                      "label": "w.writeName(\"title\").writeValue(title)",
                      "successors": [
                        {
                          "id": 133924149463648,
                          "label": "if (conformsTo != \"\" )",
                          "successors": [
                            {
                              "id": 133924149464032,
                              "label": "w.writeName(\"conformsTo\").writeValue(conformsTo)",
                              "successors": [
                                {
                                  "id": 133924149463792,
                                  "label": "if (modified != \"\" )",
                                  "successors": [
                                    {
                                      "id": 133924149464320,
                                      "label": "w.writeName(\"modified\").writeValue(modified)",
                                      "successors": [
                                        {
                                          "id": 133924149464080,
                                          "label": "if (description != \"\" )",
                                          "successors": [
                                            {
                                              "id": 133924149464608,
                                              "label": "w.writeName(\"description\").writeValue(description)",
                                              "successors": [
                                                {
                                                  "id": 133924149464368,
                                                  "label": "if (itemsPerPage != -1 )",
                                                  "successors": [
                                                    {
                                                      "id": 133924149464896,
                                                      "label": "w.writeName(\"itemsPerPage\").writeValue(itemsPerPage)",
                                                      "successors": [
                                                        {
                                                          "id": 133924149464656,
                                                          "label": "if (currentPage != -1 )",
                                                          "successors": [
                                                            {
                                                              "id": 133924149465184,
                                                              "label": "w.writeName(\"currentPage\").writeValue(currentPage)",
                                                              "successors": [
                                                                {
                                                                  "id": 133924149464944,
                                                                  "label": "if (numberOfItems != -1 )",
                                                                  "successors": [
                                                                    {
                                                                      "id": 133924149465472,
                                                                      "label": "w.writeName(\"numberOfItems\").writeValue(numberOfItems)",
                                                                      "successors": [
                                                                        {
                                                                          "id": 133924149465232,
                                                                          "label": "if (numberOfPages != -1 )",
                                                                          "successors": [
                                                                            {
                                                                              "id": 133924149465760,
                                                                              "label": "w.writeName(\"numberOfPages\").writeValue(numberOfPages)",
                                                                              "successors": [
                                                                                {
                                                                                  "id": 133924149465520,
                                                                                  "label": "if (contributor.size != 0 )",
                                                                                  "successors": [
                                                                                    {
                                                                                      "id": 133924149466048,
                                                                                      "label": "w.writeName(\"contributor\").writeValue<ArrayList<String>>(contributor)",
                                                                                      "successors": [
                                                                                        {
                                                                                          "id": 133924149465808,
                                                                                          "label": "if (seriesBelongTo.size != 0 )",
                                                                                          "successors": [
                                                                                            {
                                                                                              "id": 133924149466384,
                                                                                              "label": "w.writeName(\"belongsTo\").startObject()",
                                                                                              "successors": [
                                                                                                {
                                                                                                  "id": 133924149466432,
                                                                                                  "label": "w.writeName(\"series\").writeValue<ArrayList<SeriesBelongTo>>(seriesBelongTo)",
                                                                                                  "successors": [
                                                                                                    {
                                                                                                      "id": 133924149466480,
                                                                                                      "label": "w.endObject()",
                                                                                                      "successors": [
                                                                                                        {
                                                                                                          "id": 133924149466096,
                                                                                                          "label": "w.endObject()",
                                                                                                          "successors": [
                                                                                                            {
                                                                                                              "id": 133924167517088,
                                                                                                              "label": "return",
                                                                                                              "successors": []
                                                                                                            }
                                                                                                          ]
                                                                                                        }
                                                                                                      ]
                                                                                                    }
                                                                                                  ]
                                                                                                }
                                                                                              ]
                                                                                            },
                                                                                            {
                                                                                              "id": 133924149466096
                                                                                            }
                                                                                          ]
                                                                                        }
                                                                                      ]
                                                                                    },
                                                                                    {
                                                                                      "id": 133924149465808
                                                                                    }
                                                                                  ]
                                                                                }
                                                                              ]
                                                                            },
                                                                            {
                                                                              "id": 133924149465520
                                                                            }
                                                                          ]
                                                                        }
                                                                      ]
                                                                    },
                                                                    {
                                                                      "id": 133924149465232
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "id": 133924149464944
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "id": 133924149464656
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "id": 133924149464368
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "id": 133924149464080
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "id": 133924149463792
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        }
      ],
      "classes": []
    },
    {
      "name": "SeriesBelongTo",
      "type": "Class",
      "blocks": [],
      "functions": [
        {
          "name": "constructor",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167518192,
              "label": "",
              "successors": [
                {
                  "id": 133924149462208,
                  "label": "return;",
                  "successors": [
                    {
                      "id": 133924167518240,
                      "label": "return",
                      "successors": []
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "constructor",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167518864,
              "label": "",
              "successors": [
                {
                  "id": 133924149466672,
                  "label": "this.name = obj.name",
                  "successors": [
                    {
                      "id": 133924149466720,
                      "label": "this.position = obj.number",
                      "successors": [
                        {
                          "id": 133924149466768,
                          "label": "this.links.append(\n            Link(\n                href: \"http://192.168.10.86:25600/opds/v2/series/${obj.id}\",\n                type_u: \"application/vnd.comicbook+json\"\n            )\n        )",
                          "successors": [
                            {
                              "id": 133924167518912,
                              "label": "return",
                              "successors": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "toJson",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167519488,
              "label": "",
              "successors": [
                {
                  "id": 133924149466960,
                  "label": "w.startObject()",
                  "successors": [
                    {
                      "id": 133924149467008,
                      "label": "if (name != \"\" )",
                      "successors": [
                        {
                          "id": 133924149467392,
                          "label": "w.writeName(\"name\").writeValue(name)",
                          "successors": [
                            {
                              "id": 133924149467152,
                              "label": "if (position != -1 )",
                              "successors": [
                                {
                                  "id": 133924149467680,
                                  "label": "w.writeName(\"position\").writeValue(position)",
                                  "successors": [
                                    {
                                      "id": 133924149467440,
                                      "label": "if (links.size != 0 )",
                                      "successors": [
                                        {
                                          "id": 133924149467968,
                                          "label": "w.writeName(\"links\").writeValue<ArrayList<Link>>(links)",
                                          "successors": [
                                            {
                                              "id": 133924149467728,
                                              "label": "w.endObject()",
                                              "successors": [
                                                {
                                                  "id": 133924167519536,
                                                  "label": "return",
                                                  "successors": []
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "id": 133924149467728
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "id": 133924149467440
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "id": 133924149467152
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        }
      ],
      "classes": []
    },
    {
      "name": "Publication",
      "type": "Class",
      "blocks": [],
      "functions": [
        {
          "name": "getContibuor",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167520592,
              "label": "",
              "successors": [
                {
                  "id": 133924149467920,
                  "label": "var sql = \"SELECT NAME FROM BOOK_METADATA_AUTHOR WHERE BOOK_ID = '${id}'\"",
                  "successors": [
                    {
                      "id": 133924149468064,
                      "label": "var ppDb: CPointer<CPointer<Unit>> = sqlOpen(baseConfig.database)",
                      "successors": [
                        {
                          "id": 133924149468112,
                          "label": "var ppStmt = sqlPrepare(ppDb, sql)",
                          "successors": [
                            {
                              "id": 133924149468160,
                              "label": "var listStr = ArrayList<String>()",
                              "successors": [
                                {
                                  "id": 133924149468208,
                                  "label": "while (sqlStep(ppStmt) != SQLITE_DONE )",
                                  "successors": [
                                    {
                                      "id": 133924149468544,
                                      "label": "for (i in 0..sqlColumnCount(ppStmt) )",
                                      "successors": [
                                        {
                                          "id": 133924149468832,
                                          "label": "listStr.append(sqlColumnText(ppStmt, i))",
                                          "successors": [
                                            {
                                              "id": 133924149468544
                                            }
                                          ]
                                        },
                                        {
                                          "id": 133924149468208
                                        }
                                      ]
                                    },
                                    {
                                      "id": 133924149468352,
                                      "label": "sqlFinalize(ppStmt)",
                                      "successors": [
                                        {
                                          "id": 133924149468496,
                                          "label": "sqlClose(ppDb)",
                                          "successors": [
                                            {
                                              "id": 133924149468640,
                                              "label": "return listStr",
                                              "successors": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "constructor",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167521264,
              "label": "",
              "successors": [
                {
                  "id": 133924149468976,
                  "label": "this.context = \"https://readium.org/webpub-manifest/context.jsonld\"",
                  "successors": [
                    {
                      "id": 133924149469024,
                      "label": "this.metadata = Metadata(\n            obj.name,\n            modified: obj.lastModifiedDate,\n            numberOfPages: obj.pageCount,\n            contributor: getContibuor(obj.id)\n        )",
                      "successors": [
                        {
                          "id": 133924149469072,
                          "label": "this.metadata.addSeriesBelongTo(obj)",
                          "successors": [
                            {
                              "id": 133924149469120,
                              "label": "this.links.append(\n            Link(\n                rel: \"self\",\n                href: \"http://${host}/api/v1/books/${obj.id}/manifest\",\n                type_u: \"application/divina+json\"\n            )\n        )",
                              "successors": [
                                {
                                  "id": 133924149469168,
                                  "label": "this.links.append(\n            Link(\n                rel: \"http://opds-spec.org/acquisition\",\n                href: \"http://${host}/api/v1/books/${obj.id}/file\",\n                type_u: \"application/vnd.comicbook+zip\"\n            )\n        )",
                                  "successors": [
                                    {
                                      "id": 133924149469216,
                                      "label": "this.images.append(\n            Link(\n                href: \"http://${host}/api/v1/books/${obj.id}/thumbnail\",\n                type_u: \"image/jpeg\"\n            )\n        )",
                                      "successors": [
                                        {
                                          "id": 133924167521312,
                                          "label": "return",
                                          "successors": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "toJson",
          "type": "Function",
          "blocks": [
            {
              "id": 133924167521888,
              "label": "",
              "successors": [
                {
                  "id": 133924149469312,
                  "label": "w.startObject()",
                  "successors": [
                    {
                      "id": 133924149469360,
                      "label": "w.writeName(\"context\").writeValue(context)",
                      "successors": [
                        {
                          "id": 133924149469408,
                          "label": "w.writeName(\"metadata\").writeValue(metadata)",
                          "successors": [
                            {
                              "id": 133924149469456,
                              "label": "w.writeName(\"links\").writeValue<ArrayList<Link>>(links)",
                              "successors": [
                                {
                                  "id": 133924149469504,
                                  "label": "w.writeName(\"images\").writeValue<ArrayList<Link>>(images)",
                                  "successors": [
                                    {
                                      "id": 133924149469552,
                                      "label": "w.writeName(\"readingOrder\").writeValue<ArrayList<Link>>(readingOrder)",
                                      "successors": [
                                        {
                                          "id": 133924149469600,
                                          "label": "w.writeName(\"resources\").writeValue<ArrayList<Link>>(resources)",
                                          "successors": [
                                            {
                                              "id": 133924149469648,
                                              "label": "w.writeName(\"toc\").writeValue<ArrayList<Link>>(toc)",
                                              "successors": [
                                                {
                                                  "id": 133924149469696,
                                                  "label": "w.writeName(\"landmarks\").writeValue<ArrayList<Link>>(landmarks)",
                                                  "successors": [
                                                    {
                                                      "id": 133924149469744,
                                                      "label": "w.writeName(\"pageList\").writeValue<ArrayList<Link>>(pageList)",
                                                      "successors": [
                                                        {
                                                          "id": 133924149469792,
                                                          "label": "w.endObject()",
                                                          "successors": [
                                                            {
                                                              "id": 133924167521936,
                                                              "label": "return",
                                                              "successors": []
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        }
      ],
      "classes": []
    }
  ]
}