{
  "name": "263.cj",
  "type": "File",
  "blocks": [],
  "functions": [],
  "classes": [
    {
      "name": "_DEFAULT_CANG_CLASS",
      "type": "Class",
      "blocks": [],
      "functions": [],
      "classes": []
    },
    {
      "name": "H2ClientStream",
      "type": "Class",
      "blocks": [],
      "functions": [
        {
          "name": "constructor",
          "type": "Function",
          "blocks": [
            {
              "id": 133924163219952,
              "label": "",
              "successors": [
                {
                  "id": 133924145987984,
                  "label": "this.ID = ids",
                  "successors": [
                    {
                      "id": 133924145988128,
                      "label": "this.cc = cc",
                      "successors": [
                        {
                          "id": 133924145988224,
                          "label": "this.state = IDLE",
                          "successors": [
                            {
                              "id": 133924145988272,
                              "label": "this.reqBody = reqBody",
                              "successors": [
                                {
                                  "id": 133924145988320,
                                  "label": "this.resp = H2Response(cc.decode)",
                                  "successors": [
                                    {
                                      "id": 133924145988368,
                                      "label": "let bas: ByteBuffer = ByteBuffer(4096)",
                                      "successors": [
                                        {
                                          "id": 133924145988416,
                                          "label": "let buffer: Array<Byte> = Array<Byte>(4096, repeat: 0)",
                                          "successors": [
                                            {
                                              "id": 133924145988464,
                                              "label": "while (true )",
                                              "successors": [
                                                {
                                                  "id": 133924145988752,
                                                  "label": "let num: Int64 = reqBody.read(buffer)",
                                                  "successors": [
                                                    {
                                                      "id": 133924145988800,
                                                      "label": "if (num < 4096 )",
                                                      "successors": [
                                                        {
                                                          "id": 133924145989136,
                                                          "label": "bas.write(buffer[0..num])",
                                                          "successors": [
                                                            {
                                                              "id": 133924145988560,
                                                              "label": "this.reqBodyContentLength = bas.length",
                                                              "successors": [
                                                                {
                                                                  "id": 133924145988704,
                                                                  "label": "this.reqBody = bas",
                                                                  "successors": [
                                                                    {
                                                                      "id": 133924145988944,
                                                                      "label": "cc.streamMap.put(ids, this)",
                                                                      "successors": [
                                                                        {
                                                                          "id": 133924163220000,
                                                                          "label": "return",
                                                                          "successors": []
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "id": 133924145988896,
                                                          "label": "bas.write(buffer)",
                                                          "successors": [
                                                            {
                                                              "id": 133924145988464
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "id": 133924145988560
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "rawCreatResponse",
          "type": "Function",
          "blocks": [
            {
              "id": 133924163220576,
              "label": "",
              "successors": [
                {
                  "id": 133924145989232,
                  "label": "this.resp.rawCreatResponse(this.req.getOrThrow())",
                  "successors": [
                    {
                      "id": 133924163220624,
                      "label": "return",
                      "successors": []
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "rawCreateStreamResponse",
          "type": "Function",
          "blocks": [
            {
              "id": 133924163221200,
              "label": "",
              "successors": [
                {
                  "id": 133924145989376,
                  "label": "this.resp.doCreateStreamResponse(this.req.getOrThrow())",
                  "successors": [
                    {
                      "id": 133924163221248,
                      "label": "return",
                      "successors": []
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "clear",
          "type": "Function",
          "blocks": [
            {
              "id": 133924163221920,
              "label": "",
              "successors": [
                {
                  "id": 133924145989568,
                  "label": "allHttp2Frame.clear()",
                  "successors": [
                    {
                      "id": 133924145989616,
                      "label": "pushedFile = None",
                      "successors": [
                        {
                          "id": 133924145989664,
                          "label": "req = None",
                          "successors": [
                            {
                              "id": 133924145989712,
                              "label": "match (reqBody )",
                              "successors": [
                                {
                                  "id": 133924145990144,
                                  "label": "()",
                                  "successors": [
                                    {
                                      "id": 133924145989808,
                                      "label": "reqBody = None",
                                      "successors": [
                                        {
                                          "id": 133924163221968,
                                          "label": "return",
                                          "successors": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "newStream",
          "type": "Function",
          "blocks": [
            {
              "id": 133924163222736,
              "label": "",
              "successors": [
                {
                  "id": 133924145990192,
                  "label": "return H2ClientStream(ids, cc, reqBody)",
                  "successors": []
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "doRequestHttp2",
          "type": "Function",
          "blocks": [
            {
              "id": 133924163223312,
              "label": "",
              "successors": [
                {
                  "id": 133924145990336,
                  "label": "this.req = req",
                  "successors": [
                    {
                      "id": 133924145990432,
                      "label": "let _: String = this.writeRequest(req)",
                      "successors": [
                        {
                          "id": 133924163223360,
                          "label": "return",
                          "successors": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "getFrames",
          "type": "Function",
          "blocks": [
            {
              "id": 133924163404176,
              "label": "",
              "successors": [
                {
                  "id": 133924145990576,
                  "label": "return allHttp2Frame",
                  "successors": []
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "encodeHeaders",
          "type": "Function",
          "blocks": [
            {
              "id": 133924163404992,
              "label": "",
              "successors": [
                {
                  "id": 133924145990720,
                  "label": "if (req.url.toString().isEmpty() )",
                  "successors": [
                    {
                      "id": 133924145991104,
                      "label": "return (EMPTY_ARRAY, errNilRequestURL)",
                      "successors": []
                    },
                    {
                      "id": 133924145990912,
                      "label": "var host: String = req.url.hostName+\":\"+req.url.port",
                      "successors": [
                        {
                          "id": 133924145991056,
                          "label": "if (host.isEmpty() )",
                          "successors": [
                            {
                              "id": 133924145991488,
                              "label": "host = req.url.hostName+\":\"+req.url.port",
                              "successors": [
                                {
                                  "id": 133924145991296,
                                  "label": "var (hostp, err): (String, String) = punycodeHostPort(host)",
                                  "successors": [
                                    {
                                      "id": 133924145991440,
                                      "label": "host = hostp",
                                      "successors": [
                                        {
                                          "id": 133924145991536,
                                          "label": "if (!err.isEmpty() )",
                                          "successors": [
                                            {
                                              "id": 133924145991920,
                                              "label": "return (EMPTY_ARRAY, err)",
                                              "successors": []
                                            },
                                            {
                                              "id": 133924145991728,
                                              "label": "var path: String = req.url.path",
                                              "successors": [
                                                {
                                                  "id": 133924145991872,
                                                  "label": "for ((k, vv) in req.header )",
                                                  "successors": [
                                                    {
                                                      "id": 133924145992208,
                                                      "label": "if (!validHeaderFieldName(k) )",
                                                      "successors": [
                                                        {
                                                          "id": 133924145992592,
                                                          "label": "return (EMPTY_ARRAY, \"invalid HTTP header name ${k}\")",
                                                          "successors": []
                                                        },
                                                        {
                                                          "id": 133924145992352,
                                                          "label": "for (v in vv )",
                                                          "successors": [
                                                            {
                                                              "id": 133924145992784,
                                                              "label": "if (!validHeaderFieldValue(v) )",
                                                              "successors": [
                                                                {
                                                                  "id": 133924145993168,
                                                                  "label": "return (EMPTY_ARRAY, \"invalid HTTP header value for header ${k}\")",
                                                                  "successors": []
                                                                },
                                                                {
                                                                  "id": 133924145992352
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "id": 133924145991872
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "id": 133924145992160,
                                                      "label": "let arrHeaderField: LinkedListHttp2<HeaderField> = LinkedListHttp2<HeaderField>()",
                                                      "successors": [
                                                        {
                                                          "id": 133924145992736,
                                                          "label": "var hlSize: Int64 = enumerateHeaders(host, path, req, addGzipHeader, trailers, contentLength, true, arrHeaderField)",
                                                          "successors": [
                                                            {
                                                              "id": 133924145992928,
                                                              "label": "if (hlSize > cc.conf.MAX_HEADER_LIST_SIZE )",
                                                              "successors": [
                                                                {
                                                                  "id": 133924145993456,
                                                                  "label": "return (EMPTY_ARRAY, errRequestHeaderListSize)",
                                                                  "successors": []
                                                                },
                                                                {
                                                                  "id": 133924145993216,
                                                                  "label": "this.enumerateHeaders(host, path, req, addGzipHeader, trailers, contentLength, false, arrHeaderField)",
                                                                  "successors": [
                                                                    {
                                                                      "id": 133924145993408,
                                                                      "label": "let arrhbuf: Array<UInt8> = this.cc.encode.encode(arrHeaderField)",
                                                                      "successors": [
                                                                        {
                                                                          "id": 133924145993504,
                                                                          "label": "return (arrhbuf, \"\")",
                                                                          "successors": []
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "id": 133924145991296
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "encodeStreamHeaders",
          "type": "Function",
          "blocks": [
            {
              "id": 133924163405664,
              "label": "",
              "successors": [
                {
                  "id": 133924145993648,
                  "label": "if (streamreq.url.toString().isEmpty() )",
                  "successors": [
                    {
                      "id": 133924145994032,
                      "label": "return (EMPTY_ARRAY, errNilRequestURL)",
                      "successors": []
                    },
                    {
                      "id": 133924145993840,
                      "label": "var host: String = streamreq.url.hostName+\":\"+streamreq.url.port",
                      "successors": [
                        {
                          "id": 133924145993984,
                          "label": "if (host.isEmpty() )",
                          "successors": [
                            {
                              "id": 133924145994416,
                              "label": "host = streamreq.url.hostName+\":\"+streamreq.url.port",
                              "successors": [
                                {
                                  "id": 133924145994224,
                                  "label": "var (hostp, err): (String, String) = punycodeHostPort(host)",
                                  "successors": [
                                    {
                                      "id": 133924145994368,
                                      "label": "host = hostp",
                                      "successors": [
                                        {
                                          "id": 133924145994464,
                                          "label": "if (!err.isEmpty() )",
                                          "successors": [
                                            {
                                              "id": 133924145994848,
                                              "label": "return (EMPTY_ARRAY, err)",
                                              "successors": []
                                            },
                                            {
                                              "id": 133924145994656,
                                              "label": "var path: String = streamreq.requestURI",
                                              "successors": [
                                                {
                                                  "id": 133924145994800,
                                                  "label": "if (!validPseudoPath(path) )",
                                                  "successors": [
                                                    {
                                                      "id": 133924145995328,
                                                      "label": "let orig: String = path",
                                                      "successors": [
                                                        {
                                                          "id": 133924145995376,
                                                          "label": "path = path.removePrefix(streamreq.url.scheme+\"://\"+host)",
                                                          "successors": [
                                                            {
                                                              "id": 133924145995424,
                                                              "label": "if (!validPseudoPath(path) )",
                                                              "successors": [
                                                                {
                                                                  "id": 133924145995808,
                                                                  "label": "if (!streamreq.url.opaque.isEmpty() )",
                                                                  "successors": [
                                                                    {
                                                                      "id": 133924145996192,
                                                                      "label": "return (EMPTY_ARRAY, \"invalid request :path ${orig} from URL.Opaque = ${streamreq.url.opaque}\")",
                                                                      "successors": []
                                                                    },
                                                                    {
                                                                      "id": 133924145996336,
                                                                      "label": "return (EMPTY_ARRAY, \"invalid request :path ${orig}\")",
                                                                      "successors": []
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "id": 133924145994992,
                                                                  "label": "for ((k, vv) in streamreq.header )",
                                                                  "successors": [
                                                                    {
                                                                      "id": 133924145995904,
                                                                      "label": "if (!validHeaderFieldName(k) )",
                                                                      "successors": [
                                                                        {
                                                                          "id": 133924145996576,
                                                                          "label": "return (EMPTY_ARRAY, \"invalid HTTP header name ${k}\")",
                                                                          "successors": []
                                                                        },
                                                                        {
                                                                          "id": 133924145996288,
                                                                          "label": "for (v in vv )",
                                                                          "successors": [
                                                                            {
                                                                              "id": 133924145996768,
                                                                              "label": "if (!validHeaderFieldValue(v) )",
                                                                              "successors": [
                                                                                {
                                                                                  "id": 133924145997152,
                                                                                  "label": "return (EMPTY_ARRAY, \"invalid HTTP header value for header ${k}\")",
                                                                                  "successors": []
                                                                                },
                                                                                {
                                                                                  "id": 133924145996288
                                                                                }
                                                                              ]
                                                                            },
                                                                            {
                                                                              "id": 133924145994992
                                                                            }
                                                                          ]
                                                                        }
                                                                      ]
                                                                    },
                                                                    {
                                                                      "id": 133924145995760,
                                                                      "label": "let arrHeaderField: LinkedListHttp2<HeaderField> = LinkedListHttp2<HeaderField>()",
                                                                      "successors": [
                                                                        {
                                                                          "id": 133924145996720,
                                                                          "label": "var hlSize: Int64 = enumerateStreamHeaders(host, path, streamreq, addGzipHeader, trailers, true, arrHeaderField)",
                                                                          "successors": [
                                                                            {
                                                                              "id": 133924145996912,
                                                                              "label": "if (hlSize > cc.conf.MAX_HEADER_LIST_SIZE )",
                                                                              "successors": [
                                                                                {
                                                                                  "id": 133924145997440,
                                                                                  "label": "return (EMPTY_ARRAY, errRequestHeaderListSize)",
                                                                                  "successors": []
                                                                                },
                                                                                {
                                                                                  "id": 133924145997200,
                                                                                  "label": "enumerateStreamHeaders(host, path, streamreq, addGzipHeader, trailers, false, arrHeaderField)",
                                                                                  "successors": [
                                                                                    {
                                                                                      "id": 133924145997392,
                                                                                      "label": "let arrhbuf: Array<UInt8> = this.cc.encode.encode(arrHeaderField)",
                                                                                      "successors": [
                                                                                        {
                                                                                          "id": 133924145997488,
                                                                                          "label": "return (arrhbuf, \"\")",
                                                                                          "successors": []
                                                                                        }
                                                                                      ]
                                                                                    }
                                                                                  ]
                                                                                }
                                                                              ]
                                                                            }
                                                                          ]
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "id": 133924145994992
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "id": 133924145994224
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "enumerateHeaders",
          "type": "Function",
          "blocks": [
            {
              "id": 133924163406624,
              "label": "",
              "successors": [
                {
                  "id": 133924145997680,
                  "label": "var hlSize: Int64 = 0",
                  "successors": [
                    {
                      "id": 133924145997728,
                      "label": "hlSize += enumerateHeader(\":authority\", host, isFirst, arr)",
                      "successors": [
                        {
                          "id": 133924145997776,
                          "label": "hlSize += enumerateHeader(\":method\", req.method.toString(), isFirst, arr)",
                          "successors": [
                            {
                              "id": 133924145997824,
                              "label": "hlSize += enumerateHeader(\":path\", path, isFirst, arr)",
                              "successors": [
                                {
                                  "id": 133924145997872,
                                  "label": "hlSize += enumerateHeader(\":scheme\", req.url.scheme, isFirst, arr)",
                                  "successors": [
                                    {
                                      "id": 133924145997920,
                                      "label": "if (!trailers.isEmpty() )",
                                      "successors": [
                                        {
                                          "id": 133924145998304,
                                          "label": "hlSize += enumerateHeader(\"trailer\", trailers, isFirst, arr)",
                                          "successors": [
                                            {
                                              "id": 133924145998112,
                                              "label": "let (hlnum, didUA, cleanUA): (Int64, Bool, Bool) = enumerateHeadersUtil(req, isFirst, arr)",
                                              "successors": [
                                                {
                                                  "id": 133924145998256,
                                                  "label": "hlSize += hlnum",
                                                  "successors": [
                                                    {
                                                      "id": 133924145998352,
                                                      "label": "if (shouldSendReqContentLength(req.method.toString(), contentLength) )",
                                                      "successors": [
                                                        {
                                                          "id": 133924145998736,
                                                          "label": "hlSize += enumerateHeader(\"content-length\", formatInt(contentLength, 10), isFirst, arr)",
                                                          "successors": [
                                                            {
                                                              "id": 133924145998496,
                                                              "label": "if (addGzipHeader )",
                                                              "successors": [
                                                                {
                                                                  "id": 133924145999024,
                                                                  "label": "hlSize += enumerateHeader(\"accept-encoding\", \"gzip\", isFirst, arr)",
                                                                  "successors": [
                                                                    {
                                                                      "id": 133924145998784,
                                                                      "label": "if (cleanUA )",
                                                                      "successors": [
                                                                        {
                                                                          "id": 133924145999312,
                                                                          "label": "req.header.del(\"User-Agent\")",
                                                                          "successors": [
                                                                            {
                                                                              "id": 133924145999072,
                                                                              "label": "if (!didUA )",
                                                                              "successors": [
                                                                                {
                                                                                  "id": 133924145999600,
                                                                                  "label": "hlSize += enumerateHeader(\"user-agent\", defaultUserAgent, isFirst, arr)",
                                                                                  "successors": [
                                                                                    {
                                                                                      "id": 133924145999360,
                                                                                      "label": "return hlSize",
                                                                                      "successors": []
                                                                                    }
                                                                                  ]
                                                                                },
                                                                                {
                                                                                  "id": 133924145999360
                                                                                }
                                                                              ]
                                                                            }
                                                                          ]
                                                                        },
                                                                        {
                                                                          "id": 133924145999072
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "id": 133924145998784
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "id": 133924145998496
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "id": 133924145998112
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "enumerateStreamHeaders",
          "type": "Function",
          "blocks": [
            {
              "id": 133924163407536,
              "label": "",
              "successors": [
                {
                  "id": 133924145999696,
                  "label": "var hlSize: Int64 = 0",
                  "successors": [
                    {
                      "id": 133924145999744,
                      "label": "hlSize += enumerateHeader(\":authority\", host, isFirst, arr)",
                      "successors": [
                        {
                          "id": 133924145999792,
                          "label": "hlSize += enumerateHeader(\":method\", streamreq.method.toString(), isFirst, arr)",
                          "successors": [
                            {
                              "id": 133924145999840,
                              "label": "hlSize += enumerateHeader(\":path\", path, isFirst, arr)",
                              "successors": [
                                {
                                  "id": 133924145999888,
                                  "label": "hlSize += enumerateHeader(\":scheme\", streamreq.url.scheme, isFirst, arr)",
                                  "successors": [
                                    {
                                      "id": 133924145999936,
                                      "label": "if (!trailers.isEmpty() )",
                                      "successors": [
                                        {
                                          "id": 133924146000320,
                                          "label": "hlSize += enumerateHeader(\"trailer\", trailers, isFirst, arr)",
                                          "successors": [
                                            {
                                              "id": 133924146000128,
                                              "label": "let (hlnum, didUA, cleanUA): (Int64, Bool, Bool) = enumerateHeadersUtil(streamreq, isFirst, arr)",
                                              "successors": [
                                                {
                                                  "id": 133924146000272,
                                                  "label": "hlSize += hlnum",
                                                  "successors": [
                                                    {
                                                      "id": 133924146000368,
                                                      "label": "if (addGzipHeader )",
                                                      "successors": [
                                                        {
                                                          "id": 133924146000752,
                                                          "label": "hlSize += enumerateHeader(\"accept-encoding\", \"gzip\", isFirst, arr)",
                                                          "successors": [
                                                            {
                                                              "id": 133924146000512,
                                                              "label": "if (cleanUA )",
                                                              "successors": [
                                                                {
                                                                  "id": 133924146001040,
                                                                  "label": "streamreq.header.del(\"User-Agent\")",
                                                                  "successors": [
                                                                    {
                                                                      "id": 133924146000800,
                                                                      "label": "if (!didUA )",
                                                                      "successors": [
                                                                        {
                                                                          "id": 133924146001328,
                                                                          "label": "hlSize += enumerateHeader(\"user-agent\", defaultUserAgent, isFirst, arr)",
                                                                          "successors": [
                                                                            {
                                                                              "id": 133924146001088,
                                                                              "label": "return hlSize",
                                                                              "successors": []
                                                                            }
                                                                          ]
                                                                        },
                                                                        {
                                                                          "id": 133924146001088
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "id": 133924146000800
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "id": 133924146000512
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "id": 133924146000128
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "enumerateHeadersUtil",
          "type": "Function",
          "blocks": [
            {
              "id": 133924163408256,
              "label": "",
              "successors": [
                {
                  "id": 133924146001472,
                  "label": "var hlSize: Int64 = 0",
                  "successors": [
                    {
                      "id": 133924146001568,
                      "label": "var didUA: Bool = false",
                      "successors": [
                        {
                          "id": 133924146001664,
                          "label": "var cleanUA: Bool = false",
                          "successors": [
                            {
                              "id": 133924146001712,
                              "label": "for ((k, value) in req.header )",
                              "successors": [
                                {
                                  "id": 133924146002096,
                                  "label": "var vv: ArrayList<String> = collectArrayList<String>(value)",
                                  "successors": [
                                    {
                                      "id": 133924146002144,
                                      "label": "if (asciiEqualFold(k, \"host\") || asciiEqualFold(k, \"content-length\") )",
                                      "successors": [
                                        {
                                          "id": 133924146001712
                                        },
                                        {
                                          "id": 133924146002672,
                                          "label": "if (asciiEqualFold(k, \"connection\") ||\n                asciiEqualFold(k, \"proxy-connection\") ||\n                asciiEqualFold(k, \"transfer-encoding\") ||\n                asciiEqualFold(k, \"upgrade\") ||\n                asciiEqualFold(k, \"keep-alive\") )",
                                          "successors": [
                                            {
                                              "id": 133924146001712
                                            },
                                            {
                                              "id": 133924146003200,
                                              "label": "if (asciiEqualFold(k, \"user-agent\") )",
                                              "successors": [
                                                {
                                                  "id": 133924146003584,
                                                  "label": "for (str in vv )",
                                                  "successors": [
                                                    {
                                                      "id": 133924146003872,
                                                      "label": "if (str == \"cangjie-http-client/1.1\" )",
                                                      "successors": [
                                                        {
                                                          "id": 133924146200928,
                                                          "label": "cleanUA = true",
                                                          "successors": [
                                                            {
                                                              "id": 133924146003584
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "id": 133924146003584
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "id": 133924146003680,
                                                      "label": "if (!cleanUA )",
                                                      "successors": [
                                                        {
                                                          "id": 133924146201168,
                                                          "label": "didUA = true",
                                                          "successors": [
                                                            {
                                                              "id": 133924146201216,
                                                              "label": "if (vv.size < 1 )",
                                                              "successors": [
                                                                {
                                                                  "id": 133924146001712
                                                                },
                                                                {
                                                                  "id": 133924146201600,
                                                                  "label": "continue",
                                                                  "successors": [
                                                                    {
                                                                      "id": 133924146201360,
                                                                      "label": "vv = vv.slice(0 .. 1)",
                                                                      "successors": [
                                                                        {
                                                                          "id": 133924146201408,
                                                                          "label": "if (vv[0].isEmpty() )",
                                                                          "successors": [
                                                                            {
                                                                              "id": 133924146001712
                                                                            },
                                                                            {
                                                                              "id": 133924146201936,
                                                                              "label": "continue",
                                                                              "successors": [
                                                                                {
                                                                                  "id": 133924146002240,
                                                                                  "label": "for (v in vv )",
                                                                                  "successors": [
                                                                                    {
                                                                                      "id": 133924146002864,
                                                                                      "label": "hlSize += enumerateHeader(k.toAsciiLower(), v, isFirst, arr)",
                                                                                      "successors": [
                                                                                        {
                                                                                          "id": 133924146002240
                                                                                        }
                                                                                      ]
                                                                                    },
                                                                                    {
                                                                                      "id": 133924146001712
                                                                                    }
                                                                                  ]
                                                                                }
                                                                              ]
                                                                            }
                                                                          ]
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "id": 133924146002240
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "id": 133924146201120,
                                                  "label": "if (asciiEqualFold(k, \"cookie\") )",
                                                  "successors": [
                                                    {
                                                      "id": 133924146202176,
                                                      "label": "hlSize += handleHeaderCookie(vv, isFirst, arr)",
                                                      "successors": [
                                                        {
                                                          "id": 133924146202224,
                                                          "label": "continue",
                                                          "successors": [
                                                            {
                                                              "id": 133924146002240
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "id": 133924146002240
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "id": 133924146001856,
                                  "label": "return (hlSize, didUA, cleanUA)",
                                  "successors": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "handleHeaderCookie",
          "type": "Function",
          "blocks": [
            {
              "id": 133924163408928,
              "label": "",
              "successors": [
                {
                  "id": 133924146003152,
                  "label": "var hlSize: Int64 = 0",
                  "successors": [
                    {
                      "id": 133924146003296,
                      "label": "for (v in 0..vv.size )",
                      "successors": [
                        {
                          "id": 133924146202320,
                          "label": "var str: String = vv[v]",
                          "successors": [
                            {
                              "id": 133924146202368,
                              "label": "while (true )",
                              "successors": [
                                {
                                  "id": 133924146202800,
                                  "label": "var p: Int64 = str.indexOf(\";\").getOrDefault({=> -1})",
                                  "successors": [
                                    {
                                      "id": 133924146202848,
                                      "label": "if (p < 0 )",
                                      "successors": [
                                        {
                                          "id": 133924146202512,
                                          "label": "if (str.size > 0 )",
                                          "successors": [
                                            {
                                              "id": 133924146203760,
                                              "label": "hlSize += enumerateHeader(\"cookie\", str, isFirst, arr)",
                                              "successors": [
                                                {
                                                  "id": 133924146003296
                                                }
                                              ]
                                            },
                                            {
                                              "id": 133924146003296
                                            }
                                          ]
                                        },
                                        {
                                          "id": 133924146202992,
                                          "label": "hlSize += enumerateHeader(\"cookie\", str[0..p], isFirst, arr)",
                                          "successors": [
                                            {
                                              "id": 133924146203040,
                                              "label": "p++",
                                              "successors": [
                                                {
                                                  "id": 133924146203184,
                                                  "label": "while (p + 1 <= str.size && UInt32(str[p]) == UInt32(r' ') )",
                                                  "successors": [
                                                    {
                                                      "id": 133924146203520,
                                                      "label": "p++",
                                                      "successors": [
                                                        {
                                                          "id": 133924146203184
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "id": 133924146203328,
                                                      "label": "str = str[p..str.size]",
                                                      "successors": [
                                                        {
                                                          "id": 133924146202368
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "id": 133924146202512
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "id": 133924146200976,
                          "label": "return hlSize",
                          "successors": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "enumerateHeader",
          "type": "Function",
          "blocks": [
            {
              "id": 133924163409648,
              "label": "",
              "successors": [
                {
                  "id": 133924146203808,
                  "label": "var num: Int64 = 0",
                  "successors": [
                    {
                      "id": 133924146203856,
                      "label": "if (isFirst )",
                      "successors": [
                        {
                          "id": 133924146204240,
                          "label": "num = name.size + value.size + 32",
                          "successors": [
                            {
                              "id": 133924146203952,
                              "label": "return num",
                              "successors": []
                            }
                          ]
                        },
                        {
                          "id": 133924146204384,
                          "label": "arr.append(HeaderField(name, value))",
                          "successors": [
                            {
                              "id": 133924146203952
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "writeHeaders",
          "type": "Function",
          "blocks": [
            {
              "id": 133924163410368,
              "label": "",
              "successors": [
                {
                  "id": 133924146204480,
                  "label": "var first: Bool = true",
                  "successors": [
                    {
                      "id": 133924146204576,
                      "label": "var hdrs: Array<UInt8> = hdrsArr",
                      "successors": [
                        {
                          "id": 133924146204624,
                          "label": "while (hdrs.size > 0 )",
                          "successors": [
                            {
                              "id": 133924146205056,
                              "label": "var chunk: Array<UInt8> = hdrs",
                              "successors": [
                                {
                                  "id": 133924146205104,
                                  "label": "if (chunk.size > maxFrameSize )",
                                  "successors": [
                                    {
                                      "id": 133924146205488,
                                      "label": "chunk = chunk[0..maxFrameSize]",
                                      "successors": [
                                        {
                                          "id": 133924146205248,
                                          "label": "if (chunk.size == hdrs.size )",
                                          "successors": [
                                            {
                                              "id": 133924146205776,
                                              "label": "hdrs = Array<UInt8>()",
                                              "successors": [
                                                {
                                                  "id": 133924146205536,
                                                  "label": "let endHeaders: Bool = hdrs.size == 0",
                                                  "successors": [
                                                    {
                                                      "id": 133924146205584,
                                                      "label": "if (first )",
                                                      "successors": [
                                                        {
                                                          "id": 133924146206352,
                                                          "label": "let headersFrame: Http2Frame = writeHeadersFrame(streamID, chunk, endStream, endHeaders, 0)",
                                                          "successors": [
                                                            {
                                                              "id": 133924146206400,
                                                              "label": "this.allHttp2Frame.append(headersFrame)",
                                                              "successors": [
                                                                {
                                                                  "id": 133924146206448,
                                                                  "label": "first = false",
                                                                  "successors": [
                                                                    {
                                                                      "id": 133924146204624
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "id": 133924146206640,
                                                          "label": "let continuationFrame: Http2Frame = writeContinuation(streamID, endHeaders, chunk)",
                                                          "successors": [
                                                            {
                                                              "id": 133924146206688,
                                                              "label": "allHttp2Frame.append(continuationFrame)",
                                                              "successors": [
                                                                {
                                                                  "id": 133924146204624
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "id": 133924146205920,
                                              "label": "hdrs = hdrs[chunk.size..hdrs.size]",
                                              "successors": [
                                                {
                                                  "id": 133924146205536
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "id": 133924146205248
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "id": 133924163410416,
                              "label": "return",
                              "successors": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "writeData",
          "type": "Function",
          "blocks": [
            {
              "id": 133924163411088,
              "label": "",
              "successors": [
                {
                  "id": 133924146206016,
                  "label": "let dataFrame: Http2Frame = writeDataPadded(streamID, endStream, chunk, padLength)",
                  "successors": [
                    {
                      "id": 133924146206112,
                      "label": "allHttp2Frame.append(dataFrame)",
                      "successors": [
                        {
                          "id": 133924146206544,
                          "label": "this.dataLength += dataFrame.length + 9",
                          "successors": [
                            {
                              "id": 133924146206736,
                              "label": "return \"\"",
                              "successors": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "encodeTrailers",
          "type": "Function",
          "blocks": [
            {
              "id": 133924163411712,
              "label": "",
              "successors": [
                {
                  "id": 133924146206976,
                  "label": "var hlSize: Int64 = 0",
                  "successors": [
                    {
                      "id": 133924146207024,
                      "label": "for ((k, vv) in trailer )",
                      "successors": [
                        {
                          "id": 133924146207312,
                          "label": "for (v in vv )",
                          "successors": [
                            {
                              "id": 133924146207600,
                              "label": "hlSize += k.size + v.size + 32",
                              "successors": [
                                {
                                  "id": 133924146207312
                                }
                              ]
                            },
                            {
                              "id": 133924146207024
                            }
                          ]
                        },
                        {
                          "id": 133924146207120,
                          "label": "if (hlSize > cc.conf.MAX_HEADER_LIST_SIZE )",
                          "successors": [
                            {
                              "id": 133924146207840,
                              "label": "return (EMPTY_ARRAY, errRequestHeaderListSize)",
                              "successors": []
                            },
                            {
                              "id": 133924146207552,
                              "label": "for ((k, vv) in trailer )",
                              "successors": [
                                {
                                  "id": 133924146208128,
                                  "label": "let (lowKey, ascii): (String, Bool) = asciiToLower(k)",
                                  "successors": [
                                    {
                                      "id": 133924146208176,
                                      "label": "if (!ascii )",
                                      "successors": [
                                        {
                                          "id": 133924146207552
                                        },
                                        {
                                          "id": 133924146208560,
                                          "label": "continue",
                                          "successors": [
                                            {
                                              "id": 133924146208320,
                                              "label": "for (v in vv )",
                                              "successors": [
                                                {
                                                  "id": 133924146208752,
                                                  "label": "writeHeader(lowKey, v, encode)",
                                                  "successors": [
                                                    {
                                                      "id": 133924146208320
                                                    }
                                                  ]
                                                },
                                                {
                                                  "id": 133924146207552
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "id": 133924146207888,
                                  "label": "return (Array<Byte>(2028, repeat: 0), \"\")",
                                  "successors": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "writeHeader",
          "type": "Function",
          "blocks": [
            {
              "id": 133924163412480,
              "label": "",
              "successors": [
                {
                  "id": 133924146208512,
                  "label": "let hf: HeaderField = HeaderField(name, value)",
                  "successors": [
                    {
                      "id": 133924146208704,
                      "label": "this.cc.encode.encode([hf])",
                      "successors": [
                        {
                          "id": 133924163412528,
                          "label": "return",
                          "successors": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "writeRequest",
          "type": "Function",
          "blocks": [
            {
              "id": 133924163413104,
              "label": "",
              "successors": [
                {
                  "id": 133924146208944,
                  "label": "var err: String = \"\"",
                  "successors": [
                    {
                      "id": 133924146209040,
                      "label": "let ae: Collection<String> = req.header.get(\"Accept-Encoding\")",
                      "successors": [
                        {
                          "id": 133924146209136,
                          "label": "let range: Collection<String> = req.header.get(\"Range\")",
                          "successors": [
                            {
                              "id": 133924146209184,
                              "label": "if (ae.size <= 0 && range.size <= 0 )",
                              "successors": [
                                {
                                  "id": 133924146209568,
                                  "label": "requestedGzip = true",
                                  "successors": [
                                    {
                                      "id": 133924146209328,
                                      "label": "err = encodeAndWriteHeaders(req)",
                                      "successors": [
                                        {
                                          "id": 133924146209376,
                                          "label": "if (!err.isEmpty() )",
                                          "successors": [
                                            {
                                              "id": 133924146209904,
                                              "label": "return err",
                                              "successors": []
                                            },
                                            {
                                              "id": 133924146209664,
                                              "label": "if (reqBodyContentLength == 0 )",
                                              "successors": [
                                                {
                                                  "id": 133924146210192,
                                                  "label": "sentEndStream = true",
                                                  "successors": [
                                                    {
                                                      "id": 133924146209856,
                                                      "label": "return err",
                                                      "successors": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "id": 133924146210336,
                                                  "label": "err = writeRequestBody(req)",
                                                  "successors": [
                                                    {
                                                      "id": 133924146210384,
                                                      "label": "allHttp2Frame.append(WindowUpdateFrame(0, this.dataLength))",
                                                      "successors": [
                                                        {
                                                          "id": 133924146210432,
                                                          "label": "allHttp2Frame.append(PING)",
                                                          "successors": [
                                                            {
                                                              "id": 133924146210480,
                                                              "label": "if (!err.isEmpty() )",
                                                              "successors": [
                                                                {
                                                                  "id": 133924146210864,
                                                                  "label": "if (err != errStopReqBodyWrite )",
                                                                  "successors": [
                                                                    {
                                                                      "id": 133924146211248,
                                                                      "label": "return err",
                                                                      "successors": []
                                                                    },
                                                                    {
                                                                      "id": 133924146209856
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "id": 133924146211200,
                                                                  "label": "sentEndStream = true",
                                                                  "successors": [
                                                                    {
                                                                      "id": 133924146209856
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "id": 133924146209328
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "writeStreamRequest",
          "type": "Function",
          "blocks": [
            {
              "id": 133924163413680,
              "label": "",
              "successors": [
                {
                  "id": 133924146210288,
                  "label": "this.req = req",
                  "successors": [
                    {
                      "id": 133924146210624,
                      "label": "var err: String = \"\"",
                      "successors": [
                        {
                          "id": 133924146211056,
                          "label": "let ae: Collection<String> = req.header.get(\"Accept-Encoding\")",
                          "successors": [
                            {
                              "id": 133924146211344,
                              "label": "let range: Collection<String> = req.header.get(\"Range\")",
                              "successors": [
                                {
                                  "id": 133924146211392,
                                  "label": "if (ae.size <= 0 && range.size <= 0 )",
                                  "successors": [
                                    {
                                      "id": 133924146211776,
                                      "label": "requestedGzip = true",
                                      "successors": [
                                        {
                                          "id": 133924146211536,
                                          "label": "err = encodeAndWriteStreamHeaders(req)",
                                          "successors": [
                                            {
                                              "id": 133924146211584,
                                              "label": "if (!err.isEmpty() )",
                                              "successors": [
                                                {
                                                  "id": 133924146212112,
                                                  "label": "return err",
                                                  "successors": []
                                                },
                                                {
                                                  "id": 133924146211872,
                                                  "label": "sentEndStream = false",
                                                  "successors": [
                                                    {
                                                      "id": 133924146211920,
                                                      "label": "return err",
                                                      "successors": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "id": 133924146211536
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "encodeAndWriteStreamHeaders",
          "type": "Function",
          "blocks": [
            {
              "id": 133924163414256,
              "label": "",
              "successors": [
                {
                  "id": 133924146212208,
                  "label": "sb.reset()",
                  "successors": [
                    {
                      "id": 133924146212256,
                      "label": "var frist = true",
                      "successors": [
                        {
                          "id": 133924146212304,
                          "label": "for ((name,_) in streamReq.trailer )",
                          "successors": [
                            {
                              "id": 133924146212640,
                              "label": "if (!frist )",
                              "successors": [
                                {
                                  "id": 133924146213024,
                                  "label": "sb.append(\",\")",
                                  "successors": [
                                    {
                                      "id": 133924146212784,
                                      "label": "frist = false",
                                      "successors": [
                                        {
                                          "id": 133924146212976,
                                          "label": "let k: String = canonicalHeaderKey(name)",
                                          "successors": [
                                            {
                                              "id": 133924146213072,
                                              "label": "if (k == \"Transfer-Encoding\" || k == \"Trailer\" || k == \"Content-Length\" )",
                                              "successors": [
                                                {
                                                  "id": 133924146213456,
                                                  "label": "return \"invalid Trailer key ${k}\"",
                                                  "successors": []
                                                },
                                                {
                                                  "id": 133924146213216,
                                                  "label": "sb.append(k)",
                                                  "successors": [
                                                    {
                                                      "id": 133924146212304
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "id": 133924146212784
                                }
                              ]
                            },
                            {
                              "id": 133924146212448,
                              "label": "let (hdrs, errEH): (Array<UInt8>, String) = this.encodeStreamHeaders(streamReq, requestedGzip, sb.toString(),this.cc.encode)",
                              "successors": [
                                {
                                  "id": 133924146212592,
                                  "label": "if (!errEH.isEmpty() )",
                                  "successors": [
                                    {
                                      "id": 133924146213744,
                                      "label": "return errEH",
                                      "successors": []
                                    },
                                    {
                                      "id": 133924146213504,
                                      "label": "this.writeHeaders(ID, this.reqBodyContentLength == 0 && sb.size == 0, cc.conf.MAX_FRAME_SIZE, hdrs)",
                                      "successors": [
                                        {
                                          "id": 133924146213552,
                                          "label": "return \"\"",
                                          "successors": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "writeRequestBody",
          "type": "Function",
          "blocks": [
            {
              "id": 133924163414832,
              "label": "",
              "successors": [
                {
                  "id": 133924146213888,
                  "label": "var body: InputStream = this.reqBody.getOrThrow()",
                  "successors": [
                    {
                      "id": 133924146213984,
                      "label": "var sentEnd: Bool = false",
                      "successors": [
                        {
                          "id": 133924146214080,
                          "label": "let trailerNum: Int64 = getHeaderSize(req.trailer)",
                          "successors": [
                            {
                              "id": 133924146214176,
                              "label": "var remainLen: Int64 = reqBodyContentLength",
                              "successors": [
                                {
                                  "id": 133924146214272,
                                  "label": "let hasContentLen: Bool = remainLen != -1",
                                  "successors": [
                                    {
                                      "id": 133924146214368,
                                      "label": "let maxFrameSize: Int64 = Int64(cc.conf.MAX_FRAME_SIZE)",
                                      "successors": [
                                        {
                                          "id": 133924146214464,
                                          "label": "let scratchLen: Int64 = frameScratchBufferLen(cc.conf.MAX_FRAME_SIZE)",
                                          "successors": [
                                            {
                                              "id": 133924146214560,
                                              "label": "var buf: Array<Byte> = Array<Byte>(scratchLen, repeat: 0)",
                                              "successors": [
                                                {
                                                  "id": 133924146214656,
                                                  "label": "var sawEOF: Bool = false",
                                                  "successors": [
                                                    {
                                                      "id": 133924146214704,
                                                      "label": "while (!sawEOF )",
                                                      "successors": [
                                                        {
                                                          "id": 133924146215088,
                                                          "label": "let n: Int64 = body.read(buf)",
                                                          "successors": [
                                                            {
                                                              "id": 133924146215184,
                                                              "label": "var err: String = \"\"",
                                                              "successors": [
                                                                {
                                                                  "id": 133924146215232,
                                                                  "label": "if (hasContentLen )",
                                                                  "successors": [
                                                                    {
                                                                      "id": 133924146215664,
                                                                      "label": "remainLen -= n",
                                                                      "successors": [
                                                                        {
                                                                          "id": 133924146215712,
                                                                          "label": "if (remainLen == 0 )",
                                                                          "successors": [
                                                                            {
                                                                              "id": 133924146216096,
                                                                              "label": "err = \"EOF\"",
                                                                              "successors": [
                                                                                {
                                                                                  "id": 133924146215856,
                                                                                  "label": "if (remainLen < 0 )",
                                                                                  "successors": [
                                                                                    {
                                                                                      "id": 133924146216384,
                                                                                      "label": "err = errReqBodyTooLong",
                                                                                      "successors": [
                                                                                        {
                                                                                          "id": 133924146216432,
                                                                                          "label": "return err",
                                                                                          "successors": []
                                                                                        }
                                                                                      ]
                                                                                    },
                                                                                    {
                                                                                      "id": 133924146215376,
                                                                                      "label": "if (!err.isEmpty() )",
                                                                                      "successors": [
                                                                                        {
                                                                                          "id": 133924146216624,
                                                                                          "label": "let bodyClosed: Bool = reqBodyClosed",
                                                                                          "successors": [
                                                                                            {
                                                                                              "id": 133924146216672,
                                                                                              "label": "if (bodyClosed )",
                                                                                              "successors": [
                                                                                                {
                                                                                                  "id": 133924146380960,
                                                                                                  "label": "return errStopReqBodyWrite",
                                                                                                  "successors": []
                                                                                                },
                                                                                                {
                                                                                                  "id": 133924146381104,
                                                                                                  "label": "if (err == \"EOF\" )",
                                                                                                  "successors": [
                                                                                                    {
                                                                                                      "id": 133924146381488,
                                                                                                      "label": "sawEOF = true",
                                                                                                      "successors": [
                                                                                                        {
                                                                                                          "id": 133924146381536,
                                                                                                          "label": "err = \"\"",
                                                                                                          "successors": [
                                                                                                            {
                                                                                                              "id": 133924146216192,
                                                                                                              "label": "let (errFlag, sentEndFlag): (String, Bool) = writeRequestBodyUtil(n, buf, err, sentEnd, sawEOF, trailerNum)",
                                                                                                              "successors": [
                                                                                                                {
                                                                                                                  "id": 133924146216528,
                                                                                                                  "label": "err = errFlag",
                                                                                                                  "successors": [
                                                                                                                    {
                                                                                                                      "id": 133924146216768,
                                                                                                                      "label": "sentEnd = sentEndFlag",
                                                                                                                      "successors": [
                                                                                                                        {
                                                                                                                          "id": 133924146216816,
                                                                                                                          "label": "if (!err.isEmpty() )",
                                                                                                                          "successors": [
                                                                                                                            {
                                                                                                                              "id": 133924146381776,
                                                                                                                              "label": "return err",
                                                                                                                              "successors": []
                                                                                                                            },
                                                                                                                            {
                                                                                                                              "id": 133924146214704
                                                                                                                            }
                                                                                                                          ]
                                                                                                                        }
                                                                                                                      ]
                                                                                                                    }
                                                                                                                  ]
                                                                                                                }
                                                                                                              ]
                                                                                                            }
                                                                                                          ]
                                                                                                        }
                                                                                                      ]
                                                                                                    },
                                                                                                    {
                                                                                                      "id": 133924146381680,
                                                                                                      "label": "return err",
                                                                                                      "successors": []
                                                                                                    }
                                                                                                  ]
                                                                                                }
                                                                                              ]
                                                                                            }
                                                                                          ]
                                                                                        },
                                                                                        {
                                                                                          "id": 133924146216192
                                                                                        }
                                                                                      ]
                                                                                    }
                                                                                  ]
                                                                                }
                                                                              ]
                                                                            },
                                                                            {
                                                                              "id": 133924146215856
                                                                            }
                                                                          ]
                                                                        }
                                                                      ]
                                                                    },
                                                                    {
                                                                      "id": 133924146215376
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "id": 133924146214848,
                                                          "label": "if (sentEnd )",
                                                          "successors": [
                                                            {
                                                              "id": 133924146381968,
                                                              "label": "return \"\"",
                                                              "successors": []
                                                            },
                                                            {
                                                              "id": 133924146381248,
                                                              "label": "return writeRequestBodyEnd(req, maxFrameSize, trailerNum)",
                                                              "successors": []
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "writeRequestBodyUtil",
          "type": "Function",
          "blocks": [
            {
              "id": 133924163415696,
              "label": "",
              "successors": [
                {
                  "id": 133924146382064,
                  "label": "var err: String = errFlag",
                  "successors": [
                    {
                      "id": 133924146382160,
                      "label": "var sentEnd: Bool = sentEndFlag",
                      "successors": [
                        {
                          "id": 133924146382256,
                          "label": "let hasTrailers: Bool = trailerNum != 0",
                          "successors": [
                            {
                              "id": 133924146382352,
                              "label": "var remain: Array<UInt8> = buf[0..n]",
                              "successors": [
                                {
                                  "id": 133924146382400,
                                  "label": "while (remain.size > 0 && err.isEmpty() )",
                                  "successors": [
                                    {
                                      "id": 133924146382784,
                                      "label": "var (allowed, erral): (Int64, String) = awaitFlowControl(remain.size)",
                                      "successors": [
                                        {
                                          "id": 133924146382832,
                                          "label": "err = erral",
                                          "successors": [
                                            {
                                              "id": 133924146382880,
                                              "label": "if (!err.isEmpty() )",
                                              "successors": [
                                                {
                                                  "id": 133924146383264,
                                                  "label": "return (err, sentEnd)",
                                                  "successors": []
                                                },
                                                {
                                                  "id": 133924146383072,
                                                  "label": "var data: Array<UInt8> = remain",
                                                  "successors": [
                                                    {
                                                      "id": 133924146383216,
                                                      "label": "if (allowed < remain.size )",
                                                      "successors": [
                                                        {
                                                          "id": 133924146383648,
                                                          "label": "data = remain[0..allowed]",
                                                          "successors": [
                                                            {
                                                              "id": 133924146383696,
                                                              "label": "remain = remain[allowed..remain.size]",
                                                              "successors": [
                                                                {
                                                                  "id": 133924146383360,
                                                                  "label": "sentEnd = sawEOF && remain.size == 0 && !hasTrailers",
                                                                  "successors": [
                                                                    {
                                                                      "id": 133924146383408,
                                                                      "label": "err = this.writeData(ID, sentEnd, data, 0)",
                                                                      "successors": [
                                                                        {
                                                                          "id": 133924146382400
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "id": 133924146383840,
                                                          "label": "remain = Array<UInt8>()",
                                                          "successors": [
                                                            {
                                                              "id": 133924146383360
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "id": 133924146382544,
                                      "label": "if (!err.isEmpty() )",
                                      "successors": [
                                        {
                                          "id": 133924146384080,
                                          "label": "return (err, sentEnd)",
                                          "successors": []
                                        },
                                        {
                                          "id": 133924146383792,
                                          "label": "return (err, sentEnd)",
                                          "successors": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "writeRequestBodyEnd",
          "type": "Function",
          "blocks": [
            {
              "id": 133924163416320,
              "label": "",
              "successors": [
                {
                  "id": 133924146384176,
                  "label": "let trailer: HttpHeaders = req.trailer",
                  "successors": [
                    {
                      "id": 133924146384272,
                      "label": "var trls: Array<UInt8> = Array<UInt8>()",
                      "successors": [
                        {
                          "id": 133924146384368,
                          "label": "var err: String = \"\"",
                          "successors": [
                            {
                              "id": 133924146384416,
                              "label": "if (trailerNum > 0 )",
                              "successors": [
                                {
                                  "id": 133924146384896,
                                  "label": "let (trlsArr, errtrls): (Array<UInt8>, String) = this.encodeTrailers(trailer, this.cc.encode)",
                                  "successors": [
                                    {
                                      "id": 133924146384944,
                                      "label": "trls = trlsArr",
                                      "successors": [
                                        {
                                          "id": 133924146384992,
                                          "label": "err = errtrls",
                                          "successors": [
                                            {
                                              "id": 133924146385040,
                                              "label": "if (!err.isEmpty() )",
                                              "successors": [
                                                {
                                                  "id": 133924146385424,
                                                  "label": "return err",
                                                  "successors": []
                                                },
                                                {
                                                  "id": 133924146384560,
                                                  "label": "if (trls.size > 0 )",
                                                  "successors": [
                                                    {
                                                      "id": 133924146385568,
                                                      "label": "this.writeHeaders(ID, true, maxFrameSize, trls)",
                                                      "successors": [
                                                        {
                                                          "id": 133924146384800,
                                                          "label": "return err",
                                                          "successors": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "id": 133924146385712,
                                                      "label": "err = this.writeData(ID, true, Array<UInt8>(), 0)",
                                                      "successors": [
                                                        {
                                                          "id": 133924146384800
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "id": 133924146384560
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "awaitFlowControl",
          "type": "Function",
          "blocks": [
            {
              "id": 133924163416896,
              "label": "",
              "successors": [
                {
                  "id": 133924146385808,
                  "label": "var take: Int64 = maxBytes",
                  "successors": [
                    {
                      "id": 133924146385856,
                      "label": "if (cc.closed.load() )",
                      "successors": [
                        {
                          "id": 133924146386240,
                          "label": "return (0, errClientConnClosed)",
                          "successors": []
                        },
                        {
                          "id": 133924146386000,
                          "label": "if (reqBodyClosed )",
                          "successors": [
                            {
                              "id": 133924146386528,
                              "label": "return (0, errStopReqBodyWrite)",
                              "successors": []
                            },
                            {
                              "id": 133924146386288,
                              "label": "if (maxBytes > Int64(cc.conf.MAX_FRAME_SIZE) )",
                              "successors": [
                                {
                                  "id": 133924146386816,
                                  "label": "take = Int64(cc.conf.MAX_FRAME_SIZE)",
                                  "successors": [
                                    {
                                      "id": 133924146386576,
                                      "label": "return (take, \"\")",
                                      "successors": []
                                    }
                                  ]
                                },
                                {
                                  "id": 133924146386576
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "frameScratchBufferLen",
          "type": "Function",
          "blocks": [
            {
              "id": 133924163417472,
              "label": "",
              "successors": [
                {
                  "id": 133924146386864,
                  "label": "let max: Int64 = 512 << 10",
                  "successors": [
                    {
                      "id": 133924146386960,
                      "label": "var n: Int64 = Int64(maxFrameSize)",
                      "successors": [
                        {
                          "id": 133924146387008,
                          "label": "if (n > max )",
                          "successors": [
                            {
                              "id": 133924146387392,
                              "label": "n = max",
                              "successors": [
                                {
                                  "id": 133924146387200,
                                  "label": "let cl: Int64 = reqBodyContentLength",
                                  "successors": [
                                    {
                                      "id": 133924146387344,
                                      "label": "if (cl != -1 && (cl + 1) < n )",
                                      "successors": [
                                        {
                                          "id": 133924146387776,
                                          "label": "n = cl + 1",
                                          "successors": [
                                            {
                                              "id": 133924146387536,
                                              "label": "if (n < 1 )",
                                              "successors": [
                                                {
                                                  "id": 133924146388064,
                                                  "label": "return 1",
                                                  "successors": []
                                                },
                                                {
                                                  "id": 133924146387824,
                                                  "label": "return n",
                                                  "successors": []
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "id": 133924146387536
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "id": 133924146387200
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "encodeAndWriteHeaders",
          "type": "Function",
          "blocks": [
            {
              "id": 133924163418048,
              "label": "",
              "successors": [
                {
                  "id": 133924146388112,
                  "label": "sb.reset()",
                  "successors": [
                    {
                      "id": 133924146388160,
                      "label": "var frist = true",
                      "successors": [
                        {
                          "id": 133924146388208,
                          "label": "for ((name,_) in req.trailer )",
                          "successors": [
                            {
                              "id": 133924146388544,
                              "label": "if (!frist )",
                              "successors": [
                                {
                                  "id": 133924146388928,
                                  "label": "sb.append(\",\")",
                                  "successors": [
                                    {
                                      "id": 133924146388688,
                                      "label": "frist = false",
                                      "successors": [
                                        {
                                          "id": 133924146388880,
                                          "label": "let k: String = canonicalHeaderKey(name)",
                                          "successors": [
                                            {
                                              "id": 133924146388976,
                                              "label": "if (k == \"Transfer-Encoding\" || k == \"Trailer\" || k == \"Content-Length\" )",
                                              "successors": [
                                                {
                                                  "id": 133924146389360,
                                                  "label": "return \"invalid Trailer key ${k}\"",
                                                  "successors": []
                                                },
                                                {
                                                  "id": 133924146389120,
                                                  "label": "sb.append(k)",
                                                  "successors": [
                                                    {
                                                      "id": 133924146388208
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "id": 133924146388688
                                }
                              ]
                            },
                            {
                              "id": 133924146388352,
                              "label": "let (hdrs, errEH): (Array<UInt8>, String) = this.encodeHeaders(req, requestedGzip, sb.toString(), this.reqBodyContentLength, this.cc.encode)",
                              "successors": [
                                {
                                  "id": 133924146388496,
                                  "label": "if (!errEH.isEmpty() )",
                                  "successors": [
                                    {
                                      "id": 133924146389648,
                                      "label": "return errEH",
                                      "successors": []
                                    },
                                    {
                                      "id": 133924146389408,
                                      "label": "this.writeHeaders(ID, this.reqBodyContentLength == 0 && sb.size == 0, cc.conf.MAX_FRAME_SIZE, hdrs)",
                                      "successors": [
                                        {
                                          "id": 133924146389456,
                                          "label": "return \"\"",
                                          "successors": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        }
      ],
      "classes": []
    }
  ]
}