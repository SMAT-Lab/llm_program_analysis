{
  "name": "158.cj",
  "type": "File",
  "blocks": [],
  "functions": [],
  "classes": [
    {
      "name": "_DEFAULT_CANG_CLASS",
      "type": "Class",
      "blocks": [],
      "functions": [],
      "classes": []
    },
    {
      "name": "AlignmentPatternFinder",
      "type": "Class",
      "blocks": [],
      "functions": [
        {
          "name": "constructor",
          "type": "Function",
          "blocks": [
            {
              "id": 133924155370144,
              "label": "",
              "successors": [
                {
                  "id": 133924140431584,
                  "label": "this.image = image",
                  "successors": [
                    {
                      "id": 133924140431632,
                      "label": "this.possibleCenters = ArrayList<AlignmentPattern>(5)",
                      "successors": [
                        {
                          "id": 133924140431680,
                          "label": "this.startX = startX",
                          "successors": [
                            {
                              "id": 133924140431728,
                              "label": "this.startY = startY",
                              "successors": [
                                {
                                  "id": 133924140431776,
                                  "label": "this.width = width",
                                  "successors": [
                                    {
                                      "id": 133924140431824,
                                      "label": "this.height = height",
                                      "successors": [
                                        {
                                          "id": 133924140431872,
                                          "label": "this.moduleSize = moduleSize",
                                          "successors": [
                                            {
                                              "id": 133924140431920,
                                              "label": "this.crossCheckStateCount = Array<Int64>(3, item: 0)",
                                              "successors": [
                                                {
                                                  "id": 133924140431968,
                                                  "label": "this.resultPointCallback = resultPointCallback",
                                                  "successors": [
                                                    {
                                                      "id": 133924155370192,
                                                      "label": "return",
                                                      "successors": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "find",
          "type": "Function",
          "blocks": [
            {
              "id": 133924155370672,
              "label": "",
              "successors": [
                {
                  "id": 133924140432160,
                  "label": "let startX: Int64 = this.startX",
                  "successors": [
                    {
                      "id": 133924140432256,
                      "label": "let height: Int64 = this.height",
                      "successors": [
                        {
                          "id": 133924140432352,
                          "label": "let maxJ: Int64 = startX + width",
                          "successors": [
                            {
                              "id": 133924140432448,
                              "label": "let middleI: Int64 = startY + (height / 2)",
                              "successors": [
                                {
                                  "id": 133924140432544,
                                  "label": "var stateCount: Array<Int64> = Array<Int64>(3, item: 0)",
                                  "successors": [
                                    {
                                      "id": 133924140432592,
                                      "label": "for (iGen in 0..height )",
                                      "successors": [
                                        {
                                          "id": 133924140432928,
                                          "label": "",
                                          "successors": [
                                            {
                                              "id": 133924140433312,
                                              "label": "(iGen + 1) / 2",
                                              "successors": [
                                                {
                                                  "id": 133924140433024,
                                                  "label": "let iGenResult: Int64 = if ((iGen & 0x01) == 0) {\n                (iGen + 1) / 2\n            } else {\n                -(iGen + 1) / 2\n            }",
                                                  "successors": [
                                                    {
                                                      "id": 133924140433120,
                                                      "label": "var i: Int64 = middleI + iGenResult",
                                                      "successors": [
                                                        {
                                                          "id": 133924140597312,
                                                          "label": "stateCount[0] = 0",
                                                          "successors": [
                                                            {
                                                              "id": 133924140597408,
                                                              "label": "stateCount[1] = 0",
                                                              "successors": [
                                                                {
                                                                  "id": 133924140597456,
                                                                  "label": "stateCount[2] = 0",
                                                                  "successors": [
                                                                    {
                                                                      "id": 133924140597552,
                                                                      "label": "var j: Int64 = startX",
                                                                      "successors": [
                                                                        {
                                                                          "id": 133924140597600,
                                                                          "label": "while (j < maxJ && !image.get(j, i) )",
                                                                          "successors": [
                                                                            {
                                                                              "id": 133924140597936,
                                                                              "label": "j++",
                                                                              "successors": [
                                                                                {
                                                                                  "id": 133924140597600
                                                                                }
                                                                              ]
                                                                            },
                                                                            {
                                                                              "id": 133924140597888,
                                                                              "label": "var currentState: Int64 = 0",
                                                                              "successors": [
                                                                                {
                                                                                  "id": 133924140597984,
                                                                                  "label": "while (j < maxJ )",
                                                                                  "successors": [
                                                                                    {
                                                                                      "id": 133924140598320,
                                                                                      "label": "if (image.get(j, i) )",
                                                                                      "successors": [
                                                                                        {
                                                                                          "id": 133924140598752,
                                                                                          "label": "var res: Option<AlignmentPattern>",
                                                                                          "successors": [
                                                                                            {
                                                                                              "id": 133924140598800,
                                                                                              "label": "(currentState, res)",
                                                                                              "successors": [
                                                                                                {
                                                                                                  "id": 133924140598848,
                                                                                                  "label": " = exfind(currentState, stateCount, i, j)",
                                                                                                  "successors": [
                                                                                                    {
                                                                                                      "id": 133924140598896,
                                                                                                      "label": "if (let Some(con) < - res )",
                                                                                                      "successors": [
                                                                                                        {
                                                                                                          "id": 133924140599280,
                                                                                                          "label": "return con",
                                                                                                          "successors": []
                                                                                                        },
                                                                                                        {
                                                                                                          "id": 133924140598416,
                                                                                                          "label": "j++",
                                                                                                          "successors": [
                                                                                                            {
                                                                                                              "id": 133924140597984
                                                                                                            }
                                                                                                          ]
                                                                                                        }
                                                                                                      ]
                                                                                                    }
                                                                                                  ]
                                                                                                }
                                                                                              ]
                                                                                            }
                                                                                          ]
                                                                                        },
                                                                                        {
                                                                                          "id": 133924140599088,
                                                                                          "label": "if (currentState == 1 )",
                                                                                          "successors": [
                                                                                            {
                                                                                              "id": 133924140599616,
                                                                                              "label": "currentState++",
                                                                                              "successors": [
                                                                                                {
                                                                                                  "id": 133924140599376,
                                                                                                  "label": "stateCount[Int64(currentState)] += 1",
                                                                                                  "successors": [
                                                                                                    {
                                                                                                      "id": 133924140598416
                                                                                                    }
                                                                                                  ]
                                                                                                }
                                                                                              ]
                                                                                            },
                                                                                            {
                                                                                              "id": 133924140599376
                                                                                            }
                                                                                          ]
                                                                                        }
                                                                                      ]
                                                                                    },
                                                                                    {
                                                                                      "id": 133924140598128,
                                                                                      "label": "if (foundPatternCross(stateCount) )",
                                                                                      "successors": [
                                                                                        {
                                                                                          "id": 133924140599808,
                                                                                          "label": "let confirmed: Option<AlignmentPattern> = handlePossibleCenter(stateCount, i, maxJ)",
                                                                                          "successors": [
                                                                                            {
                                                                                              "id": 133924140599856,
                                                                                              "label": "if (let Some(con) < - confirmed )",
                                                                                              "successors": [
                                                                                                {
                                                                                                  "id": 133924140600240,
                                                                                                  "label": "return con",
                                                                                                  "successors": []
                                                                                                },
                                                                                                {
                                                                                                  "id": 133924140432592
                                                                                                }
                                                                                              ]
                                                                                            }
                                                                                          ]
                                                                                        },
                                                                                        {
                                                                                          "id": 133924140432592
                                                                                        }
                                                                                      ]
                                                                                    }
                                                                                  ]
                                                                                }
                                                                              ]
                                                                            }
                                                                          ]
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "id": 133924140597360,
                                              "label": "-(iGen + 1) / 2",
                                              "successors": [
                                                {
                                                  "id": 133924140433024
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "id": 133924140432688,
                                          "label": "if (!possibleCenters.isEmpty() )",
                                          "successors": [
                                            {
                                              "id": 133924140600288,
                                              "label": "return possibleCenters[0]",
                                              "successors": []
                                            },
                                            {
                                              "id": 133924140599424,
                                              "label": "throw Qrcoder4cjNotFoundException.getNotFoundInstance()",
                                              "successors": [
                                                {
                                                  "id": 133924155370720,
                                                  "label": "return",
                                                  "successors": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "exfind",
          "type": "Function",
          "blocks": [
            {
              "id": 133924155371392,
              "label": "",
              "successors": [
                {
                  "id": 133924140600384,
                  "label": "var currentState_p = currentState",
                  "successors": [
                    {
                      "id": 133924140600432,
                      "label": "if (currentState == 1 )",
                      "successors": [
                        {
                          "id": 133924140600816,
                          "label": "stateCount[1] += 1",
                          "successors": [
                            {
                              "id": 133924140600528,
                              "label": "return (currentState_p, None)",
                              "successors": []
                            }
                          ]
                        },
                        {
                          "id": 133924140600960,
                          "label": "if (currentState_p == 2 )",
                          "successors": [
                            {
                              "id": 133924140601392,
                              "label": "if (foundPatternCross(stateCount) )",
                              "successors": [
                                {
                                  "id": 133924140601872,
                                  "label": "let confirmed: Option<AlignmentPattern> = handlePossibleCenter(stateCount, i, j)",
                                  "successors": [
                                    {
                                      "id": 133924140601920,
                                      "label": "if (let Some(con) < - confirmed )",
                                      "successors": [
                                        {
                                          "id": 133924140602304,
                                          "label": "return (0, con)",
                                          "successors": []
                                        },
                                        {
                                          "id": 133924140601536,
                                          "label": "stateCount[0] = stateCount[2]",
                                          "successors": [
                                            {
                                              "id": 133924140601632,
                                              "label": "stateCount[1] = 1",
                                              "successors": [
                                                {
                                                  "id": 133924140601776,
                                                  "label": "stateCount[2] = 0",
                                                  "successors": [
                                                    {
                                                      "id": 133924140602064,
                                                      "label": "currentState_p = 1",
                                                      "successors": [
                                                        {
                                                          "id": 133924140600528
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "id": 133924140601536
                                }
                              ]
                            },
                            {
                              "id": 133924140602256,
                              "label": "currentState_p++",
                              "successors": [
                                {
                                  "id": 133924140602352,
                                  "label": "stateCount[Int64(currentState_p)] += 1",
                                  "successors": [
                                    {
                                      "id": 133924140600528
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "centerFromEnd",
          "type": "Function",
          "blocks": [
            {
              "id": 133924155372160,
              "label": "",
              "successors": [
                {
                  "id": 133924140600912,
                  "label": "return Float32(end - stateCount[2]) - Float32(stateCount[1]) / 2.0f32",
                  "successors": []
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "foundPatternCross",
          "type": "Function",
          "blocks": [
            {
              "id": 133924155372784,
              "label": "",
              "successors": [
                {
                  "id": 133924140602112,
                  "label": "let moduleSize: Float32 = this.moduleSize",
                  "successors": [
                    {
                      "id": 133924140602448,
                      "label": "let maxVariance: Float32 = moduleSize / 2.0f32",
                      "successors": [
                        {
                          "id": 133924140602496,
                          "label": "for (i in 0..3 )",
                          "successors": [
                            {
                              "id": 133924140602784,
                              "label": "if (abs(moduleSize - Float32(stateCount[i])) >= maxVariance )",
                              "successors": [
                                {
                                  "id": 133924140603168,
                                  "label": "return false",
                                  "successors": []
                                },
                                {
                                  "id": 133924140602496
                                }
                              ]
                            },
                            {
                              "id": 133924140602592,
                              "label": "return true",
                              "successors": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "crossCheckVertical",
          "type": "Function",
          "blocks": [
            {
              "id": 133924155373552,
              "label": "",
              "successors": [
                {
                  "id": 133924140603120,
                  "label": "let image: BitMatrix = this.image",
                  "successors": [
                    {
                      "id": 133924140603264,
                      "label": "let maxI: Int64 = image.getHeight()",
                      "successors": [
                        {
                          "id": 133924140603360,
                          "label": "let stateCount: Array<Int64> = crossCheckStateCount",
                          "successors": [
                            {
                              "id": 133924140603408,
                              "label": "stateCount[0] = 0",
                              "successors": [
                                {
                                  "id": 133924140603456,
                                  "label": "stateCount[1] = 0",
                                  "successors": [
                                    {
                                      "id": 133924140603504,
                                      "label": "stateCount[2] = 0",
                                      "successors": [
                                        {
                                          "id": 133924140603600,
                                          "label": "var i: Int64 = startI",
                                          "successors": [
                                            {
                                              "id": 133924140603648,
                                              "label": "while (i >= 0 && image.get(centerJ, i) && stateCount[1] <= maxCount )",
                                              "successors": [
                                                {
                                                  "id": 133924140603984,
                                                  "label": "stateCount[1] += 1",
                                                  "successors": [
                                                    {
                                                      "id": 133924140604032,
                                                      "label": "i--",
                                                      "successors": [
                                                        {
                                                          "id": 133924140603648
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "id": 133924140603792,
                                                  "label": "if (i < 0 || stateCount[1] > maxCount )",
                                                  "successors": [
                                                    {
                                                      "id": 133924140604368,
                                                      "label": "return Float32.NaN",
                                                      "successors": []
                                                    },
                                                    {
                                                      "id": 133924140604128,
                                                      "label": "while (i >= 0 && !image.get(centerJ, i) && stateCount[0] <= maxCount )",
                                                      "successors": [
                                                        {
                                                          "id": 133924140604608,
                                                          "label": "stateCount[0] += 1",
                                                          "successors": [
                                                            {
                                                              "id": 133924140604656,
                                                              "label": "i--",
                                                              "successors": [
                                                                {
                                                                  "id": 133924140604128
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "id": 133924140604416,
                                                          "label": "if (stateCount[0] > maxCount )",
                                                          "successors": [
                                                            {
                                                              "id": 133924140604992,
                                                              "label": "return Float32.NaN",
                                                              "successors": []
                                                            },
                                                            {
                                                              "id": 133924140604752,
                                                              "label": "i = startI + 1",
                                                              "successors": [
                                                                {
                                                                  "id": 133924140604800,
                                                                  "label": "while (i < maxI && image.get(centerJ, i) && stateCount[1] <= maxCount )",
                                                                  "successors": [
                                                                    {
                                                                      "id": 133924140605280,
                                                                      "label": "stateCount[1] += 1",
                                                                      "successors": [
                                                                        {
                                                                          "id": 133924140605328,
                                                                          "label": "i++",
                                                                          "successors": [
                                                                            {
                                                                              "id": 133924140604800
                                                                            }
                                                                          ]
                                                                        }
                                                                      ]
                                                                    },
                                                                    {
                                                                      "id": 133924140605088,
                                                                      "label": "if (i == maxI || stateCount[1] > maxCount )",
                                                                      "successors": [
                                                                        {
                                                                          "id": 133924140605664,
                                                                          "label": "return Float32.NaN",
                                                                          "successors": []
                                                                        },
                                                                        {
                                                                          "id": 133924140605424,
                                                                          "label": "while (i < maxI && !image.get(centerJ, i) && stateCount[2] <= maxCount )",
                                                                          "successors": [
                                                                            {
                                                                              "id": 133924140605904,
                                                                              "label": "stateCount[2] += 1",
                                                                              "successors": [
                                                                                {
                                                                                  "id": 133924140605952,
                                                                                  "label": "i++",
                                                                                  "successors": [
                                                                                    {
                                                                                      "id": 133924140605424
                                                                                    }
                                                                                  ]
                                                                                }
                                                                              ]
                                                                            },
                                                                            {
                                                                              "id": 133924140605712,
                                                                              "label": "if (stateCount[2] > maxCount )",
                                                                              "successors": [
                                                                                {
                                                                                  "id": 133924140606288,
                                                                                  "label": "return Float32.NaN",
                                                                                  "successors": []
                                                                                },
                                                                                {
                                                                                  "id": 133924140606096,
                                                                                  "label": "let stateCountTotal: Int64 = stateCount[0] + stateCount[1] + stateCount[2]",
                                                                                  "successors": [
                                                                                    {
                                                                                      "id": 133924140606240,
                                                                                      "label": "if (5 * abs(stateCountTotal - originalStateCountTotal) >= 2 * originalStateCountTotal )",
                                                                                      "successors": [
                                                                                        {
                                                                                          "id": 133924140606672,
                                                                                          "label": "return Float32.NaN",
                                                                                          "successors": []
                                                                                        },
                                                                                        {
                                                                                          "id": 133924140606432,
                                                                                          "label": "return excrossCheckVertical(stateCount, i)",
                                                                                          "successors": []
                                                                                        }
                                                                                      ]
                                                                                    }
                                                                                  ]
                                                                                }
                                                                              ]
                                                                            }
                                                                          ]
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "excrossCheckVertical",
          "type": "Function",
          "blocks": [
            {
              "id": 133924155374320,
              "label": "",
              "successors": [
                {
                  "id": 133924140606720,
                  "label": "if (foundPatternCross(stateCount) )",
                  "successors": [
                    {
                      "id": 133924140607104,
                      "label": "centerFromEnd(stateCount, i)",
                      "successors": [
                        {
                          "id": 133924155374368,
                          "label": "return",
                          "successors": []
                        }
                      ]
                    },
                    {
                      "id": 133924140607248,
                      "label": "Float32.NaN",
                      "successors": [
                        {
                          "id": 133924155374368
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "handlePossibleCenter",
          "type": "Function",
          "blocks": [
            {
              "id": 133924155375040,
              "label": "",
              "successors": [
                {
                  "id": 133924140607296,
                  "label": "let stateCountTotal: Int64 = stateCount[0] + stateCount[1] + stateCount[2]",
                  "successors": [
                    {
                      "id": 133924140607392,
                      "label": "let centerJ: Float32 = centerFromEnd(stateCount, j)",
                      "successors": [
                        {
                          "id": 133924140607488,
                          "label": "let centerI: Float32 = crossCheckVertical(i, Int64(centerJ), 2 * stateCount[1], stateCountTotal)",
                          "successors": [
                            {
                              "id": 133924140607536,
                              "label": "if (!centerI.isNaN() )",
                              "successors": [
                                {
                                  "id": 133924140608016,
                                  "label": "let estimatedModuleSize: Float32 = Float32(stateCount[0] + stateCount[1] + stateCount[2]) / 3.0f32",
                                  "successors": [
                                    {
                                      "id": 133924140608064,
                                      "label": "for (i in 0..possibleCenters.size )",
                                      "successors": [
                                        {
                                          "id": 133924140608352,
                                          "label": "if (possibleCenters[i].aboutEquals(estimatedModuleSize, centerI, centerJ) )",
                                          "successors": [
                                            {
                                              "id": 133924140608736,
                                              "label": "return possibleCenters[i].combineEstimate(centerI, centerJ, estimatedModuleSize)",
                                              "successors": []
                                            },
                                            {
                                              "id": 133924140608064
                                            }
                                          ]
                                        },
                                        {
                                          "id": 133924140608304,
                                          "label": "let point: AlignmentPattern = AlignmentPattern(centerJ, centerI, estimatedModuleSize)",
                                          "successors": [
                                            {
                                              "id": 133924140608496,
                                              "label": "possibleCenters.append(point)",
                                              "successors": [
                                                {
                                                  "id": 133924140608544,
                                                  "label": "if (let Some(res) < - resultPointCallback )",
                                                  "successors": [
                                                    {
                                                      "id": 133924140609072,
                                                      "label": "res.foundPossibleResultPoint(point)",
                                                      "successors": [
                                                        {
                                                          "id": 133924140607680,
                                                          "label": "return None",
                                                          "successors": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "id": 133924140607680
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "id": 133924140607680
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        }
      ],
      "classes": []
    }
  ]
}