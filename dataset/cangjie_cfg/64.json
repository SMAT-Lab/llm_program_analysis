{
  "name": "64.cj",
  "type": "File",
  "blocks": [],
  "functions": [],
  "classes": [
    {
      "name": "_DEFAULT_CANG_CLASS",
      "type": "Class",
      "blocks": [],
      "functions": [
        {
          "name": "parseType",
          "type": "Function",
          "blocks": [
            {
              "id": 133924164103920,
              "label": "",
              "successors": [
                {
                  "id": 133924147588368,
                  "label": "if (oriType == \"char\" && pointerCount.count(\"*\") == 1 )",
                  "successors": [
                    {
                      "id": 133924147588752,
                      "label": "return Tokens() + Token(TokenKind.IDENTIFIER, \"CString\")",
                      "successors": []
                    },
                    {
                      "id": 133924147588512,
                      "label": "var outType = Tokens()",
                      "successors": [
                        {
                          "id": 133924147588560,
                          "label": "if (typeMap.contains(oriType) )",
                          "successors": [
                            {
                              "id": 133924147589088,
                              "label": "outType += Token(typeMap[oriType])",
                              "successors": [
                                {
                                  "id": 133924147588800,
                                  "label": "for (_ in 0..pointerCount.count(\"*\") )",
                                  "successors": [
                                    {
                                      "id": 133924147589376,
                                      "label": "outType = quote(CPointer<$(outType)>)",
                                      "successors": [
                                        {
                                          "id": 133924147588800
                                        }
                                      ]
                                    },
                                    {
                                      "id": 133924147588896,
                                      "label": "return outType",
                                      "successors": []
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "id": 133924147589232,
                              "label": "outType += Token(TokenKind.UNIT)",
                              "successors": [
                                {
                                  "id": 133924147588800
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "parseDotH",
          "type": "Function",
          "blocks": [
            {
              "id": 133924164104640,
              "label": "",
              "successors": [
                {
                  "id": 133924147589424,
                  "label": "var outTokens = Tokens()",
                  "successors": [
                    {
                      "id": 133924147589472,
                      "label": "let file = File(dotH, Read)",
                      "successors": [
                        {
                          "id": 133924147589520,
                          "label": "let reader = StringReader(file)",
                          "successors": [
                            {
                              "id": 133924147589568,
                              "label": "var content = reader.readToEnd()",
                              "successors": [
                                {
                                  "id": 133924147589616,
                                  "label": "let commentRegex = Regex(##\"/\\*.*\\*/|//.*(\\n|\\r)|\\*/|/\\*|\\*{2}\\s.*(\\n|\\r)\"##)",
                                  "successors": [
                                    {
                                      "id": 133924147589664,
                                      "label": "content = commentRegex\n        .matcher(content)\n        .replaceAll(\"\")\n        .replace(\"void(*)(void*)\", \"void*\")\n        .replace(\"int (*callback)(void*,int,char**,char**)\", \"void *\")",
                                      "successors": [
                                        {
                                          "id": 133924147589712,
                                          "label": "let funcRegex = Regex(##\"\\w+\\s+\\**\\w+\\s*\\([^)]*\\)\\s*;\"##)",
                                          "successors": [
                                            {
                                              "id": 133924147589760,
                                              "label": "let funcArr = funcRegex.matcher(content).findAll() ?? Array<MatchData>()",
                                              "successors": [
                                                {
                                                  "id": 133924147589808,
                                                  "label": "for (i in funcArr )",
                                                  "successors": [
                                                    {
                                                      "id": 133924147590096,
                                                      "label": "var funcDefine = i.matchStr()",
                                                      "successors": [
                                                        {
                                                          "id": 133924147590144,
                                                          "label": "let funcDefineArray = funcDefine.split(\"(\")",
                                                          "successors": [
                                                            {
                                                              "id": 133924147590192,
                                                              "label": "let funcPrefix = funcDefineArray[0].split(\" \")",
                                                              "successors": [
                                                                {
                                                                  "id": 133924147590240,
                                                                  "label": "var funcReturn = Tokens()",
                                                                  "successors": [
                                                                    {
                                                                      "id": 133924147590288,
                                                                      "label": "if (typeMap.contains(funcPrefix[0]) )",
                                                                      "successors": [
                                                                        {
                                                                          "id": 133924147590672,
                                                                          "label": "funcReturn += Token(typeMap[funcPrefix[0]])",
                                                                          "successors": [
                                                                            {
                                                                              "id": 133924147590384,
                                                                              "label": "var funcName = funcPrefix[1]",
                                                                              "successors": [
                                                                                {
                                                                                  "id": 133924147590432,
                                                                                  "label": "if (funcName.contains(\"*\") )",
                                                                                  "successors": [
                                                                                    {
                                                                                      "id": 133924147591152,
                                                                                      "label": "funcName = funcName.replace(\"*\", \"\")",
                                                                                      "successors": [
                                                                                        {
                                                                                          "id": 133924147591200,
                                                                                          "label": "if (funcPrefix[0] == \"char\" )",
                                                                                          "successors": [
                                                                                            {
                                                                                              "id": 133924147591584,
                                                                                              "label": "funcReturn = quote(CString)",
                                                                                              "successors": [
                                                                                                {
                                                                                                  "id": 133924147590864,
                                                                                                  "label": "let paramListStr = funcDefineArray[1]",
                                                                                                  "successors": [
                                                                                                    {
                                                                                                      "id": 133924147590960,
                                                                                                      "label": "let paramRegex = Regex(##\"(\\w+\\s*\\**|\\w+\\s+\\**\\w+|\\.{3})(\\s*,|\\s*\\))\"##)",
                                                                                                      "successors": [
                                                                                                        {
                                                                                                          "id": 133924147591104,
                                                                                                          "label": "let paramMatchList = paramRegex.matcher(paramListStr).findAll() ?? Array<MatchData>()",
                                                                                                          "successors": [
                                                                                                            {
                                                                                                              "id": 133924147591296,
                                                                                                              "label": "let paramList = Array<String>(paramMatchList.size,\n            {i => Regex(##\"\\s*,|\\s*\\)|\\n|\\r\"##).matcher(paramMatchList[i].matchStr()).replace(\"\")})",
                                                                                                              "successors": [
                                                                                                                {
                                                                                                                  "id": 133924147591344,
                                                                                                                  "label": "var paramsToken = Tokens()",
                                                                                                                  "successors": [
                                                                                                                    {
                                                                                                                      "id": 133924147591392,
                                                                                                                      "label": "for (i in 0..paramList.size )",
                                                                                                                      "successors": [
                                                                                                                        {
                                                                                                                          "id": 133924147592016,
                                                                                                                          "label": "println(\"${funcName}\\n${paramList}\\n${\"void\" == paramList[i]}\")",
                                                                                                                          "successors": [
                                                                                                                            {
                                                                                                                              "id": 133924147592064,
                                                                                                                              "label": "if (let Some(_) < - Regex(##\"\\w+\\s+\\**\\w+\"##).matches(paramList[i]) )",
                                                                                                                              "successors": [
                                                                                                                                {
                                                                                                                                  "id": 133924147592496,
                                                                                                                                  "label": "let paramSplit = paramList[i].split(\" \")",
                                                                                                                                  "successors": [
                                                                                                                                    {
                                                                                                                                      "id": 133924147592544,
                                                                                                                                      "label": "let type_u = paramSplit[0].replace(\"*\", \"\")",
                                                                                                                                      "successors": [
                                                                                                                                        {
                                                                                                                                          "id": 133924147592592,
                                                                                                                                          "label": "let paramToken = Token(TokenKind.IDENTIFIER, paramSplit[1].replace(\"*\", \"\").replace(\"type\",\"type${i}\"))",
                                                                                                                                          "successors": [
                                                                                                                                            {
                                                                                                                                              "id": 133924147592640,
                                                                                                                                              "label": "let typeToken = parseType(type_u, paramList[i])",
                                                                                                                                              "successors": [
                                                                                                                                                {
                                                                                                                                                  "id": 133924147592688,
                                                                                                                                                  "label": "paramsToken += quote($(paramToken): $(typeToken))",
                                                                                                                                                  "successors": [
                                                                                                                                                    {
                                                                                                                                                      "id": 133924147592160,
                                                                                                                                                      "label": "if (i != paramList.size - 1 )",
                                                                                                                                                      "successors": [
                                                                                                                                                        {
                                                                                                                                                          "id": 133924145643776,
                                                                                                                                                          "label": "paramsToken += Token(TokenKind.COMMA)",
                                                                                                                                                          "successors": [
                                                                                                                                                            {
                                                                                                                                                              "id": 133924147591392
                                                                                                                                                            }
                                                                                                                                                          ]
                                                                                                                                                        },
                                                                                                                                                        {
                                                                                                                                                          "id": 133924147591392
                                                                                                                                                        }
                                                                                                                                                      ]
                                                                                                                                                    }
                                                                                                                                                  ]
                                                                                                                                                }
                                                                                                                                              ]
                                                                                                                                            }
                                                                                                                                          ]
                                                                                                                                        }
                                                                                                                                      ]
                                                                                                                                    }
                                                                                                                                  ]
                                                                                                                                },
                                                                                                                                {
                                                                                                                                  "id": 133924147592784,
                                                                                                                                  "label": "if (\"void\" == paramList[i] )",
                                                                                                                                  "successors": [
                                                                                                                                    {
                                                                                                                                      "id": 133924147591392
                                                                                                                                    },
                                                                                                                                    {
                                                                                                                                      "id": 133924145643680,
                                                                                                                                      "label": "if (let Some(_) < - Regex(##\"\\w+\\s*\\**\"##).matches(paramList[i]) )",
                                                                                                                                      "successors": [
                                                                                                                                        {
                                                                                                                                          "id": 133924145644112,
                                                                                                                                          "label": "let type_u = paramList[i].replace(\"*\", \"\")",
                                                                                                                                          "successors": [
                                                                                                                                            {
                                                                                                                                              "id": 133924145644160,
                                                                                                                                              "label": "let paramToken = Token(TokenKind.IDENTIFIER, \"param${i}\")",
                                                                                                                                              "successors": [
                                                                                                                                                {
                                                                                                                                                  "id": 133924145644208,
                                                                                                                                                  "label": "let typeToken = parseType(type_u, paramList[i])",
                                                                                                                                                  "successors": [
                                                                                                                                                    {
                                                                                                                                                      "id": 133924145644256,
                                                                                                                                                      "label": "paramsToken += quote($(paramToken): $(typeToken))",
                                                                                                                                                      "successors": [
                                                                                                                                                        {
                                                                                                                                                          "id": 133924147592160
                                                                                                                                                        }
                                                                                                                                                      ]
                                                                                                                                                    }
                                                                                                                                                  ]
                                                                                                                                                }
                                                                                                                                              ]
                                                                                                                                            }
                                                                                                                                          ]
                                                                                                                                        },
                                                                                                                                        {
                                                                                                                                          "id": 133924145644352,
                                                                                                                                          "label": "if (let Some(_) < - Regex(##\"\\.{3}|va_list\"##).matches(paramList[i]) )",
                                                                                                                                          "successors": [
                                                                                                                                            {
                                                                                                                                              "id": 133924145644736,
                                                                                                                                              "label": "paramsToken += Token(TokenKind.ELLIPSIS)",
                                                                                                                                              "successors": [
                                                                                                                                                {
                                                                                                                                                  "id": 133924147592160
                                                                                                                                                }
                                                                                                                                              ]
                                                                                                                                            },
                                                                                                                                            {
                                                                                                                                              "id": 133924145644880,
                                                                                                                                              "label": "println(\"unknown param:${paramList[i]}\")",
                                                                                                                                              "successors": [
                                                                                                                                                {
                                                                                                                                                  "id": 133924147592160
                                                                                                                                                }
                                                                                                                                              ]
                                                                                                                                            }
                                                                                                                                          ]
                                                                                                                                        }
                                                                                                                                      ]
                                                                                                                                    }
                                                                                                                                  ]
                                                                                                                                }
                                                                                                                              ]
                                                                                                                            }
                                                                                                                          ]
                                                                                                                        },
                                                                                                                        {
                                                                                                                          "id": 133924147591824,
                                                                                                                          "label": "let nameToken = Token(TokenKind.IDENTIFIER, funcName)",
                                                                                                                          "successors": [
                                                                                                                            {
                                                                                                                              "id": 133924147591968,
                                                                                                                              "label": "outTokens += quote(foreign func $(nameToken)($(paramsToken))",
                                                                                                                              "successors": [
                                                                                                                                {
                                                                                                                                  "id": 133924147592736,
                                                                                                                                  "label": ": $(funcReturn)\n        )",
                                                                                                                                  "successors": [
                                                                                                                                    {
                                                                                                                                      "id": 133924147589808
                                                                                                                                    }
                                                                                                                                  ]
                                                                                                                                }
                                                                                                                              ]
                                                                                                                            }
                                                                                                                          ]
                                                                                                                        }
                                                                                                                      ]
                                                                                                                    }
                                                                                                                  ]
                                                                                                                }
                                                                                                              ]
                                                                                                            }
                                                                                                          ]
                                                                                                        }
                                                                                                      ]
                                                                                                    }
                                                                                                  ]
                                                                                                }
                                                                                              ]
                                                                                            },
                                                                                            {
                                                                                              "id": 133924147591728,
                                                                                              "label": "funcReturn = quote(CPointer<Byte>)",
                                                                                              "successors": [
                                                                                                {
                                                                                                  "id": 133924147590864
                                                                                                }
                                                                                              ]
                                                                                            }
                                                                                          ]
                                                                                        }
                                                                                      ]
                                                                                    },
                                                                                    {
                                                                                      "id": 133924147590864
                                                                                    }
                                                                                  ]
                                                                                }
                                                                              ]
                                                                            }
                                                                          ]
                                                                        },
                                                                        {
                                                                          "id": 133924147590816,
                                                                          "label": "funcReturn += Token(TokenKind.UNIT)",
                                                                          "successors": [
                                                                            {
                                                                              "id": 133924147590384
                                                                            }
                                                                          ]
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "id": 133924147589904,
                                                      "label": "file.close()",
                                                      "successors": [
                                                        {
                                                          "id": 133924147590048,
                                                          "label": "outTokens",
                                                          "successors": [
                                                            {
                                                              "id": 133924164104688,
                                                              "label": "return",
                                                              "successors": []
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        }
      ],
      "classes": []
    }
  ]
}