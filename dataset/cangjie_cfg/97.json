{
  "name": "97.cj",
  "type": "File",
  "blocks": [],
  "functions": [],
  "classes": [
    {
      "name": "_DEFAULT_CANG_CLASS",
      "type": "Class",
      "blocks": [],
      "functions": [
        {
          "name": "mustBeFunc",
          "type": "Function",
          "blocks": [
            {
              "id": 133924169249696,
              "label": "",
              "successors": [
                {
                  "id": 133924151152064,
                  "label": "let decl = parseDecl(input)",
                  "successors": [
                    {
                      "id": 133924151152112,
                      "label": "if (let Some(funcDecl) < - (decl as FuncDecl) )",
                      "successors": [
                        {
                          "id": 133924151152496,
                          "label": "action(funcDecl)",
                          "successors": [
                            {
                              "id": 133924169249744,
                              "label": "return",
                              "successors": []
                            }
                          ]
                        },
                        {
                          "id": 133924151152640,
                          "label": "diagReport(\n            DiagReportLevel.ERROR,\n            input,\n            '不是函数类型',\n            '只支持函数类型'\n        )",
                          "successors": [
                            {
                              "id": 133924151152688,
                              "label": "input",
                              "successors": [
                                {
                                  "id": 133924169249744
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "parseAttrToConfig",
          "type": "Function",
          "blocks": [
            {
              "id": 133924169250416,
              "label": "",
              "successors": [
                {
                  "id": 133924151152304,
                  "label": "var interval = 0",
                  "successors": [
                    {
                      "id": 133924151152592,
                      "label": "var leading = false",
                      "successors": [
                        {
                          "id": 133924151152736,
                          "label": "var trailing = false",
                          "successors": [
                            {
                              "id": 133924151152832,
                              "label": "var index: Int64 = 0",
                              "successors": [
                                {
                                  "id": 133924151152880,
                                  "label": "while (true )",
                                  "successors": [
                                    {
                                      "id": 133924151153264,
                                      "label": "let (litExpr, nextIndex) = parseExprFragment(attrs, startFrom: index)",
                                      "successors": [
                                        {
                                          "id": 133924151153312,
                                          "label": "match (litExpr )",
                                          "successors": [
                                            {
                                              "id": 133924151153792,
                                              "label": "let literal = litConstExpr.literal",
                                              "successors": [
                                                {
                                                  "id": 133924151153840,
                                                  "label": "if (literal.kind == TokenKind.INTEGER_LITERAL )",
                                                  "successors": [
                                                    {
                                                      "id": 133924151154224,
                                                      "label": "interval = Int64.parse(literal.value)",
                                                      "successors": [
                                                        {
                                                          "id": 133924151153456,
                                                          "label": "if (nextIndex >= attrs.size )",
                                                          "successors": [
                                                            {
                                                              "id": 133924151153024,
                                                              "label": "if (interval == 0 )",
                                                              "successors": [
                                                                {
                                                                  "id": 133924151157104,
                                                                  "label": "diagReport(\n            DiagReportLevel.ERROR,\n            attrs,\n            \"必须有时间(毫秒)\",\n            \"添加时间属性\"\n        )",
                                                                  "successors": [
                                                                    {
                                                                      "id": 133924151153216,
                                                                      "label": "if (!leading && !trailing )",
                                                                      "successors": [
                                                                        {
                                                                          "id": 133924151157392,
                                                                          "label": "trailing = true",
                                                                          "successors": [
                                                                            {
                                                                              "id": 133924151157152,
                                                                              "label": "quote(\n        RepeaterConfig(interval: Duration.millisecond * $(interval), leading: $(leading), trailing: $(trailing)))",
                                                                              "successors": [
                                                                                {
                                                                                  "id": 133924169250464,
                                                                                  "label": "return",
                                                                                  "successors": []
                                                                                }
                                                                              ]
                                                                            }
                                                                          ]
                                                                        },
                                                                        {
                                                                          "id": 133924151157152
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "id": 133924151153216
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "id": 133924151156480,
                                                              "label": "if (attrs[nextIndex].kind != TokenKind.COMMA )",
                                                              "successors": [
                                                                {
                                                                  "id": 133924151156960,
                                                                  "label": "diagReport(\n                DiagReportLevel.ERROR,\n                attrs[nextIndex..nextIndex + 1],\n                \"必须是逗号分割的多个表达式\",\n                \"改为逗号\"\n            )",
                                                                  "successors": [
                                                                    {
                                                                      "id": 133924151156720,
                                                                      "label": "index = nextIndex + 1",
                                                                      "successors": [
                                                                        {
                                                                          "id": 133924151152880
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "id": 133924151156720
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "id": 133924151154368,
                                                      "label": "if (literal.kind == TokenKind.STRING_LITERAL )",
                                                      "successors": [
                                                        {
                                                          "id": 133924151154752,
                                                          "label": "let value = literal.value",
                                                          "successors": [
                                                            {
                                                              "id": 133924151154800,
                                                              "label": "if (value == LEADING_STRING )",
                                                              "successors": [
                                                                {
                                                                  "id": 133924151155232,
                                                                  "label": "leading = true",
                                                                  "successors": [
                                                                    {
                                                                      "id": 133924151153456
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "id": 133924151155376,
                                                                  "label": "if (value == TRAILING_STRING )",
                                                                  "successors": [
                                                                    {
                                                                      "id": 133924151155808,
                                                                      "label": "trailing = true",
                                                                      "successors": [
                                                                        {
                                                                          "id": 133924151153456
                                                                        }
                                                                      ]
                                                                    },
                                                                    {
                                                                      "id": 133924151153456
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "id": 133924151153456
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "id": 133924151154560,
                                              "label": "let value = refExpr.identifier.value",
                                              "successors": [
                                                {
                                                  "id": 133924151154704,
                                                  "label": "if (value == LEADING_STRING )",
                                                  "successors": [
                                                    {
                                                      "id": 133924151155856,
                                                      "label": "leading = true",
                                                      "successors": [
                                                        {
                                                          "id": 133924151153456
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "id": 133924151156000,
                                                      "label": "if (value == TRAILING_STRING )",
                                                      "successors": [
                                                        {
                                                          "id": 133924151156384,
                                                          "label": "trailing = true",
                                                          "successors": [
                                                            {
                                                              "id": 133924151153456
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "id": 133924151153456
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "id": 133924151156192,
                                              "label": "diagReport(\n                DiagReportLevel.ERROR,\n                attrs[nextIndex..nextIndex],\n                '这里必须是字面量',\n                '只支持字面量'\n            )",
                                              "successors": [
                                                {
                                                  "id": 133924151153456
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "id": 133924151153024
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        },
        {
          "name": "impDebounceOrThrottle",
          "type": "Function",
          "blocks": [
            {
              "id": 133924169251232,
              "label": "",
              "successors": [
                {
                  "id": 133924151157440,
                  "label": "let config = parseAttrToConfig(attr)",
                  "successors": [
                    {
                      "id": 133924151157488,
                      "label": "let debouncerName = Token(TokenKind.IDENTIFIER, \"debouncerFor\" + funcDecl.identifier.value.toAsciiTitle())",
                      "successors": [
                        {
                          "id": 133924151157536,
                          "label": "let ret = quote(private var $(debouncerName): ?Repeater = None\n        )",
                          "successors": [
                            {
                              "id": 133924151157584,
                              "label": "let funcBlockNodes = funcDecl.block.nodes",
                              "successors": [
                                {
                                  "id": 133924151157632,
                                  "label": "let orgNodes = funcBlockNodes.clone()",
                                  "successors": [
                                    {
                                      "id": 133924151157680,
                                      "label": "funcBlockNodes.clear()",
                                      "successors": [
                                        {
                                          "id": 133924151157728,
                                          "label": "funcBlockNodes.append(\n        parseExpr(\n        quote(\n            $(debouncerName).getOrDefault {\n            let config = $(config)\n            Repeater(throttle: $(throttle.toTokens()), config: config) {\n                $(orgNodes)\n            }}.call())\n    ))",
                                          "successors": [
                                            {
                                              "id": 133924151157776,
                                              "label": "ret.append(funcDecl.toTokens())",
                                              "successors": [
                                                {
                                                  "id": 133924151157824,
                                                  "label": "return ret",
                                                  "successors": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "functions": [],
          "classes": []
        }
      ],
      "classes": []
    }
  ]
}